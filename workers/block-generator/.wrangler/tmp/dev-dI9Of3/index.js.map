{
  "version": 3,
  "sources": ["../bundle-xJyr9q/checked-fetch.js", "wrangler-modules-watch:wrangler:modules-watch", "../../../node_modules/wrangler/templates/modules-watch-stub.js", "../../../node_modules/boolbase/index.js", "../../../node_modules/cssom/lib/StyleSheet.js", "../../../node_modules/cssom/lib/CSSRule.js", "../../../node_modules/cssom/lib/CSSStyleRule.js", "../../../node_modules/cssom/lib/CSSStyleSheet.js", "../../../node_modules/cssom/lib/MediaList.js", "../../../node_modules/cssom/lib/CSSImportRule.js", "../../../node_modules/cssom/lib/CSSGroupingRule.js", "../../../node_modules/cssom/lib/CSSConditionRule.js", "../../../node_modules/cssom/lib/CSSMediaRule.js", "../../../node_modules/cssom/lib/CSSSupportsRule.js", "../../../node_modules/cssom/lib/CSSFontFaceRule.js", "../../../node_modules/cssom/lib/CSSHostRule.js", "../../../node_modules/cssom/lib/CSSKeyframeRule.js", "../../../node_modules/cssom/lib/CSSKeyframesRule.js", "../../../node_modules/cssom/lib/CSSValue.js", "../../../node_modules/cssom/lib/CSSValueExpression.js", "../../../node_modules/cssom/lib/MatcherList.js", "../../../node_modules/cssom/lib/CSSDocumentRule.js", "../../../node_modules/cssom/lib/parse.js", "../../../node_modules/cssom/lib/CSSStyleDeclaration.js", "../../../node_modules/cssom/lib/clone.js", "../../../node_modules/cssom/lib/index.js", "../../../node_modules/linkedom/commonjs/canvas-shim.cjs", "../../../node_modules/linkedom/commonjs/canvas.cjs", "../../../node_modules/@cloudflare/puppeteer/src/generated/version.ts", "../../../node_modules/ms/index.js", "../../../node_modules/debug/src/common.js", "../../../node_modules/debug/src/browser.js", "../../../node_modules/ws/browser.js", "../../../node_modules/@cloudflare/puppeteer/src/node/NodeWebSocketTransport.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/BrowserWebSocketTransport.ts", "../bundle-xJyr9q/middleware-loader.entry.ts", "../bundle-xJyr9q/middleware-insertion-facade.js", "../../../src/index.ts", "../../../src/types.ts", "../../../src/fetcher.ts", "../../../src/parser.ts", "../../../node_modules/linkedom/esm/index.js", "../../../node_modules/linkedom/esm/dom/parser.js", "../../../node_modules/linkedom/esm/shared/symbols.js", "../../../node_modules/linkedom/esm/shared/parse-from-string.js", "../../../node_modules/htmlparser2/src/index.ts", "../../../node_modules/htmlparser2/src/Parser.ts", "../../../node_modules/htmlparser2/src/Tokenizer.ts", "../../../node_modules/htmlparser2/node_modules/entities/src/decode.ts", "../../../node_modules/htmlparser2/node_modules/entities/src/generated/decode-data-html.ts", "../../../node_modules/htmlparser2/node_modules/entities/src/generated/decode-data-xml.ts", "../../../node_modules/htmlparser2/node_modules/entities/src/decode-codepoint.ts", "../../../node_modules/domhandler/lib/esm/index.js", "../../../node_modules/domelementtype/lib/esm/index.js", "../../../node_modules/domhandler/lib/esm/node.js", "../../../node_modules/domutils/lib/esm/index.ts", "../../../node_modules/domutils/lib/esm/stringify.ts", "../../../node_modules/dom-serializer/lib/esm/index.js", "../../../node_modules/entities/lib/esm/index.ts", "../../../node_modules/entities/lib/esm/decode.ts", "../../../node_modules/entities/lib/esm/generated/generated/decode-data-html.ts", "../../../node_modules/entities/lib/esm/generated/generated/decode-data-xml.ts", "../../../node_modules/entities/lib/esm/decode_codepoint.ts", "../../../node_modules/entities/lib/esm/encode.ts", "../../../node_modules/entities/lib/esm/generated/generated/encode-html.ts", "../../../node_modules/entities/lib/esm/escape.ts", "../../../node_modules/dom-serializer/lib/esm/foreignNames.js", "../../../node_modules/domutils/lib/esm/traversal.ts", "../../../node_modules/domutils/lib/esm/manipulation.ts", "../../../node_modules/domutils/lib/esm/querying.ts", "../../../node_modules/domutils/lib/esm/legacy.ts", "../../../node_modules/domutils/lib/esm/helpers.ts", "../../../node_modules/domutils/lib/esm/feeds.ts", "../../../node_modules/linkedom/esm/shared/constants.js", "../../../node_modules/linkedom/esm/shared/object.js", "../../../node_modules/linkedom/esm/shared/utils.js", "../../../node_modules/linkedom/esm/interface/custom-element-registry.js", "../../../node_modules/linkedom/esm/shared/shadow-roots.js", "../../../node_modules/linkedom/esm/html/document.js", "../../../node_modules/linkedom/esm/shared/register-html-class.js", "../../../node_modules/linkedom/esm/interface/document.js", "../../../node_modules/linkedom/esm/shared/facades.js", "../../../node_modules/linkedom/esm/interface/attr.js", "../../../node_modules/linkedom/esm/shared/jsdon.js", "../../../node_modules/linkedom/esm/shared/attributes.js", "../../../node_modules/linkedom/esm/interface/mutation-observer.js", "../../../node_modules/linkedom/esm/interface/node.js", "../../../node_modules/linkedom/esm/interface/event-target.js", "../../../node_modules/linkedom/esm/interface/node-list.js", "../../../node_modules/linkedom/esm/shared/text-escaper.js", "../../../node_modules/linkedom/esm/interface/character-data.js", "../../../node_modules/linkedom/esm/shared/node.js", "../../../node_modules/linkedom/esm/mixin/non-document-type-child-node.js", "../../../node_modules/linkedom/esm/mixin/child-node.js", "../../../node_modules/linkedom/esm/interface/cdata-section.js", "../../../node_modules/linkedom/esm/interface/comment.js", "../../../node_modules/linkedom/esm/interface/document-fragment.js", "../../../node_modules/linkedom/esm/mixin/non-element-parent-node.js", "../../../node_modules/linkedom/esm/mixin/parent-node.js", "../../../node_modules/linkedom/esm/shared/matches.js", "../../../node_modules/css-select/lib/esm/index.ts", "../../../node_modules/css-select/lib/esm/compile.ts", "../../../node_modules/css-what/lib/es/index.js", "../../../node_modules/css-what/lib/es/types.js", "../../../node_modules/css-what/lib/es/parse.js", "../../../node_modules/css-select/lib/esm/sort.ts", "../../../node_modules/css-select/lib/esm/general.ts", "../../../node_modules/css-select/lib/esm/attributes.ts", "../../../node_modules/css-select/lib/esm/pseudo-selectors/pseudo-selectors/index.ts", "../../../node_modules/css-select/lib/esm/pseudo-selectors/pseudo-selectors/filters.ts", "../../../node_modules/nth-check/lib/esm/index.ts", "../../../node_modules/nth-check/lib/esm/parse.ts", "../../../node_modules/nth-check/lib/esm/compile.ts", "../../../node_modules/css-select/lib/esm/pseudo-selectors/pseudo-selectors/pseudos.ts", "../../../node_modules/css-select/lib/esm/pseudo-selectors/pseudo-selectors/aliases.ts", "../../../node_modules/css-select/lib/esm/pseudo-selectors/pseudo-selectors/subselects.ts", "../../../node_modules/linkedom/esm/interface/text.js", "../../../node_modules/linkedom/esm/interface/document-type.js", "../../../node_modules/linkedom/esm/interface/element.js", "../../../node_modules/linkedom/esm/mixin/inner-html.js", "../../../node_modules/linkedom/esm/dom/string-map.js", "../../../node_modules/uhyphen/esm/index.js", "../../../node_modules/linkedom/esm/dom/token-list.js", "../../../node_modules/linkedom/esm/interface/css-style-declaration.js", "../../../node_modules/linkedom/esm/interface/event.js", "../../../node_modules/linkedom/esm/interface/named-node-map.js", "../../../node_modules/linkedom/esm/interface/shadow-root.js", "../../../node_modules/linkedom/esm/svg/element.js", "../../../node_modules/linkedom/esm/shared/html-classes.js", "../../../node_modules/linkedom/esm/html/element.js", "../../../node_modules/linkedom/esm/html/template-element.js", "../../../node_modules/linkedom/esm/html/html-element.js", "../../../node_modules/linkedom/esm/html/script-element.js", "../../../node_modules/linkedom/esm/html/text-element.js", "../../../node_modules/linkedom/esm/html/frame-element.js", "../../../node_modules/linkedom/esm/html/i-frame-element.js", "../../../node_modules/linkedom/esm/html/object-element.js", "../../../node_modules/linkedom/esm/html/head-element.js", "../../../node_modules/linkedom/esm/html/body-element.js", "../../../node_modules/linkedom/esm/html/style-element.js", "../../../node_modules/linkedom/esm/html/time-element.js", "../../../node_modules/linkedom/esm/html/field-set-element.js", "../../../node_modules/linkedom/esm/html/embed-element.js", "../../../node_modules/linkedom/esm/html/hr-element.js", "../../../node_modules/linkedom/esm/html/progress-element.js", "../../../node_modules/linkedom/esm/html/paragraph-element.js", "../../../node_modules/linkedom/esm/html/table-element.js", "../../../node_modules/linkedom/esm/html/frame-set-element.js", "../../../node_modules/linkedom/esm/html/li-element.js", "../../../node_modules/linkedom/esm/html/base-element.js", "../../../node_modules/linkedom/esm/html/data-list-element.js", "../../../node_modules/linkedom/esm/html/input-element.js", "../../../node_modules/linkedom/esm/html/param-element.js", "../../../node_modules/linkedom/esm/html/media-element.js", "../../../node_modules/linkedom/esm/html/audio-element.js", "../../../node_modules/linkedom/esm/html/heading-element.js", "../../../node_modules/linkedom/esm/html/directory-element.js", "../../../node_modules/linkedom/esm/html/quote-element.js", "../../../node_modules/linkedom/esm/html/canvas-element.js", "../../../node_modules/linkedom/esm/html/legend-element.js", "../../../node_modules/linkedom/esm/html/option-element.js", "../../../node_modules/linkedom/esm/html/span-element.js", "../../../node_modules/linkedom/esm/html/meter-element.js", "../../../node_modules/linkedom/esm/html/video-element.js", "../../../node_modules/linkedom/esm/html/table-cell-element.js", "../../../node_modules/linkedom/esm/html/title-element.js", "../../../node_modules/linkedom/esm/html/output-element.js", "../../../node_modules/linkedom/esm/html/table-row-element.js", "../../../node_modules/linkedom/esm/html/data-element.js", "../../../node_modules/linkedom/esm/html/menu-element.js", "../../../node_modules/linkedom/esm/html/select-element.js", "../../../node_modules/linkedom/esm/html/br-element.js", "../../../node_modules/linkedom/esm/html/button-element.js", "../../../node_modules/linkedom/esm/html/map-element.js", "../../../node_modules/linkedom/esm/html/opt-group-element.js", "../../../node_modules/linkedom/esm/html/d-list-element.js", "../../../node_modules/linkedom/esm/html/text-area-element.js", "../../../node_modules/linkedom/esm/html/font-element.js", "../../../node_modules/linkedom/esm/html/div-element.js", "../../../node_modules/linkedom/esm/html/link-element.js", "../../../node_modules/linkedom/esm/html/slot-element.js", "../../../node_modules/linkedom/esm/html/form-element.js", "../../../node_modules/linkedom/esm/html/image-element.js", "../../../node_modules/linkedom/esm/html/pre-element.js", "../../../node_modules/linkedom/esm/html/u-list-element.js", "../../../node_modules/linkedom/esm/html/meta-element.js", "../../../node_modules/linkedom/esm/html/picture-element.js", "../../../node_modules/linkedom/esm/html/area-element.js", "../../../node_modules/linkedom/esm/html/o-list-element.js", "../../../node_modules/linkedom/esm/html/table-caption-element.js", "../../../node_modules/linkedom/esm/html/anchor-element.js", "../../../node_modules/linkedom/esm/html/label-element.js", "../../../node_modules/linkedom/esm/html/unknown-element.js", "../../../node_modules/linkedom/esm/html/mod-element.js", "../../../node_modules/linkedom/esm/html/details-element.js", "../../../node_modules/linkedom/esm/html/source-element.js", "../../../node_modules/linkedom/esm/html/track-element.js", "../../../node_modules/linkedom/esm/html/marquee-element.js", "../../../node_modules/linkedom/esm/shared/mime.js", "../../../node_modules/linkedom/esm/interface/custom-event.js", "../../../node_modules/linkedom/esm/interface/input-event.js", "../../../node_modules/linkedom/esm/interface/image.js", "../../../node_modules/linkedom/esm/interface/range.js", "../../../node_modules/linkedom/esm/interface/tree-walker.js", "../../../node_modules/linkedom/esm/svg/document.js", "../../../node_modules/linkedom/esm/xml/document.js", "../../../node_modules/linkedom/esm/shared/parse-json.js", "../../../node_modules/linkedom/esm/interface/node-filter.js", "../../../src/content-extractor.ts", "../../../src/block-builder.ts", "../../../src/screenshot.ts", "../../../src/design-analyzer.ts", "../../../src/enhanced-generator.ts", "../../../src/style-extractor.ts", "../../../src/page-analyzer.ts", "../../../node_modules/@cloudflare/puppeteer/src/puppeteer-cloudflare.ts", "../../../node_modules/@cloudflare/puppeteer/src/cloudflare/PuppeteerWorkers.ts", "../../../node_modules/@cloudflare/puppeteer/src/cloudflare/globalPatcher.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Puppeteer.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/BrowserConnector.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/BrowserConnector.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/util.ts", "../../../node_modules/@cloudflare/puppeteer/lib/esm/third_party/rxjs/rxjs.js", "../../../node_modules/@cloudflare/puppeteer/src/util/assert.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Debug.ts", "../../../node_modules/@cloudflare/puppeteer/src/environment.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Errors.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/PDFOptions.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Browser.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Browser.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/EventEmitter.ts", "../../../node_modules/@cloudflare/puppeteer/lib/esm/third_party/mitt/mitt.js", "../../../node_modules/@cloudflare/puppeteer/src/util/disposable.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/CDPSession.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/BrowserContext.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/BrowserContext.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/Mutex.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/Deferred.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/ChromeTargetManager.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Target.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Target.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/CDPSession.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/CallbackRegistry.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/ErrorLike.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Page.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/TimeoutSettings.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/decorators.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/locators/locators.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Page.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/ConsoleMessage.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/FileChooser.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/NetworkManagerEvents.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/JSHandle.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Binding.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Connection.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Coverage.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Dialog.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Dialog.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/EmulationManager.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/FirefoxTargetManager.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/FrameManager.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Frame.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/GetQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/AriaQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/QueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/ElementHandleSymbol.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/Function.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/HandleIterator.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/LazyArg.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/AsyncIterableUtil.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/CSSQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/CustomQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/ScriptInjector.ts", "../../../node_modules/@cloudflare/puppeteer/src/generated/injected.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/PierceQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/PQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/PSelectorParser.ts", "../../../node_modules/@cloudflare/puppeteer/lib/esm/third_party/parsel-js/parsel-js.js", "../../../node_modules/@cloudflare/puppeteer/src/common/TextQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/XPathQueryHandler.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/CdpPreloadScript.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/DeviceRequestPrompt.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/ExecutionContext.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/ElementHandle.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/ElementHandle.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/JSHandle.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/utils.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Frame.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Accessibility.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/FrameManagerEvents.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/IsolatedWorld.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Realm.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/WaitTask.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/IsolatedWorlds.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/LifecycleWatcher.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/FrameTree.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/NetworkManager.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/HTTPRequest.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/HTTPRequest.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/HTTPResponse.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/HTTPResponse.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/SecurityDetails.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/NetworkEventManager.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Input.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Input.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/USKeyboardLayout.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/Tracing.ts", "../../../node_modules/@cloudflare/puppeteer/src/cdp/WebWorker.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/WebWorker.ts", "../../../node_modules/@cloudflare/puppeteer/src/cloudflare/utils.ts", "../../../node_modules/@cloudflare/puppeteer/src/cloudflare/WorkersWebSocketTransport.ts", "../../../node_modules/@cloudflare/puppeteer/src/cloudflare/chunking.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/api.ts", "../../../node_modules/@cloudflare/puppeteer/src/api/Environment.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/common.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Configuration.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/ConnectionTransport.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/ConnectOptions.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Cookie.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Device.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Product.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/TaskQueue.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/types.ts", "../../../node_modules/@cloudflare/puppeteer/src/common/Viewport.ts", "../../../node_modules/@cloudflare/puppeteer/src/revisions.ts", "../../../node_modules/@cloudflare/puppeteer/src/util/util.ts", "../../../node_modules/@cloudflare/puppeteer/lib/esm/puppeteer/cloudflare/BrowserWorker.js", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/common.ts"],
  "sourceRoot": "/Users/paolo/excat/neocat-2/workers/block-generator/.wrangler/tmp/dev-dI9Of3",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "", "// `esbuild` doesn't support returning `watch*` options from `onStart()`\n// plugin callbacks. Instead, we define an empty virtual module that is\n// imported by this injected file. Importing the module registers watchers.\nimport \"wrangler:modules-watch\";\n", "module.exports = {\n\ttrueFunc: function trueFunc(){\n\t\treturn true;\n\t},\n\tfalseFunc: function falseFunc(){\n\t\treturn false;\n\t}\n};", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#the-stylesheet-interface\n */\nCSSOM.StyleSheet = function StyleSheet() {\n\tthis.parentStyleSheet = null;\n};\n\n\n//.CommonJS\nexports.StyleSheet = CSSOM.StyleSheet;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#the-cssrule-interface\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSRule\n */\nCSSOM.CSSRule = function CSSRule() {\n\tthis.parentRule = null;\n\tthis.parentStyleSheet = null;\n};\n\nCSSOM.CSSRule.UNKNOWN_RULE = 0;                 // obsolete\nCSSOM.CSSRule.STYLE_RULE = 1;\nCSSOM.CSSRule.CHARSET_RULE = 2;                 // obsolete\nCSSOM.CSSRule.IMPORT_RULE = 3;\nCSSOM.CSSRule.MEDIA_RULE = 4;\nCSSOM.CSSRule.FONT_FACE_RULE = 5;\nCSSOM.CSSRule.PAGE_RULE = 6;\nCSSOM.CSSRule.KEYFRAMES_RULE = 7;\nCSSOM.CSSRule.KEYFRAME_RULE = 8;\nCSSOM.CSSRule.MARGIN_RULE = 9;\nCSSOM.CSSRule.NAMESPACE_RULE = 10;\nCSSOM.CSSRule.COUNTER_STYLE_RULE = 11;\nCSSOM.CSSRule.SUPPORTS_RULE = 12;\nCSSOM.CSSRule.DOCUMENT_RULE = 13;\nCSSOM.CSSRule.FONT_FEATURE_VALUES_RULE = 14;\nCSSOM.CSSRule.VIEWPORT_RULE = 15;\nCSSOM.CSSRule.REGION_STYLE_RULE = 16;\n\n\nCSSOM.CSSRule.prototype = {\n\tconstructor: CSSOM.CSSRule\n\t//FIXME\n};\n\n\n//.CommonJS\nexports.CSSRule = CSSOM.CSSRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSStyleDeclaration: require(\"./CSSStyleDeclaration\").CSSStyleDeclaration,\n\tCSSRule: require(\"./CSSRule\").CSSRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#cssstylerule\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleRule\n */\nCSSOM.CSSStyleRule = function CSSStyleRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.selectorText = \"\";\n\tthis.style = new CSSOM.CSSStyleDeclaration();\n\tthis.style.parentRule = this;\n};\n\nCSSOM.CSSStyleRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSStyleRule.prototype.constructor = CSSOM.CSSStyleRule;\nCSSOM.CSSStyleRule.prototype.type = 1;\n\nObject.defineProperty(CSSOM.CSSStyleRule.prototype, \"cssText\", {\n\tget: function() {\n\t\tvar text;\n\t\tif (this.selectorText) {\n\t\t\ttext = this.selectorText + \" {\" + this.style.cssText + \"}\";\n\t\t} else {\n\t\t\ttext = \"\";\n\t\t}\n\t\treturn text;\n\t},\n\tset: function(cssText) {\n\t\tvar rule = CSSOM.CSSStyleRule.parse(cssText);\n\t\tthis.style = rule.style;\n\t\tthis.selectorText = rule.selectorText;\n\t}\n});\n\n\n/**\n * NON-STANDARD\n * lightweight version of parse.js.\n * @param {string} ruleText\n * @return CSSStyleRule\n */\nCSSOM.CSSStyleRule.parse = function(ruleText) {\n\tvar i = 0;\n\tvar state = \"selector\";\n\tvar index;\n\tvar j = i;\n\tvar buffer = \"\";\n\n\tvar SIGNIFICANT_WHITESPACE = {\n\t\t\"selector\": true,\n\t\t\"value\": true\n\t};\n\n\tvar styleRule = new CSSOM.CSSStyleRule();\n\tvar name, priority=\"\";\n\n\tfor (var character; (character = ruleText.charAt(i)); i++) {\n\n\t\tswitch (character) {\n\n\t\tcase \" \":\n\t\tcase \"\\t\":\n\t\tcase \"\\r\":\n\t\tcase \"\\n\":\n\t\tcase \"\\f\":\n\t\t\tif (SIGNIFICANT_WHITESPACE[state]) {\n\t\t\t\t// Squash 2 or more white-spaces in the row into 1\n\t\t\t\tswitch (ruleText.charAt(i - 1)) {\n\t\t\t\t\tcase \" \":\n\t\t\t\t\tcase \"\\t\":\n\t\t\t\t\tcase \"\\r\":\n\t\t\t\t\tcase \"\\n\":\n\t\t\t\t\tcase \"\\f\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbuffer += \" \";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// String\n\t\tcase '\"':\n\t\t\tj = i + 1;\n\t\t\tindex = ruleText.indexOf('\"', j) + 1;\n\t\t\tif (!index) {\n\t\t\t\tthrow '\" is missing';\n\t\t\t}\n\t\t\tbuffer += ruleText.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tbreak;\n\n\t\tcase \"'\":\n\t\t\tj = i + 1;\n\t\t\tindex = ruleText.indexOf(\"'\", j) + 1;\n\t\t\tif (!index) {\n\t\t\t\tthrow \"' is missing\";\n\t\t\t}\n\t\t\tbuffer += ruleText.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tbreak;\n\n\t\t// Comment\n\t\tcase \"/\":\n\t\t\tif (ruleText.charAt(i + 1) === \"*\") {\n\t\t\t\ti += 2;\n\t\t\t\tindex = ruleText.indexOf(\"*/\", i);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tthrow new SyntaxError(\"Missing */\");\n\t\t\t\t} else {\n\t\t\t\t\ti = index + 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"{\":\n\t\t\tif (state === \"selector\") {\n\t\t\t\tstyleRule.selectorText = buffer.trim();\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"name\";\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \":\":\n\t\t\tif (state === \"name\") {\n\t\t\t\tname = buffer.trim();\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"value\";\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"!\":\n\t\t\tif (state === \"value\" && ruleText.indexOf(\"!important\", i) === i) {\n\t\t\t\tpriority = \"important\";\n\t\t\t\ti += \"important\".length;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \";\":\n\t\t\tif (state === \"value\") {\n\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\tpriority = \"\";\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"name\";\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"}\":\n\t\t\tif (state === \"value\") {\n\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\tpriority = \"\";\n\t\t\t\tbuffer = \"\";\n\t\t\t} else if (state === \"name\") {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tstate = \"selector\";\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\n\t\t}\n\t}\n\n\treturn styleRule;\n\n};\n\n\n//.CommonJS\nexports.CSSStyleRule = CSSOM.CSSStyleRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tStyleSheet: require(\"./StyleSheet\").StyleSheet,\n\tCSSStyleRule: require(\"./CSSStyleRule\").CSSStyleRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleSheet\n */\nCSSOM.CSSStyleSheet = function CSSStyleSheet() {\n\tCSSOM.StyleSheet.call(this);\n\tthis.cssRules = [];\n};\n\n\nCSSOM.CSSStyleSheet.prototype = new CSSOM.StyleSheet();\nCSSOM.CSSStyleSheet.prototype.constructor = CSSOM.CSSStyleSheet;\n\n\n/**\n * Used to insert a new rule into the style sheet. The new rule now becomes part of the cascade.\n *\n *   sheet = new Sheet(\"body {margin: 0}\")\n *   sheet.toString()\n *   -> \"body{margin:0;}\"\n *   sheet.insertRule(\"img {border: none}\", 0)\n *   -> 0\n *   sheet.toString()\n *   -> \"img{border:none;}body{margin:0;}\"\n *\n * @param {string} rule\n * @param {number} index\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleSheet-insertRule\n * @return {number} The index within the style sheet's rule collection of the newly inserted rule.\n */\nCSSOM.CSSStyleSheet.prototype.insertRule = function(rule, index) {\n\tif (index < 0 || index > this.cssRules.length) {\n\t\tthrow new RangeError(\"INDEX_SIZE_ERR\");\n\t}\n\tvar cssRule = CSSOM.parse(rule).cssRules[0];\n\tcssRule.parentStyleSheet = this;\n\tthis.cssRules.splice(index, 0, cssRule);\n\treturn index;\n};\n\n\n/**\n * Used to delete a rule from the style sheet.\n *\n *   sheet = new Sheet(\"img{border:none} body{margin:0}\")\n *   sheet.toString()\n *   -> \"img{border:none;}body{margin:0;}\"\n *   sheet.deleteRule(0)\n *   sheet.toString()\n *   -> \"body{margin:0;}\"\n *\n * @param {number} index within the style sheet's rule list of the rule to remove.\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleSheet-deleteRule\n */\nCSSOM.CSSStyleSheet.prototype.deleteRule = function(index) {\n\tif (index < 0 || index >= this.cssRules.length) {\n\t\tthrow new RangeError(\"INDEX_SIZE_ERR\");\n\t}\n\tthis.cssRules.splice(index, 1);\n};\n\n\n/**\n * NON-STANDARD\n * @return {string} serialize stylesheet\n */\nCSSOM.CSSStyleSheet.prototype.toString = function() {\n\tvar result = \"\";\n\tvar rules = this.cssRules;\n\tfor (var i=0; i<rules.length; i++) {\n\t\tresult += rules[i].cssText + \"\\n\";\n\t}\n\treturn result;\n};\n\n\n//.CommonJS\nexports.CSSStyleSheet = CSSOM.CSSStyleSheet;\nCSSOM.parse = require('./parse').parse; // Cannot be included sooner due to the mutual dependency between parse.js and CSSStyleSheet.js\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#the-medialist-interface\n */\nCSSOM.MediaList = function MediaList(){\n\tthis.length = 0;\n};\n\nCSSOM.MediaList.prototype = {\n\n\tconstructor: CSSOM.MediaList,\n\n\t/**\n\t * @return {string}\n\t */\n\tget mediaText() {\n\t\treturn Array.prototype.join.call(this, \", \");\n\t},\n\n\t/**\n\t * @param {string} value\n\t */\n\tset mediaText(value) {\n\t\tvar values = value.split(\",\");\n\t\tvar length = this.length = values.length;\n\t\tfor (var i=0; i<length; i++) {\n\t\t\tthis[i] = values[i].trim();\n\t\t}\n\t},\n\n\t/**\n\t * @param {string} medium\n\t */\n\tappendMedium: function(medium) {\n\t\tif (Array.prototype.indexOf.call(this, medium) === -1) {\n\t\t\tthis[this.length] = medium;\n\t\t\tthis.length++;\n\t\t}\n\t},\n\n\t/**\n\t * @param {string} medium\n\t */\n\tdeleteMedium: function(medium) {\n\t\tvar index = Array.prototype.indexOf.call(this, medium);\n\t\tif (index !== -1) {\n\t\t\tArray.prototype.splice.call(this, index, 1);\n\t\t}\n\t}\n\n};\n\n\n//.CommonJS\nexports.MediaList = CSSOM.MediaList;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule,\n\tCSSStyleSheet: require(\"./CSSStyleSheet\").CSSStyleSheet,\n\tMediaList: require(\"./MediaList\").MediaList\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#cssimportrule\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSImportRule\n */\nCSSOM.CSSImportRule = function CSSImportRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.href = \"\";\n\tthis.media = new CSSOM.MediaList();\n\tthis.styleSheet = new CSSOM.CSSStyleSheet();\n};\n\nCSSOM.CSSImportRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSImportRule.prototype.constructor = CSSOM.CSSImportRule;\nCSSOM.CSSImportRule.prototype.type = 3;\n\nObject.defineProperty(CSSOM.CSSImportRule.prototype, \"cssText\", {\n  get: function() {\n    var mediaText = this.media.mediaText;\n    return \"@import url(\" + this.href + \")\" + (mediaText ? \" \" + mediaText : \"\") + \";\";\n  },\n  set: function(cssText) {\n    var i = 0;\n\n    /**\n     * @import url(partial.css) screen, handheld;\n     *        ||               |\n     *        after-import     media\n     *         |\n     *         url\n     */\n    var state = '';\n\n    var buffer = '';\n    var index;\n    for (var character; (character = cssText.charAt(i)); i++) {\n\n      switch (character) {\n        case ' ':\n        case '\\t':\n        case '\\r':\n        case '\\n':\n        case '\\f':\n          if (state === 'after-import') {\n            state = 'url';\n          } else {\n            buffer += character;\n          }\n          break;\n\n        case '@':\n          if (!state && cssText.indexOf('@import', i) === i) {\n            state = 'after-import';\n            i += 'import'.length;\n            buffer = '';\n          }\n          break;\n\n        case 'u':\n          if (state === 'url' && cssText.indexOf('url(', i) === i) {\n            index = cssText.indexOf(')', i + 1);\n            if (index === -1) {\n              throw i + ': \")\" not found';\n            }\n            i += 'url('.length;\n            var url = cssText.slice(i, index);\n            if (url[0] === url[url.length - 1]) {\n              if (url[0] === '\"' || url[0] === \"'\") {\n                url = url.slice(1, -1);\n              }\n            }\n            this.href = url;\n            i = index;\n            state = 'media';\n          }\n          break;\n\n        case '\"':\n          if (state === 'url') {\n            index = cssText.indexOf('\"', i + 1);\n            if (!index) {\n              throw i + \": '\\\"' not found\";\n            }\n            this.href = cssText.slice(i + 1, index);\n            i = index;\n            state = 'media';\n          }\n          break;\n\n        case \"'\":\n          if (state === 'url') {\n            index = cssText.indexOf(\"'\", i + 1);\n            if (!index) {\n              throw i + ': \"\\'\" not found';\n            }\n            this.href = cssText.slice(i + 1, index);\n            i = index;\n            state = 'media';\n          }\n          break;\n\n        case ';':\n          if (state === 'media') {\n            if (buffer) {\n              this.media.mediaText = buffer.trim();\n            }\n          }\n          break;\n\n        default:\n          if (state === 'media') {\n            buffer += character;\n          }\n          break;\n      }\n    }\n  }\n});\n\n\n//.CommonJS\nexports.CSSImportRule = CSSOM.CSSImportRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see https://drafts.csswg.org/cssom/#the-cssgroupingrule-interface\n */\nCSSOM.CSSGroupingRule = function CSSGroupingRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.cssRules = [];\n};\n\nCSSOM.CSSGroupingRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSGroupingRule.prototype.constructor = CSSOM.CSSGroupingRule;\n\n\n/**\n * Used to insert a new CSS rule to a list of CSS rules.\n *\n * @example\n *   cssGroupingRule.cssText\n *   -> \"body{margin:0;}\"\n *   cssGroupingRule.insertRule(\"img{border:none;}\", 1)\n *   -> 1\n *   cssGroupingRule.cssText\n *   -> \"body{margin:0;}img{border:none;}\"\n *\n * @param {string} rule\n * @param {number} [index]\n * @see https://www.w3.org/TR/cssom-1/#dom-cssgroupingrule-insertrule\n * @return {number} The index within the grouping rule's collection of the newly inserted rule.\n */\n CSSOM.CSSGroupingRule.prototype.insertRule = function insertRule(rule, index) {\n\tif (index < 0 || index > this.cssRules.length) {\n\t\tthrow new RangeError(\"INDEX_SIZE_ERR\");\n\t}\n\tvar cssRule = CSSOM.parse(rule).cssRules[0];\n\tcssRule.parentRule = this;\n\tthis.cssRules.splice(index, 0, cssRule);\n\treturn index;\n};\n\n/**\n * Used to delete a rule from the grouping rule.\n *\n *   cssGroupingRule.cssText\n *   -> \"img{border:none;}body{margin:0;}\"\n *   cssGroupingRule.deleteRule(0)\n *   cssGroupingRule.cssText\n *   -> \"body{margin:0;}\"\n *\n * @param {number} index within the grouping rule's rule list of the rule to remove.\n * @see https://www.w3.org/TR/cssom-1/#dom-cssgroupingrule-deleterule\n */\n CSSOM.CSSGroupingRule.prototype.deleteRule = function deleteRule(index) {\n\tif (index < 0 || index >= this.cssRules.length) {\n\t\tthrow new RangeError(\"INDEX_SIZE_ERR\");\n\t}\n\tthis.cssRules.splice(index, 1)[0].parentRule = null;\n};\n\n//.CommonJS\nexports.CSSGroupingRule = CSSOM.CSSGroupingRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n  CSSRule: require(\"./CSSRule\").CSSRule,\n  CSSGroupingRule: require(\"./CSSGroupingRule\").CSSGroupingRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see https://www.w3.org/TR/css-conditional-3/#the-cssconditionrule-interface\n */\nCSSOM.CSSConditionRule = function CSSConditionRule() {\n  CSSOM.CSSGroupingRule.call(this);\n  this.cssRules = [];\n};\n\nCSSOM.CSSConditionRule.prototype = new CSSOM.CSSGroupingRule();\nCSSOM.CSSConditionRule.prototype.constructor = CSSOM.CSSConditionRule;\nCSSOM.CSSConditionRule.prototype.conditionText = ''\nCSSOM.CSSConditionRule.prototype.cssText = ''\n\n//.CommonJS\nexports.CSSConditionRule = CSSOM.CSSConditionRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule,\n\tCSSGroupingRule: require(\"./CSSGroupingRule\").CSSGroupingRule,\n\tCSSConditionRule: require(\"./CSSConditionRule\").CSSConditionRule,\n\tMediaList: require(\"./MediaList\").MediaList\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#cssmediarule\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSMediaRule\n */\nCSSOM.CSSMediaRule = function CSSMediaRule() {\n\tCSSOM.CSSConditionRule.call(this);\n\tthis.media = new CSSOM.MediaList();\n};\n\nCSSOM.CSSMediaRule.prototype = new CSSOM.CSSConditionRule();\nCSSOM.CSSMediaRule.prototype.constructor = CSSOM.CSSMediaRule;\nCSSOM.CSSMediaRule.prototype.type = 4;\n\n// https://opensource.apple.com/source/WebCore/WebCore-7611.1.21.161.3/css/CSSMediaRule.cpp\nObject.defineProperties(CSSOM.CSSMediaRule.prototype, {\n  \"conditionText\": {\n    get: function() {\n      return this.media.mediaText;\n    },\n    set: function(value) {\n      this.media.mediaText = value;\n    },\n    configurable: true,\n    enumerable: true\n  },\n  \"cssText\": {\n    get: function() {\n      var cssTexts = [];\n      for (var i=0, length=this.cssRules.length; i < length; i++) {\n        cssTexts.push(this.cssRules[i].cssText);\n      }\n      return \"@media \" + this.media.mediaText + \" {\" + cssTexts.join(\"\") + \"}\";\n    },\n    configurable: true,\n    enumerable: true\n  }\n});\n\n\n//.CommonJS\nexports.CSSMediaRule = CSSOM.CSSMediaRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n  CSSRule: require(\"./CSSRule\").CSSRule,\n  CSSGroupingRule: require(\"./CSSGroupingRule\").CSSGroupingRule,\n  CSSConditionRule: require(\"./CSSConditionRule\").CSSConditionRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see https://drafts.csswg.org/css-conditional-3/#the-csssupportsrule-interface\n */\nCSSOM.CSSSupportsRule = function CSSSupportsRule() {\n  CSSOM.CSSConditionRule.call(this);\n};\n\nCSSOM.CSSSupportsRule.prototype = new CSSOM.CSSConditionRule();\nCSSOM.CSSSupportsRule.prototype.constructor = CSSOM.CSSSupportsRule;\nCSSOM.CSSSupportsRule.prototype.type = 12;\n\nObject.defineProperty(CSSOM.CSSSupportsRule.prototype, \"cssText\", {\n  get: function() {\n    var cssTexts = [];\n\n    for (var i = 0, length = this.cssRules.length; i < length; i++) {\n      cssTexts.push(this.cssRules[i].cssText);\n    }\n\n    return \"@supports \" + this.conditionText + \" {\" + cssTexts.join(\"\") + \"}\";\n  }\n});\n\n//.CommonJS\nexports.CSSSupportsRule = CSSOM.CSSSupportsRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSStyleDeclaration: require(\"./CSSStyleDeclaration\").CSSStyleDeclaration,\n\tCSSRule: require(\"./CSSRule\").CSSRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://dev.w3.org/csswg/cssom/#css-font-face-rule\n */\nCSSOM.CSSFontFaceRule = function CSSFontFaceRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.style = new CSSOM.CSSStyleDeclaration();\n\tthis.style.parentRule = this;\n};\n\nCSSOM.CSSFontFaceRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSFontFaceRule.prototype.constructor = CSSOM.CSSFontFaceRule;\nCSSOM.CSSFontFaceRule.prototype.type = 5;\n//FIXME\n//CSSOM.CSSFontFaceRule.prototype.insertRule = CSSStyleSheet.prototype.insertRule;\n//CSSOM.CSSFontFaceRule.prototype.deleteRule = CSSStyleSheet.prototype.deleteRule;\n\n// http://www.opensource.apple.com/source/WebCore/WebCore-955.66.1/css/WebKitCSSFontFaceRule.cpp\nObject.defineProperty(CSSOM.CSSFontFaceRule.prototype, \"cssText\", {\n  get: function() {\n    return \"@font-face {\" + this.style.cssText + \"}\";\n  }\n});\n\n\n//.CommonJS\nexports.CSSFontFaceRule = CSSOM.CSSFontFaceRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/shadow-dom/#host-at-rule\n */\nCSSOM.CSSHostRule = function CSSHostRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.cssRules = [];\n};\n\nCSSOM.CSSHostRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSHostRule.prototype.constructor = CSSOM.CSSHostRule;\nCSSOM.CSSHostRule.prototype.type = 1001;\n//FIXME\n//CSSOM.CSSHostRule.prototype.insertRule = CSSStyleSheet.prototype.insertRule;\n//CSSOM.CSSHostRule.prototype.deleteRule = CSSStyleSheet.prototype.deleteRule;\n\nObject.defineProperty(CSSOM.CSSHostRule.prototype, \"cssText\", {\n\tget: function() {\n\t\tvar cssTexts = [];\n\t\tfor (var i=0, length=this.cssRules.length; i < length; i++) {\n\t\t\tcssTexts.push(this.cssRules[i].cssText);\n\t\t}\n\t\treturn \"@host {\" + cssTexts.join(\"\") + \"}\";\n\t}\n});\n\n\n//.CommonJS\nexports.CSSHostRule = CSSOM.CSSHostRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule,\n\tCSSStyleDeclaration: require('./CSSStyleDeclaration').CSSStyleDeclaration\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/css3-animations/#DOM-CSSKeyframeRule\n */\nCSSOM.CSSKeyframeRule = function CSSKeyframeRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.keyText = '';\n\tthis.style = new CSSOM.CSSStyleDeclaration();\n\tthis.style.parentRule = this;\n};\n\nCSSOM.CSSKeyframeRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSKeyframeRule.prototype.constructor = CSSOM.CSSKeyframeRule;\nCSSOM.CSSKeyframeRule.prototype.type = 8;\n//FIXME\n//CSSOM.CSSKeyframeRule.prototype.insertRule = CSSStyleSheet.prototype.insertRule;\n//CSSOM.CSSKeyframeRule.prototype.deleteRule = CSSStyleSheet.prototype.deleteRule;\n\n// http://www.opensource.apple.com/source/WebCore/WebCore-955.66.1/css/WebKitCSSKeyframeRule.cpp\nObject.defineProperty(CSSOM.CSSKeyframeRule.prototype, \"cssText\", {\n  get: function() {\n    return this.keyText + \" {\" + this.style.cssText + \"} \";\n  }\n});\n\n\n//.CommonJS\nexports.CSSKeyframeRule = CSSOM.CSSKeyframeRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSRule: require(\"./CSSRule\").CSSRule\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/css3-animations/#DOM-CSSKeyframesRule\n */\nCSSOM.CSSKeyframesRule = function CSSKeyframesRule() {\n\tCSSOM.CSSRule.call(this);\n\tthis.name = '';\n\tthis.cssRules = [];\n};\n\nCSSOM.CSSKeyframesRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSKeyframesRule.prototype.constructor = CSSOM.CSSKeyframesRule;\nCSSOM.CSSKeyframesRule.prototype.type = 7;\n//FIXME\n//CSSOM.CSSKeyframesRule.prototype.insertRule = CSSStyleSheet.prototype.insertRule;\n//CSSOM.CSSKeyframesRule.prototype.deleteRule = CSSStyleSheet.prototype.deleteRule;\n\n// http://www.opensource.apple.com/source/WebCore/WebCore-955.66.1/css/WebKitCSSKeyframesRule.cpp\nObject.defineProperty(CSSOM.CSSKeyframesRule.prototype, \"cssText\", {\n  get: function() {\n    var cssTexts = [];\n    for (var i=0, length=this.cssRules.length; i < length; i++) {\n      cssTexts.push(\"  \" + this.cssRules[i].cssText);\n    }\n    return \"@\" + (this._vendorPrefix || '') + \"keyframes \" + this.name + \" { \\n\" + cssTexts.join(\"\\n\") + \"\\n}\";\n  }\n});\n\n\n//.CommonJS\nexports.CSSKeyframesRule = CSSOM.CSSKeyframesRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSValue\n *\n * TODO: add if needed\n */\nCSSOM.CSSValue = function CSSValue() {\n};\n\nCSSOM.CSSValue.prototype = {\n\tconstructor: CSSOM.CSSValue,\n\n\t// @see: http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSValue\n\tset cssText(text) {\n\t\tvar name = this._getConstructorName();\n\n\t\tthrow new Error('DOMException: property \"cssText\" of \"' + name + '\" is readonly and can not be replaced with \"' + text + '\"!');\n\t},\n\n\tget cssText() {\n\t\tvar name = this._getConstructorName();\n\n\t\tthrow new Error('getter \"cssText\" of \"' + name + '\" is not implemented!');\n\t},\n\n\t_getConstructorName: function() {\n\t\tvar s = this.constructor.toString(),\n\t\t\t\tc = s.match(/function\\s([^\\(]+)/),\n\t\t\t\tname = c[1];\n\n\t\treturn name;\n\t}\n};\n\n\n//.CommonJS\nexports.CSSValue = CSSOM.CSSValue;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSValue: require('./CSSValue').CSSValue\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://msdn.microsoft.com/en-us/library/ms537634(v=vs.85).aspx\n *\n */\nCSSOM.CSSValueExpression = function CSSValueExpression(token, idx) {\n\tthis._token = token;\n\tthis._idx = idx;\n};\n\nCSSOM.CSSValueExpression.prototype = new CSSOM.CSSValue();\nCSSOM.CSSValueExpression.prototype.constructor = CSSOM.CSSValueExpression;\n\n/**\n * parse css expression() value\n *\n * @return {Object}\n *         - error:\n *         or\n *         - idx:\n *         - expression:\n *\n * Example:\n *\n * .selector {\n *\t\tzoom: expression(documentElement.clientWidth > 1000 ? '1000px' : 'auto');\n * }\n */\nCSSOM.CSSValueExpression.prototype.parse = function() {\n\tvar token = this._token,\n\t\t\tidx = this._idx;\n\n\tvar character = '',\n\t\t\texpression = '',\n\t\t\terror = '',\n\t\t\tinfo,\n\t\t\tparen = [];\n\n\n\tfor (; ; ++idx) {\n\t\tcharacter = token.charAt(idx);\n\n\t\t// end of token\n\t\tif (character === '') {\n\t\t\terror = 'css expression error: unfinished expression!';\n\t\t\tbreak;\n\t\t}\n\n\t\tswitch(character) {\n\t\t\tcase '(':\n\t\t\t\tparen.push(character);\n\t\t\t\texpression += character;\n\t\t\t\tbreak;\n\n\t\t\tcase ')':\n\t\t\t\tparen.pop(character);\n\t\t\t\texpression += character;\n\t\t\t\tbreak;\n\n\t\t\tcase '/':\n\t\t\t\tif ((info = this._parseJSComment(token, idx))) { // comment?\n\t\t\t\t\tif (info.error) {\n\t\t\t\t\t\terror = 'css expression error: unfinished comment in expression!';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tidx = info.idx;\n\t\t\t\t\t\t// ignore the comment\n\t\t\t\t\t}\n\t\t\t\t} else if ((info = this._parseJSRexExp(token, idx))) { // regexp\n\t\t\t\t\tidx = info.idx;\n\t\t\t\t\texpression += info.text;\n\t\t\t\t} else { // other\n\t\t\t\t\texpression += character;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"'\":\n\t\t\tcase '\"':\n\t\t\t\tinfo = this._parseJSString(token, idx, character);\n\t\t\t\tif (info) { // string\n\t\t\t\t\tidx = info.idx;\n\t\t\t\t\texpression += info.text;\n\t\t\t\t} else {\n\t\t\t\t\texpression += character;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\texpression += character;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (error) {\n\t\t\tbreak;\n\t\t}\n\n\t\t// end of expression\n\t\tif (paren.length === 0) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tvar ret;\n\tif (error) {\n\t\tret = {\n\t\t\terror: error\n\t\t};\n\t} else {\n\t\tret = {\n\t\t\tidx: idx,\n\t\t\texpression: expression\n\t\t};\n\t}\n\n\treturn ret;\n};\n\n\n/**\n *\n * @return {Object|false}\n *          - idx:\n *          - text:\n *          or\n *          - error:\n *          or\n *          false\n *\n */\nCSSOM.CSSValueExpression.prototype._parseJSComment = function(token, idx) {\n\tvar nextChar = token.charAt(idx + 1),\n\t\t\ttext;\n\n\tif (nextChar === '/' || nextChar === '*') {\n\t\tvar startIdx = idx,\n\t\t\t\tendIdx,\n\t\t\t\tcommentEndChar;\n\n\t\tif (nextChar === '/') { // line comment\n\t\t\tcommentEndChar = '\\n';\n\t\t} else if (nextChar === '*') { // block comment\n\t\t\tcommentEndChar = '*/';\n\t\t}\n\n\t\tendIdx = token.indexOf(commentEndChar, startIdx + 1 + 1);\n\t\tif (endIdx !== -1) {\n\t\t\tendIdx = endIdx + commentEndChar.length - 1;\n\t\t\ttext = token.substring(idx, endIdx + 1);\n\t\t\treturn {\n\t\t\t\tidx: endIdx,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t} else {\n\t\t\tvar error = 'css expression error: unfinished comment in expression!';\n\t\t\treturn {\n\t\t\t\terror: error\n\t\t\t};\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\n\n/**\n *\n * @return {Object|false}\n *\t\t\t\t\t- idx:\n *\t\t\t\t\t- text:\n *\t\t\t\t\tor \n *\t\t\t\t\tfalse\n *\n */\nCSSOM.CSSValueExpression.prototype._parseJSString = function(token, idx, sep) {\n\tvar endIdx = this._findMatchedIdx(token, idx, sep),\n\t\t\ttext;\n\n\tif (endIdx === -1) {\n\t\treturn false;\n\t} else {\n\t\ttext = token.substring(idx, endIdx + sep.length);\n\n\t\treturn {\n\t\t\tidx: endIdx,\n\t\t\ttext: text\n\t\t};\n\t}\n};\n\n\n/**\n * parse regexp in css expression\n *\n * @return {Object|false}\n *\t\t\t\t- idx:\n *\t\t\t\t- regExp:\n *\t\t\t\tor \n *\t\t\t\tfalse\n */\n\n/*\n\nall legal RegExp\n \n/a/\n(/a/)\n[/a/]\n[12, /a/]\n\n!/a/\n\n+/a/\n-/a/\n* /a/\n/ /a/\n%/a/\n\n===/a/\n!==/a/\n==/a/\n!=/a/\n>/a/\n>=/a/\n</a/\n<=/a/\n\n&/a/\n|/a/\n^/a/\n~/a/\n<</a/\n>>/a/\n>>>/a/\n\n&&/a/\n||/a/\n?/a/\n=/a/\n,/a/\n\n\t\tdelete /a/\n\t\t\t\tin /a/\ninstanceof /a/\n\t\t\t\tnew /a/\n\t\ttypeof /a/\n\t\t\tvoid /a/\n\n*/\nCSSOM.CSSValueExpression.prototype._parseJSRexExp = function(token, idx) {\n\tvar before = token.substring(0, idx).replace(/\\s+$/, \"\"),\n\t\t\tlegalRegx = [\n\t\t\t\t/^$/,\n\t\t\t\t/\\($/,\n\t\t\t\t/\\[$/,\n\t\t\t\t/\\!$/,\n\t\t\t\t/\\+$/,\n\t\t\t\t/\\-$/,\n\t\t\t\t/\\*$/,\n\t\t\t\t/\\/\\s+/,\n\t\t\t\t/\\%$/,\n\t\t\t\t/\\=$/,\n\t\t\t\t/\\>$/,\n\t\t\t\t/<$/,\n\t\t\t\t/\\&$/,\n\t\t\t\t/\\|$/,\n\t\t\t\t/\\^$/,\n\t\t\t\t/\\~$/,\n\t\t\t\t/\\?$/,\n\t\t\t\t/\\,$/,\n\t\t\t\t/delete$/,\n\t\t\t\t/in$/,\n\t\t\t\t/instanceof$/,\n\t\t\t\t/new$/,\n\t\t\t\t/typeof$/,\n\t\t\t\t/void$/\n\t\t\t];\n\n\tvar isLegal = legalRegx.some(function(reg) {\n\t\treturn reg.test(before);\n\t});\n\n\tif (!isLegal) {\n\t\treturn false;\n\t} else {\n\t\tvar sep = '/';\n\n\t\t// same logic as string\n\t\treturn this._parseJSString(token, idx, sep);\n\t}\n};\n\n\n/**\n *\n * find next sep(same line) index in `token`\n *\n * @return {Number}\n *\n */\nCSSOM.CSSValueExpression.prototype._findMatchedIdx = function(token, idx, sep) {\n\tvar startIdx = idx,\n\t\t\tendIdx;\n\n\tvar NOT_FOUND = -1;\n\n\twhile(true) {\n\t\tendIdx = token.indexOf(sep, startIdx + 1);\n\n\t\tif (endIdx === -1) { // not found\n\t\t\tendIdx = NOT_FOUND;\n\t\t\tbreak;\n\t\t} else {\n\t\t\tvar text = token.substring(idx + 1, endIdx),\n\t\t\t\t\tmatched = text.match(/\\\\+$/);\n\t\t\tif (!matched || matched[0] % 2 === 0) { // not escaped\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tstartIdx = endIdx;\n\t\t\t}\n\t\t}\n\t}\n\n\t// boundary must be in the same line(js sting or regexp)\n\tvar nextNewLineIdx = token.indexOf('\\n', idx + 1);\n\tif (nextNewLineIdx < endIdx) {\n\t\tendIdx = NOT_FOUND;\n\t}\n\n\n\treturn endIdx;\n};\n\n\n\n\n//.CommonJS\nexports.CSSValueExpression = CSSOM.CSSValueExpression;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @constructor\n * @see https://developer.mozilla.org/en/CSS/@-moz-document\n */\nCSSOM.MatcherList = function MatcherList(){\n    this.length = 0;\n};\n\nCSSOM.MatcherList.prototype = {\n\n    constructor: CSSOM.MatcherList,\n\n    /**\n     * @return {string}\n     */\n    get matcherText() {\n        return Array.prototype.join.call(this, \", \");\n    },\n\n    /**\n     * @param {string} value\n     */\n    set matcherText(value) {\n        // just a temporary solution, actually it may be wrong by just split the value with ',', because a url can include ','.\n        var values = value.split(\",\");\n        var length = this.length = values.length;\n        for (var i=0; i<length; i++) {\n            this[i] = values[i].trim();\n        }\n    },\n\n    /**\n     * @param {string} matcher\n     */\n    appendMatcher: function(matcher) {\n        if (Array.prototype.indexOf.call(this, matcher) === -1) {\n            this[this.length] = matcher;\n            this.length++;\n        }\n    },\n\n    /**\n     * @param {string} matcher\n     */\n    deleteMatcher: function(matcher) {\n        var index = Array.prototype.indexOf.call(this, matcher);\n        if (index !== -1) {\n            Array.prototype.splice.call(this, index, 1);\n        }\n    }\n\n};\n\n\n//.CommonJS\nexports.MatcherList = CSSOM.MatcherList;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n    CSSRule: require(\"./CSSRule\").CSSRule,\n    MatcherList: require(\"./MatcherList\").MatcherList\n};\n///CommonJS\n\n\n/**\n * @constructor\n * @see https://developer.mozilla.org/en/CSS/@-moz-document\n */\nCSSOM.CSSDocumentRule = function CSSDocumentRule() {\n    CSSOM.CSSRule.call(this);\n    this.matcher = new CSSOM.MatcherList();\n    this.cssRules = [];\n};\n\nCSSOM.CSSDocumentRule.prototype = new CSSOM.CSSRule();\nCSSOM.CSSDocumentRule.prototype.constructor = CSSOM.CSSDocumentRule;\nCSSOM.CSSDocumentRule.prototype.type = 10;\n//FIXME\n//CSSOM.CSSDocumentRule.prototype.insertRule = CSSStyleSheet.prototype.insertRule;\n//CSSOM.CSSDocumentRule.prototype.deleteRule = CSSStyleSheet.prototype.deleteRule;\n\nObject.defineProperty(CSSOM.CSSDocumentRule.prototype, \"cssText\", {\n  get: function() {\n    var cssTexts = [];\n    for (var i=0, length=this.cssRules.length; i < length; i++) {\n        cssTexts.push(this.cssRules[i].cssText);\n    }\n    return \"@-moz-document \" + this.matcher.matcherText + \" {\" + cssTexts.join(\"\") + \"}\";\n  }\n});\n\n\n//.CommonJS\nexports.CSSDocumentRule = CSSOM.CSSDocumentRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @param {string} token\n */\nCSSOM.parse = function parse(token) {\n\n\tvar i = 0;\n\n\t/**\n\t\t\"before-selector\" or\n\t\t\"selector\" or\n\t\t\"atRule\" or\n\t\t\"atBlock\" or\n\t\t\"conditionBlock\" or\n\t\t\"before-name\" or\n\t\t\"name\" or\n\t\t\"before-value\" or\n\t\t\"value\"\n\t*/\n\tvar state = \"before-selector\";\n\n\tvar index;\n\tvar buffer = \"\";\n\tvar valueParenthesisDepth = 0;\n\n\tvar SIGNIFICANT_WHITESPACE = {\n\t\t\"selector\": true,\n\t\t\"value\": true,\n\t\t\"value-parenthesis\": true,\n\t\t\"atRule\": true,\n\t\t\"importRule-begin\": true,\n\t\t\"importRule\": true,\n\t\t\"atBlock\": true,\n\t\t\"conditionBlock\": true,\n\t\t'documentRule-begin': true\n\t};\n\n\tvar styleSheet = new CSSOM.CSSStyleSheet();\n\n\t// @type CSSStyleSheet|CSSMediaRule|CSSSupportsRule|CSSFontFaceRule|CSSKeyframesRule|CSSDocumentRule\n\tvar currentScope = styleSheet;\n\n\t// @type CSSMediaRule|CSSSupportsRule|CSSKeyframesRule|CSSDocumentRule\n\tvar parentRule;\n\n\tvar ancestorRules = [];\n\tvar hasAncestors = false;\n\tvar prevScope;\n\n\tvar name, priority=\"\", styleRule, mediaRule, supportsRule, importRule, fontFaceRule, keyframesRule, documentRule, hostRule;\n\n\tvar atKeyframesRegExp = /@(-(?:\\w+-)+)?keyframes/g;\n\n\tvar parseError = function(message) {\n\t\tvar lines = token.substring(0, i).split('\\n');\n\t\tvar lineCount = lines.length;\n\t\tvar charCount = lines.pop().length + 1;\n\t\tvar error = new Error(message + ' (line ' + lineCount + ', char ' + charCount + ')');\n\t\terror.line = lineCount;\n\t\t/* jshint sub : true */\n\t\terror['char'] = charCount;\n\t\terror.styleSheet = styleSheet;\n\t\tthrow error;\n\t};\n\n\tfor (var character; (character = token.charAt(i)); i++) {\n\n\t\tswitch (character) {\n\n\t\tcase \" \":\n\t\tcase \"\\t\":\n\t\tcase \"\\r\":\n\t\tcase \"\\n\":\n\t\tcase \"\\f\":\n\t\t\tif (SIGNIFICANT_WHITESPACE[state]) {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// String\n\t\tcase '\"':\n\t\t\tindex = i + 1;\n\t\t\tdo {\n\t\t\t\tindex = token.indexOf('\"', index) + 1;\n\t\t\t\tif (!index) {\n\t\t\t\t\tparseError('Unmatched \"');\n\t\t\t\t}\n\t\t\t} while (token[index - 2] === '\\\\');\n\t\t\tbuffer += token.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tswitch (state) {\n\t\t\t\tcase 'before-value':\n\t\t\t\t\tstate = 'value';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importRule-begin':\n\t\t\t\t\tstate = 'importRule';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"'\":\n\t\t\tindex = i + 1;\n\t\t\tdo {\n\t\t\t\tindex = token.indexOf(\"'\", index) + 1;\n\t\t\t\tif (!index) {\n\t\t\t\t\tparseError(\"Unmatched '\");\n\t\t\t\t}\n\t\t\t} while (token[index - 2] === '\\\\');\n\t\t\tbuffer += token.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tswitch (state) {\n\t\t\t\tcase 'before-value':\n\t\t\t\t\tstate = 'value';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importRule-begin':\n\t\t\t\t\tstate = 'importRule';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// Comment\n\t\tcase \"/\":\n\t\t\tif (token.charAt(i + 1) === \"*\") {\n\t\t\t\ti += 2;\n\t\t\t\tindex = token.indexOf(\"*/\", i);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tparseError(\"Missing */\");\n\t\t\t\t} else {\n\t\t\t\t\ti = index + 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tif (state === \"importRule-begin\") {\n\t\t\t\tbuffer += \" \";\n\t\t\t\tstate = \"importRule\";\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// At-rule\n\t\tcase \"@\":\n\t\t\tif (token.indexOf(\"@-moz-document\", i) === i) {\n\t\t\t\tstate = \"documentRule-begin\";\n\t\t\t\tdocumentRule = new CSSOM.CSSDocumentRule();\n\t\t\t\tdocumentRule.__starts = i;\n\t\t\t\ti += \"-moz-document\".length;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@media\", i) === i) {\n\t\t\t\tstate = \"atBlock\";\n\t\t\t\tmediaRule = new CSSOM.CSSMediaRule();\n\t\t\t\tmediaRule.__starts = i;\n\t\t\t\ti += \"media\".length;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@supports\", i) === i) {\n\t\t\t\tstate = \"conditionBlock\";\n\t\t\t\tsupportsRule = new CSSOM.CSSSupportsRule();\n\t\t\t\tsupportsRule.__starts = i;\n\t\t\t\ti += \"supports\".length;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@host\", i) === i) {\n\t\t\t\tstate = \"hostRule-begin\";\n\t\t\t\ti += \"host\".length;\n\t\t\t\thostRule = new CSSOM.CSSHostRule();\n\t\t\t\thostRule.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@import\", i) === i) {\n\t\t\t\tstate = \"importRule-begin\";\n\t\t\t\ti += \"import\".length;\n\t\t\t\tbuffer += \"@import\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@font-face\", i) === i) {\n\t\t\t\tstate = \"fontFaceRule-begin\";\n\t\t\t\ti += \"font-face\".length;\n\t\t\t\tfontFaceRule = new CSSOM.CSSFontFaceRule();\n\t\t\t\tfontFaceRule.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tatKeyframesRegExp.lastIndex = i;\n\t\t\t\tvar matchKeyframes = atKeyframesRegExp.exec(token);\n\t\t\t\tif (matchKeyframes && matchKeyframes.index === i) {\n\t\t\t\t\tstate = \"keyframesRule-begin\";\n\t\t\t\t\tkeyframesRule = new CSSOM.CSSKeyframesRule();\n\t\t\t\t\tkeyframesRule.__starts = i;\n\t\t\t\t\tkeyframesRule._vendorPrefix = matchKeyframes[1]; // Will come out as undefined if no prefix was found\n\t\t\t\t\ti += matchKeyframes[0].length - 1;\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (state === \"selector\") {\n\t\t\t\t\tstate = \"atRule\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\n\t\tcase \"{\":\n\t\t\tif (state === \"selector\" || state === \"atRule\") {\n\t\t\t\tstyleRule.selectorText = buffer.trim();\n\t\t\t\tstyleRule.style.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-name\";\n\t\t\t} else if (state === \"atBlock\") {\n\t\t\t\tmediaRule.media.mediaText = buffer.trim();\n\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t}\n\n\t\t\t\tcurrentScope = parentRule = mediaRule;\n\t\t\t\tmediaRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t} else if (state === \"conditionBlock\") {\n\t\t\t\tsupportsRule.conditionText = buffer.trim();\n\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t}\n\n\t\t\t\tcurrentScope = parentRule = supportsRule;\n\t\t\t\tsupportsRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t} else if (state === \"hostRule-begin\") {\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t}\n\n\t\t\t\tcurrentScope = parentRule = hostRule;\n\t\t\t\thostRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t} else if (state === \"fontFaceRule-begin\") {\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tfontFaceRule.parentRule = parentRule;\n\t\t\t\t}\n\t\t\t\tfontFaceRule.parentStyleSheet = styleSheet;\n\t\t\t\tstyleRule = fontFaceRule;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-name\";\n\t\t\t} else if (state === \"keyframesRule-begin\") {\n\t\t\t\tkeyframesRule.name = buffer.trim();\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t\tkeyframesRule.parentRule = parentRule;\n\t\t\t\t}\n\t\t\t\tkeyframesRule.parentStyleSheet = styleSheet;\n\t\t\t\tcurrentScope = parentRule = keyframesRule;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"keyframeRule-begin\";\n\t\t\t} else if (state === \"keyframeRule-begin\") {\n\t\t\t\tstyleRule = new CSSOM.CSSKeyframeRule();\n\t\t\t\tstyleRule.keyText = buffer.trim();\n\t\t\t\tstyleRule.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-name\";\n\t\t\t} else if (state === \"documentRule-begin\") {\n\t\t\t\t// FIXME: what if this '{' is in the url text of the match function?\n\t\t\t\tdocumentRule.matcher.matcherText = buffer.trim();\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t\tdocumentRule.parentRule = parentRule;\n\t\t\t\t}\n\t\t\t\tcurrentScope = parentRule = documentRule;\n\t\t\t\tdocumentRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \":\":\n\t\t\tif (state === \"name\") {\n\t\t\t\tname = buffer.trim();\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-value\";\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"(\":\n\t\t\tif (state === 'value') {\n\t\t\t\t// ie css expression mode\n\t\t\t\tif (buffer.trim() === 'expression') {\n\t\t\t\t\tvar info = (new CSSOM.CSSValueExpression(token, i)).parse();\n\n\t\t\t\t\tif (info.error) {\n\t\t\t\t\t\tparseError(info.error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbuffer += info.expression;\n\t\t\t\t\t\ti = info.idx;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstate = 'value-parenthesis';\n\t\t\t\t\t//always ensure this is reset to 1 on transition\n\t\t\t\t\t//from value to value-parenthesis\n\t\t\t\t\tvalueParenthesisDepth = 1;\n\t\t\t\t\tbuffer += character;\n\t\t\t\t}\n\t\t\t} else if (state === 'value-parenthesis') {\n\t\t\t\tvalueParenthesisDepth++;\n\t\t\t\tbuffer += character;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \")\":\n\t\t\tif (state === 'value-parenthesis') {\n\t\t\t\tvalueParenthesisDepth--;\n\t\t\t\tif (valueParenthesisDepth === 0) state = 'value';\n\t\t\t}\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\n\t\tcase \"!\":\n\t\t\tif (state === \"value\" && token.indexOf(\"!important\", i) === i) {\n\t\t\t\tpriority = \"important\";\n\t\t\t\ti += \"important\".length;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \";\":\n\t\t\tswitch (state) {\n\t\t\t\tcase \"value\":\n\t\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\t\tpriority = \"\";\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-name\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"atRule\":\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"importRule\":\n\t\t\t\t\timportRule = new CSSOM.CSSImportRule();\n\t\t\t\t\timportRule.parentStyleSheet = importRule.styleSheet.parentStyleSheet = styleSheet;\n\t\t\t\t\timportRule.cssText = buffer + character;\n\t\t\t\t\tstyleSheet.cssRules.push(importRule);\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbuffer += character;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"}\":\n\t\t\tswitch (state) {\n\t\t\t\tcase \"value\":\n\t\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\t\tpriority = \"\";\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase \"before-name\":\n\t\t\t\tcase \"name\":\n\t\t\t\t\tstyleRule.__ends = i + 1;\n\t\t\t\t\tif (parentRule) {\n\t\t\t\t\t\tstyleRule.parentRule = parentRule;\n\t\t\t\t\t}\n\t\t\t\t\tstyleRule.parentStyleSheet = styleSheet;\n\t\t\t\t\tcurrentScope.cssRules.push(styleRule);\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tif (currentScope.constructor === CSSOM.CSSKeyframesRule) {\n\t\t\t\t\t\tstate = \"keyframeRule-begin\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"keyframeRule-begin\":\n\t\t\t\tcase \"before-selector\":\n\t\t\t\tcase \"selector\":\n\t\t\t\t\t// End of media/supports/document rule.\n\t\t\t\t\tif (!parentRule) {\n\t\t\t\t\t\tparseError(\"Unexpected }\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle rules nested in @media or @supports\n\t\t\t\t\thasAncestors = ancestorRules.length > 0;\n\n\t\t\t\t\twhile (ancestorRules.length > 0) {\n\t\t\t\t\t\tparentRule = ancestorRules.pop();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tparentRule.constructor.name === \"CSSMediaRule\"\n\t\t\t\t\t\t\t|| parentRule.constructor.name === \"CSSSupportsRule\"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tprevScope = currentScope;\n\t\t\t\t\t\t\tcurrentScope = parentRule;\n\t\t\t\t\t\t\tcurrentScope.cssRules.push(prevScope);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (ancestorRules.length === 0) {\n\t\t\t\t\t\t\thasAncestors = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (!hasAncestors) {\n\t\t\t\t\t\tcurrentScope.__ends = i + 1;\n\t\t\t\t\t\tstyleSheet.cssRules.push(currentScope);\n\t\t\t\t\t\tcurrentScope = styleSheet;\n\t\t\t\t\t\tparentRule = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tswitch (state) {\n\t\t\t\tcase \"before-selector\":\n\t\t\t\t\tstate = \"selector\";\n\t\t\t\t\tstyleRule = new CSSOM.CSSStyleRule();\n\t\t\t\t\tstyleRule.__starts = i;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"before-name\":\n\t\t\t\t\tstate = \"name\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"before-value\":\n\t\t\t\t\tstate = \"value\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"importRule-begin\":\n\t\t\t\t\tstate = \"importRule\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn styleSheet;\n};\n\n\n//.CommonJS\nexports.parse = CSSOM.parse;\n// The following modules cannot be included sooner due to the mutual dependency with parse.js\nCSSOM.CSSStyleSheet = require(\"./CSSStyleSheet\").CSSStyleSheet;\nCSSOM.CSSStyleRule = require(\"./CSSStyleRule\").CSSStyleRule;\nCSSOM.CSSImportRule = require(\"./CSSImportRule\").CSSImportRule;\nCSSOM.CSSGroupingRule = require(\"./CSSGroupingRule\").CSSGroupingRule;\nCSSOM.CSSMediaRule = require(\"./CSSMediaRule\").CSSMediaRule;\nCSSOM.CSSConditionRule = require(\"./CSSConditionRule\").CSSConditionRule;\nCSSOM.CSSSupportsRule = require(\"./CSSSupportsRule\").CSSSupportsRule;\nCSSOM.CSSFontFaceRule = require(\"./CSSFontFaceRule\").CSSFontFaceRule;\nCSSOM.CSSHostRule = require(\"./CSSHostRule\").CSSHostRule;\nCSSOM.CSSStyleDeclaration = require('./CSSStyleDeclaration').CSSStyleDeclaration;\nCSSOM.CSSKeyframeRule = require('./CSSKeyframeRule').CSSKeyframeRule;\nCSSOM.CSSKeyframesRule = require('./CSSKeyframesRule').CSSKeyframesRule;\nCSSOM.CSSValueExpression = require('./CSSValueExpression').CSSValueExpression;\nCSSOM.CSSDocumentRule = require('./CSSDocumentRule').CSSDocumentRule;\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration\n */\nCSSOM.CSSStyleDeclaration = function CSSStyleDeclaration(){\n\tthis.length = 0;\n\tthis.parentRule = null;\n\n\t// NON-STANDARD\n\tthis._importants = {};\n};\n\n\nCSSOM.CSSStyleDeclaration.prototype = {\n\n\tconstructor: CSSOM.CSSStyleDeclaration,\n\n\t/**\n\t *\n\t * @param {string} name\n\t * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-getPropertyValue\n\t * @return {string} the value of the property if it has been explicitly set for this declaration block.\n\t * Returns the empty string if the property has not been set.\n\t */\n\tgetPropertyValue: function(name) {\n\t\treturn this[name] || \"\";\n\t},\n\n\t/**\n\t *\n\t * @param {string} name\n\t * @param {string} value\n\t * @param {string} [priority=null] \"important\" or null\n\t * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-setProperty\n\t */\n\tsetProperty: function(name, value, priority) {\n\t\tif (this[name]) {\n\t\t\t// Property already exist. Overwrite it.\n\t\t\tvar index = Array.prototype.indexOf.call(this, name);\n\t\t\tif (index < 0) {\n\t\t\t\tthis[this.length] = name;\n\t\t\t\tthis.length++;\n\t\t\t}\n\t\t} else {\n\t\t\t// New property.\n\t\t\tthis[this.length] = name;\n\t\t\tthis.length++;\n\t\t}\n\t\tthis[name] = value + \"\";\n\t\tthis._importants[name] = priority;\n\t},\n\n\t/**\n\t *\n\t * @param {string} name\n\t * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-removeProperty\n\t * @return {string} the value of the property if it has been explicitly set for this declaration block.\n\t * Returns the empty string if the property has not been set or the property name does not correspond to a known CSS property.\n\t */\n\tremoveProperty: function(name) {\n\t\tif (!(name in this)) {\n\t\t\treturn \"\";\n\t\t}\n\t\tvar index = Array.prototype.indexOf.call(this, name);\n\t\tif (index < 0) {\n\t\t\treturn \"\";\n\t\t}\n\t\tvar prevValue = this[name];\n\t\tthis[name] = \"\";\n\n\t\t// That's what WebKit and Opera do\n\t\tArray.prototype.splice.call(this, index, 1);\n\n\t\t// That's what Firefox does\n\t\t//this[index] = \"\"\n\n\t\treturn prevValue;\n\t},\n\n\tgetPropertyCSSValue: function() {\n\t\t//FIXME\n\t},\n\n\t/**\n\t *\n\t * @param {String} name\n\t */\n\tgetPropertyPriority: function(name) {\n\t\treturn this._importants[name] || \"\";\n\t},\n\n\n\t/**\n\t *   element.style.overflow = \"auto\"\n\t *   element.style.getPropertyShorthand(\"overflow-x\")\n\t *   -> \"overflow\"\n\t */\n\tgetPropertyShorthand: function() {\n\t\t//FIXME\n\t},\n\n\tisPropertyImplicit: function() {\n\t\t//FIXME\n\t},\n\n\t// Doesn't work in IE < 9\n\tget cssText(){\n\t\tvar properties = [];\n\t\tfor (var i=0, length=this.length; i < length; ++i) {\n\t\t\tvar name = this[i];\n\t\t\tvar value = this.getPropertyValue(name);\n\t\t\tvar priority = this.getPropertyPriority(name);\n\t\t\tif (priority) {\n\t\t\t\tpriority = \" !\" + priority;\n\t\t\t}\n\t\t\tproperties[i] = name + \": \" + value + priority + \";\";\n\t\t}\n\t\treturn properties.join(\" \");\n\t},\n\n\tset cssText(text){\n\t\tvar i, name;\n\t\tfor (i = this.length; i--;) {\n\t\t\tname = this[i];\n\t\t\tthis[name] = \"\";\n\t\t}\n\t\tArray.prototype.splice.call(this, 0, this.length);\n\t\tthis._importants = {};\n\n\t\tvar dummyRule = CSSOM.parse('#bogus{' + text + '}').cssRules[0].style;\n\t\tvar length = dummyRule.length;\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\tname = dummyRule[i];\n\t\t\tthis.setProperty(dummyRule[i], dummyRule.getPropertyValue(name), dummyRule.getPropertyPriority(name));\n\t\t}\n\t}\n};\n\n\n//.CommonJS\nexports.CSSStyleDeclaration = CSSOM.CSSStyleDeclaration;\nCSSOM.parse = require('./parse').parse; // Cannot be included sooner due to the mutual dependency between parse.js and CSSStyleDeclaration.js\n///CommonJS\n", "//.CommonJS\nvar CSSOM = {\n\tCSSStyleSheet: require(\"./CSSStyleSheet\").CSSStyleSheet,\n\tCSSRule: require(\"./CSSRule\").CSSRule,\n\tCSSStyleRule: require(\"./CSSStyleRule\").CSSStyleRule,\n\tCSSGroupingRule: require(\"./CSSGroupingRule\").CSSGroupingRule,\n\tCSSConditionRule: require(\"./CSSConditionRule\").CSSConditionRule,\n\tCSSMediaRule: require(\"./CSSMediaRule\").CSSMediaRule,\n\tCSSSupportsRule: require(\"./CSSSupportsRule\").CSSSupportsRule,\n\tCSSStyleDeclaration: require(\"./CSSStyleDeclaration\").CSSStyleDeclaration,\n\tCSSKeyframeRule: require('./CSSKeyframeRule').CSSKeyframeRule,\n\tCSSKeyframesRule: require('./CSSKeyframesRule').CSSKeyframesRule\n};\n///CommonJS\n\n\n/**\n * Produces a deep copy of stylesheet \u2014 the instance variables of stylesheet are copied recursively.\n * @param {CSSStyleSheet|CSSOM.CSSStyleSheet} stylesheet\n * @nosideeffects\n * @return {CSSOM.CSSStyleSheet}\n */\nCSSOM.clone = function clone(stylesheet) {\n\n\tvar cloned = new CSSOM.CSSStyleSheet();\n\n\tvar rules = stylesheet.cssRules;\n\tif (!rules) {\n\t\treturn cloned;\n\t}\n\n\tfor (var i = 0, rulesLength = rules.length; i < rulesLength; i++) {\n\t\tvar rule = rules[i];\n\t\tvar ruleClone = cloned.cssRules[i] = new rule.constructor();\n\n\t\tvar style = rule.style;\n\t\tif (style) {\n\t\t\tvar styleClone = ruleClone.style = new CSSOM.CSSStyleDeclaration();\n\t\t\tfor (var j = 0, styleLength = style.length; j < styleLength; j++) {\n\t\t\t\tvar name = styleClone[j] = style[j];\n\t\t\t\tstyleClone[name] = style[name];\n\t\t\t\tstyleClone._importants[name] = style.getPropertyPriority(name);\n\t\t\t}\n\t\t\tstyleClone.length = style.length;\n\t\t}\n\n\t\tif (rule.hasOwnProperty('keyText')) {\n\t\t\truleClone.keyText = rule.keyText;\n\t\t}\n\n\t\tif (rule.hasOwnProperty('selectorText')) {\n\t\t\truleClone.selectorText = rule.selectorText;\n\t\t}\n\n\t\tif (rule.hasOwnProperty('mediaText')) {\n\t\t\truleClone.mediaText = rule.mediaText;\n\t\t}\n\n\t\tif (rule.hasOwnProperty('conditionText')) {\n\t\t\truleClone.conditionText = rule.conditionText;\n\t\t}\n\n\t\tif (rule.hasOwnProperty('cssRules')) {\n\t\t\truleClone.cssRules = clone(rule).cssRules;\n\t\t}\n\t}\n\n\treturn cloned;\n\n};\n\n//.CommonJS\nexports.clone = CSSOM.clone;\n///CommonJS\n", "'use strict';\n\nexports.CSSStyleDeclaration = require('./CSSStyleDeclaration').CSSStyleDeclaration;\nexports.CSSRule = require('./CSSRule').CSSRule;\nexports.CSSGroupingRule = require('./CSSGroupingRule').CSSGroupingRule;\nexports.CSSConditionRule = require('./CSSConditionRule').CSSConditionRule;\nexports.CSSStyleRule = require('./CSSStyleRule').CSSStyleRule;\nexports.MediaList = require('./MediaList').MediaList;\nexports.CSSMediaRule = require('./CSSMediaRule').CSSMediaRule;\nexports.CSSSupportsRule = require('./CSSSupportsRule').CSSSupportsRule;\nexports.CSSImportRule = require('./CSSImportRule').CSSImportRule;\nexports.CSSFontFaceRule = require('./CSSFontFaceRule').CSSFontFaceRule;\nexports.CSSHostRule = require('./CSSHostRule').CSSHostRule;\nexports.StyleSheet = require('./StyleSheet').StyleSheet;\nexports.CSSStyleSheet = require('./CSSStyleSheet').CSSStyleSheet;\nexports.CSSKeyframesRule = require('./CSSKeyframesRule').CSSKeyframesRule;\nexports.CSSKeyframeRule = require('./CSSKeyframeRule').CSSKeyframeRule;\nexports.MatcherList = require('./MatcherList').MatcherList;\nexports.CSSDocumentRule = require('./CSSDocumentRule').CSSDocumentRule;\nexports.CSSValue = require('./CSSValue').CSSValue;\nexports.CSSValueExpression = require('./CSSValueExpression').CSSValueExpression;\nexports.parse = require('./parse').parse;\nexports.clone = require('./clone').clone;\n", "class Canvas {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n  getContext() {\n    return null;\n  }\n  toDataURL() {\n    return '';\n  }\n}\n\nmodule.exports = {\n  createCanvas: (width, height) => new Canvas(width, height),\n};\n", "/* c8 ignore start */\ntry {\n  module.exports = require('canvas');\n} catch (fallback) {\n  module.exports = require('./canvas-shim.cjs');\n}\n/* c8 ignore stop */\n", "/**\n * @internal\n */\nexport const packageVersion = '1.0.4';\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n", "/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport NodeWebSocket from 'ws';\n\nimport type {ConnectionTransport} from '../common/ConnectionTransport.js';\nimport {packageVersion} from '../generated/version.js';\n\n/**\n * @internal\n */\nexport class NodeWebSocketTransport implements ConnectionTransport {\n  static create(\n    url: string,\n    headers?: Record<string, string>\n  ): Promise<NodeWebSocketTransport> {\n    return new Promise((resolve, reject) => {\n      const ws = new NodeWebSocket(url, [], {\n        followRedirects: true,\n        perMessageDeflate: false,\n        // @ts-expect-error https://github.com/websockets/ws/blob/master/doc/ws.md#new-websocketaddress-protocols-options\n        allowSynchronousEvents: false,\n        maxPayload: 256 * 1024 * 1024, // 256Mb\n        headers: {\n          'User-Agent': `Puppeteer ${packageVersion}`,\n          ...headers,\n        },\n      });\n\n      ws.addEventListener('open', () => {\n        return resolve(new NodeWebSocketTransport(ws));\n      });\n      ws.addEventListener('error', reject);\n    });\n  }\n\n  #ws: NodeWebSocket;\n  onmessage?: (message: NodeWebSocket.Data) => void;\n  onclose?: () => void;\n\n  constructor(ws: NodeWebSocket) {\n    this.#ws = ws;\n    this.#ws.addEventListener('message', event => {\n      if (this.onmessage) {\n        this.onmessage.call(null, event.data);\n      }\n    });\n    this.#ws.addEventListener('close', () => {\n      if (this.onclose) {\n        this.onclose.call(null);\n      }\n    });\n    // Silently ignore all errors - we don't know what to do with them.\n    this.#ws.addEventListener('error', () => {});\n  }\n\n  send(message: string): void {\n    this.#ws.send(message);\n  }\n\n  close(): void {\n    this.#ws.close();\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {ConnectionTransport} from './ConnectionTransport.js';\n\n/**\n * @internal\n */\nexport class BrowserWebSocketTransport implements ConnectionTransport {\n  static create(url: string): Promise<BrowserWebSocketTransport> {\n    return new Promise((resolve, reject) => {\n      const ws = new WebSocket(url);\n\n      ws.addEventListener('open', () => {\n        return resolve(new BrowserWebSocketTransport(ws));\n      });\n      ws.addEventListener('error', reject);\n    });\n  }\n\n  #ws: WebSocket;\n  onmessage?: (message: string) => void;\n  onclose?: () => void;\n\n  constructor(ws: WebSocket) {\n    this.#ws = ws;\n    this.#ws.addEventListener('message', event => {\n      if (this.onmessage) {\n        this.onmessage.call(null, event.data);\n      }\n    });\n    this.#ws.addEventListener('close', () => {\n      if (this.onclose) {\n        this.onclose.call(null);\n      }\n    });\n    // Silently ignore all errors - we don't know what to do with them.\n    this.#ws.addEventListener('error', () => {});\n  }\n\n  send(message: string): void {\n    this.#ws.send(message);\n  }\n\n  close(): void {\n    this.#ws.close();\n  }\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/paolo/excat/neocat-2/workers/block-generator/.wrangler/tmp/bundle-xJyr9q/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/paolo/excat/neocat-2/workers/block-generator/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/paolo/excat/neocat-2/workers/block-generator/.wrangler/tmp/bundle-xJyr9q/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/paolo/excat/neocat-2/workers/block-generator/.wrangler/tmp/bundle-xJyr9q/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/paolo/excat/neocat-2/workers/block-generator/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/paolo/excat/neocat-2/workers/block-generator/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\n\n\t\t\t\texport * from \"/Users/paolo/excat/neocat-2/workers/block-generator/src/index.ts\";\n\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "import {\n  BlockRequest,\n  BlockResponse,\n  ErrorResponse,\n  BlockGeneratorError,\n  Env,\n} from './types';\nimport { fetchPage } from './fetcher';\nimport { parseHTMLDocument, getElement } from './parser';\nimport { extractContent } from './content-extractor';\nimport { buildBlock } from './block-builder';\nimport { captureElementScreenshot, extractLiveImages, ExtractedImage } from './screenshot';\nimport { analyzeDesign, generateBlockCode, analyzePageBlocks, nameDetectedBlocks, DesignTokens, AnthropicConfig, GeneratedBlockCode, IdentifiedBlock, NamedBlock } from './design-analyzer';\nimport { detectBlocksInBrowser, DetectedBlock, PageDetectionResult } from './block-detector';\nimport { detectBlocksVisually, VisualDetectionResult } from './visual-block-detector';\nimport { detectBlocksAnnotated, AnnotatedDetectionResult } from './annotated-detector';\nimport { detectBlocksSmart, SmartDetectionResult } from './smart-detector';\nimport { generateBlockEnhanced, EnhancedBlockCode } from './enhanced-generator';\nimport { extractComputedStyles, formatStylesForPrompt } from './style-extractor';\nimport { detectBlocks, captureBlockScreenshot, DetectedBlock as BBoxBlock, BoundingBox } from './bbox-detector';\nimport { detectBlocksHybrid, ClassifiedBlock, HybridDetectionResult } from './hybrid-detector';\nimport { analyzePage, PageAnalysisResult, IdentifiedSection } from './page-analyzer';\nimport puppeteer from '@cloudflare/puppeteer';\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    // Handle CORS preflight\n    if (request.method === 'OPTIONS') {\n      return handleCORS(env);\n    }\n\n    const url = new URL(request.url);\n\n    // Health check endpoint\n    if (url.pathname === '/health' && request.method === 'GET') {\n      return Response.json({ status: 'ok', version: '1.0.0' });\n    }\n\n    // Test UI endpoint\n    if (url.pathname === '/' && request.method === 'GET') {\n      return handleTestUI(env);\n    }\n\n    // Batch generation UI\n    if (url.pathname === '/batch' && request.method === 'GET') {\n      return handleBatchUI(env);\n    }\n\n    // Debug: View bbox screenshots\n    if (url.pathname === '/debug/bboxes' && request.method === 'POST') {\n      return handleDebugBboxes(request, env);\n    }\n\n    // Analyze page to identify blocks\n    if (url.pathname === '/analyze' && request.method === 'POST') {\n      return handleAnalyze(request, env);\n    }\n\n    // Main generation endpoint (JSON response)\n    if (url.pathname === '/generate' && request.method === 'POST') {\n      return handleGenerate(request, env);\n    }\n\n    // Preview endpoint (HTML page for browser)\n    if (url.pathname === '/preview' && request.method === 'POST') {\n      return handlePreview(request, env);\n    }\n\n    // 404 for unknown routes\n    return Response.json(\n      { success: false, error: 'Not found', code: 'NOT_FOUND' },\n      { status: 404, headers: corsHeaders(env) }\n    );\n  },\n};\n\n/**\n * Build Anthropic config from environment\n */\nfunction getAnthropicConfig(env: Env): AnthropicConfig | undefined {\n  // Check for Bedrock config\n  if (env.ANTHROPIC_USE_BEDROCK === '1' && env.ANTHROPIC_AWS_BEARER_TOKEN_BEDROCK) {\n    return {\n      useBedrock: true,\n      bedrockToken: env.ANTHROPIC_AWS_BEARER_TOKEN_BEDROCK,\n      bedrockRegion: env.ANTHROPIC_AWS_REGION || 'us-east-1',\n      bedrockModel: env.ANTHROPIC_MODEL,\n    };\n  }\n\n  // Check for direct Anthropic API key\n  if (env.ANTHROPIC_API_KEY) {\n    return {\n      apiKey: env.ANTHROPIC_API_KEY,\n    };\n  }\n\n  return undefined;\n}\n\n/**\n * Capture screenshot and analyze design using Claude Vision (legacy - extracts tokens only)\n */\nasync function analyzeDesignFromScreenshot(\n  url: string,\n  selector: string,\n  env: Env\n): Promise<DesignTokens | undefined> {\n  const anthropicConfig = getAnthropicConfig(env);\n  if (!anthropicConfig || !env.BROWSER) {\n    return undefined;\n  }\n\n  try {\n    const browser = await puppeteer.launch(env.BROWSER);\n    try {\n      const { screenshot } = await captureElementScreenshot(browser, url, selector);\n      const designTokens = await analyzeDesign(screenshot, anthropicConfig);\n      return designTokens;\n    } finally {\n      await browser.close();\n    }\n  } catch (error) {\n    console.error('Design analysis failed:', error);\n    return undefined;\n  }\n}\n\n/**\n * Generate block from a visual description\n * Claude sees the full page and uses the description to find and generate the block\n */\nasync function generateBlockFromDescription(\n  url: string,\n  sectionDescription: string,\n  sectionName: string,\n  env: Env,\n  maxRetries: number = 3\n): Promise<EnhancedBlockCode | undefined> {\n  const anthropicConfig = getAnthropicConfig(env);\n  if (!anthropicConfig || !env.BROWSER) {\n    return undefined;\n  }\n\n  let lastError: Error | undefined;\n\n  for (let attempt = 0; attempt < maxRetries; attempt++) {\n    try {\n      const browser = await puppeteer.launch(env.BROWSER);\n      try {\n        const page = await browser.newPage();\n        await page.setViewport({ width: 1440, height: 900 });\n        await page.goto(url, { waitUntil: 'networkidle0', timeout: 30000 });\n\n        // Get page dimensions and take full screenshot\n        const dimensions = await page.evaluate(() => ({\n          width: document.documentElement.scrollWidth,\n          height: document.documentElement.scrollHeight,\n        }));\n\n        const maxHeight = Math.min(dimensions.height, 8000);\n        console.log(`Taking screenshot: ${dimensions.width}x${maxHeight}`);\n\n        const screenshotBuffer = await page.screenshot({\n          clip: { x: 0, y: 0, width: dimensions.width, height: maxHeight },\n          type: 'png',\n        }) as Buffer;\n        const screenshot = screenshotBuffer.toString('base64');\n\n        // Extract all images from the page for reference\n        let liveImages: ExtractedImage[] = [];\n        try {\n          liveImages = await extractLiveImages(page, 'body', url);\n          console.log(`Found ${liveImages.length} images on page`);\n        } catch (e) {\n          console.warn('Image extraction failed:', e);\n        }\n\n        await page.close();\n\n        // Generate block using description-based approach\n        console.log(`Generating block for: ${sectionName}`);\n        const block = await generateBlockFromDescriptionWithClaude(\n          screenshot,\n          sectionDescription,\n          sectionName,\n          url,\n          liveImages,\n          anthropicConfig\n        );\n\n        return block;\n      } finally {\n        await browser.close();\n      }\n    } catch (error) {\n      lastError = error as Error;\n      const errorMsg = lastError.message || '';\n\n      if (errorMsg.includes('429') || errorMsg.includes('Rate limit')) {\n        const delay = Math.pow(2, attempt) * 2000;\n        console.log(`Rate limited, retrying in ${delay}ms (attempt ${attempt + 1}/${maxRetries})`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n        continue;\n      }\n\n      console.error('Description-based generation failed:', error);\n      return undefined;\n    }\n  }\n\n  console.error('Generation failed after retries:', lastError);\n  return undefined;\n}\n\n/**\n * Use Claude to find and generate block from description\n */\nasync function generateBlockFromDescriptionWithClaude(\n  screenshotBase64: string,\n  sectionDescription: string,\n  sectionName: string,\n  baseUrl: string,\n  liveImages: ExtractedImage[],\n  config: AnthropicConfig\n): Promise<EnhancedBlockCode> {\n  const imageList = liveImages.length > 0\n    ? `\\n\\nAVAILABLE IMAGES FROM PAGE:\\n${liveImages.map(img => `- ${img.src} (${img.role})`).join('\\n')}`\n    : '';\n\n  const prompt = `Look at this webpage screenshot. Find the section matching this description:\n\nSECTION NAME: ${sectionName}\nDESCRIPTION: ${sectionDescription}\n\nGenerate an AEM Edge Delivery Services (EDS) block that recreates this specific section.\n\n## EDS Block Requirements\n\nHTML structure:\n\\`\\`\\`html\n<div class=\"{block-name} block\">\n  <div><!-- row 1 -->\n    <div><!-- cell 1 --></div>\n    <div><!-- cell 2 --></div>\n  </div>\n</div>\n\\`\\`\\`\n\nThe JS decoration function transforms this into the final rendered structure.\n${imageList}\n\n## Critical Instructions\n\n1. **Find the section** in the screenshot that matches the description\n2. **Match the visual design EXACTLY** - colors, fonts, layout, spacing\n3. **Use REAL image URLs** from the AVAILABLE IMAGES list above - NEVER use placeholder or invented URLs\n4. **Extract actual text content** visible in that section\n5. **Generate working CSS** that recreates the exact appearance\n6. **Generate JS decoration** that transforms the EDS markup into the rendered HTML\n\n## Return Format\n\nReturn JSON:\n{\n  \"blockName\": \"descriptive-block-name\",\n  \"componentType\": \"hero|cards|columns|etc\",\n  \"html\": \"<!-- EDS block markup with actual content and real image URLs -->\",\n  \"css\": \"/* Complete CSS to match the visual design */\",\n  \"js\": \"/* ES module: export default function decorate(block) { ... } */\"\n}\n\nReturn ONLY the JSON object.`;\n\n  const response = await callClaudeForGeneration(screenshotBase64, prompt, config, 8192);\n\n  try {\n    let jsonStr: string | null = null;\n    const codeBlockMatch = response.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n    if (codeBlockMatch) {\n      jsonStr = codeBlockMatch[1].trim();\n    } else {\n      const jsonMatch = response.match(/\\{[\\s\\S]*\"blockName\"[\\s\\S]*\\}/);\n      if (jsonMatch) jsonStr = jsonMatch[0];\n    }\n\n    if (!jsonStr) throw new Error('No JSON found in response');\n\n    const parsed = JSON.parse(jsonStr);\n\n    return {\n      blockName: parsed.blockName || 'generated-block',\n      componentType: parsed.componentType || 'content',\n      html: parsed.html || '',\n      css: parsed.css || '',\n      js: parsed.js || '',\n      description: {\n        componentType: parsed.componentType || 'content',\n        structure: { layout: '', contentHierarchy: [] },\n        design: { colorScheme: '', textStyle: '', spacing: '' },\n        contentElements: { headings: [], paragraphs: [], images: [], ctas: [] },\n      },\n    };\n  } catch (e) {\n    console.error('Failed to parse generation response:', response.substring(0, 500));\n    throw new Error('Failed to parse generation response');\n  }\n}\n\n/**\n * Call Claude API for generation\n */\nasync function callClaudeForGeneration(\n  imageBase64: string,\n  prompt: string,\n  config: AnthropicConfig,\n  maxTokens: number = 4096\n): Promise<string> {\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: maxTokens,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'image', source: { type: 'base64', media_type: 'image/png', data: imageBase64 } },\n              { type: 'text', text: prompt },\n            ],\n          },\n        ],\n      }),\n    });\n  } else if (config.apiKey) {\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: maxTokens,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'image', source: { type: 'base64', media_type: 'image/png', data: imageBase64 } },\n              { type: 'text', text: prompt },\n            ],\n          },\n        ],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  return textContent.text;\n}\n\n/**\n * Enhanced block generation using the describe-first approach:\n * 1. Extract computed CSS styles from the live page\n * 2. Describe component (structure, design)\n * 3. Extract content guided by description\n * 4. Generate code with full context including real CSS values\n */\nasync function generateBlockFromScreenshotEnhanced(\n  url: string,\n  selector: string,\n  elementHtml: string,\n  env: Env,\n  maxRetries: number = 3\n): Promise<EnhancedBlockCode | undefined> {\n  const anthropicConfig = getAnthropicConfig(env);\n  if (!anthropicConfig || !env.BROWSER) {\n    return undefined;\n  }\n\n  let lastError: Error | undefined;\n\n  for (let attempt = 0; attempt < maxRetries; attempt++) {\n    try {\n      const browser = await puppeteer.launch(env.BROWSER);\n      try {\n        // Create a page to reuse for multiple operations\n        const page = await browser.newPage();\n        await page.setViewport({ width: 1440, height: 900 });\n        await page.goto(url, { waitUntil: 'networkidle0', timeout: 30000 });\n\n        console.log(`Capturing screenshot for selector: ${selector}`);\n        await page.waitForSelector(selector, { timeout: 10000 });\n        const element = await page.$(selector);\n        if (!element) {\n          throw new Error(`Element not found: ${selector}`);\n        }\n        const screenshotBuffer = await element.screenshot({ type: 'png', encoding: 'base64' });\n        const boundingBox = await element.boundingBox();\n        const screenshot = screenshotBuffer as string;\n        console.log(`Screenshot captured: ${boundingBox?.width}x${boundingBox?.height}, base64 length: ${screenshot.length}`);\n\n        // Extract live images from the rendered page (includes lazy-loaded and CSS background images)\n        let liveImages: ExtractedImage[] = [];\n        try {\n          console.log('Extracting live images from rendered page...');\n          liveImages = await extractLiveImages(page, selector, url);\n          console.log(`Found ${liveImages.length} live images`);\n        } catch (imgError) {\n          console.warn('Live image extraction failed:', imgError);\n        }\n\n        // Extract computed styles from the live page\n        let extractedCssStyles: string | undefined;\n        try {\n          console.log('Extracting computed CSS styles...');\n          const styles = await extractComputedStyles(browser, url, selector);\n          extractedCssStyles = formatStylesForPrompt(styles);\n          console.log(`Extracted styles for: container, ${styles.cards.length} cards, ${styles.headings.length} headings`);\n        } catch (styleError) {\n          console.warn('Style extraction failed, continuing without:', styleError);\n        }\n\n        await page.close();\n\n        const generatedBlock = await generateBlockEnhanced(screenshot, elementHtml, url, anthropicConfig, extractedCssStyles, liveImages);\n        return generatedBlock;\n      } finally {\n        await browser.close();\n      }\n    } catch (error) {\n      lastError = error as Error;\n      const errorMsg = lastError.message || '';\n\n      // Check if it's a rate limit error (429)\n      if (errorMsg.includes('429') || errorMsg.includes('Rate limit')) {\n        const delay = Math.pow(2, attempt) * 2000; // 2s, 4s, 8s\n        console.log(`Browser rate limited, retrying in ${delay}ms (attempt ${attempt + 1}/${maxRetries})`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n        continue;\n      }\n\n      // For other errors, don't retry\n      console.error('Enhanced block generation failed:', error);\n      return undefined;\n    }\n  }\n\n  console.error('Enhanced block generation failed after retries:', lastError);\n  return undefined;\n}\n\n/**\n * Legacy: Capture screenshot and generate complete block code using Claude Vision\n * Includes retry logic for Browser Rendering rate limits\n */\nasync function generateBlockFromScreenshot(\n  url: string,\n  selector: string,\n  extracted: ReturnType<typeof extractContent>,\n  env: Env,\n  maxRetries: number = 3\n): Promise<GeneratedBlockCode | undefined> {\n  const anthropicConfig = getAnthropicConfig(env);\n  if (!anthropicConfig || !env.BROWSER) {\n    return undefined;\n  }\n\n  let lastError: Error | undefined;\n\n  for (let attempt = 0; attempt < maxRetries; attempt++) {\n    try {\n      const browser = await puppeteer.launch(env.BROWSER);\n      try {\n        const { screenshot } = await captureElementScreenshot(browser, url, selector);\n        const generatedBlock = await generateBlockCode(screenshot, extracted, anthropicConfig);\n        return generatedBlock;\n      } finally {\n        await browser.close();\n      }\n    } catch (error) {\n      lastError = error as Error;\n      const errorMsg = lastError.message || '';\n\n      // Check if it's a rate limit error (429)\n      if (errorMsg.includes('429') || errorMsg.includes('Rate limit')) {\n        const delay = Math.pow(2, attempt) * 2000; // 2s, 4s, 8s\n        console.log(`Browser rate limited, retrying in ${delay}ms (attempt ${attempt + 1}/${maxRetries})`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n        continue;\n      }\n\n      // For other errors, don't retry\n      console.error('Block code generation failed:', error);\n      return undefined;\n    }\n  }\n\n  console.error('Block code generation failed after retries:', lastError);\n  return undefined;\n}\n\n/**\n * Generate block from bounding box coordinates (new simplified approach)\n * 1. Navigate to page\n * 2. Capture screenshot of bounding box region\n * 3. Extract HTML from that region\n * 4. Generate block code\n */\nasync function generateBlockFromBoundingBox(\n  url: string,\n  bbox: BoundingBox,\n  env: Env\n): Promise<EnhancedBlockCode | undefined> {\n  const anthropicConfig = getAnthropicConfig(env);\n  if (!anthropicConfig || !env.BROWSER) {\n    return undefined;\n  }\n\n  try {\n    const browser = await puppeteer.launch(env.BROWSER);\n    try {\n      const page = await browser.newPage();\n      await page.setViewport({ width: 1440, height: 900 });\n      await page.goto(url, { waitUntil: 'networkidle0', timeout: 30000 });\n\n      // Capture screenshot of just the bounding box region\n      console.log(`Capturing screenshot for bbox: ${bbox.x},${bbox.y} ${bbox.width}x${bbox.height}`);\n      const screenshotBuffer = await page.screenshot({\n        clip: {\n          x: bbox.x,\n          y: bbox.y,\n          width: bbox.width,\n          height: bbox.height,\n        },\n        type: 'png',\n      }) as Buffer;\n      const screenshot = screenshotBuffer.toString('base64');\n      console.log(`Screenshot captured: ${bbox.width}x${bbox.height}, base64 length: ${screenshot.length}`);\n\n      // Extract HTML from the bounding box region\n      const html = await page.evaluate((box: BoundingBox) => {\n        // Find element at center of bounding box\n        const centerX = box.x + box.width / 2;\n        const centerY = box.y + box.height / 2;\n\n        // Scroll to position\n        window.scrollTo(0, Math.max(0, box.y - 100));\n\n        const element = document.elementFromPoint(\n          centerX - window.scrollX,\n          Math.min(centerY - window.scrollY + 100, window.innerHeight - 10)\n        );\n\n        if (!element) return null;\n\n        // Walk up to find best container\n        let current: Element | null = element;\n        let best = element;\n\n        while (current && current !== document.body) {\n          const rect = current.getBoundingClientRect();\n          const elBox = {\n            x: rect.left + window.scrollX,\n            y: rect.top + window.scrollY,\n            width: rect.width,\n            height: rect.height,\n          };\n\n          // Check overlap with target box\n          const overlapX = Math.max(0, Math.min(elBox.x + elBox.width, box.x + box.width) - Math.max(elBox.x, box.x));\n          const overlapY = Math.max(0, Math.min(elBox.y + elBox.height, box.y + box.height) - Math.max(elBox.y, box.y));\n          const overlapRatio = (overlapX * overlapY) / (box.width * box.height);\n\n          if (overlapRatio > 0.6) {\n            best = current;\n          }\n\n          if (elBox.width > box.width * 2 || elBox.height > box.height * 2) break;\n          current = current.parentElement;\n        }\n\n        return best.outerHTML;\n      }, bbox);\n\n      if (!html) {\n        console.error('Could not extract HTML from bounding box');\n        return undefined;\n      }\n\n      console.log(`Extracted ${html.length} chars of HTML`);\n\n      // Generate block using enhanced generator\n      const generatedBlock = await generateBlockEnhanced(screenshot, html, url, anthropicConfig);\n      return generatedBlock;\n    } finally {\n      await browser.close();\n    }\n  } catch (error) {\n    console.error('Bounding box generation failed:', error);\n    return undefined;\n  }\n}\n\n/**\n * Handles the page analysis request - identifies blocks on a page\n * Uses visual-first approach (like identify-page-structure skill):\n * 1. Take full page screenshot\n * 2. Claude identifies visual sections with Y-boundaries\n * 3. Map Y-boundaries to DOM elements\n */\nasync function handleAnalyze(request: Request, env: Env): Promise<Response> {\n  try {\n    const contentType = request.headers.get('content-type') || '';\n\n    if (!contentType.includes('application/json')) {\n      return Response.json(\n        { success: false, error: 'Content-Type must be application/json', code: 'INVALID_REQUEST' },\n        { status: 400, headers: corsHeaders(env) }\n      );\n    }\n\n    const body = await request.json() as { url?: string };\n    const url = body?.url;\n\n    if (typeof url !== 'string' || !url.trim()) {\n      return Response.json(\n        { success: false, error: 'Missing or invalid \"url\" field', code: 'INVALID_REQUEST' },\n        { status: 400, headers: corsHeaders(env) }\n      );\n    }\n\n    // Check if Browser Rendering is available\n    if (!env.BROWSER) {\n      return Response.json(\n        { success: false, error: 'Browser Rendering not configured', code: 'CONFIG_ERROR' },\n        { status: 500, headers: corsHeaders(env) }\n      );\n    }\n\n    const anthropicConfig = getAnthropicConfig(env);\n\n    if (!anthropicConfig) {\n      return Response.json(\n        { success: false, error: 'Claude API not configured - required for block detection', code: 'CONFIG_ERROR' },\n        { status: 500, headers: corsHeaders(env) }\n      );\n    }\n\n    // Visual-first detection (like identify-page-structure skill):\n    // 1. Take full-page screenshot\n    // 2. Claude identifies visual sections with descriptions\n    // No CSS selectors - generator will use descriptions to locate sections\n    let browser;\n    try {\n      browser = await puppeteer.launch(env.BROWSER);\n      const page = await browser.newPage();\n      const result = await analyzePage(page, url.trim(), anthropicConfig);\n\n      // Return sections with descriptions only - generator will use description to find section\n      return Response.json(\n        {\n          success: true,\n          url: url.trim(),\n          title: result.title,\n          blocks: result.sections.map(s => ({\n            index: s.index,\n            name: s.name,\n            description: s.description,\n            type: s.type,\n            priority: s.priority,\n            style: s.style,\n          })),\n          screenshot: result.screenshot,\n          pageWidth: result.pageWidth,\n          pageHeight: result.pageHeight,\n        },\n        { status: 200, headers: corsHeaders(env) }\n      );\n    } finally {\n      if (browser) await browser.close();\n    }\n  } catch (error) {\n    console.error('Page analysis failed:', error);\n    const message = error instanceof Error ? error.message : 'Unknown error';\n    return Response.json(\n      { success: false, error: message, code: 'ANALYSIS_ERROR' },\n      { status: 500, headers: corsHeaders(env) }\n    );\n  }\n}\n\n/**\n * Infer a basic block name from detected content\n */\nfunction inferBlockName(block: DetectedBlock): string {\n  if (block.classes.some(c => c.includes('hero') || c.includes('banner'))) {\n    return 'Hero Section';\n  }\n  if (block.classes.some(c => c.includes('carousel') || c.includes('slider'))) {\n    return 'Carousel';\n  }\n  if (block.classes.some(c => c.includes('card'))) {\n    return 'Cards Section';\n  }\n  if (block.hasImages && block.hasHeadings) {\n    return 'Content Section';\n  }\n  if (block.hasImages) {\n    return 'Media Section';\n  }\n  if (block.hasHeadings) {\n    return 'Text Section';\n  }\n  return 'Content Block';\n}\n\n/**\n * Infer block type from detected content\n */\nfunction inferBlockType(block: DetectedBlock): NamedBlock['type'] {\n  const classStr = block.classes.join(' ').toLowerCase();\n  if (classStr.includes('hero') || classStr.includes('banner')) return 'hero';\n  if (classStr.includes('carousel') || classStr.includes('slider')) return 'carousel';\n  if (classStr.includes('card')) return 'cards';\n  if (classStr.includes('column') || classStr.includes('grid')) return 'columns';\n  if (classStr.includes('tab')) return 'tabs';\n  if (classStr.includes('accordion') || classStr.includes('faq')) return 'accordion';\n  if (classStr.includes('form')) return 'form';\n  return 'content';\n}\n\n/**\n * Handles the block generation request\n * Supports both bounding box (new) and selector (legacy) approaches\n */\nasync function handleGenerate(request: Request, env: Env): Promise<Response> {\n  try {\n    const body = await parseRequestBody(request);\n\n    let blockName: string;\n    let blockHtml: string;\n    let blockJs: string;\n    let blockCss: string;\n    let componentType: string | undefined;\n\n    // NEW: Bounding box approach (preferred)\n    if (body.boundingBox) {\n      console.log('Using bounding box approach');\n      const enhancedBlock = await generateBlockFromBoundingBox(body.url, body.boundingBox, env);\n\n      if (!enhancedBlock) {\n        return Response.json(\n          { success: false, error: 'Block generation failed', code: 'GENERATION_FAILED' },\n          { status: 500, headers: corsHeaders(env) }\n        );\n      }\n\n      blockName = enhancedBlock.blockName;\n      blockHtml = enhancedBlock.html;\n      blockJs = enhancedBlock.js;\n      blockCss = enhancedBlock.css;\n      componentType = enhancedBlock.componentType;\n    }\n    // LEGACY: Selector approach\n    else if (body.selector) {\n      console.log('Using selector approach (legacy)');\n      const html = await fetchPage(body.url);\n      const document = parseHTMLDocument(html);\n      const element = getElement(document, body.selector);\n\n      let combinedHtml = element.outerHTML;\n      if (body.siblingSelectors && body.siblingSelectors.length > 0) {\n        const siblingHtmlParts: string[] = [];\n        for (const sibSel of body.siblingSelectors) {\n          try {\n            const sibEl = getElement(document, sibSel);\n            siblingHtmlParts.push(sibEl.innerHTML);\n          } catch (e) {\n            console.log(`Could not get sibling element: ${sibSel}`);\n          }\n        }\n        if (siblingHtmlParts.length > 0) {\n          combinedHtml = `<div class=\"merged-content\">${element.innerHTML}${siblingHtmlParts.join('')}</div>`;\n        }\n      }\n\n      const extracted = extractContent(combinedHtml, body.url);\n      const enhancedBlock = await generateBlockFromScreenshotEnhanced(body.url, body.selector, combinedHtml, env);\n\n      if (enhancedBlock) {\n        blockName = enhancedBlock.blockName;\n        blockHtml = enhancedBlock.html;\n        blockJs = enhancedBlock.js;\n        blockCss = enhancedBlock.css;\n        componentType = enhancedBlock.componentType;\n      } else {\n        const legacyBlock = await generateBlockFromScreenshot(body.url, body.selector, extracted, env);\n        if (legacyBlock) {\n          blockName = legacyBlock.blockName;\n          blockHtml = legacyBlock.html;\n          blockJs = legacyBlock.js;\n          blockCss = legacyBlock.css;\n        } else {\n          const block = buildBlock(extracted);\n          blockName = block.blockName;\n          blockHtml = block.html;\n          blockJs = block.js;\n          blockCss = block.css;\n        }\n      }\n    } else {\n      return Response.json(\n        { success: false, error: 'Either boundingBox or selector is required', code: 'INVALID_REQUEST' },\n        { status: 400, headers: corsHeaders(env) }\n      );\n    }\n\n    const response: BlockResponse = {\n      success: true,\n      blockName,\n      layoutPattern: componentType as any || 'unknown',\n      html: blockHtml,\n      js: blockJs,\n      css: blockCss,\n      metadata: {\n        elementCount: 0,\n        hasImages: true,\n        hasHeadings: true,\n        hasLinks: true,\n        rowCount: 1,\n        columnCount: 1,\n      },\n    };\n\n    return Response.json(response, { status: 200, headers: corsHeaders(env) });\n  } catch (error) {\n    return handleError(error, env);\n  }\n}\n\n/**\n * Handles the preview request - returns a full HTML page\n * Supports both bounding box (new) and selector (legacy) approaches\n */\nasync function handlePreview(request: Request, env: Env): Promise<Response> {\n  try {\n    const body = await parseRequestBody(request);\n\n    let blockName: string;\n    let blockHTML: string;\n    let blockJS: string;\n    let blockCSS: string;\n    let componentType: string | undefined;\n\n    // NEW: Description-based approach (from /analyze)\n    if (body.sectionDescription && body.sectionName) {\n      console.log(`Preview: Using description-based approach for \"${body.sectionName}\"`);\n      const enhancedBlock = await generateBlockFromDescription(body.url, body.sectionDescription, body.sectionName, env);\n\n      if (!enhancedBlock) {\n        return Response.json(\n          { success: false, error: 'Block generation failed', code: 'GENERATION_FAILED' },\n          { status: 500, headers: corsHeaders(env) }\n        );\n      }\n\n      blockName = enhancedBlock.blockName;\n      blockHTML = enhancedBlock.html;\n      blockJS = enhancedBlock.js;\n      blockCSS = enhancedBlock.css;\n      componentType = enhancedBlock.componentType;\n    }\n    // Bounding box approach\n    else if (body.boundingBox) {\n      console.log('Preview: Using bounding box approach');\n      const enhancedBlock = await generateBlockFromBoundingBox(body.url, body.boundingBox, env);\n\n      if (!enhancedBlock) {\n        return Response.json(\n          { success: false, error: 'Block generation failed', code: 'GENERATION_FAILED' },\n          { status: 500, headers: corsHeaders(env) }\n        );\n      }\n\n      blockName = enhancedBlock.blockName;\n      blockHTML = enhancedBlock.html;\n      blockJS = enhancedBlock.js;\n      blockCSS = enhancedBlock.css;\n      componentType = enhancedBlock.componentType;\n    }\n    // LEGACY: Selector approach\n    else if (body.selector) {\n      console.log('Preview: Using selector approach (legacy)');\n      const html = await fetchPage(body.url);\n      const document = parseHTMLDocument(html);\n      const element = getElement(document, body.selector);\n\n      let combinedHtml = element.outerHTML;\n      if (body.siblingSelectors && body.siblingSelectors.length > 0) {\n        const siblingHtmlParts: string[] = [];\n        for (const sibSel of body.siblingSelectors) {\n          try {\n            const sibEl = getElement(document, sibSel);\n            siblingHtmlParts.push(sibEl.innerHTML);\n          } catch (e) {\n            console.log(`Could not get sibling element: ${sibSel}`);\n          }\n        }\n        if (siblingHtmlParts.length > 0) {\n          combinedHtml = `<div class=\"merged-content\">${element.innerHTML}${siblingHtmlParts.join('')}</div>`;\n        }\n      }\n\n      const extracted = extractContent(combinedHtml, body.url);\n      const enhancedBlock = await generateBlockFromScreenshotEnhanced(body.url, body.selector, combinedHtml, env);\n\n      if (enhancedBlock) {\n        blockName = enhancedBlock.blockName;\n        blockHTML = enhancedBlock.html;\n        blockJS = enhancedBlock.js;\n        blockCSS = enhancedBlock.css;\n        componentType = enhancedBlock.componentType;\n      } else {\n        const legacyBlock = await generateBlockFromScreenshot(body.url, body.selector, extracted, env);\n        if (legacyBlock) {\n          blockName = legacyBlock.blockName;\n          blockHTML = legacyBlock.html;\n          blockJS = legacyBlock.js;\n          blockCSS = legacyBlock.css;\n        } else {\n          const block = buildBlock(extracted);\n          blockName = block.blockName;\n          blockHTML = block.html;\n          blockJS = block.js;\n          blockCSS = block.css;\n        }\n      }\n    } else {\n      return Response.json(\n        { success: false, error: 'sectionDescription+sectionName, boundingBox, or selector is required', code: 'INVALID_REQUEST' },\n        { status: 400, headers: corsHeaders(env) }\n      );\n    }\n\n    const previewHTML = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Block Preview: ${blockName}</title>\n  <style>\n    /* Reset and base styles */\n    *, *::before, *::after {\n      box-sizing: border-box;\n    }\n\n    :root {\n      --background-color: #fff;\n      --light-color: #f8f8f8;\n      --dark-color: #505050;\n      --text-color: #131313;\n      --link-color: #3b63fb;\n      --link-hover-color: #1d3ecf;\n      --heading-font-size-xxl: 48px;\n      --heading-font-size-xl: 40px;\n      --heading-font-size-l: 32px;\n      --heading-font-size-m: 24px;\n      --heading-font-size-s: 20px;\n      --body-font-size-m: 18px;\n      --body-font-size-s: 16px;\n    }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      margin: 0;\n      padding: 20px;\n      background: #f5f5f5;\n      color: var(--text-color);\n      line-height: 1.5;\n    }\n\n    .preview-header {\n      background: #fff;\n      padding: 20px;\n      margin: -20px -20px 20px;\n      border-bottom: 1px solid #ddd;\n    }\n\n    .preview-header h1 {\n      margin: 0 0 8px;\n      font-size: 24px;\n    }\n\n    .preview-header .meta {\n      color: #666;\n      font-size: 14px;\n    }\n\n    .preview-header code {\n      background: #f0f0f0;\n      padding: 2px 6px;\n      border-radius: 4px;\n      font-size: 13px;\n    }\n\n    .preview-container {\n      background: #fff;\n      border-radius: 8px;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      overflow: hidden;\n    }\n\n    .preview-content {\n      padding: 0 20px;\n    }\n\n    /* Generated block CSS */\n    ${blockCSS}\n  </style>\n</head>\n<body>\n  <div class=\"preview-header\">\n    <h1>Block Preview</h1>\n    <p class=\"meta\">\n      Block: <code>${blockName}</code> |\n      Pattern: <code>${componentType || 'unknown'}</code> |\n      Source: <code>${body.url}</code>\n    </p>\n  </div>\n\n  <div class=\"preview-container\">\n    <div class=\"preview-content\">\n      ${blockHTML}\n    </div>\n  </div>\n\n  <script type=\"module\">\n    // Simulated aem.js utilities\n    function createOptimizedPicture(src, alt = '', eager = false, breakpoints = [{ width: '750' }]) {\n      const picture = document.createElement('picture');\n      breakpoints.forEach((bp, i) => {\n        const source = document.createElement('source');\n        source.type = 'image/webp';\n        source.srcset = src;\n        if (bp.media) source.media = bp.media;\n        picture.appendChild(source);\n      });\n      const img = document.createElement('img');\n      img.src = src;\n      img.alt = alt;\n      img.loading = eager ? 'eager' : 'lazy';\n      picture.appendChild(img);\n      return picture;\n    }\n\n    // Make it available globally for the block script\n    window.createOptimizedPicture = createOptimizedPicture;\n\n    // Block decoration function\n    ${blockJS.replace(/import\\s*{[^}]*}\\s*from\\s*['\"][^'\"]*['\"];?\\s*/g, '')}\n\n    // Run decoration\n    const blockEl = document.querySelector('.${blockName}');\n    if (blockEl && typeof decorate === 'function') {\n      decorate(blockEl);\n    }\n  </script>\n</body>\n</html>`;\n\n    return new Response(previewHTML, {\n      status: 200,\n      headers: {\n        'Content-Type': 'text/html; charset=utf-8',\n        'Access-Control-Allow-Origin': env.ALLOWED_ORIGINS || '*',\n      },\n    });\n  } catch (error) {\n    // Return JSON errors so API clients can parse them\n    if (error instanceof BlockGeneratorError) {\n      return Response.json(\n        { success: false, error: error.message, code: error.code },\n        { status: error.statusCode, headers: corsHeaders(env) }\n      );\n    }\n    return Response.json(\n      { success: false, error: 'An unexpected error occurred', code: 'INTERNAL_ERROR' },\n      { status: 500, headers: corsHeaders(env) }\n    );\n  }\n}\n\n/**\n * Returns the test UI HTML page\n */\nfunction handleTestUI(env: Env): Response {\n  const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>EDS Block Generator</title>\n  <style>\n    * { box-sizing: border-box; }\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      max-width: 800px;\n      margin: 0 auto;\n      padding: 40px 20px;\n      background: #f5f5f5;\n    }\n    h1 { margin: 0 0 8px; }\n    .subtitle { color: #666; margin: 0 0 32px; }\n    .form-group { margin-bottom: 20px; }\n    label { display: block; font-weight: 600; margin-bottom: 8px; }\n    input[type=\"text\"] {\n      width: 100%;\n      padding: 12px;\n      font-size: 16px;\n      border: 1px solid #ccc;\n      border-radius: 6px;\n    }\n    input[type=\"text\"]:focus {\n      outline: none;\n      border-color: #3b63fb;\n      box-shadow: 0 0 0 3px rgba(59, 99, 251, 0.1);\n    }\n    .buttons { display: flex; gap: 12px; margin-top: 24px; }\n    button {\n      padding: 12px 24px;\n      font-size: 16px;\n      font-weight: 600;\n      border: none;\n      border-radius: 6px;\n      cursor: pointer;\n      transition: background-color 0.2s;\n    }\n    .btn-primary {\n      background: #3b63fb;\n      color: white;\n    }\n    .btn-primary:hover { background: #1d3ecf; }\n    .btn-secondary {\n      background: #e0e0e0;\n      color: #333;\n    }\n    .btn-secondary:hover { background: #d0d0d0; }\n    .hint {\n      font-size: 13px;\n      color: #888;\n      margin-top: 6px;\n    }\n    .loading {\n      display: none;\n      color: #666;\n      margin-top: 20px;\n    }\n    .error {\n      background: #fee;\n      border: 1px solid #fcc;\n      color: #c00;\n      padding: 12px;\n      border-radius: 6px;\n      margin-top: 20px;\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <h1>EDS Block Generator</h1>\n  <p class=\"subtitle\">Generate AEM Edge Delivery Services blocks from any webpage</p>\n\n  <form id=\"generateForm\">\n    <div class=\"form-group\">\n      <label for=\"url\">Page URL</label>\n      <input type=\"text\" id=\"url\" name=\"url\" placeholder=\"https://example.com\" required>\n      <p class=\"hint\">The webpage to extract content from</p>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"selector\">CSS Selector</label>\n      <input type=\"text\" id=\"selector\" name=\"selector\" placeholder=\".hero, #main-content, article\" required>\n      <p class=\"hint\">CSS selector for the content block to convert</p>\n    </div>\n\n    <div class=\"buttons\">\n      <button type=\"submit\" class=\"btn-primary\" id=\"previewBtn\">Preview in Browser</button>\n      <button type=\"button\" class=\"btn-secondary\" id=\"jsonBtn\">Get JSON</button>\n    </div>\n  </form>\n\n  <p class=\"loading\" id=\"loading\">Generating block...</p>\n  <div class=\"error\" id=\"error\"></div>\n\n  <script>\n    const form = document.getElementById('generateForm');\n    const loading = document.getElementById('loading');\n    const error = document.getElementById('error');\n\n    form.addEventListener('submit', async (e) => {\n      e.preventDefault();\n      await makeRequest('/preview', true);\n    });\n\n    document.getElementById('jsonBtn').addEventListener('click', async () => {\n      await makeRequest('/generate', false);\n    });\n\n    async function makeRequest(endpoint, openInNewTab) {\n      const url = document.getElementById('url').value;\n      const selector = document.getElementById('selector').value;\n\n      loading.style.display = 'block';\n      error.style.display = 'none';\n\n      try {\n        const response = await fetch(endpoint, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ url, selector })\n        });\n\n        if (endpoint === '/preview') {\n          const html = await response.text();\n          if (!response.ok) {\n            throw new Error('Failed to generate preview');\n          }\n          const newWindow = window.open('', '_blank');\n          if (!newWindow) {\n            throw new Error('Popup blocked. Please allow popups for this site.');\n          }\n          newWindow.document.write(html);\n          newWindow.document.close();\n        } else {\n          const json = await response.json();\n          if (json.success) {\n            const newWindow = window.open('', '_blank');\n            if (!newWindow) {\n              throw new Error('Popup blocked. Please allow popups for this site.');\n            }\n            newWindow.document.write('<pre>' + JSON.stringify(json, null, 2) + '</pre>');\n            newWindow.document.close();\n          } else {\n            throw new Error(json.error);\n          }\n        }\n      } catch (err) {\n        error.textContent = err.message;\n        error.style.display = 'block';\n      } finally {\n        loading.style.display = 'none';\n      }\n    }\n  </script>\n</body>\n</html>`;\n\n  return new Response(html, {\n    status: 200,\n    headers: { 'Content-Type': 'text/html; charset=utf-8' },\n  });\n}\n\n/**\n * Debug endpoint to view visual section analysis results\n * Shows Claude's visual section identification with Y-boundaries and CSS selectors\n */\nasync function handleDebugBboxes(request: Request, env: Env): Promise<Response> {\n  try {\n    const body = await request.json() as { url?: string };\n    const url = body?.url;\n\n    if (typeof url !== 'string' || !url.trim()) {\n      return Response.json(\n        { success: false, error: 'Missing or invalid \"url\" field', code: 'INVALID_REQUEST' },\n        { status: 400, headers: corsHeaders(env) }\n      );\n    }\n\n    if (!env.BROWSER) {\n      return Response.json(\n        { success: false, error: 'Browser Rendering not configured', code: 'CONFIG_ERROR' },\n        { status: 500, headers: corsHeaders(env) }\n      );\n    }\n\n    const anthropicConfig = getAnthropicConfig(env);\n    if (!anthropicConfig) {\n      return Response.json(\n        { success: false, error: 'Claude API not configured', code: 'CONFIG_ERROR' },\n        { status: 500, headers: corsHeaders(env) }\n      );\n    }\n\n    const browser = await puppeteer.launch(env.BROWSER);\n    try {\n      const page = await browser.newPage();\n\n      // Use visual-first section analysis (like identify-page-structure skill)\n      const result = await analyzePage(page, url.trim(), anthropicConfig);\n\n      const colors = ['#e63946', '#2a9d8f', '#e9c46a', '#264653', '#f4a261', '#9b5de5'];\n\n      // Return HTML page showing sections (description-based, no coordinates)\n      const html = `<!DOCTYPE html>\n<html>\n<head>\n  <title>Visual Section Analysis: ${url}</title>\n  <style>\n    body { font-family: system-ui; padding: 20px; background: #f5f5f5; }\n    h1 { margin-bottom: 8px; }\n    .url { color: #666; margin-bottom: 20px; font-size: 14px; word-break: break-all; }\n    .page-info { background: #fff; padding: 16px; margin-bottom: 20px; border-radius: 8px; }\n    .screenshot-container { position: relative; display: inline-block; margin-bottom: 30px; }\n    .screenshot-container img { max-width: 100%; border: 2px solid #333; }\n    .blocks-section { margin-top: 30px; }\n    .section-card { background: #fff; border-radius: 8px; padding: 16px; margin-bottom: 16px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }\n    .section-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }\n    .section-name { font-size: 18px; font-weight: 600; margin: 0; }\n    .section-badges { display: flex; gap: 8px; flex-wrap: wrap; }\n    .badge { padding: 4px 10px; border-radius: 4px; font-size: 12px; }\n    .badge.type { background: #e0e0e0; }\n    .badge.style { background: #17a2b8; color: white; }\n    .badge.high { background: #dc3545; color: white; }\n    .badge.medium { background: #ffc107; color: #333; }\n    .badge.low { background: #6c757d; color: white; }\n    .section-desc { color: #333; font-size: 14px; line-height: 1.5; background: #f9f9f9; padding: 12px; border-radius: 6px; border-left: 4px solid #17a2b8; }\n  </style>\n</head>\n<body>\n  <h1>Visual Section Analysis</h1>\n  <p class=\"url\">${url}</p>\n\n  <div class=\"page-info\">\n    <strong>Page Dimensions:</strong> ${result.pageWidth}px \u00D7 ${result.pageHeight}px<br>\n    <strong>Sections Identified:</strong> ${result.sections.length}<br>\n    <strong>Method:</strong> Description-based (Claude identifies sections by visual description)\n  </div>\n\n  <h2>Full Page Screenshot</h2>\n  <div class=\"screenshot-container\">\n    <img src=\"data:image/png;base64,${result.screenshot}\" />\n  </div>\n\n  <div class=\"blocks-section\">\n    <h2>Identified Sections (${result.sections.length})</h2>\n    ${result.sections.map((s, i) => `\n      <div class=\"section-card\">\n        <div class=\"section-header\">\n          <h3 class=\"section-name\">${i + 1}. ${s.name}</h3>\n          <div class=\"section-badges\">\n            <span class=\"badge type\">${s.type}</span>\n            <span class=\"badge style\">${s.style}</span>\n            <span class=\"badge ${s.priority}\">${s.priority}</span>\n          </div>\n        </div>\n        <p class=\"section-desc\">${s.description}</p>\n      </div>\n    `).join('')}\n  </div>\n</body>\n</html>`;\n\n      return new Response(html, {\n        status: 200,\n        headers: { 'Content-Type': 'text/html; charset=utf-8' },\n      });\n    } finally {\n      await browser.close();\n    }\n  } catch (error) {\n    console.error('Debug visual analysis failed:', error);\n    const message = error instanceof Error ? error.message : 'Unknown error';\n    return Response.json(\n      { success: false, error: message, code: 'DEBUG_ERROR' },\n      { status: 500, headers: corsHeaders(env) }\n    );\n  }\n}\n\n/**\n * Batch generation UI for multiple blocks\n */\nfunction handleBatchUI(env: Env): Response {\n  const html = `<!DOCTYPE html>\n<html>\n<head>\n  <title>Batch Block Generator</title>\n  <style>\n    body { font-family: system-ui; padding: 40px; max-width: 900px; margin: 0 auto; background: #f5f5f5; }\n    h1 { margin-bottom: 8px; }\n    .subtitle { color: #666; margin-bottom: 24px; }\n    .url-input { margin-bottom: 16px; display: flex; gap: 12px; }\n    .url-input input { flex: 1; padding: 12px; font-size: 16px; border: 1px solid #ccc; border-radius: 6px; }\n    #analyzeBtn { padding: 12px 24px; font-size: 16px; background: #6c757d; color: white; border: none; border-radius: 6px; cursor: pointer; }\n    #analyzeBtn:hover { background: #5a6268; }\n    #analyzeBtn:disabled { background: #ccc; cursor: not-allowed; }\n    .block-item { padding: 16px; margin: 8px 0; background: #fff; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }\n    .block-item.loading { background: #fff3cd; }\n    .block-item.success { background: #d4edda; }\n    .block-item.error { background: #f8d7da; }\n    .block-item.analyzing { background: #cce5ff; }\n    .block-info { flex: 1; }\n    .block-info strong { display: block; margin-bottom: 4px; }\n    .selector { font-family: monospace; font-size: 12px; color: #666; }\n    .description { font-size: 13px; color: #555; margin-top: 4px; }\n    .badge { display: inline-block; padding: 2px 8px; font-size: 11px; border-radius: 4px; margin-left: 8px; }\n    .badge.high { background: #dc3545; color: white; }\n    .badge.medium { background: #ffc107; color: #333; }\n    .badge.low { background: #6c757d; color: white; }\n    .siblings { font-size: 12px; color: #28a745; font-weight: 500; margin-top: 2px; }\n    .status { font-weight: 600; min-width: 100px; text-align: right; }\n    button { padding: 8px 16px; cursor: pointer; }\n    #startAll { font-size: 18px; padding: 14px 28px; background: #3b63fb; color: white; border: none; border-radius: 6px; margin-bottom: 24px; }\n    #startAll:hover { background: #1d3ecf; }\n    #startAll:disabled { background: #ccc; cursor: not-allowed; }\n    .note { font-size: 13px; color: #888; margin-top: 20px; }\n    .analyzing-msg { padding: 20px; text-align: center; color: #666; }\n    #blocksContainer { margin-bottom: 24px; }\n  </style>\n</head>\n<body>\n  <h1>Batch Block Generator</h1>\n  <p class=\"subtitle\">Analyze any webpage to identify blocks, then generate them using Claude Vision</p>\n\n  <div class=\"url-input\">\n    <input type=\"text\" id=\"pageUrl\" value=\"https://www.virginatlanticcargo.com/gb/en.html\" placeholder=\"Page URL\">\n    <button id=\"analyzeBtn\">Analyze Page</button>\n  </div>\n\n  <div id=\"blocksContainer\">\n    <div class=\"analyzing-msg\">Enter a URL and click \"Analyze Page\" to identify content blocks</div>\n  </div>\n\n  <button id=\"startAll\" style=\"display: none;\">Generate All Blocks</button>\n  <div id=\"blocks\"></div>\n  <p class=\"note\" id=\"noteText\" style=\"display: none;\">All blocks run in parallel (Workers Paid: 30 concurrent browsers). ~20-40 seconds total.</p>\n\n  <script>\n    let identifiedBlocks = [];\n    const blocksContainer = document.getElementById('blocksContainer');\n    const blocksDiv = document.getElementById('blocks');\n    const startAllBtn = document.getElementById('startAll');\n    const noteText = document.getElementById('noteText');\n\n    // Analyze page to identify blocks\n    document.getElementById('analyzeBtn').onclick = async () => {\n      const pageUrl = document.getElementById('pageUrl').value;\n      const analyzeBtn = document.getElementById('analyzeBtn');\n\n      analyzeBtn.disabled = true;\n      analyzeBtn.textContent = 'Analyzing...';\n      blocksContainer.innerHTML = '<div class=\"analyzing-msg\">Analyzing page structure with Claude...</div>';\n      startAllBtn.style.display = 'none';\n      noteText.style.display = 'none';\n      blocksDiv.innerHTML = '';\n\n      try {\n        const response = await fetch('/analyze', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ url: pageUrl })\n        });\n\n        const result = await response.json();\n\n        if (!result.success) {\n          throw new Error(result.error || 'Analysis failed');\n        }\n\n        identifiedBlocks = result.blocks || [];\n\n        if (identifiedBlocks.length === 0) {\n          blocksContainer.innerHTML = '<div class=\"analyzing-msg\">No content blocks identified on this page</div>';\n          return;\n        }\n\n        // Show identified blocks\n        blocksContainer.innerHTML = '<h3>Identified Blocks (' + identifiedBlocks.length + ')</h3>';\n\n        identifiedBlocks.forEach((block, i) => {\n          const div = document.createElement('div');\n          div.className = 'block-item';\n          div.id = 'block-' + i;\n          div.innerHTML = \\`\n            <div class=\"block-info\">\n              <strong>\\${block.name} <span class=\"badge \\${block.priority}\">\\${block.priority}</span> <span class=\"badge type\">\\${block.type}</span></strong>\n              <div class=\"description\">\\${block.description}</div>\n              <span class=\"selector\" style=\"color: #17a2b8;\">style: \\${block.style}</span>\n            </div>\n            <span class=\"status\">Ready</span>\n          \\`;\n          blocksContainer.appendChild(div);\n        });\n\n        startAllBtn.style.display = 'block';\n        noteText.style.display = 'block';\n\n      } catch (err) {\n        blocksContainer.innerHTML = '<div class=\"block-item error\"><div>' + err.message + '</div></div>';\n      } finally {\n        analyzeBtn.disabled = false;\n        analyzeBtn.textContent = 'Analyze Page';\n      }\n    };\n\n    // Concurrency limiter\n    async function runWithConcurrency(tasks, limit) {\n      const results = [];\n      const executing = [];\n\n      for (const task of tasks) {\n        const p = task().then(r => {\n          executing.splice(executing.indexOf(p), 1);\n          return r;\n        });\n        results.push(p);\n        executing.push(p);\n\n        if (executing.length >= limit) {\n          await Promise.race(executing);\n        }\n      }\n\n      return Promise.all(results);\n    }\n\n    // Generate all identified blocks\n    startAllBtn.onclick = async () => {\n      const pageUrl = document.getElementById('pageUrl').value;\n      startAllBtn.disabled = true;\n\n      // Create task functions for each block\n      const tasks = identifiedBlocks.map((block, i) => async () => {\n        const div = document.getElementById('block-' + i);\n        div.className = 'block-item loading';\n        div.querySelector('.status').textContent = 'Generating...';\n\n        try {\n          const requestBody = {\n            url: pageUrl,\n            sectionDescription: block.description,\n            sectionName: block.name\n          };\n          const response = await fetch('/preview', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(requestBody)\n          });\n\n          if (!response.ok) {\n            const err = await response.json().catch(() => ({ error: 'Unknown error' }));\n            throw new Error(err.error || 'Generation failed');\n          }\n\n          const html = await response.text();\n          div.className = 'block-item success';\n          div.querySelector('.status').textContent = 'Opening...';\n\n          const newWindow = window.open('', '_blank');\n          if (newWindow) {\n            newWindow.document.write(html);\n            newWindow.document.close();\n            div.querySelector('.status').textContent = 'Done!';\n          } else {\n            div.querySelector('.status').textContent = 'Done (popup blocked)';\n          }\n        } catch (err) {\n          div.className = 'block-item error';\n          div.querySelector('.status').textContent = err.message;\n        }\n      });\n\n      // Run with max 10 concurrent browser sessions\n      await runWithConcurrency(tasks, 10);\n      startAllBtn.disabled = false;\n    };\n  </script>\n</body>\n</html>`;\n\n  return new Response(html, {\n    status: 200,\n    headers: { 'Content-Type': 'text/html; charset=utf-8' },\n  });\n}\n\n/**\n * Parses and validates the request body\n * Supports both boundingBox (new) and selector (legacy)\n */\nasync function parseRequestBody(request: Request): Promise<BlockRequest> {\n  const contentType = request.headers.get('content-type') || '';\n\n  if (!contentType.includes('application/json')) {\n    throw new BlockGeneratorError(\n      'Content-Type must be application/json',\n      'INVALID_REQUEST'\n    );\n  }\n\n  let body: unknown;\n  try {\n    body = await request.json();\n  } catch {\n    throw new BlockGeneratorError(\n      'Invalid JSON in request body',\n      'INVALID_REQUEST'\n    );\n  }\n\n  if (!body || typeof body !== 'object') {\n    throw new BlockGeneratorError(\n      'Request body must be an object',\n      'INVALID_REQUEST'\n    );\n  }\n\n  const { url, selector, boundingBox, siblingSelectors, sectionDescription, sectionName } = body as Record<string, unknown>;\n\n  if (typeof url !== 'string' || !url.trim()) {\n    throw new BlockGeneratorError(\n      'Missing or invalid \"url\" field',\n      'INVALID_REQUEST'\n    );\n  }\n\n  // Parse description-based approach (from /analyze)\n  let parsedSectionDescription: string | undefined;\n  let parsedSectionName: string | undefined;\n  if (typeof sectionDescription === 'string' && sectionDescription.trim() &&\n      typeof sectionName === 'string' && sectionName.trim()) {\n    parsedSectionDescription = sectionDescription.trim();\n    parsedSectionName = sectionName.trim();\n  }\n\n  // Parse bounding box if provided (new approach)\n  let parsedBbox: { x: number; y: number; width: number; height: number } | undefined;\n  if (boundingBox && typeof boundingBox === 'object') {\n    const bbox = boundingBox as Record<string, unknown>;\n    if (typeof bbox.x === 'number' && typeof bbox.y === 'number' &&\n        typeof bbox.width === 'number' && typeof bbox.height === 'number') {\n      parsedBbox = {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height,\n      };\n    }\n  }\n\n  // Parse selector if provided (legacy approach)\n  let parsedSelector: string | undefined;\n  if (typeof selector === 'string' && selector.trim()) {\n    parsedSelector = selector.trim();\n  }\n\n  // Require either sectionDescription+sectionName, boundingBox, or selector\n  if (!parsedSectionDescription && !parsedBbox && !parsedSelector) {\n    throw new BlockGeneratorError(\n      'Either \"sectionDescription\"+\"sectionName\", \"boundingBox\", or \"selector\" is required',\n      'INVALID_REQUEST'\n    );\n  }\n\n  // Parse sibling selectors if provided (legacy)\n  let parsedSiblings: string[] | undefined;\n  if (Array.isArray(siblingSelectors)) {\n    parsedSiblings = siblingSelectors.filter(s => typeof s === 'string' && s.trim()).map(s => (s as string).trim());\n    if (parsedSiblings.length === 0) parsedSiblings = undefined;\n  }\n\n  return {\n    url: url.trim(),\n    selector: parsedSelector,\n    boundingBox: parsedBbox,\n    siblingSelectors: parsedSiblings,\n    sectionDescription: parsedSectionDescription,\n    sectionName: parsedSectionName,\n  };\n}\n\n/**\n * Handles errors and returns appropriate response\n */\nfunction handleError(error: unknown, env: Env): Response {\n  if (error instanceof BlockGeneratorError) {\n    const response: ErrorResponse = {\n      success: false,\n      error: error.message,\n      code: error.code,\n    };\n\n    return Response.json(response, {\n      status: error.statusCode,\n      headers: corsHeaders(env),\n    });\n  }\n\n  // Unknown error\n  console.error('Unexpected error:', error);\n\n  const response: ErrorResponse = {\n    success: false,\n    error: 'An unexpected error occurred',\n    code: 'INTERNAL_ERROR',\n  };\n\n  return Response.json(response, {\n    status: 500,\n    headers: corsHeaders(env),\n  });\n}\n\n/**\n * Returns CORS headers\n */\nfunction corsHeaders(env: Env): HeadersInit {\n  return {\n    'Access-Control-Allow-Origin': env.ALLOWED_ORIGINS || '*',\n    'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n    'Access-Control-Allow-Headers': 'Content-Type',\n    'Content-Type': 'application/json',\n  };\n}\n\n/**\n * Handles CORS preflight requests\n */\nfunction handleCORS(env: Env): Response {\n  return new Response(null, {\n    status: 204,\n    headers: {\n      'Access-Control-Allow-Origin': env.ALLOWED_ORIGINS || '*',\n      'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n      'Access-Control-Allow-Headers': 'Content-Type',\n      'Access-Control-Max-Age': '86400',\n    },\n  });\n}\n", "// Bounding box for block region\nexport interface BoundingBox {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n// Request/Response types\nexport interface BlockRequest {\n  url: string;\n  /** CSS selector (legacy) */\n  selector?: string;\n  /** Bounding box coordinates (legacy) */\n  boundingBox?: BoundingBox;\n  /** Additional sibling selectors to merge content from (legacy) */\n  siblingSelectors?: string[];\n  /** Section description from visual analysis (preferred) */\n  sectionDescription?: string;\n  /** Section name from visual analysis (preferred) */\n  sectionName?: string;\n}\n\nexport interface BlockResponse {\n  success: true;\n  blockName: string;\n  layoutPattern: LayoutPattern;\n  html: string;\n  js: string;\n  css: string;\n  metadata: BlockMetadata;\n}\n\nexport interface ErrorResponse {\n  success: false;\n  error: string;\n  code: ErrorCode;\n}\n\nexport interface BlockMetadata {\n  elementCount: number;\n  hasImages: boolean;\n  hasHeadings: boolean;\n  hasLinks: boolean;\n  rowCount: number;\n  columnCount: number;\n}\n\n// Layout analysis types\nexport type LayoutPattern =\n  | 'grid'\n  | 'columns'\n  | 'hero'\n  | 'media-text'\n  | 'list'\n  | 'accordion'\n  | 'text-only'\n  | 'single-image'\n  | 'tabs'\n  | 'cards'\n  | 'carousel'\n  | 'text'\n  | 'unknown';\n\nexport type ChildSignature =\n  | 'image'\n  | 'heading'\n  | 'text'\n  | 'link'\n  | 'list'\n  | 'container'\n  | 'media'\n  | 'mixed';\n\nexport interface LayoutAnalysis {\n  pattern: LayoutPattern;\n  blockName: string;\n  structure: LayoutStructure;\n}\n\nexport interface LayoutStructure {\n  rowCount: number;\n  columnCount: number;\n  hasImages: boolean;\n  hasHeadings: boolean;\n  hasLinks: boolean;\n  hasList: boolean;\n  childSignatures: ChildSignature[];\n  isRepeating: boolean;\n}\n\n// Extracted content types\nexport interface ExtractedContent {\n  outerHTML: string;\n  innerHTML: string;\n  tagName: string;\n  className: string;\n  childCount: number;\n}\n\n// EDS block structure types\nexport interface EDSRow {\n  cells: EDSCell[];\n}\n\nexport interface EDSCell {\n  content: string;\n  isImage: boolean;\n}\n\n// Error codes\nexport type ErrorCode =\n  | 'INVALID_REQUEST'\n  | 'INVALID_URL'\n  | 'FETCH_FAILED'\n  | 'SELECTOR_NOT_FOUND'\n  | 'PARSE_ERROR'\n  | 'ANALYSIS_FAILED'\n  | 'GENERATION_FAILED'\n  | 'INTERNAL_ERROR';\n\n// Custom error class\nexport class BlockGeneratorError extends Error {\n  constructor(\n    message: string,\n    public code: ErrorCode,\n    public statusCode: number = 400\n  ) {\n    super(message);\n    this.name = 'BlockGeneratorError';\n  }\n}\n\n// Environment bindings\nexport interface Env {\n  ALLOWED_ORIGINS: string;\n  // Anthropic API (direct)\n  ANTHROPIC_API_KEY?: string;\n  // Anthropic via AWS Bedrock\n  ANTHROPIC_USE_BEDROCK?: string;\n  ANTHROPIC_AWS_BEARER_TOKEN_BEDROCK?: string;\n  ANTHROPIC_AWS_REGION?: string;\n  ANTHROPIC_MODEL?: string;\n  // Cloudflare Browser Rendering\n  BROWSER?: Fetcher;\n}\n", "import { BlockGeneratorError } from './types';\n\n/**\n * Fetches HTML content from a URL\n */\nexport async function fetchPage(url: string): Promise<string> {\n  // Validate URL format\n  let parsedUrl: URL;\n  try {\n    parsedUrl = new URL(url);\n  } catch {\n    throw new BlockGeneratorError(\n      `Invalid URL format: ${url}`,\n      'INVALID_URL'\n    );\n  }\n\n  // Only allow http/https protocols\n  if (!['http:', 'https:'].includes(parsedUrl.protocol)) {\n    throw new BlockGeneratorError(\n      `Invalid protocol: ${parsedUrl.protocol}. Only http and https are allowed.`,\n      'INVALID_URL'\n    );\n  }\n\n  try {\n    const response = await fetch(url, {\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8',\n        'Accept-Language': 'en-US,en;q=0.9',\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Cache-Control': 'no-cache',\n        'Sec-Fetch-Dest': 'document',\n        'Sec-Fetch-Mode': 'navigate',\n        'Sec-Fetch-Site': 'none',\n        'Sec-Fetch-User': '?1',\n        'Upgrade-Insecure-Requests': '1',\n      },\n      cf: {\n        // Cache for 5 minutes to avoid repeated fetches\n        cacheTtl: 300,\n        cacheEverything: false,\n      },\n    });\n\n    if (!response.ok) {\n      throw new BlockGeneratorError(\n        `Failed to fetch URL: HTTP ${response.status} ${response.statusText}`,\n        'FETCH_FAILED',\n        502\n      );\n    }\n\n    const contentType = response.headers.get('content-type') || '';\n    if (!contentType.includes('text/html') && !contentType.includes('application/xhtml')) {\n      throw new BlockGeneratorError(\n        `URL did not return HTML content. Content-Type: ${contentType}`,\n        'FETCH_FAILED'\n      );\n    }\n\n    return await response.text();\n  } catch (error) {\n    if (error instanceof BlockGeneratorError) {\n      throw error;\n    }\n\n    throw new BlockGeneratorError(\n      `Network error fetching URL: ${error instanceof Error ? error.message : 'Unknown error'}`,\n      'FETCH_FAILED',\n      502\n    );\n  }\n}\n", "import { parseHTML } from 'linkedom';\nimport { BlockGeneratorError, ExtractedContent } from './types';\n\n/**\n * Parses HTML and extracts content matching the CSS selector\n */\nexport function extractContent(html: string, selector: string): ExtractedContent {\n  let document;\n\n  try {\n    const parsed = parseHTML(html);\n    document = parsed.document;\n  } catch (error) {\n    throw new BlockGeneratorError(\n      `Failed to parse HTML: ${error instanceof Error ? error.message : 'Unknown error'}`,\n      'PARSE_ERROR'\n    );\n  }\n\n  const element = document.querySelector(selector);\n\n  if (!element) {\n    throw new BlockGeneratorError(\n      `Selector \"${selector}\" did not match any elements`,\n      'SELECTOR_NOT_FOUND'\n    );\n  }\n\n  return {\n    outerHTML: element.outerHTML,\n    innerHTML: element.innerHTML,\n    tagName: element.tagName.toLowerCase(),\n    className: element.className || '',\n    childCount: element.children.length,\n  };\n}\n\n/**\n * Parses HTML string and returns the document for further analysis\n */\nexport function parseHTMLDocument(html: string) {\n  try {\n    const { document } = parseHTML(html);\n    return document;\n  } catch (error) {\n    throw new BlockGeneratorError(\n      `Failed to parse HTML: ${error instanceof Error ? error.message : 'Unknown error'}`,\n      'PARSE_ERROR'\n    );\n  }\n}\n\n/**\n * Gets an element from a document by selector\n */\nexport function getElement(document: Document, selector: string): Element {\n  const element = document.querySelector(selector);\n\n  if (!element) {\n    throw new BlockGeneratorError(\n      `Selector \"${selector}\" did not match any elements`,\n      'SELECTOR_NOT_FOUND'\n    );\n  }\n\n  return element;\n}\n", "import {DOMParser} from './dom/parser.js';\nimport {Document as _Document} from './interface/document.js';\n\nimport {illegalConstructor} from './shared/facades.js';\nimport {setPrototypeOf} from './shared/object.js';\nexport {parseJSON, toJSON} from './shared/parse-json.js';\n\nexport * from './shared/facades.js';\nexport * from './shared/html-classes.js';\n\nexport {DOMParser};\n\nexport {CustomEvent} from './interface/custom-event.js';\nexport {Event} from './interface/event.js';\nexport {EventTarget} from './interface/event-target.js';\nexport {InputEvent} from './interface/input-event.js';\nexport {NodeList} from './interface/node-list.js';\nexport {NodeFilter} from './interface/node-filter.js';\n\nexport const parseHTML = (html, globals = null) => (new DOMParser).parseFromString(\n  html, 'text/html', globals\n).defaultView;\n\nexport function Document() {\n  illegalConstructor();\n}\n\nsetPrototypeOf(Document, _Document).prototype = _Document.prototype;\n", "import {DOM_PARSER, GLOBALS} from '../shared/symbols.js';\nimport {parseFromString} from '../shared/parse-from-string.js';\n\nimport {HTMLDocument} from '../html/document.js';\nimport {SVGDocument} from '../svg/document.js';\nimport {XMLDocument} from '../xml/document.js';\n\n/**\n * @implements globalThis.DOMParser\n */\nexport class DOMParser {\n\n  /** @typedef {{ \"text/html\": HTMLDocument, \"image/svg+xml\": SVGDocument, \"text/xml\": XMLDocument }} MimeToDoc */\n  /**\n   * @template {keyof MimeToDoc} MIME\n   * @param {string} markupLanguage\n   * @param {MIME} mimeType\n   * @returns {MimeToDoc[MIME]}\n   */\n  parseFromString(markupLanguage, mimeType, globals = null) {\n    let isHTML = false, document;\n    if (mimeType === 'text/html') {\n      isHTML = true;\n      document = new HTMLDocument;\n    }\n    else if (mimeType === 'image/svg+xml')\n      document = new SVGDocument;\n    else\n      document = new XMLDocument;\n    document[DOM_PARSER] = DOMParser;\n    if (globals)\n      document[GLOBALS] = globals;\n    if (isHTML && markupLanguage === '...')\n      markupLanguage = '<!doctype html><html><head></head><body></body></html>';\n    return markupLanguage ?\n            parseFromString(document, isHTML, markupLanguage) :\n            document;\n  }\n}\n", "// used in Attr to signal changes\nexport const CHANGED = Symbol('changed');\n\n// used in Element to setup once classList\nexport const CLASS_LIST = Symbol('classList');\n\n// used in Document to attach once customElements\nexport const CUSTOM_ELEMENTS = Symbol('CustomElements');\n\n// used in HTMLTemplateElement\nexport const CONTENT = Symbol('content');\n\n// used in Element for data attributes\nexport const DATASET = Symbol('dataset');\n\n// used in Document to attach the DocType\nexport const DOCTYPE = Symbol('doctype');\n\n// used in parser and Document to attach once a DOMParser\nexport const DOM_PARSER = Symbol('DOMParser');\n\n// used to reference an end node\nexport const END = Symbol('end');\n\n// used in Document to make the globalThis an event target\nexport const EVENT_TARGET = Symbol('EventTarget');\n\n// used to augment a created document defaultView\nexport const GLOBALS = Symbol('globals');\n\n// used in both Canvas and Document to provide images\nexport const IMAGE = Symbol('image');\n\n// used to define Document mime type\nexport const MIME = Symbol('mime');\n\n// used in Document to attach once MutationObserver\nexport const MUTATION_OBSERVER = Symbol('MutationObserver');\n\n// used to define next node reference\nexport const NEXT = Symbol('next');\n\n// used to define Attr owner elements\nexport const OWNER_ELEMENT = Symbol('ownerElement');\n\n// used to define previous node reference\nexport const PREV = Symbol('prev');\n\n// used to define various \"private\" properties\nexport const PRIVATE = Symbol('private');\n\n// used to define the CSSStyleSheet.sheet\nexport const SHEET = Symbol('sheet');\n\n// used to define start node reference\nexport const START = Symbol('start');\n\n// used to define special CSS style attribute\nexport const STYLE = Symbol('style');\n\n// used to upgrade Custom Elements\nexport const UPGRADE = Symbol('upgrade');\n\n// used to define generic values\nexport const VALUE = Symbol('value');\n", "import * as HTMLParser2 from 'htmlparser2';\n\nimport {ELEMENT_NODE, SVG_NAMESPACE} from './constants.js';\nimport {CUSTOM_ELEMENTS, PREV, END, VALUE} from './symbols.js';\nimport {keys} from './object.js';\n\nimport {knownBoundaries, knownSiblings} from './utils.js';\nimport {attributeChangedCallback, connectedCallback} from '../interface/custom-element-registry.js';\n\nconst {Parser} = HTMLParser2;\n\n// import {Mime} from './mime.js';\n// const VOID_SOURCE = Mime['text/html'].voidElements.source.slice(4, -2);\n// const VOID_ELEMENTS = new RegExp(`<(${VOID_SOURCE})([^>]*?)>`, 'gi');\n// const VOID_SANITIZER = (_, $1, $2) => `<${$1}${$2}${/\\/$/.test($2) ? '' : ' /'}>`;\n// const voidSanitizer = html => html.replace(VOID_ELEMENTS, VOID_SANITIZER);\n\nlet notParsing = true;\n\nconst append = (self, node, active) => {\n  const end = self[END];\n  node.parentNode = self;\n  knownBoundaries(end[PREV], node, end);\n  if (active && node.nodeType === ELEMENT_NODE)\n    connectedCallback(node);\n  return node;\n};\n\nconst attribute = (element, end, attribute, value, active) => {\n  attribute[VALUE] = value;\n  attribute.ownerElement = element;\n  knownSiblings(end[PREV], attribute, end);\n  if (attribute.name === 'class')\n    element.className = value;\n  if (active)\n    attributeChangedCallback(element, attribute.name, null, value);\n};\n\nexport const isNotParsing = () => notParsing;\n\nexport const parseFromString = (document, isHTML, markupLanguage) => {\n  const {active, registry} = document[CUSTOM_ELEMENTS];\n\n  let node = document;\n  let ownerSVGElement = null;\n  let parsingCData = false;\n\n  notParsing = false;\n\n  const content = new Parser({\n    // <!DOCTYPE ...>\n    onprocessinginstruction(name, data) {\n      if (name.toLowerCase() === '!doctype')\n        document.doctype = data.slice(name.length).trim();\n    },\n\n    // <tagName>\n    onopentag(name, attributes) {\n      let create = true;\n      if (isHTML) {\n        if (ownerSVGElement) {\n          node = append(node, document.createElementNS(SVG_NAMESPACE, name), active);\n          node.ownerSVGElement = ownerSVGElement;\n          create = false;\n        }\n        else if (name === 'svg' || name === 'SVG') {\n          ownerSVGElement = document.createElementNS(SVG_NAMESPACE, name);\n          node = append(node, ownerSVGElement, active);\n          create = false;\n        }\n        else if (active) {\n          const ce = name.includes('-') ? name : (attributes.is || '');\n          if (ce && registry.has(ce)) {\n            const {Class} = registry.get(ce);\n            node = append(node, new Class, active);\n            delete attributes.is;\n            create = false;\n          }\n        }\n      }\n\n      if (create)\n        node = append(node, document.createElement(name), false);\n\n      let end = node[END];\n      for (const name of keys(attributes))\n        attribute(node, end, document.createAttribute(name), attributes[name], active);\n    },\n\n    // #text, #comment\n    oncomment(data) { append(node, document.createComment(data), active); },\n    ontext(text) {\n      if (parsingCData) {\n        append(node, document.createCDATASection(text), active);\n      } else {\n        append(node, document.createTextNode(text), active);\n      }\n    },\n\n    // #cdata\n    oncdatastart() { parsingCData = true; },\n    oncdataend() { parsingCData = false; },\n\n    // </tagName>\n    onclosetag() {\n      if (isHTML && node === ownerSVGElement)\n        ownerSVGElement = null;\n      node = node.parentNode;\n    }\n  }, {\n    lowerCaseAttributeNames: false,\n    decodeEntities: true,\n    xmlMode: !isHTML\n  });\n\n  content.write(markupLanguage);\n  content.end();\n\n  notParsing = true;\n\n  return document;\n};\n", "import { Parser, type ParserOptions } from \"./Parser.js\";\nexport type { Handler, ParserOptions } from \"./Parser.js\";\nexport { Parser } from \"./Parser.js\";\n\nimport {\n    DomHandler,\n    type DomHandlerOptions,\n    type ChildNode,\n    type Element,\n    type Document,\n} from \"domhandler\";\n\nexport {\n    DomHandler,\n    // Old name for DomHandler\n    DomHandler as DefaultHandler,\n    type DomHandlerOptions,\n} from \"domhandler\";\n\nexport type Options = ParserOptions & DomHandlerOptions;\n\n// Helper methods\n\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM handler.\n */\nexport function parseDocument(data: string, options?: Options): Document {\n    const handler = new DomHandler(undefined, options);\n    new Parser(handler, options).end(data);\n    return handler.root;\n}\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM handler.\n * @deprecated Use `parseDocument` instead.\n */\nexport function parseDOM(data: string, options?: Options): ChildNode[] {\n    return parseDocument(data, options).children;\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed, with the resulting document.\n * @param options Optional options for the parser and DOM handler.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nexport function createDocumentStream(\n    callback: (error: Error | null, document: Document) => void,\n    options?: Options,\n    elementCallback?: (element: Element) => void,\n): Parser {\n    const handler: DomHandler = new DomHandler(\n        (error: Error | null) => callback(error, handler.root),\n        options,\n        elementCallback,\n    );\n    return new Parser(handler, options);\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed, with an array of root nodes.\n * @param options Optional options for the parser and DOM handler.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n * @deprecated Use `createDocumentStream` instead.\n */\nexport function createDomStream(\n    callback: (error: Error | null, dom: ChildNode[]) => void,\n    options?: Options,\n    elementCallback?: (element: Element) => void,\n): Parser {\n    const handler = new DomHandler(callback, options, elementCallback);\n    return new Parser(handler, options);\n}\n\nexport {\n    default as Tokenizer,\n    type Callbacks as TokenizerCallbacks,\n    QuoteType,\n} from \"./Tokenizer.js\";\n\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\nexport * as ElementType from \"domelementtype\";\n\nimport { getFeed, type Feed } from \"domutils\";\n\nexport { getFeed, type Feed } from \"domutils\";\n\nconst parseFeedDefaultOptions = { xmlMode: true };\n\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this, you should set `xmlMode` to `true`.\n */\nexport function parseFeed(\n    feed: string,\n    options: Options = parseFeedDefaultOptions,\n): Feed | null {\n    return getFeed(parseDOM(feed, options));\n}\n\nexport * as DomUtils from \"domutils\";\n", "import Tokenizer, { type Callbacks, QuoteType } from \"./Tokenizer.js\";\nimport { fromCodePoint } from \"entities/decode\";\n\nconst formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nconst pTag = new Set([\"p\"]);\nconst tableSectionTags = new Set([\"thead\", \"tbody\"]);\nconst ddtTags = new Set([\"dd\", \"dt\"]);\nconst rtpTags = new Set([\"rt\", \"rp\"]);\n\nconst openImpliesClose = new Map<string, Set<string>>([\n    [\"tr\", new Set([\"tr\", \"th\", \"td\"])],\n    [\"th\", new Set([\"th\"])],\n    [\"td\", new Set([\"thead\", \"th\", \"td\"])],\n    [\"body\", new Set([\"head\", \"link\", \"script\"])],\n    [\"li\", new Set([\"li\"])],\n    [\"p\", pTag],\n    [\"h1\", pTag],\n    [\"h2\", pTag],\n    [\"h3\", pTag],\n    [\"h4\", pTag],\n    [\"h5\", pTag],\n    [\"h6\", pTag],\n    [\"select\", formTags],\n    [\"input\", formTags],\n    [\"output\", formTags],\n    [\"button\", formTags],\n    [\"datalist\", formTags],\n    [\"textarea\", formTags],\n    [\"option\", new Set([\"option\"])],\n    [\"optgroup\", new Set([\"optgroup\", \"option\"])],\n    [\"dd\", ddtTags],\n    [\"dt\", ddtTags],\n    [\"address\", pTag],\n    [\"article\", pTag],\n    [\"aside\", pTag],\n    [\"blockquote\", pTag],\n    [\"details\", pTag],\n    [\"div\", pTag],\n    [\"dl\", pTag],\n    [\"fieldset\", pTag],\n    [\"figcaption\", pTag],\n    [\"figure\", pTag],\n    [\"footer\", pTag],\n    [\"form\", pTag],\n    [\"header\", pTag],\n    [\"hr\", pTag],\n    [\"main\", pTag],\n    [\"nav\", pTag],\n    [\"ol\", pTag],\n    [\"pre\", pTag],\n    [\"section\", pTag],\n    [\"table\", pTag],\n    [\"ul\", pTag],\n    [\"rt\", rtpTags],\n    [\"rp\", rtpTags],\n    [\"tbody\", tableSectionTags],\n    [\"tfoot\", tableSectionTags],\n]);\n\nconst voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n\nconst foreignContextElements = new Set([\"math\", \"svg\"]);\n\nconst htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignobject\",\n    \"desc\",\n    \"title\",\n]);\n\nexport interface ParserOptions {\n    /**\n     * Indicates whether special tags (`<script>`, `<style>`, and `<title>`) should get special treatment\n     * and if \"empty\" tags (eg. `<br>`) can have children.  If `false`, the content of special tags\n     * will be text only. For feeds and other XML content (documents that don't consist of HTML),\n     * set this to `true`.\n     *\n     * @default false\n     */\n    xmlMode?: boolean;\n\n    /**\n     * Decode entities within the document.\n     *\n     * @default true\n     */\n    decodeEntities?: boolean;\n\n    /**\n     * If set to true, all tags will be lowercased.\n     *\n     * @default !xmlMode\n     */\n    lowerCaseTags?: boolean;\n\n    /**\n     * If set to `true`, all attribute names will be lowercased. This has noticeable impact on speed.\n     *\n     * @default !xmlMode\n     */\n    lowerCaseAttributeNames?: boolean;\n\n    /**\n     * If set to true, CDATA sections will be recognized as text even if the xmlMode option is not enabled.\n     * NOTE: If xmlMode is set to `true` then CDATA sections will always be recognized as text.\n     *\n     * @default xmlMode\n     */\n    recognizeCDATA?: boolean;\n\n    /**\n     * If set to `true`, self-closing tags will trigger the onclosetag event even if xmlMode is not set to `true`.\n     * NOTE: If xmlMode is set to `true` then self-closing tags will always be recognized.\n     *\n     * @default xmlMode\n     */\n    recognizeSelfClosing?: boolean;\n\n    /**\n     * Allows the default tokenizer to be overwritten.\n     */\n    Tokenizer?: typeof Tokenizer;\n}\n\nexport interface Handler {\n    onparserinit(parser: Parser): void;\n\n    /**\n     * Resets the handler back to starting state\n     */\n    onreset(): void;\n\n    /**\n     * Signals the handler that parsing is done\n     */\n    onend(): void;\n    onerror(error: Error): void;\n    onclosetag(name: string, isImplied: boolean): void;\n    onopentagname(name: string): void;\n    /**\n     *\n     * @param name Name of the attribute\n     * @param value Value of the attribute.\n     * @param quote Quotes used around the attribute. `null` if the attribute has no quotes around the value, `undefined` if the attribute has no value.\n     */\n    onattribute(\n        name: string,\n        value: string,\n        quote?: string | undefined | null,\n    ): void;\n    onopentag(\n        name: string,\n        attribs: { [s: string]: string },\n        isImplied: boolean,\n    ): void;\n    ontext(data: string): void;\n    oncomment(data: string): void;\n    oncdatastart(): void;\n    oncdataend(): void;\n    oncommentend(): void;\n    onprocessinginstruction(name: string, data: string): void;\n}\n\nconst reNameEnd = /\\s|\\//;\n\nexport class Parser implements Callbacks {\n    /** The start index of the last event. */\n    public startIndex = 0;\n    /** The end index of the last event. */\n    public endIndex = 0;\n    /**\n     * Store the start index of the current open tag,\n     * so we can update the start index for attributes.\n     */\n    private openTagStart = 0;\n\n    private tagname = \"\";\n    private attribname = \"\";\n    private attribvalue = \"\";\n    private attribs: null | { [key: string]: string } = null;\n    private readonly stack: string[] = [];\n    /** Determines whether self-closing tags are recognized. */\n    private readonly foreignContext: boolean[];\n    private readonly cbs: Partial<Handler>;\n    private readonly lowerCaseTagNames: boolean;\n    private readonly lowerCaseAttributeNames: boolean;\n    private readonly recognizeSelfClosing: boolean;\n    /** We are parsing HTML. Inverse of the `xmlMode` option. */\n    private readonly htmlMode: boolean;\n    private readonly tokenizer: Tokenizer;\n\n    private readonly buffers: string[] = [];\n    private bufferOffset = 0;\n    /** The index of the last written buffer. Used when resuming after a `pause()`. */\n    private writeIndex = 0;\n    /** Indicates whether the parser has finished running / `.end` has been called. */\n    private ended = false;\n\n    constructor(\n        cbs?: Partial<Handler> | null,\n        private readonly options: ParserOptions = {},\n    ) {\n        this.cbs = cbs ?? {};\n        this.htmlMode = !this.options.xmlMode;\n        this.lowerCaseTagNames = options.lowerCaseTags ?? this.htmlMode;\n        this.lowerCaseAttributeNames =\n            options.lowerCaseAttributeNames ?? this.htmlMode;\n        this.recognizeSelfClosing =\n            options.recognizeSelfClosing ?? !this.htmlMode;\n        this.tokenizer = new (options.Tokenizer ?? Tokenizer)(\n            this.options,\n            this,\n        );\n        this.foreignContext = [!this.htmlMode];\n        this.cbs.onparserinit?.(this);\n    }\n\n    // Tokenizer event handlers\n\n    /** @internal */\n    ontext(start: number, endIndex: number): void {\n        const data = this.getSlice(start, endIndex);\n        this.endIndex = endIndex - 1;\n        this.cbs.ontext?.(data);\n        this.startIndex = endIndex;\n    }\n\n    /** @internal */\n    ontextentity(cp: number, endIndex: number): void {\n        this.endIndex = endIndex - 1;\n        this.cbs.ontext?.(fromCodePoint(cp));\n        this.startIndex = endIndex;\n    }\n\n    /**\n     * Checks if the current tag is a void element. Override this if you want\n     * to specify your own additional void elements.\n     */\n    protected isVoidElement(name: string): boolean {\n        return this.htmlMode && voidElements.has(name);\n    }\n\n    /** @internal */\n    onopentagname(start: number, endIndex: number): void {\n        this.endIndex = endIndex;\n\n        let name = this.getSlice(start, endIndex);\n\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n\n        this.emitOpenTag(name);\n    }\n\n    private emitOpenTag(name: string) {\n        this.openTagStart = this.startIndex;\n        this.tagname = name;\n\n        const impliesClose = this.htmlMode && openImpliesClose.get(name);\n\n        if (impliesClose) {\n            while (this.stack.length > 0 && impliesClose.has(this.stack[0])) {\n                const element = this.stack.shift()!;\n                this.cbs.onclosetag?.(element, true);\n            }\n        }\n        if (!this.isVoidElement(name)) {\n            this.stack.unshift(name);\n\n            if (this.htmlMode) {\n                if (foreignContextElements.has(name)) {\n                    this.foreignContext.unshift(true);\n                } else if (htmlIntegrationElements.has(name)) {\n                    this.foreignContext.unshift(false);\n                }\n            }\n        }\n        this.cbs.onopentagname?.(name);\n        if (this.cbs.onopentag) this.attribs = {};\n    }\n\n    private endOpenTag(isImplied: boolean) {\n        this.startIndex = this.openTagStart;\n\n        if (this.attribs) {\n            this.cbs.onopentag?.(this.tagname, this.attribs, isImplied);\n            this.attribs = null;\n        }\n        if (this.cbs.onclosetag && this.isVoidElement(this.tagname)) {\n            this.cbs.onclosetag(this.tagname, true);\n        }\n\n        this.tagname = \"\";\n    }\n\n    /** @internal */\n    onopentagend(endIndex: number): void {\n        this.endIndex = endIndex;\n        this.endOpenTag(false);\n\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n\n    /** @internal */\n    onclosetag(start: number, endIndex: number): void {\n        this.endIndex = endIndex;\n\n        let name = this.getSlice(start, endIndex);\n\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n\n        if (\n            this.htmlMode &&\n            (foreignContextElements.has(name) ||\n                htmlIntegrationElements.has(name))\n        ) {\n            this.foreignContext.shift();\n        }\n\n        if (!this.isVoidElement(name)) {\n            const pos = this.stack.indexOf(name);\n            if (pos !== -1) {\n                for (let index = 0; index <= pos; index++) {\n                    const element = this.stack.shift()!;\n                    // We know the stack has sufficient elements.\n                    this.cbs.onclosetag?.(element, index !== pos);\n                }\n            } else if (this.htmlMode && name === \"p\") {\n                // Implicit open before close\n                this.emitOpenTag(\"p\");\n                this.closeCurrentTag(true);\n            }\n        } else if (this.htmlMode && name === \"br\") {\n            // We can't use `emitOpenTag` for implicit open, as `br` would be implicitly closed.\n            this.cbs.onopentagname?.(\"br\");\n            this.cbs.onopentag?.(\"br\", {}, true);\n            this.cbs.onclosetag?.(\"br\", false);\n        }\n\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n\n    /** @internal */\n    onselfclosingtag(endIndex: number): void {\n        this.endIndex = endIndex;\n        if (this.recognizeSelfClosing || this.foreignContext[0]) {\n            this.closeCurrentTag(false);\n\n            // Set `startIndex` for next node\n            this.startIndex = endIndex + 1;\n        } else {\n            // Ignore the fact that the tag is self-closing.\n            this.onopentagend(endIndex);\n        }\n    }\n\n    private closeCurrentTag(isOpenImplied: boolean) {\n        const name = this.tagname;\n        this.endOpenTag(isOpenImplied);\n\n        // Self-closing tags will be on the top of the stack\n        if (this.stack[0] === name) {\n            // If the opening tag isn't implied, the closing tag has to be implied.\n            this.cbs.onclosetag?.(name, !isOpenImplied);\n            this.stack.shift();\n        }\n    }\n\n    /** @internal */\n    onattribname(start: number, endIndex: number): void {\n        this.startIndex = start;\n        const name = this.getSlice(start, endIndex);\n\n        this.attribname = this.lowerCaseAttributeNames\n            ? name.toLowerCase()\n            : name;\n    }\n\n    /** @internal */\n    onattribdata(start: number, endIndex: number): void {\n        this.attribvalue += this.getSlice(start, endIndex);\n    }\n\n    /** @internal */\n    onattribentity(cp: number): void {\n        this.attribvalue += fromCodePoint(cp);\n    }\n\n    /** @internal */\n    onattribend(quote: QuoteType, endIndex: number): void {\n        this.endIndex = endIndex;\n\n        this.cbs.onattribute?.(\n            this.attribname,\n            this.attribvalue,\n            quote === QuoteType.Double\n                ? '\"'\n                : quote === QuoteType.Single\n                  ? \"'\"\n                  : quote === QuoteType.NoValue\n                    ? undefined\n                    : null,\n        );\n\n        if (\n            this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)\n        ) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribvalue = \"\";\n    }\n\n    private getInstructionName(value: string) {\n        const index = value.search(reNameEnd);\n        let name = index < 0 ? value : value.substr(0, index);\n\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n\n        return name;\n    }\n\n    /** @internal */\n    ondeclaration(start: number, endIndex: number): void {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`!${name}`, `!${value}`);\n        }\n\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n\n    /** @internal */\n    onprocessinginstruction(start: number, endIndex: number): void {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`?${name}`, `?${value}`);\n        }\n\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n\n    /** @internal */\n    oncomment(start: number, endIndex: number, offset: number): void {\n        this.endIndex = endIndex;\n\n        this.cbs.oncomment?.(this.getSlice(start, endIndex - offset));\n        this.cbs.oncommentend?.();\n\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n\n    /** @internal */\n    oncdata(start: number, endIndex: number, offset: number): void {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex - offset);\n\n        if (!this.htmlMode || this.options.recognizeCDATA) {\n            this.cbs.oncdatastart?.();\n            this.cbs.ontext?.(value);\n            this.cbs.oncdataend?.();\n        } else {\n            this.cbs.oncomment?.(`[CDATA[${value}]]`);\n            this.cbs.oncommentend?.();\n        }\n\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n\n    /** @internal */\n    onend(): void {\n        if (this.cbs.onclosetag) {\n            // Set the end index for all remaining tags\n            this.endIndex = this.startIndex;\n            for (let index = 0; index < this.stack.length; index++) {\n                this.cbs.onclosetag(this.stack[index], true);\n            }\n        }\n        this.cbs.onend?.();\n    }\n\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    public reset(): void {\n        this.cbs.onreset?.();\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack.length = 0;\n        this.startIndex = 0;\n        this.endIndex = 0;\n        this.cbs.onparserinit?.(this);\n        this.buffers.length = 0;\n        this.foreignContext.length = 0;\n        this.foreignContext.unshift(!this.htmlMode);\n        this.bufferOffset = 0;\n        this.writeIndex = 0;\n        this.ended = false;\n    }\n\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    public parseComplete(data: string): void {\n        this.reset();\n        this.end(data);\n    }\n\n    private getSlice(start: number, end: number) {\n        while (start - this.bufferOffset >= this.buffers[0].length) {\n            this.shiftBuffer();\n        }\n\n        let slice = this.buffers[0].slice(\n            start - this.bufferOffset,\n            end - this.bufferOffset,\n        );\n\n        while (end - this.bufferOffset > this.buffers[0].length) {\n            this.shiftBuffer();\n            slice += this.buffers[0].slice(0, end - this.bufferOffset);\n        }\n\n        return slice;\n    }\n\n    private shiftBuffer(): void {\n        this.bufferOffset += this.buffers[0].length;\n        this.writeIndex--;\n        this.buffers.shift();\n    }\n\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    public write(chunk: string): void {\n        if (this.ended) {\n            this.cbs.onerror?.(new Error(\".write() after done!\"));\n            return;\n        }\n\n        this.buffers.push(chunk);\n        if (this.tokenizer.running) {\n            this.tokenizer.write(chunk);\n            this.writeIndex++;\n        }\n    }\n\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    public end(chunk?: string): void {\n        if (this.ended) {\n            this.cbs.onerror?.(new Error(\".end() after done!\"));\n            return;\n        }\n\n        if (chunk) this.write(chunk);\n        this.ended = true;\n        this.tokenizer.end();\n    }\n\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    public pause(): void {\n        this.tokenizer.pause();\n    }\n\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    public resume(): void {\n        this.tokenizer.resume();\n\n        while (\n            this.tokenizer.running &&\n            this.writeIndex < this.buffers.length\n        ) {\n            this.tokenizer.write(this.buffers[this.writeIndex++]);\n        }\n\n        if (this.ended) this.tokenizer.end();\n    }\n\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    public parseChunk(chunk: string): void {\n        this.write(chunk);\n    }\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    public done(chunk?: string): void {\n        this.end(chunk);\n    }\n}\n", "import {\n    EntityDecoder,\n    DecodingMode,\n    htmlDecodeTree,\n    xmlDecodeTree,\n} from \"entities/decode\";\n\nconst enum CharCodes {\n    Tab = 0x9, // \"\\t\"\n    NewLine = 0xa, // \"\\n\"\n    FormFeed = 0xc, // \"\\f\"\n    CarriageReturn = 0xd, // \"\\r\"\n    Space = 0x20, // \" \"\n    ExclamationMark = 0x21, // \"!\"\n    Number = 0x23, // \"#\"\n    Amp = 0x26, // \"&\"\n    SingleQuote = 0x27, // \"'\"\n    DoubleQuote = 0x22, // '\"'\n    Dash = 0x2d, // \"-\"\n    Slash = 0x2f, // \"/\"\n    Zero = 0x30, // \"0\"\n    Nine = 0x39, // \"9\"\n    Semi = 0x3b, // \";\"\n    Lt = 0x3c, // \"<\"\n    Eq = 0x3d, // \"=\"\n    Gt = 0x3e, // \">\"\n    Questionmark = 0x3f, // \"?\"\n    UpperA = 0x41, // \"A\"\n    LowerA = 0x61, // \"a\"\n    UpperF = 0x46, // \"F\"\n    LowerF = 0x66, // \"f\"\n    UpperZ = 0x5a, // \"Z\"\n    LowerZ = 0x7a, // \"z\"\n    LowerX = 0x78, // \"x\"\n    OpeningSquareBracket = 0x5b, // \"[\"\n}\n\n/** All the states the tokenizer can be in. */\nconst enum State {\n    Text = 1,\n    BeforeTagName, // After <\n    InTagName,\n    InSelfClosingTag,\n    BeforeClosingTagName,\n    InClosingTagName,\n    AfterClosingTagName,\n\n    // Attributes\n    BeforeAttributeName,\n    InAttributeName,\n    AfterAttributeName,\n    BeforeAttributeValue,\n    InAttributeValueDq, // \"\n    InAttributeValueSq, // '\n    InAttributeValueNq,\n\n    // Declarations\n    BeforeDeclaration, // !\n    InDeclaration,\n\n    // Processing instructions\n    InProcessingInstruction, // ?\n\n    // Comments & CDATA\n    BeforeComment,\n    CDATASequence,\n    InSpecialComment,\n    InCommentLike,\n\n    // Special tags\n    BeforeSpecialS, // Decide if we deal with `<script` or `<style`\n    BeforeSpecialT, // Decide if we deal with `<title` or `<textarea`\n    SpecialStartSequence,\n    InSpecialTag,\n\n    InEntity,\n}\n\nfunction isWhitespace(c: number): boolean {\n    return (\n        c === CharCodes.Space ||\n        c === CharCodes.NewLine ||\n        c === CharCodes.Tab ||\n        c === CharCodes.FormFeed ||\n        c === CharCodes.CarriageReturn\n    );\n}\n\nfunction isEndOfTagSection(c: number): boolean {\n    return c === CharCodes.Slash || c === CharCodes.Gt || isWhitespace(c);\n}\n\nfunction isASCIIAlpha(c: number): boolean {\n    return (\n        (c >= CharCodes.LowerA && c <= CharCodes.LowerZ) ||\n        (c >= CharCodes.UpperA && c <= CharCodes.UpperZ)\n    );\n}\n\nexport enum QuoteType {\n    NoValue = 0,\n    Unquoted = 1,\n    Single = 2,\n    Double = 3,\n}\n\nexport interface Callbacks {\n    onattribdata(start: number, endIndex: number): void;\n    onattribentity(codepoint: number): void;\n    onattribend(quote: QuoteType, endIndex: number): void;\n    onattribname(start: number, endIndex: number): void;\n    oncdata(start: number, endIndex: number, endOffset: number): void;\n    onclosetag(start: number, endIndex: number): void;\n    oncomment(start: number, endIndex: number, endOffset: number): void;\n    ondeclaration(start: number, endIndex: number): void;\n    onend(): void;\n    onopentagend(endIndex: number): void;\n    onopentagname(start: number, endIndex: number): void;\n    onprocessinginstruction(start: number, endIndex: number): void;\n    onselfclosingtag(endIndex: number): void;\n    ontext(start: number, endIndex: number): void;\n    ontextentity(codepoint: number, endIndex: number): void;\n}\n\n/**\n * Sequences used to match longer strings.\n *\n * We don't have `Script`, `Style`, or `Title` here. Instead, we re-use the *End\n * sequences with an increased offset.\n */\nconst Sequences = {\n    Cdata: new Uint8Array([0x43, 0x44, 0x41, 0x54, 0x41, 0x5b]), // CDATA[\n    CdataEnd: new Uint8Array([0x5d, 0x5d, 0x3e]), // ]]>\n    CommentEnd: new Uint8Array([0x2d, 0x2d, 0x3e]), // `-->`\n    ScriptEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74]), // `</script`\n    StyleEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x74, 0x79, 0x6c, 0x65]), // `</style`\n    TitleEnd: new Uint8Array([0x3c, 0x2f, 0x74, 0x69, 0x74, 0x6c, 0x65]), // `</title`\n    TextareaEnd: new Uint8Array([\n        0x3c, 0x2f, 0x74, 0x65, 0x78, 0x74, 0x61, 0x72, 0x65, 0x61,\n    ]), // `</textarea`\n    XmpEnd: new Uint8Array([0x3c, 0x2f, 0x78, 0x6d, 0x70]), // `</xmp`\n};\n\nexport default class Tokenizer {\n    /** The current state the tokenizer is in. */\n    private state = State.Text;\n    /** The read buffer. */\n    private buffer = \"\";\n    /** The beginning of the section that is currently being read. */\n    private sectionStart = 0;\n    /** The index within the buffer that we are currently looking at. */\n    private index = 0;\n    /** The start of the last entity. */\n    private entityStart = 0;\n    /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n    private baseState = State.Text;\n    /** For special parsing behavior inside of script and style tags. */\n    private isSpecial = false;\n    /** Indicates whether the tokenizer has been paused. */\n    public running = true;\n    /** The offset of the current buffer. */\n    private offset = 0;\n\n    private readonly xmlMode: boolean;\n    private readonly decodeEntities: boolean;\n    private readonly entityDecoder: EntityDecoder;\n\n    constructor(\n        {\n            xmlMode = false,\n            decodeEntities = true,\n        }: { xmlMode?: boolean; decodeEntities?: boolean },\n        private readonly cbs: Callbacks,\n    ) {\n        this.xmlMode = xmlMode;\n        this.decodeEntities = decodeEntities;\n        this.entityDecoder = new EntityDecoder(\n            xmlMode ? xmlDecodeTree : htmlDecodeTree,\n            (cp, consumed) => this.emitCodePoint(cp, consumed),\n        );\n    }\n\n    public reset(): void {\n        this.state = State.Text;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this.index = 0;\n        this.baseState = State.Text;\n        this.currentSequence = undefined!;\n        this.running = true;\n        this.offset = 0;\n    }\n\n    public write(chunk: string): void {\n        this.offset += this.buffer.length;\n        this.buffer = chunk;\n        this.parse();\n    }\n\n    public end(): void {\n        if (this.running) this.finish();\n    }\n\n    public pause(): void {\n        this.running = false;\n    }\n\n    public resume(): void {\n        this.running = true;\n        if (this.index < this.buffer.length + this.offset) {\n            this.parse();\n        }\n    }\n\n    private stateText(c: number): void {\n        if (\n            c === CharCodes.Lt ||\n            (!this.decodeEntities && this.fastForwardTo(CharCodes.Lt))\n        ) {\n            if (this.index > this.sectionStart) {\n                this.cbs.ontext(this.sectionStart, this.index);\n            }\n            this.state = State.BeforeTagName;\n            this.sectionStart = this.index;\n        } else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n\n    private currentSequence: Uint8Array = undefined!;\n    private sequenceIndex = 0;\n    private stateSpecialStartSequence(c: number): void {\n        const isEnd = this.sequenceIndex === this.currentSequence.length;\n        const isMatch = isEnd\n            ? // If we are at the end of the sequence, make sure the tag name has ended\n              isEndOfTagSection(c)\n            : // Otherwise, do a case-insensitive comparison\n              (c | 0x20) === this.currentSequence[this.sequenceIndex];\n\n        if (!isMatch) {\n            this.isSpecial = false;\n        } else if (!isEnd) {\n            this.sequenceIndex++;\n            return;\n        }\n\n        this.sequenceIndex = 0;\n        this.state = State.InTagName;\n        this.stateInTagName(c);\n    }\n\n    /** Look for an end tag. For <title> tags, also decode entities. */\n    private stateInSpecialTag(c: number): void {\n        if (this.sequenceIndex === this.currentSequence.length) {\n            if (c === CharCodes.Gt || isWhitespace(c)) {\n                const endOfText = this.index - this.currentSequence.length;\n\n                if (this.sectionStart < endOfText) {\n                    // Spoof the index so that reported locations match up.\n                    const actualIndex = this.index;\n                    this.index = endOfText;\n                    this.cbs.ontext(this.sectionStart, endOfText);\n                    this.index = actualIndex;\n                }\n\n                this.isSpecial = false;\n                this.sectionStart = endOfText + 2; // Skip over the `</`\n                this.stateInClosingTagName(c);\n                return; // We are done; skip the rest of the function.\n            }\n\n            this.sequenceIndex = 0;\n        }\n\n        if ((c | 0x20) === this.currentSequence[this.sequenceIndex]) {\n            this.sequenceIndex += 1;\n        } else if (this.sequenceIndex === 0) {\n            if (this.currentSequence === Sequences.TitleEnd) {\n                // We have to parse entities in <title> tags.\n                if (this.decodeEntities && c === CharCodes.Amp) {\n                    this.startEntity();\n                }\n            } else if (this.fastForwardTo(CharCodes.Lt)) {\n                // Outside of <title> tags, we can fast-forward.\n                this.sequenceIndex = 1;\n            }\n        } else {\n            // If we see a `<`, set the sequence index to 1; useful for eg. `<</script>`.\n            this.sequenceIndex = Number(c === CharCodes.Lt);\n        }\n    }\n\n    private stateCDATASequence(c: number): void {\n        if (c === Sequences.Cdata[this.sequenceIndex]) {\n            if (++this.sequenceIndex === Sequences.Cdata.length) {\n                this.state = State.InCommentLike;\n                this.currentSequence = Sequences.CdataEnd;\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n            }\n        } else {\n            this.sequenceIndex = 0;\n            this.state = State.InDeclaration;\n            this.stateInDeclaration(c); // Reconsume the character\n        }\n    }\n\n    /**\n     * When we wait for one specific character, we can speed things up\n     * by skipping through the buffer until we find it.\n     *\n     * @returns Whether the character was found.\n     */\n    private fastForwardTo(c: number): boolean {\n        while (++this.index < this.buffer.length + this.offset) {\n            if (this.buffer.charCodeAt(this.index - this.offset) === c) {\n                return true;\n            }\n        }\n\n        /*\n         * We increment the index at the end of the `parse` loop,\n         * so set it to `buffer.length - 1` here.\n         *\n         * TODO: Refactor `parse` to increment index before calling states.\n         */\n        this.index = this.buffer.length + this.offset - 1;\n\n        return false;\n    }\n\n    /**\n     * Comments and CDATA end with `-->` and `]]>`.\n     *\n     * Their common qualities are:\n     * - Their end sequences have a distinct character they start with.\n     * - That character is then repeated, so we have to check multiple repeats.\n     * - All characters but the start character of the sequence can be skipped.\n     */\n    private stateInCommentLike(c: number): void {\n        if (c === this.currentSequence[this.sequenceIndex]) {\n            if (++this.sequenceIndex === this.currentSequence.length) {\n                if (this.currentSequence === Sequences.CdataEnd) {\n                    this.cbs.oncdata(this.sectionStart, this.index, 2);\n                } else {\n                    this.cbs.oncomment(this.sectionStart, this.index, 2);\n                }\n\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n                this.state = State.Text;\n            }\n        } else if (this.sequenceIndex === 0) {\n            // Fast-forward to the first character of the sequence\n            if (this.fastForwardTo(this.currentSequence[0])) {\n                this.sequenceIndex = 1;\n            }\n        } else if (c !== this.currentSequence[this.sequenceIndex - 1]) {\n            // Allow long sequences, eg. --->, ]]]>\n            this.sequenceIndex = 0;\n        }\n    }\n\n    /**\n     * HTML only allows ASCII alpha characters (a-z and A-Z) at the beginning of a tag name.\n     *\n     * XML allows a lot more characters here (@see https://www.w3.org/TR/REC-xml/#NT-NameStartChar).\n     * We allow anything that wouldn't end the tag.\n     */\n    private isTagStartChar(c: number) {\n        return this.xmlMode ? !isEndOfTagSection(c) : isASCIIAlpha(c);\n    }\n\n    private startSpecial(sequence: Uint8Array, offset: number) {\n        this.isSpecial = true;\n        this.currentSequence = sequence;\n        this.sequenceIndex = offset;\n        this.state = State.SpecialStartSequence;\n    }\n\n    private stateBeforeTagName(c: number): void {\n        if (c === CharCodes.ExclamationMark) {\n            this.state = State.BeforeDeclaration;\n            this.sectionStart = this.index + 1;\n        } else if (c === CharCodes.Questionmark) {\n            this.state = State.InProcessingInstruction;\n            this.sectionStart = this.index + 1;\n        } else if (this.isTagStartChar(c)) {\n            const lower = c | 0x20;\n            this.sectionStart = this.index;\n            if (this.xmlMode) {\n                this.state = State.InTagName;\n            } else if (lower === Sequences.ScriptEnd[2]) {\n                this.state = State.BeforeSpecialS;\n            } else if (\n                lower === Sequences.TitleEnd[2] ||\n                lower === Sequences.XmpEnd[2]\n            ) {\n                this.state = State.BeforeSpecialT;\n            } else {\n                this.state = State.InTagName;\n            }\n        } else if (c === CharCodes.Slash) {\n            this.state = State.BeforeClosingTagName;\n        } else {\n            this.state = State.Text;\n            this.stateText(c);\n        }\n    }\n    private stateInTagName(c: number): void {\n        if (isEndOfTagSection(c)) {\n            this.cbs.onopentagname(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    private stateBeforeClosingTagName(c: number): void {\n        if (isWhitespace(c)) {\n            // Ignore\n        } else if (c === CharCodes.Gt) {\n            this.state = State.Text;\n        } else {\n            this.state = this.isTagStartChar(c)\n                ? State.InClosingTagName\n                : State.InSpecialComment;\n            this.sectionStart = this.index;\n        }\n    }\n    private stateInClosingTagName(c: number): void {\n        if (c === CharCodes.Gt || isWhitespace(c)) {\n            this.cbs.onclosetag(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.AfterClosingTagName;\n            this.stateAfterClosingTagName(c);\n        }\n    }\n    private stateAfterClosingTagName(c: number): void {\n        // Skip everything until \">\"\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    private stateBeforeAttributeName(c: number): void {\n        if (c === CharCodes.Gt) {\n            this.cbs.onopentagend(this.index);\n            if (this.isSpecial) {\n                this.state = State.InSpecialTag;\n                this.sequenceIndex = 0;\n            } else {\n                this.state = State.Text;\n            }\n            this.sectionStart = this.index + 1;\n        } else if (c === CharCodes.Slash) {\n            this.state = State.InSelfClosingTag;\n        } else if (!isWhitespace(c)) {\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    private stateInSelfClosingTag(c: number): void {\n        if (c === CharCodes.Gt) {\n            this.cbs.onselfclosingtag(this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n            this.isSpecial = false; // Reset special state, in case of self-closing special tags\n        } else if (!isWhitespace(c)) {\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    private stateInAttributeName(c: number): void {\n        if (c === CharCodes.Eq || isEndOfTagSection(c)) {\n            this.cbs.onattribname(this.sectionStart, this.index);\n            this.sectionStart = this.index;\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        }\n    }\n    private stateAfterAttributeName(c: number): void {\n        if (c === CharCodes.Eq) {\n            this.state = State.BeforeAttributeValue;\n        } else if (c === CharCodes.Slash || c === CharCodes.Gt) {\n            this.cbs.onattribend(QuoteType.NoValue, this.sectionStart);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        } else if (!isWhitespace(c)) {\n            this.cbs.onattribend(QuoteType.NoValue, this.sectionStart);\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    private stateBeforeAttributeValue(c: number): void {\n        if (c === CharCodes.DoubleQuote) {\n            this.state = State.InAttributeValueDq;\n            this.sectionStart = this.index + 1;\n        } else if (c === CharCodes.SingleQuote) {\n            this.state = State.InAttributeValueSq;\n            this.sectionStart = this.index + 1;\n        } else if (!isWhitespace(c)) {\n            this.sectionStart = this.index;\n            this.state = State.InAttributeValueNq;\n            this.stateInAttributeValueNoQuotes(c); // Reconsume token\n        }\n    }\n    private handleInAttributeValue(c: number, quote: number) {\n        if (\n            c === quote ||\n            (!this.decodeEntities && this.fastForwardTo(quote))\n        ) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(\n                quote === CharCodes.DoubleQuote\n                    ? QuoteType.Double\n                    : QuoteType.Single,\n                this.index + 1,\n            );\n            this.state = State.BeforeAttributeName;\n        } else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    private stateInAttributeValueDoubleQuotes(c: number): void {\n        this.handleInAttributeValue(c, CharCodes.DoubleQuote);\n    }\n    private stateInAttributeValueSingleQuotes(c: number): void {\n        this.handleInAttributeValue(c, CharCodes.SingleQuote);\n    }\n    private stateInAttributeValueNoQuotes(c: number): void {\n        if (isWhitespace(c) || c === CharCodes.Gt) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(QuoteType.Unquoted, this.index);\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        } else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    private stateBeforeDeclaration(c: number): void {\n        if (c === CharCodes.OpeningSquareBracket) {\n            this.state = State.CDATASequence;\n            this.sequenceIndex = 0;\n        } else {\n            this.state =\n                c === CharCodes.Dash\n                    ? State.BeforeComment\n                    : State.InDeclaration;\n        }\n    }\n    private stateInDeclaration(c: number): void {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.ondeclaration(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    private stateInProcessingInstruction(c: number): void {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.onprocessinginstruction(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    private stateBeforeComment(c: number): void {\n        if (c === CharCodes.Dash) {\n            this.state = State.InCommentLike;\n            this.currentSequence = Sequences.CommentEnd;\n            // Allow short comments (eg. <!-->)\n            this.sequenceIndex = 2;\n            this.sectionStart = this.index + 1;\n        } else {\n            this.state = State.InDeclaration;\n        }\n    }\n    private stateInSpecialComment(c: number): void {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.oncomment(this.sectionStart, this.index, 0);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    private stateBeforeSpecialS(c: number): void {\n        const lower = c | 0x20;\n        if (lower === Sequences.ScriptEnd[3]) {\n            this.startSpecial(Sequences.ScriptEnd, 4);\n        } else if (lower === Sequences.StyleEnd[3]) {\n            this.startSpecial(Sequences.StyleEnd, 4);\n        } else {\n            this.state = State.InTagName;\n            this.stateInTagName(c); // Consume the token again\n        }\n    }\n\n    private stateBeforeSpecialT(c: number): void {\n        const lower = c | 0x20;\n        switch (lower) {\n            case Sequences.TitleEnd[3]: {\n                this.startSpecial(Sequences.TitleEnd, 4);\n\n                break;\n            }\n            case Sequences.TextareaEnd[3]: {\n                this.startSpecial(Sequences.TextareaEnd, 4);\n\n                break;\n            }\n            case Sequences.XmpEnd[3]: {\n                this.startSpecial(Sequences.XmpEnd, 4);\n\n                break;\n            }\n            default: {\n                this.state = State.InTagName;\n                this.stateInTagName(c); // Consume the token again\n            }\n        }\n    }\n\n    private startEntity() {\n        this.baseState = this.state;\n        this.state = State.InEntity;\n        this.entityStart = this.index;\n        this.entityDecoder.startEntity(\n            this.xmlMode\n                ? DecodingMode.Strict\n                : this.baseState === State.Text ||\n                    this.baseState === State.InSpecialTag\n                  ? DecodingMode.Legacy\n                  : DecodingMode.Attribute,\n        );\n    }\n\n    private stateInEntity(): void {\n        const length = this.entityDecoder.write(\n            this.buffer,\n            this.index - this.offset,\n        );\n\n        // If `length` is positive, we are done with the entity.\n        if (length >= 0) {\n            this.state = this.baseState;\n\n            if (length === 0) {\n                this.index = this.entityStart;\n            }\n        } else {\n            // Mark buffer as consumed.\n            this.index = this.offset + this.buffer.length - 1;\n        }\n    }\n\n    /**\n     * Remove data that has already been consumed from the buffer.\n     */\n    private cleanup() {\n        // If we are inside of text or attributes, emit what we already have.\n        if (this.running && this.sectionStart !== this.index) {\n            if (\n                this.state === State.Text ||\n                (this.state === State.InSpecialTag && this.sequenceIndex === 0)\n            ) {\n                this.cbs.ontext(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            } else if (\n                this.state === State.InAttributeValueDq ||\n                this.state === State.InAttributeValueSq ||\n                this.state === State.InAttributeValueNq\n            ) {\n                this.cbs.onattribdata(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n        }\n    }\n\n    private shouldContinue() {\n        return this.index < this.buffer.length + this.offset && this.running;\n    }\n\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    private parse() {\n        while (this.shouldContinue()) {\n            const c = this.buffer.charCodeAt(this.index - this.offset);\n            switch (this.state) {\n                case State.Text: {\n                    this.stateText(c);\n                    break;\n                }\n                case State.SpecialStartSequence: {\n                    this.stateSpecialStartSequence(c);\n                    break;\n                }\n                case State.InSpecialTag: {\n                    this.stateInSpecialTag(c);\n                    break;\n                }\n                case State.CDATASequence: {\n                    this.stateCDATASequence(c);\n                    break;\n                }\n                case State.InAttributeValueDq: {\n                    this.stateInAttributeValueDoubleQuotes(c);\n                    break;\n                }\n                case State.InAttributeName: {\n                    this.stateInAttributeName(c);\n                    break;\n                }\n                case State.InCommentLike: {\n                    this.stateInCommentLike(c);\n                    break;\n                }\n                case State.InSpecialComment: {\n                    this.stateInSpecialComment(c);\n                    break;\n                }\n                case State.BeforeAttributeName: {\n                    this.stateBeforeAttributeName(c);\n                    break;\n                }\n                case State.InTagName: {\n                    this.stateInTagName(c);\n                    break;\n                }\n                case State.InClosingTagName: {\n                    this.stateInClosingTagName(c);\n                    break;\n                }\n                case State.BeforeTagName: {\n                    this.stateBeforeTagName(c);\n                    break;\n                }\n                case State.AfterAttributeName: {\n                    this.stateAfterAttributeName(c);\n                    break;\n                }\n                case State.InAttributeValueSq: {\n                    this.stateInAttributeValueSingleQuotes(c);\n                    break;\n                }\n                case State.BeforeAttributeValue: {\n                    this.stateBeforeAttributeValue(c);\n                    break;\n                }\n                case State.BeforeClosingTagName: {\n                    this.stateBeforeClosingTagName(c);\n                    break;\n                }\n                case State.AfterClosingTagName: {\n                    this.stateAfterClosingTagName(c);\n                    break;\n                }\n                case State.BeforeSpecialS: {\n                    this.stateBeforeSpecialS(c);\n                    break;\n                }\n                case State.BeforeSpecialT: {\n                    this.stateBeforeSpecialT(c);\n                    break;\n                }\n                case State.InAttributeValueNq: {\n                    this.stateInAttributeValueNoQuotes(c);\n                    break;\n                }\n                case State.InSelfClosingTag: {\n                    this.stateInSelfClosingTag(c);\n                    break;\n                }\n                case State.InDeclaration: {\n                    this.stateInDeclaration(c);\n                    break;\n                }\n                case State.BeforeDeclaration: {\n                    this.stateBeforeDeclaration(c);\n                    break;\n                }\n                case State.BeforeComment: {\n                    this.stateBeforeComment(c);\n                    break;\n                }\n                case State.InProcessingInstruction: {\n                    this.stateInProcessingInstruction(c);\n                    break;\n                }\n                case State.InEntity: {\n                    this.stateInEntity();\n                    break;\n                }\n            }\n            this.index++;\n        }\n        this.cleanup();\n    }\n\n    private finish() {\n        if (this.state === State.InEntity) {\n            this.entityDecoder.end();\n            this.state = this.baseState;\n        }\n\n        this.handleTrailingData();\n\n        this.cbs.onend();\n    }\n\n    /** Handle any trailing data. */\n    private handleTrailingData() {\n        const endIndex = this.buffer.length + this.offset;\n\n        // If there is no remaining data, we are done.\n        if (this.sectionStart >= endIndex) {\n            return;\n        }\n\n        if (this.state === State.InCommentLike) {\n            if (this.currentSequence === Sequences.CdataEnd) {\n                this.cbs.oncdata(this.sectionStart, endIndex, 0);\n            } else {\n                this.cbs.oncomment(this.sectionStart, endIndex, 0);\n            }\n        } else if (\n            this.state === State.InTagName ||\n            this.state === State.BeforeAttributeName ||\n            this.state === State.BeforeAttributeValue ||\n            this.state === State.AfterAttributeName ||\n            this.state === State.InAttributeName ||\n            this.state === State.InAttributeValueSq ||\n            this.state === State.InAttributeValueDq ||\n            this.state === State.InAttributeValueNq ||\n            this.state === State.InClosingTagName\n        ) {\n            /*\n             * If we are currently in an opening or closing tag, us not calling the\n             * respective callback signals that the tag should be ignored.\n             */\n        } else {\n            this.cbs.ontext(this.sectionStart, endIndex);\n        }\n    }\n\n    private emitCodePoint(cp: number, consumed: number): void {\n        if (\n            this.baseState !== State.Text &&\n            this.baseState !== State.InSpecialTag\n        ) {\n            if (this.sectionStart < this.entityStart) {\n                this.cbs.onattribdata(this.sectionStart, this.entityStart);\n            }\n            this.sectionStart = this.entityStart + consumed;\n            this.index = this.sectionStart - 1;\n\n            this.cbs.onattribentity(cp);\n        } else {\n            if (this.sectionStart < this.entityStart) {\n                this.cbs.ontext(this.sectionStart, this.entityStart);\n            }\n            this.sectionStart = this.entityStart + consumed;\n            this.index = this.sectionStart - 1;\n\n            this.cbs.ontextentity(cp, this.sectionStart);\n        }\n    }\n}\n", "import { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nimport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nimport { replaceCodePoint, fromCodePoint } from \"./decode-codepoint.js\";\n\nconst enum CharCodes {\n    NUM = 35, // \"#\"\n    SEMI = 59, // \";\"\n    EQUALS = 61, // \"=\"\n    ZERO = 48, // \"0\"\n    NINE = 57, // \"9\"\n    LOWER_A = 97, // \"a\"\n    LOWER_F = 102, // \"f\"\n    LOWER_X = 120, // \"x\"\n    LOWER_Z = 122, // \"z\"\n    UPPER_A = 65, // \"A\"\n    UPPER_F = 70, // \"F\"\n    UPPER_Z = 90, // \"Z\"\n}\n\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 0b10_0000;\n\nexport enum BinTrieFlags {\n    VALUE_LENGTH = 0b1100_0000_0000_0000,\n    BRANCH_LENGTH = 0b0011_1111_1000_0000,\n    JUMP_TABLE = 0b0000_0000_0111_1111,\n}\n\nfunction isNumber(code: number): boolean {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\n\nfunction isHexadecimalCharacter(code: number): boolean {\n    return (\n        (code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F)\n    );\n}\n\nfunction isAsciiAlphaNumeric(code: number): boolean {\n    return (\n        (code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code)\n    );\n}\n\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code: number): boolean {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\n\nconst enum EntityDecoderState {\n    EntityStart,\n    NumericStart,\n    NumericDecimal,\n    NumericHex,\n    NamedEntity,\n}\n\nexport enum DecodingMode {\n    /** Entities in text nodes that can end with any character. */\n    Legacy = 0,\n    /** Only allow entities terminated with a semicolon. */\n    Strict = 1,\n    /** Entities in attributes have limitations on ending characters. */\n    Attribute = 2,\n}\n\n/**\n * Producers for character reference errors as defined in the HTML spec.\n */\nexport interface EntityErrorProducer {\n    missingSemicolonAfterCharacterReference(): void;\n    absenceOfDigitsInNumericCharacterReference(\n        consumedCharacters: number,\n    ): void;\n    validateNumericCharacterReference(code: number): void;\n}\n\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n        /** The tree used to decode entities. */\n        private readonly decodeTree: Uint16Array,\n        /**\n         * The function that is called when a codepoint is decoded.\n         *\n         * For multi-byte named entities, this will be called multiple times,\n         * with the second codepoint, and the same `consumed` value.\n         *\n         * @param codepoint The decoded codepoint.\n         * @param consumed The number of bytes consumed by the decoder.\n         */\n        private readonly emitCodePoint: (cp: number, consumed: number) => void,\n        /** An object that is used to produce errors. */\n        private readonly errors?: EntityErrorProducer | undefined,\n    ) {}\n\n    /** The current state of the decoder. */\n    private state = EntityDecoderState.EntityStart;\n    /** Characters that were consumed while parsing an entity. */\n    private consumed = 1;\n    /**\n     * The result of the entity.\n     *\n     * Either the result index of a numeric entity, or the codepoint of a\n     * numeric entity.\n     */\n    private result = 0;\n\n    /** The current index in the decode tree. */\n    private treeIndex = 0;\n    /** The number of characters that were consumed in excess. */\n    private excess = 1;\n    /** The mode in which the decoder is operating. */\n    private decodeMode = DecodingMode.Strict;\n\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode: DecodingMode): void {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(input: string, offset: number): number {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (input.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(input, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(input, offset);\n            }\n\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(input, offset);\n            }\n\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(input, offset);\n            }\n\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(input, offset);\n            }\n\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(input, offset);\n            }\n        }\n    }\n\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    private stateNumericStart(input: string, offset: number): number {\n        if (offset >= input.length) {\n            return -1;\n        }\n\n        if ((input.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(input, offset + 1);\n        }\n\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(input, offset);\n    }\n\n    private addToNumericResult(\n        input: string,\n        start: number,\n        end: number,\n        base: number,\n    ): void {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                Number.parseInt(input.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    private stateNumericHex(input: string, offset: number): number {\n        const startIndex = offset;\n\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            } else {\n                this.addToNumericResult(input, startIndex, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n\n        this.addToNumericResult(input, startIndex, offset, 16);\n\n        return -1;\n    }\n\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    private stateNumericDecimal(input: string, offset: number): number {\n        const startIndex = offset;\n\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            } else {\n                this.addToNumericResult(input, startIndex, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n\n        this.addToNumericResult(input, startIndex, offset, 10);\n\n        return -1;\n    }\n\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    private emitNumericEntity(lastCp: number, expectedLength: number): number {\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            this.errors?.absenceOfDigitsInNumericCharacterReference(\n                this.consumed,\n            );\n            return 0;\n        }\n\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        } else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n\n        return this.consumed;\n    }\n\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    private stateNamedEntity(input: string, offset: number): number {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n\n        for (; offset < input.length; offset++, this.excess++) {\n            const char = input.charCodeAt(offset);\n\n            this.treeIndex = determineBranch(\n                decodeTree,\n                current,\n                this.treeIndex + Math.max(1, valueLength),\n                char,\n            );\n\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(\n                        this.treeIndex,\n                        valueLength,\n                        this.consumed + this.excess,\n                    );\n                }\n\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    private emitNotTerminatedNamedEntity(): number {\n        const { result, decodeTree } = this;\n\n        const valueLength =\n            (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        this.errors?.missingSemicolonAfterCharacterReference();\n\n        return this.consumed;\n    }\n\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    private emitNamedEntityData(\n        result: number,\n        valueLength: number,\n        consumed: number,\n    ): number {\n        const { decodeTree } = this;\n\n        this.emitCodePoint(\n            valueLength === 1\n                ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n                : decodeTree[result + 1],\n            consumed,\n        );\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n\n        return consumed;\n    }\n\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end(): number {\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                this.errors?.absenceOfDigitsInNumericCharacterReference(\n                    this.consumed,\n                );\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree: Uint16Array) {\n    let returnValue = \"\";\n    const decoder = new EntityDecoder(\n        decodeTree,\n        (data) => (returnValue += fromCodePoint(data)),\n    );\n\n    return function decodeWithTrie(\n        input: string,\n        decodeMode: DecodingMode,\n    ): string {\n        let lastIndex = 0;\n        let offset = 0;\n\n        while ((offset = input.indexOf(\"&\", offset)) >= 0) {\n            returnValue += input.slice(lastIndex, offset);\n\n            decoder.startEntity(decodeMode);\n\n            const length = decoder.write(\n                input,\n                // Skip the \"&\"\n                offset + 1,\n            );\n\n            if (length < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n\n            lastIndex = offset + length;\n            // If `length` is 0, skip the current `&` and continue.\n            offset = length === 0 ? lastIndex + 1 : lastIndex;\n        }\n\n        const result = returnValue + input.slice(lastIndex);\n\n        // Make sure we don't keep a reference to the final string.\n        returnValue = \"\";\n\n        return result;\n    };\n}\n\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(\n    decodeTree: Uint16Array,\n    current: number,\n    nodeIndex: number,\n    char: number,\n): number {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIndex : -1;\n    }\n\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIndex + value] - 1;\n    }\n\n    // Case 3: Multiple branches encoded in dictionary\n\n    // Binary search for the character.\n    let lo = nodeIndex;\n    let hi = lo + branchCount - 1;\n\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midValue = decodeTree[mid];\n\n        if (midValue < char) {\n            lo = mid + 1;\n        } else if (midValue > char) {\n            hi = mid - 1;\n        } else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n\n    return -1;\n}\n\nconst htmlDecoder = /* #__PURE__ */ getDecoder(htmlDecodeTree);\nconst xmlDecoder = /* #__PURE__ */ getDecoder(xmlDecodeTree);\n\n/**\n * Decodes an HTML string.\n *\n * @param htmlString The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(\n    htmlString: string,\n    mode: DecodingMode = DecodingMode.Legacy,\n): string {\n    return htmlDecoder(htmlString, mode);\n}\n\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param htmlAttribute The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(htmlAttribute: string): string {\n    return htmlDecoder(htmlAttribute, DecodingMode.Attribute);\n}\n\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param htmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(htmlString: string): string {\n    return htmlDecoder(htmlString, DecodingMode.Strict);\n}\n\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param xmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(xmlString: string): string {\n    return xmlDecoder(xmlString, DecodingMode.Strict);\n}\n\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nexport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\n\nexport {\n    decodeCodePoint,\n    replaceCodePoint,\n    fromCodePoint,\n} from \"./decode-codepoint.js\";\n", "// Generated using scripts/write-decode-map.ts\n\nexport const htmlDecodeTree: Uint16Array = /* #__PURE__ */ new Uint16Array(\n    // prettier-ignore\n    /* #__PURE__ */ \"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n        .split(\"\")\n        .map((c) => c.charCodeAt(0)),\n);\n", "// Generated using scripts/write-decode-map.ts\n\nexport const xmlDecodeTree: Uint16Array = /* #__PURE__ */ new Uint16Array(\n    // prettier-ignore\n    /* #__PURE__ */ \"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n        .split(\"\")\n        .map((c) => c.charCodeAt(0)),\n);\n", "// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\n\nconst decodeMap = new Map([\n    [0, 65_533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint: (...codePoints: number[]) => string =\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, n/no-unsupported-features/es-builtins\n    String.fromCodePoint ??\n    function (codePoint: number): string {\n        let output = \"\";\n\n        if (codePoint > 0xff_ff) {\n            codePoint -= 0x1_00_00;\n            output += String.fromCharCode(\n                ((codePoint >>> 10) & 0x3_ff) | 0xd8_00,\n            );\n            codePoint = 0xdc_00 | (codePoint & 0x3_ff);\n        }\n\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\n\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint: number): number {\n    if (\n        (codePoint >= 0xd8_00 && codePoint <= 0xdf_ff) ||\n        codePoint > 0x10_ff_ff\n    ) {\n        return 0xff_fd;\n    }\n\n    return decodeMap.get(codePoint) ?? codePoint;\n}\n\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport function decodeCodePoint(codePoint: number): string {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n", "import { ElementType } from \"domelementtype\";\nimport { Element, Text, Comment, CDATA, Document, ProcessingInstruction, } from \"./node.js\";\nexport * from \"./node.js\";\n// Default options\nconst defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nexport class DomHandler {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    constructor(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    onparserinit(parser) {\n        this.parser = parser;\n    }\n    // Resets the handler back to starting state\n    onreset() {\n        this.dom = [];\n        this.root = new Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    }\n    // Signals the handler that parsing is done\n    onend() {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    }\n    onerror(error) {\n        this.handleCallback(error);\n    }\n    onclosetag() {\n        this.lastNode = null;\n        const elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    }\n    onopentag(name, attribs) {\n        const type = this.options.xmlMode ? ElementType.Tag : undefined;\n        const element = new Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    }\n    ontext(data) {\n        const { lastNode } = this;\n        if (lastNode && lastNode.type === ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            const node = new Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    }\n    oncomment(data) {\n        if (this.lastNode && this.lastNode.type === ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        const node = new Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    }\n    oncommentend() {\n        this.lastNode = null;\n    }\n    oncdatastart() {\n        const text = new Text(\"\");\n        const node = new CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    }\n    oncdataend() {\n        this.lastNode = null;\n    }\n    onprocessinginstruction(name, data) {\n        const node = new ProcessingInstruction(name, data);\n        this.addNode(node);\n    }\n    handleCallback(error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    }\n    addNode(node) {\n        const parent = this.tagStack[this.tagStack.length - 1];\n        const previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    }\n}\nexport default DomHandler;\n", "/** Types of elements found in htmlparser2's DOM */\nexport var ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType || (ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nexport function isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexport const Root = ElementType.Root;\n/** Type for Text */\nexport const Text = ElementType.Text;\n/** Type for <? ... ?> */\nexport const Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexport const Comment = ElementType.Comment;\n/** Type for <script> tags */\nexport const Script = ElementType.Script;\n/** Type for <style> tags */\nexport const Style = ElementType.Style;\n/** Type for Any tag */\nexport const Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexport const CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexport const Doctype = ElementType.Doctype;\n", "import { ElementType, isTag as isTagRaw } from \"domelementtype\";\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nexport class Node {\n    constructor() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    // Read-write aliases for properties\n    /**\n     * Same as {@link parent}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get parentNode() {\n        return this.parent;\n    }\n    set parentNode(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Same as {@link prev}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get previousSibling() {\n        return this.prev;\n    }\n    set previousSibling(prev) {\n        this.prev = prev;\n    }\n    /**\n     * Same as {@link next}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nextSibling() {\n        return this.next;\n    }\n    set nextSibling(next) {\n        this.next = next;\n    }\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    cloneNode(recursive = false) {\n        return cloneNode(this, recursive);\n    }\n}\n/**\n * A node that contains some data.\n */\nexport class DataNode extends Node {\n    /**\n     * @param data The content of the data node\n     */\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n    /**\n     * Same as {@link data}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nodeValue() {\n        return this.data;\n    }\n    set nodeValue(data) {\n        this.data = data;\n    }\n}\n/**\n * Text within the document.\n */\nexport class Text extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Text;\n    }\n    get nodeType() {\n        return 3;\n    }\n}\n/**\n * Comments within the document.\n */\nexport class Comment extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Comment;\n    }\n    get nodeType() {\n        return 8;\n    }\n}\n/**\n * Processing instructions, including doc types.\n */\nexport class ProcessingInstruction extends DataNode {\n    constructor(name, data) {\n        super(data);\n        this.name = name;\n        this.type = ElementType.Directive;\n    }\n    get nodeType() {\n        return 1;\n    }\n}\n/**\n * A `Node` that can have children.\n */\nexport class NodeWithChildren extends Node {\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    constructor(children) {\n        super();\n        this.children = children;\n    }\n    // Aliases\n    /** First child of the node. */\n    get firstChild() {\n        var _a;\n        return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n    }\n    /** Last child of the node. */\n    get lastChild() {\n        return this.children.length > 0\n            ? this.children[this.children.length - 1]\n            : null;\n    }\n    /**\n     * Same as {@link children}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get childNodes() {\n        return this.children;\n    }\n    set childNodes(children) {\n        this.children = children;\n    }\n}\nexport class CDATA extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.CDATA;\n    }\n    get nodeType() {\n        return 4;\n    }\n}\n/**\n * The root node of the document.\n */\nexport class Document extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Root;\n    }\n    get nodeType() {\n        return 9;\n    }\n}\n/**\n * An element within the DOM.\n */\nexport class Element extends NodeWithChildren {\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    constructor(name, attribs, children = [], type = name === \"script\"\n        ? ElementType.Script\n        : name === \"style\"\n            ? ElementType.Style\n            : ElementType.Tag) {\n        super(children);\n        this.name = name;\n        this.attribs = attribs;\n        this.type = type;\n    }\n    get nodeType() {\n        return 1;\n    }\n    // DOM Level 1 aliases\n    /**\n     * Same as {@link name}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get tagName() {\n        return this.name;\n    }\n    set tagName(name) {\n        this.name = name;\n    }\n    get attributes() {\n        return Object.keys(this.attribs).map((name) => {\n            var _a, _b;\n            return ({\n                name,\n                value: this.attribs[name],\n                namespace: (_a = this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                prefix: (_b = this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n            });\n        });\n    }\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nexport function isTag(node) {\n    return isTagRaw(node);\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nexport function isCDATA(node) {\n    return node.type === ElementType.CDATA;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nexport function isText(node) {\n    return node.type === ElementType.Text;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nexport function isComment(node) {\n    return node.type === ElementType.Comment;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDirective(node) {\n    return node.type === ElementType.Directive;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDocument(node) {\n    return node.type === ElementType.Root;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nexport function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nexport function cloneNode(node, recursive = false) {\n    let result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Element(node.name, { ...node.attribs }, children);\n        children.forEach((child) => (child.parent = clone));\n        if (node.namespace != null) {\n            clone.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone[\"x-attribsNamespace\"] = { ...node[\"x-attribsNamespace\"] };\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone[\"x-attribsPrefix\"] = { ...node[\"x-attribsPrefix\"] };\n        }\n        result = clone;\n    }\n    else if (isCDATA(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new CDATA(children);\n        children.forEach((child) => (child.parent = clone));\n        result = clone;\n    }\n    else if (isDocument(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Document(children);\n        children.forEach((child) => (child.parent = clone));\n        if (node[\"x-mode\"]) {\n            clone[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone;\n    }\n    else if (isDirective(node)) {\n        const instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(`Not implemented yet: ${node.type}`);\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nfunction cloneChildren(childs) {\n    const children = childs.map((child) => cloneNode(child, true));\n    for (let i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n", null, null, "/*\n * Module dependencies\n */\nimport * as ElementType from \"domelementtype\";\nimport { encodeXML, escapeAttribute, escapeText } from \"entities\";\n/**\n * Mixed-case SVG and MathML tags & attributes\n * recognized by the HTML parser.\n *\n * @see https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n */\nimport { elementNames, attributeNames } from \"./foreignNames.js\";\nconst unencodedElements = new Set([\n    \"style\",\n    \"script\",\n    \"xmp\",\n    \"iframe\",\n    \"noembed\",\n    \"noframes\",\n    \"plaintext\",\n    \"noscript\",\n]);\nfunction replaceQuotes(value) {\n    return value.replace(/\"/g, \"&quot;\");\n}\n/**\n * Format attributes\n */\nfunction formatAttributes(attributes, opts) {\n    var _a;\n    if (!attributes)\n        return;\n    const encode = ((_a = opts.encodeEntities) !== null && _a !== void 0 ? _a : opts.decodeEntities) === false\n        ? replaceQuotes\n        : opts.xmlMode || opts.encodeEntities !== \"utf8\"\n            ? encodeXML\n            : escapeAttribute;\n    return Object.keys(attributes)\n        .map((key) => {\n        var _a, _b;\n        const value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : \"\";\n        if (opts.xmlMode === \"foreign\") {\n            /* Fix up mixed-case attribute names */\n            key = (_b = attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;\n        }\n        if (!opts.emptyAttrs && !opts.xmlMode && value === \"\") {\n            return key;\n        }\n        return `${key}=\"${encode(value)}\"`;\n    })\n        .join(\" \");\n}\n/**\n * Self-enclosing tags\n */\nconst singleTag = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n/**\n * Renders a DOM node or an array of DOM nodes to a string.\n *\n * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n *\n * @param node Node to be rendered.\n * @param options Changes serialization behavior\n */\nexport function render(node, options = {}) {\n    const nodes = \"length\" in node ? node : [node];\n    let output = \"\";\n    for (let i = 0; i < nodes.length; i++) {\n        output += renderNode(nodes[i], options);\n    }\n    return output;\n}\nexport default render;\nfunction renderNode(node, options) {\n    switch (node.type) {\n        case ElementType.Root:\n            return render(node.children, options);\n        // @ts-expect-error We don't use `Doctype` yet\n        case ElementType.Doctype:\n        case ElementType.Directive:\n            return renderDirective(node);\n        case ElementType.Comment:\n            return renderComment(node);\n        case ElementType.CDATA:\n            return renderCdata(node);\n        case ElementType.Script:\n        case ElementType.Style:\n        case ElementType.Tag:\n            return renderTag(node, options);\n        case ElementType.Text:\n            return renderText(node, options);\n    }\n}\nconst foreignModeIntegrationPoints = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nconst foreignElements = new Set([\"svg\", \"math\"]);\nfunction renderTag(elem, opts) {\n    var _a;\n    // Handle SVG / MathML in HTML\n    if (opts.xmlMode === \"foreign\") {\n        /* Fix up mixed-case element names */\n        elem.name = (_a = elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n        /* Exit foreign mode at integration points */\n        if (elem.parent &&\n            foreignModeIntegrationPoints.has(elem.parent.name)) {\n            opts = { ...opts, xmlMode: false };\n        }\n    }\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n        opts = { ...opts, xmlMode: \"foreign\" };\n    }\n    let tag = `<${elem.name}`;\n    const attribs = formatAttributes(elem.attribs, opts);\n    if (attribs) {\n        tag += ` ${attribs}`;\n    }\n    if (elem.children.length === 0 &&\n        (opts.xmlMode\n            ? // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n                opts.selfClosingTags !== false\n            : // User explicitly asked for self-closing tags, even in HTML mode\n                opts.selfClosingTags && singleTag.has(elem.name))) {\n        if (!opts.xmlMode)\n            tag += \" \";\n        tag += \"/>\";\n    }\n    else {\n        tag += \">\";\n        if (elem.children.length > 0) {\n            tag += render(elem.children, opts);\n        }\n        if (opts.xmlMode || !singleTag.has(elem.name)) {\n            tag += `</${elem.name}>`;\n        }\n    }\n    return tag;\n}\nfunction renderDirective(elem) {\n    return `<${elem.data}>`;\n}\nfunction renderText(elem, opts) {\n    var _a;\n    let data = elem.data || \"\";\n    // If entities weren't decoded, no need to encode them back\n    if (((_a = opts.encodeEntities) !== null && _a !== void 0 ? _a : opts.decodeEntities) !== false &&\n        !(!opts.xmlMode &&\n            elem.parent &&\n            unencodedElements.has(elem.parent.name))) {\n        data =\n            opts.xmlMode || opts.encodeEntities !== \"utf8\"\n                ? encodeXML(data)\n                : escapeText(data);\n    }\n    return data;\n}\nfunction renderCdata(elem) {\n    return `<![CDATA[${elem.children[0].data}]]>`;\n}\nfunction renderComment(elem) {\n    return `<!--${elem.data}-->`;\n}\n", null, null, null, null, null, null, null, null, "export const elementNames = new Map([\n    \"altGlyph\",\n    \"altGlyphDef\",\n    \"altGlyphItem\",\n    \"animateColor\",\n    \"animateMotion\",\n    \"animateTransform\",\n    \"clipPath\",\n    \"feBlend\",\n    \"feColorMatrix\",\n    \"feComponentTransfer\",\n    \"feComposite\",\n    \"feConvolveMatrix\",\n    \"feDiffuseLighting\",\n    \"feDisplacementMap\",\n    \"feDistantLight\",\n    \"feDropShadow\",\n    \"feFlood\",\n    \"feFuncA\",\n    \"feFuncB\",\n    \"feFuncG\",\n    \"feFuncR\",\n    \"feGaussianBlur\",\n    \"feImage\",\n    \"feMerge\",\n    \"feMergeNode\",\n    \"feMorphology\",\n    \"feOffset\",\n    \"fePointLight\",\n    \"feSpecularLighting\",\n    \"feSpotLight\",\n    \"feTile\",\n    \"feTurbulence\",\n    \"foreignObject\",\n    \"glyphRef\",\n    \"linearGradient\",\n    \"radialGradient\",\n    \"textPath\",\n].map((val) => [val.toLowerCase(), val]));\nexport const attributeNames = new Map([\n    \"definitionURL\",\n    \"attributeName\",\n    \"attributeType\",\n    \"baseFrequency\",\n    \"baseProfile\",\n    \"calcMode\",\n    \"clipPathUnits\",\n    \"diffuseConstant\",\n    \"edgeMode\",\n    \"filterUnits\",\n    \"glyphRef\",\n    \"gradientTransform\",\n    \"gradientUnits\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keyPoints\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"lengthAdjust\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerUnits\",\n    \"markerWidth\",\n    \"maskContentUnits\",\n    \"maskUnits\",\n    \"numOctaves\",\n    \"pathLength\",\n    \"patternContentUnits\",\n    \"patternTransform\",\n    \"patternUnits\",\n    \"pointsAtX\",\n    \"pointsAtY\",\n    \"pointsAtZ\",\n    \"preserveAlpha\",\n    \"preserveAspectRatio\",\n    \"primitiveUnits\",\n    \"refX\",\n    \"refY\",\n    \"repeatCount\",\n    \"repeatDur\",\n    \"requiredExtensions\",\n    \"requiredFeatures\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"spreadMethod\",\n    \"startOffset\",\n    \"stdDeviation\",\n    \"stitchTiles\",\n    \"surfaceScale\",\n    \"systemLanguage\",\n    \"tableValues\",\n    \"targetX\",\n    \"targetY\",\n    \"textLength\",\n    \"viewBox\",\n    \"viewTarget\",\n    \"xChannelSelector\",\n    \"yChannelSelector\",\n    \"zoomAndPan\",\n].map((val) => [val.toLowerCase(), val]));\n", null, null, null, null, null, null, "// Internal\nexport const NODE_END = -1;\n\n// Node\nexport const ELEMENT_NODE = 1;\nexport const ATTRIBUTE_NODE = 2;\nexport const TEXT_NODE = 3;\nexport const CDATA_SECTION_NODE = 4;\nexport const COMMENT_NODE = 8;\nexport const DOCUMENT_NODE = 9;\nexport const DOCUMENT_TYPE_NODE = 10;\nexport const DOCUMENT_FRAGMENT_NODE = 11;\n\n// Elements\nexport const BLOCK_ELEMENTS = new Set(['ARTICLE', 'ASIDE', 'BLOCKQUOTE', 'BODY', 'BR', 'BUTTON', 'CANVAS', 'CAPTION', 'COL', 'COLGROUP', 'DD', 'DIV', 'DL', 'DT', 'EMBED', 'FIELDSET', 'FIGCAPTION', 'FIGURE', 'FOOTER', 'FORM', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'LI', 'UL', 'OL', 'P']);\n\n// TreeWalker\nexport const SHOW_ALL = -1;\nexport const SHOW_ELEMENT = 1;\nexport const SHOW_TEXT = 4;\nexport const SHOW_CDATA_SECTION = 8;\nexport const SHOW_COMMENT = 128;\n\n// Document position\nexport const DOCUMENT_POSITION_DISCONNECTED = 0x01;\nexport const DOCUMENT_POSITION_PRECEDING = 0x02;\nexport const DOCUMENT_POSITION_FOLLOWING = 0x04;\nexport const DOCUMENT_POSITION_CONTAINS = 0x08;\nexport const DOCUMENT_POSITION_CONTAINED_BY = 0x10;\nexport const DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC = 0x20;\n\n// SVG\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n", "const {\n  assign,\n  create,\n  defineProperties,\n  entries,\n  getOwnPropertyDescriptors,\n  keys,\n  setPrototypeOf\n} = Object;\n\nexport {\n  assign,\n  create,\n  defineProperties,\n  entries,\n  getOwnPropertyDescriptors,\n  keys,\n  setPrototypeOf\n};\n", "import {ELEMENT_NODE} from './constants.js';\nimport {END, MIME, NEXT, PREV} from './symbols.js';\n\nconst $String = String;\nexport {$String as String};\n\nexport const getEnd = node => node.nodeType === ELEMENT_NODE ? node[END] : node;\n\nexport const ignoreCase = ({ownerDocument}) => ownerDocument[MIME].ignoreCase;\n\nexport const knownAdjacent = (prev, next) => {\n  prev[NEXT] = next;\n  next[PREV] = prev;\n};\n\nexport const knownBoundaries = (prev, current, next) => {\n  knownAdjacent(prev, current);\n  knownAdjacent(getEnd(current), next);\n};\n\nexport const knownSegment = (prev, start, end, next) => {\n  knownAdjacent(prev, start);\n  knownAdjacent(getEnd(end), next);\n};\n\nexport const knownSiblings = (prev, current, next) => {\n  knownAdjacent(prev, current);\n  knownAdjacent(current, next);\n};\n\nexport const localCase = ({localName, ownerDocument}) => {\n  return ownerDocument[MIME].ignoreCase ? localName.toUpperCase() : localName;\n};\n\nexport const setAdjacent = (prev, next) => {\n  if (prev)\n    prev[NEXT] = next;\n  if (next)\n    next[PREV] = prev;\n};\n\n/**\n * @param {import(\"../interface/document.js\").Document} ownerDocument\n * @param {string} html\n * @return {import(\"../interface/document-fragment.js\").DocumentFragment}\n */\nexport const htmlToFragment = (ownerDocument, html) => {\n  const fragment = ownerDocument.createDocumentFragment();\n\n  const elem = ownerDocument.createElement('');\n  elem.innerHTML = html;\n  const { firstChild, lastChild } = elem;\n\n  if (firstChild) {\n    knownSegment(fragment, firstChild, lastChild, fragment[END]);\n\n    let child = firstChild;\n    do {\n      child.parentNode = fragment;\n    } while (child !== lastChild && (child = getEnd(child)[NEXT]));\n  }\n\n  return fragment;\n};", "import {ELEMENT_NODE} from '../shared/constants.js';\nimport {END, NEXT, UPGRADE} from '../shared/symbols.js';\nimport {entries, setPrototypeOf} from '../shared/object.js';\nimport {shadowRoots} from '../shared/shadow-roots.js';\n\nlet reactive = false;\n\nexport const Classes = new WeakMap;\n\nexport const customElements = new WeakMap;\n\nexport const attributeChangedCallback = (element, attributeName, oldValue, newValue) => {\n  if (\n    reactive &&\n    customElements.has(element) &&\n    element.attributeChangedCallback &&\n    element.constructor.observedAttributes.includes(attributeName)\n  ) {\n    element.attributeChangedCallback(attributeName, oldValue, newValue);\n  }\n};\n\nconst createTrigger = (method, isConnected) => element => {\n  if (customElements.has(element)) {\n    const info = customElements.get(element);\n    if (info.connected !== isConnected && element.isConnected === isConnected) {\n      info.connected = isConnected;\n      if (method in element)\n        element[method]();\n    }\n  }\n};\n\nconst triggerConnected = createTrigger('connectedCallback', true);\nexport const connectedCallback = element => {\n  if (reactive) {\n    triggerConnected(element);\n    if (shadowRoots.has(element))\n      element = shadowRoots.get(element).shadowRoot;\n    let {[NEXT]: next, [END]: end} = element;\n    while (next !== end) {\n      if (next.nodeType === ELEMENT_NODE)\n        triggerConnected(next);\n      next = next[NEXT];\n    }\n  }\n};\n\nconst triggerDisconnected = createTrigger('disconnectedCallback', false);\nexport const disconnectedCallback = element => {\n  if (reactive) {\n    triggerDisconnected(element);\n    if (shadowRoots.has(element))\n      element = shadowRoots.get(element).shadowRoot;\n    let {[NEXT]: next, [END]: end} = element;\n    while (next !== end) {\n      if (next.nodeType === ELEMENT_NODE)\n        triggerDisconnected(next);\n      next = next[NEXT];\n    }\n  }\n};\n\n/**\n * @implements globalThis.CustomElementRegistry\n */\nexport class CustomElementRegistry {\n\n  /**\n   * @param {Document} ownerDocument\n   */\n  constructor(ownerDocument) {\n    /**\n     * @private\n     */\n    this.ownerDocument = ownerDocument;\n\n    /**\n     * @private\n     */\n    this.registry = new Map;\n\n    /**\n     * @private\n     */\n    this.waiting = new Map;\n\n    /**\n     * @private\n     */\n    this.active = false;\n  }\n\n  /**\n   * @param {string} localName the custom element definition name\n   * @param {Function} Class the custom element **Class** definition\n   * @param {object?} options the optional object with an `extends` property\n   */\n  define(localName, Class, options = {}) {\n    const {ownerDocument, registry, waiting} = this;\n\n    if (registry.has(localName))\n      throw new Error('unable to redefine ' + localName);\n\n    if (Classes.has(Class))\n      throw new Error('unable to redefine the same class: ' + Class);\n\n    this.active = (reactive = true);\n\n    const {extends: extend} = options;\n\n    Classes.set(Class, {\n      ownerDocument,\n      options: {is: extend ? localName : ''},\n      localName: extend || localName\n    });\n\n    const check = extend ?\n      element => {\n        return element.localName === extend &&\n               element.getAttribute('is') === localName;\n      } :\n      element => element.localName === localName;\n    registry.set(localName, {Class, check});\n    if (waiting.has(localName)) {\n      for (const resolve of waiting.get(localName))\n        resolve(Class);\n      waiting.delete(localName);\n    }\n    ownerDocument.querySelectorAll(\n      extend ? `${extend}[is=\"${localName}\"]` : localName\n    ).forEach(this.upgrade, this);\n  }\n\n  /**\n   * @param {Element} element\n   */\n  upgrade(element) {\n    if (customElements.has(element))\n      return;\n    const {ownerDocument, registry} = this;\n    const ce = element.getAttribute('is') || element.localName;\n    if (registry.has(ce)) {\n      const {Class, check} = registry.get(ce);\n      if (check(element)) {\n        const {attributes, isConnected} = element;\n        for (const attr of attributes)\n          element.removeAttributeNode(attr);\n\n        const values = entries(element);\n        for (const [key] of values)\n          delete element[key];\n\n        setPrototypeOf(element, Class.prototype);\n        ownerDocument[UPGRADE] = {element, values};\n        new Class(ownerDocument, ce);\n\n        customElements.set(element, {connected: isConnected});\n\n        for (const attr of attributes)\n          element.setAttributeNode(attr);\n\n        if (isConnected && element.connectedCallback)\n          element.connectedCallback();\n      }\n    }\n  }\n\n  /**\n   * @param {string} localName the custom element definition name\n   */\n  whenDefined(localName) {\n    const {registry, waiting} = this;\n    return new Promise(resolve => {\n      if (registry.has(localName))\n        resolve(registry.get(localName).Class);\n      else {\n        if (!waiting.has(localName))\n          waiting.set(localName, []);\n        waiting.get(localName).push(resolve);\n      }\n    });\n  }\n\n  /**\n   * @param {string} localName the custom element definition name\n   * @returns {Function?} the custom element **Class**, if any\n   */\n  get(localName) {\n    const info = this.registry.get(localName);\n    return info && info.Class;\n  }\n\n  /**\n   * @param {Function} Class **Class** of custom element\n   * @returns {string?} found tag name or null\n   */\n  getName(Class) {\n    if (Classes.has(Class)) {\n      const { localName } = Classes.get(Class);\n      return localName;\n    }\n    return null;\n  }\n}\n", "export const shadowRoots = new WeakMap;\n", "import {ELEMENT_NODE} from '../shared/constants.js';\nimport {CUSTOM_ELEMENTS, END, NEXT} from '../shared/symbols.js';\nimport {htmlClasses} from '../shared/register-html-class.js';\n\nimport {Document} from '../interface/document.js';\nimport {NodeList} from '../interface/node-list.js';\nimport {customElements} from '../interface/custom-element-registry.js';\n\nimport {HTMLElement} from './element.js';\n\nconst createHTMLElement = (ownerDocument, builtin, localName, options) => {\n  if (!builtin && htmlClasses.has(localName)) {\n    const Class = htmlClasses.get(localName);\n    return new Class(ownerDocument, localName);\n  }\n  const {[CUSTOM_ELEMENTS]: {active, registry}} = ownerDocument;\n  if (active) {\n    const ce = builtin ? options.is : localName;\n    if (registry.has(ce)) {\n      const {Class} = registry.get(ce);\n      const element = new Class(ownerDocument, localName);\n      customElements.set(element, {connected: false});\n      return element;\n    }\n  }\n  return new HTMLElement(ownerDocument, localName);\n};\n\n/**\n * @implements globalThis.HTMLDocument\n */\nexport class HTMLDocument extends Document {\n  constructor() { super('text/html'); }\n\n  get all() {\n    const nodeList = new NodeList;\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      switch (next.nodeType) {\n        case ELEMENT_NODE:\n          nodeList.push(next);\n          break;\n      }\n      next = next[NEXT];\n    }\n    return nodeList;\n  }\n\n  /**\n   * @type HTMLHeadElement\n   */\n  get head() {\n    const {documentElement} = this;\n    let {firstElementChild} = documentElement;\n    if (!firstElementChild || firstElementChild.tagName !== 'HEAD') {\n      firstElementChild = this.createElement('head');\n      documentElement.prepend(firstElementChild);\n    }\n    return firstElementChild;\n  }\n\n  /**\n   * @type HTMLBodyElement\n   */\n  get body() {\n    const {head} = this;\n    let {nextElementSibling} = head;\n    if (!nextElementSibling || nextElementSibling.tagName !== 'BODY') {\n      nextElementSibling = this.createElement('body');\n      head.after(nextElementSibling);\n    }\n    return nextElementSibling;\n  }\n\n  /**\n   * @type HTMLTitleElement\n   */\n  get title() {\n    const {head} = this;\n    return head.getElementsByTagName('title').at(0)?.textContent || '';\n  }\n\n  set title(textContent) {\n    const {head} = this;\n    let title = head.getElementsByTagName('title').at(0);\n    if (title)\n      title.textContent = textContent;\n    else {\n      head.insertBefore(\n        this.createElement('title'),\n        head.firstChild\n      ).textContent = textContent;\n    }\n  }\n\n  createElement(localName, options) {\n    const builtin = !!(options && options.is);\n    const element = createHTMLElement(this, builtin, localName, options);\n    if (builtin)\n      element.setAttribute('is', options.is);\n    return element;\n  }\n}\n", "export const htmlClasses = new Map;\n\nexport const registerHTMLClass = (names, Class) => {\n  for (const name of [].concat(names)) {\n    htmlClasses.set(name, Class);\n    htmlClasses.set(name.toUpperCase(), Class);\n  }\n};\n", "import {DOCUMENT_NODE, DOCUMENT_FRAGMENT_NODE, DOCUMENT_TYPE_NODE, ELEMENT_NODE, SVG_NAMESPACE} from '../shared/constants.js';\n\nimport {\n  CUSTOM_ELEMENTS, DOM_PARSER, GLOBALS, IMAGE, MUTATION_OBSERVER,\n  DOCTYPE, END, NEXT, MIME, EVENT_TARGET, UPGRADE\n} from '../shared/symbols.js';\n\nimport {Facades, illegalConstructor} from '../shared/facades.js';\nimport {HTMLClasses} from '../shared/html-classes.js';\nimport {Mime} from '../shared/mime.js';\nimport {knownSiblings} from '../shared/utils.js';\nimport {assign, create, defineProperties, setPrototypeOf} from '../shared/object.js';\n\nimport {NonElementParentNode} from '../mixin/non-element-parent-node.js';\n\nimport {SVGElement} from '../svg/element.js';\n\nimport {Attr} from './attr.js';\nimport {CDATASection} from './cdata-section.js'\nimport {Comment} from './comment.js';\nimport {CustomElementRegistry} from './custom-element-registry.js';\nimport {CustomEvent} from './custom-event.js';\nimport {DocumentFragment} from './document-fragment.js';\nimport {DocumentType} from './document-type.js';\nimport {Element} from './element.js';\nimport {Event} from './event.js';\nimport {EventTarget} from './event-target.js';\nimport {InputEvent} from './input-event.js';\nimport {ImageClass} from './image.js';\nimport {MutationObserverClass} from './mutation-observer.js';\nimport {NamedNodeMap} from './named-node-map.js';\nimport {NodeList} from './node-list.js';\nimport {Range} from './range.js';\nimport {Text} from './text.js';\nimport {TreeWalker} from './tree-walker.js';\n\nconst query = (method, ownerDocument, selectors) => {\n  let {[NEXT]: next, [END]: end} = ownerDocument;\n  return method.call({ownerDocument, [NEXT]: next, [END]: end}, selectors);\n};\n\nconst globalExports = assign(\n  {},\n  Facades,\n  HTMLClasses,\n  {\n    CustomEvent,\n    Event,\n    EventTarget,\n    InputEvent,\n    NamedNodeMap,\n    NodeList\n  }\n);\n\nconst window = new WeakMap;\n\n/**\n * @implements globalThis.Document\n */\nexport class Document extends NonElementParentNode {\n  constructor(type) {\n    super(null, '#document', DOCUMENT_NODE);\n    this[CUSTOM_ELEMENTS] = {active: false, registry: null};\n    this[MUTATION_OBSERVER] = {active: false, class: null};\n    this[MIME] = Mime[type];\n    /** @type {DocumentType} */\n    this[DOCTYPE] = null;\n    this[DOM_PARSER] = null;\n    this[GLOBALS] = null;\n    this[IMAGE] = null;\n    this[UPGRADE] = null;\n  }\n\n  /**\n   * @type {globalThis.Document['defaultView']}\n   */\n  get defaultView() {\n    if (!window.has(this))\n      window.set(this, new Proxy(globalThis, {\n        set: (target, name, value) => {\n          switch (name) {\n            case 'addEventListener':\n            case 'removeEventListener':\n            case 'dispatchEvent':\n              this[EVENT_TARGET][name] = value;\n              break;\n            default:\n              target[name] = value;\n              break;\n          }\n          return true;\n        },\n        get: (globalThis, name) => {\n          switch (name) {\n            case 'addEventListener':\n            case 'removeEventListener':\n            case 'dispatchEvent':\n              if (!this[EVENT_TARGET]) {\n                const et = this[EVENT_TARGET] = new EventTarget;\n                et.dispatchEvent = et.dispatchEvent.bind(et);\n                et.addEventListener = et.addEventListener.bind(et);\n                et.removeEventListener = et.removeEventListener.bind(et);\n              }\n              return this[EVENT_TARGET][name];\n            case 'document':\n              return this;\n            /* c8 ignore start */\n            case 'navigator':\n              return {\n                userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36'\n              };\n            /* c8 ignore stop */\n            case 'window':\n              return window.get(this);\n            case 'customElements':\n              if (!this[CUSTOM_ELEMENTS].registry)\n                this[CUSTOM_ELEMENTS] = new CustomElementRegistry(this);\n              return this[CUSTOM_ELEMENTS];\n            case 'performance':\n              return globalThis.performance;\n            case 'DOMParser':\n              return this[DOM_PARSER];\n            case 'Image':\n              if (!this[IMAGE])\n                this[IMAGE] = ImageClass(this);\n              return this[IMAGE];\n            case 'MutationObserver':\n              if (!this[MUTATION_OBSERVER].class)\n                this[MUTATION_OBSERVER] = new MutationObserverClass(this);\n              return this[MUTATION_OBSERVER].class;\n          }\n          return (this[GLOBALS] && this[GLOBALS][name]) ||\n                  globalExports[name] ||\n                  globalThis[name];\n        }\n      }));\n    return window.get(this);\n  }\n\n  get doctype() {\n    const docType = this[DOCTYPE];\n    if (docType)\n      return docType;\n    const {firstChild} = this;\n    if (firstChild && firstChild.nodeType === DOCUMENT_TYPE_NODE)\n      return (this[DOCTYPE] = firstChild);\n    return null;\n  }\n\n  set doctype(value) {\n    if (/^([a-z:]+)(\\s+system|\\s+public(\\s+\"([^\"]+)\")?)?(\\s+\"([^\"]+)\")?/i.test(value)) {\n      const {$1: name, $4: publicId, $6: systemId} = RegExp;\n      this[DOCTYPE] = new DocumentType(this, name, publicId, systemId);\n      knownSiblings(this, this[DOCTYPE], this[NEXT]);\n    }\n  }\n\n  get documentElement() {\n    return this.firstElementChild;\n  }\n\n  get isConnected() { return true; }\n\n  /**\n   * @protected\n   */\n   _getParent() {\n    return this[EVENT_TARGET];\n  }\n\n  createAttribute(name) { return new Attr(this, name); }\n  createCDATASection(data) { return new CDATASection(this, data); }\n  createComment(textContent) { return new Comment(this, textContent); }\n  createDocumentFragment() { return new DocumentFragment(this); }\n  createDocumentType(name, publicId, systemId) { return new DocumentType(this, name, publicId, systemId); }\n  createElement(localName) { return new Element(this, localName); }\n  createRange() {\n    const range = new Range;\n    range.commonAncestorContainer = this;\n    return range;\n  }\n  createTextNode(textContent) { return new Text(this, textContent); }\n  createTreeWalker(root, whatToShow = -1) { return new TreeWalker(root, whatToShow); }\n  createNodeIterator(root, whatToShow = -1) { return this.createTreeWalker(root, whatToShow); }\n\n  createEvent(name) {\n    const event = create(name === 'Event' ? new Event('') : new CustomEvent(''));\n    event.initEvent = event.initCustomEvent = (\n      type,\n      canBubble = false,\n      cancelable = false,\n      detail\n    ) => {\n      event.bubbles = !!canBubble;\n\n      defineProperties(event, {\n        type: {value: type},\n        canBubble: {value: canBubble},\n        cancelable: {value: cancelable},\n        detail: {value: detail}\n      });\n    };\n    return event;\n  }\n\n  cloneNode(deep = false) {\n    const {\n      constructor,\n      [CUSTOM_ELEMENTS]: customElements,\n      [DOCTYPE]: doctype\n    } = this;\n    const document = new constructor();\n    document[CUSTOM_ELEMENTS] = customElements;\n    if (deep) {\n      const end = document[END];\n      const {childNodes} = this;\n      for (let {length} = childNodes, i = 0; i < length; i++)\n        document.insertBefore(childNodes[i].cloneNode(true), end);\n      if (doctype)\n        document[DOCTYPE] = childNodes[0];\n    }\n    return document;\n  }\n\n  importNode(externalNode) {\n    // important: keep the signature length as *one*\n    // or it would behave like old IE or Edge with polyfills\n    const deep = 1 < arguments.length && !!arguments[1];\n    const node = externalNode.cloneNode(deep);\n    const {[CUSTOM_ELEMENTS]: customElements} = this;\n    const {active} = customElements;\n    const upgrade = element => {\n      const {ownerDocument, nodeType} = element;\n      element.ownerDocument = this;\n      if (active && ownerDocument !== this && nodeType === ELEMENT_NODE)\n        customElements.upgrade(element);\n    };\n    upgrade(node);\n    if (deep) {\n      switch (node.nodeType) {\n        case ELEMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE: {\n          let {[NEXT]: next, [END]: end} = node;\n          while (next !== end) {\n            if (next.nodeType === ELEMENT_NODE)\n              upgrade(next);\n            next = next[NEXT];\n          }\n          break;\n        }\n      }\n    }\n    return node;\n  }\n\n  toString() { return this.childNodes.join(''); }\n\n  querySelector(selectors) {\n    return query(super.querySelector, this, selectors);\n  }\n\n  querySelectorAll(selectors) {\n    return query(super.querySelectorAll, this, selectors);\n  }\n\n  /* c8 ignore start */\n  getElementsByTagNameNS(_, name) {\n    return this.getElementsByTagName(name);\n  }\n  createAttributeNS(_, name) {\n    return this.createAttribute(name);\n  }\n  createElementNS(nsp, localName, options) {\n    return nsp === SVG_NAMESPACE ?\n            new SVGElement(this, localName, null) :\n            this.createElement(localName, options);\n  }\n  /* c8 ignore stop */\n}\n\nsetPrototypeOf(\n  globalExports.Document = function Document() {\n    illegalConstructor();\n  },\n  Document\n).prototype = Document.prototype;\n", "import {Attr as _Attr} from '../interface/attr.js';\nimport {CharacterData as _CharacterData} from '../interface/character-data.js';\nimport {CDATASection as _CDATASection} from '../interface/cdata-section.js';\nimport {Comment as _Comment} from '../interface/comment.js';\nimport {DocumentFragment as _DocumentFragment} from '../interface/document-fragment.js';\nimport {DocumentType as _DocumentType} from '../interface/document-type.js';\nimport {Element as _Element} from '../interface/element.js';\nimport {Node as _Node} from '../interface/node.js';\nimport {ShadowRoot as _ShadowRoot} from '../interface/shadow-root.js';\nimport {Text as _Text} from '../interface/text.js';\nimport {SVGElement as _SVGElement} from '../svg/element.js';\n\nimport {setPrototypeOf} from './object.js';\n\n/* c8 ignore start */\nexport const illegalConstructor = () => {\n  throw new TypeError('Illegal constructor');\n};\n\nexport function Attr() { illegalConstructor(); }\nsetPrototypeOf(Attr, _Attr);\nAttr.prototype = _Attr.prototype;\n\nexport function CDATASection() { illegalConstructor(); }\nsetPrototypeOf(CDATASection, _CDATASection);\nCDATASection.prototype = _CDATASection.prototype;\n\nexport function CharacterData() { illegalConstructor(); }\nsetPrototypeOf(CharacterData, _CharacterData);\nCharacterData.prototype = _CharacterData.prototype;\n\nexport function Comment() { illegalConstructor(); }\nsetPrototypeOf(Comment, _Comment);\nComment.prototype = _Comment.prototype;\n\nexport function DocumentFragment() { illegalConstructor(); }\nsetPrototypeOf(DocumentFragment, _DocumentFragment);\nDocumentFragment.prototype = _DocumentFragment.prototype;\n\nexport function DocumentType() { illegalConstructor(); }\nsetPrototypeOf(DocumentType, _DocumentType);\nDocumentType.prototype = _DocumentType.prototype;\n\nexport function Element() { illegalConstructor(); }\nsetPrototypeOf(Element, _Element);\nElement.prototype = _Element.prototype;\n\nexport function Node() { illegalConstructor(); }\nsetPrototypeOf(Node, _Node);\nNode.prototype = _Node.prototype;\n\nexport function ShadowRoot() { illegalConstructor(); }\nsetPrototypeOf(ShadowRoot, _ShadowRoot);\nShadowRoot.prototype = _ShadowRoot.prototype;\n\nexport function Text() { illegalConstructor(); }\nsetPrototypeOf(Text, _Text);\nText.prototype = _Text.prototype;\n\nexport function SVGElement() { illegalConstructor(); }\nsetPrototypeOf(SVGElement, _SVGElement);\nSVGElement.prototype = _SVGElement.prototype;\n/* c8 ignore stop */\n\nexport const Facades = {\n  Attr,\n  CDATASection,\n  CharacterData,\n  Comment,\n  DocumentFragment,\n  DocumentType,\n  Element,\n  Node,\n  ShadowRoot,\n  Text,\n  SVGElement\n};\n", "import {ATTRIBUTE_NODE} from '../shared/constants.js';\nimport {CHANGED, VALUE} from '../shared/symbols.js';\nimport {String, ignoreCase} from '../shared/utils.js';\nimport {attrAsJSON} from '../shared/jsdon.js';\nimport {emptyAttributes} from '../shared/attributes.js';\n\nimport {attributeChangedCallback as moAttributes} from './mutation-observer.js';\nimport {attributeChangedCallback as ceAttributes} from './custom-element-registry.js';\n\nimport {Node} from './node.js';\nimport {escape} from '../shared/text-escaper.js';\n\nconst QUOTE = /\"/g;\n\n/**\n * @implements globalThis.Attr\n */\nexport class Attr extends Node {\n  constructor(ownerDocument, name, value = '') {\n    super(ownerDocument, name, ATTRIBUTE_NODE);\n    this.ownerElement = null;\n    this.name = String(name);\n    this[VALUE] = String(value);\n    this[CHANGED] = false;\n  }\n\n  get value() { return this[VALUE]; }\n  set value(newValue) {\n    const {[VALUE]: oldValue, name, ownerElement} = this;\n    this[VALUE] = String(newValue);\n    this[CHANGED] = true;\n    if (ownerElement) {\n      moAttributes(ownerElement, name, oldValue);\n      ceAttributes(ownerElement, name, oldValue, this[VALUE]);\n    }\n  }\n\n  cloneNode() {\n    const {ownerDocument, name, [VALUE]: value} = this;\n    return new Attr(ownerDocument, name, value);\n  }\n\n  toString() {\n    const {name, [VALUE]: value} = this;\n    if (emptyAttributes.has(name) && !value) {\n      return ignoreCase(this) ? name : `${name}=\"\"`;\n    }\n    const escapedValue = (ignoreCase(this) ? value : escape(value)).replace(QUOTE, '&quot;');\n    return `${name}=\"${escapedValue}\"`;\n  }\n\n  toJSON() {\n    const json = [];\n    attrAsJSON(this, json);\n    return json;\n  }\n}\n", "import {\n  NODE_END,\n  ATTRIBUTE_NODE,\n  CDATA_SECTION_NODE,\n  COMMENT_NODE,\n  DOCUMENT_TYPE_NODE,\n  ELEMENT_NODE,\n  TEXT_NODE\n} from './constants.js';\n\nimport {END, NEXT, VALUE} from './symbols.js';\n\nimport {getEnd} from './utils.js';\n\nconst loopSegment = ({[NEXT]: next, [END]: end}, json) => {\n  while (next !== end) {\n    switch (next.nodeType) {\n      case ATTRIBUTE_NODE:\n        attrAsJSON(next, json);\n        break;\n      case TEXT_NODE:\n      case COMMENT_NODE:\n      case CDATA_SECTION_NODE:\n        characterDataAsJSON(next, json);\n        break;\n      case ELEMENT_NODE:\n        elementAsJSON(next, json);\n        next = getEnd(next);\n        break;\n      case DOCUMENT_TYPE_NODE:\n        documentTypeAsJSON(next, json);\n        break;\n    }\n    next = next[NEXT];\n  }\n  const last = json.length - 1;\n  const value = json[last];\n  if (typeof value === 'number' && value < 0)\n    json[last] += NODE_END;\n  else\n    json.push(NODE_END);\n};\n\nexport const attrAsJSON = (attr, json) => {\n  json.push(ATTRIBUTE_NODE, attr.name);\n  const value = attr[VALUE].trim();\n  if (value)\n    json.push(value);\n};\n\nexport const characterDataAsJSON = (node, json) => {\n  const value = node[VALUE];\n  if (value.trim())\n    json.push(node.nodeType, value);\n};\n\nexport const nonElementAsJSON = (node, json) => {\n  json.push(node.nodeType);\n  loopSegment(node, json);\n};\n\nexport const documentTypeAsJSON = ({name, publicId, systemId}, json) => {\n  json.push(DOCUMENT_TYPE_NODE, name);\n  if (publicId)\n    json.push(publicId);\n  if (systemId)\n    json.push(systemId);\n};\n\nexport const elementAsJSON = (element, json) => {\n  json.push(ELEMENT_NODE, element.localName);\n  loopSegment(element, json);\n};\n", "import {CLASS_LIST, NEXT, PREV, VALUE} from './symbols.js';\n\nimport {knownAdjacent, knownSiblings} from './utils.js';\n\nimport {attributeChangedCallback as ceAttributes} from '../interface/custom-element-registry.js';\nimport {attributeChangedCallback as moAttributes} from '../interface/mutation-observer.js';\n\nexport const emptyAttributes = new Set([\n  'allowfullscreen',\n  'allowpaymentrequest',\n  'async',\n  'autofocus',\n  'autoplay',\n  'checked',\n  'class',\n  'contenteditable',\n  'controls',\n  'default',\n  'defer',\n  'disabled',\n  'draggable',\n  'formnovalidate',\n  'hidden',\n  'id',\n  'ismap',\n  'itemscope',\n  'loop',\n  'multiple',\n  'muted',\n  'nomodule',\n  'novalidate',\n  'open',\n  'playsinline',\n  'readonly',\n  'required',\n  'reversed',\n  'selected',\n  'style',\n  'truespeed'\n]);\n\nexport const setAttribute = (element, attribute) => {\n  const {[VALUE]: value, name} = attribute;\n  attribute.ownerElement = element;\n  knownSiblings(element, attribute, element[NEXT]);\n  if (name === 'class')\n    element.className = value;\n  moAttributes(element, name, null);\n  ceAttributes(element, name, null, value);\n};\n\nexport const removeAttribute = (element, attribute) => {\n  const {[VALUE]: value, name} = attribute;\n  knownAdjacent(attribute[PREV], attribute[NEXT]);\n  attribute.ownerElement = attribute[PREV] = attribute[NEXT] = null;\n  if (name === 'class')\n    element[CLASS_LIST] = null;\n  moAttributes(element, name, value);\n  ceAttributes(element, name, value, null);\n};\n\nexport const booleanAttribute = {\n  get(element, name) {\n    return element.hasAttribute(name);\n  },\n  set(element, name, value) {\n    if (value)\n      element.setAttribute(name, '');\n    else\n      element.removeAttribute(name);\n  }\n};\n\nexport const numericAttribute = {\n  get(element, name) {\n    return parseFloat(element.getAttribute(name) || 0);\n  },\n  set(element, name, value) {\n    element.setAttribute(name, value);\n  }\n};\n\nexport const stringAttribute = {\n  get(element, name) {\n    return element.getAttribute(name) || '';\n  },\n  set(element, name, value) {\n    element.setAttribute(name, value);\n  }\n};\n\n/* oddly enough, this apparently is not a thing\nexport const nullableAttribute = {\n  get(element, name) {\n    return element.getAttribute(name);\n  },\n  set(element, name, value) {\n    if (value === null)\n      element.removeAttribute(name);\n    else\n      element.setAttribute(name, value);\n  }\n};\n*/\n", "import {MUTATION_OBSERVER} from '../shared/symbols.js';\n\nconst createRecord =\n  (type, target, element, addedNodes, removedNodes, attributeName, oldValue) =>\n ({\n  type,\n  target,\n  addedNodes,\n  removedNodes,\n  attributeName,\n  oldValue,\n  previousSibling: element?.previousSibling || null,\n  nextSibling: element?.nextSibling || null,\n});\n\nconst queueAttribute = (\n  observer, target, attributeName, attributeFilter, attributeOldValue, oldValue\n) => {\n  if ((!attributeFilter || attributeFilter.includes(attributeName))) {\n    const {callback, records, scheduled} = observer;\n    records.push(createRecord(\n      'attributes', target, null,\n      [], [],\n      attributeName, attributeOldValue ? oldValue : void 0\n    ));\n    if (!scheduled) {\n      observer.scheduled = true;\n      Promise.resolve().then(() => {\n        observer.scheduled = false;\n        callback(records.splice(0), observer);\n      });\n    }\n  }\n};\n\nexport const attributeChangedCallback = (element, attributeName, oldValue) => {\n  const {ownerDocument} = element;\n  const {active, observers} = ownerDocument[MUTATION_OBSERVER];\n  if (active) {\n    for (const observer of observers) {\n      for (const [\n        target,\n        {\n          childList,\n          subtree,\n          attributes,\n          attributeFilter,\n          attributeOldValue\n        }\n      ] of observer.nodes) {\n        if (childList) {\n          if (\n            (subtree && (target === ownerDocument || target.contains(element))) ||\n            (!subtree && target.children.includes(element))\n          ) {\n            queueAttribute(\n              observer, element,\n              attributeName, attributeFilter, attributeOldValue, oldValue\n            );\n            break;\n          }\n        }\n        else if (\n          attributes &&\n          target === element\n        ) {\n          queueAttribute(\n            observer, element,\n            attributeName, attributeFilter, attributeOldValue, oldValue\n          );\n          break;\n        }\n      }\n    }\n  }\n};\n\nexport const moCallback = (element, parentNode) => {\n  const {ownerDocument} = element;\n  const {active, observers} = ownerDocument[MUTATION_OBSERVER];\n  if (active) {\n    for (const observer of observers) {\n      for (const [target, {subtree, childList, characterData}] of observer.nodes) {\n        if (childList) {\n          if (\n            (parentNode && (target === parentNode || /* c8 ignore next */(subtree && target.contains(parentNode)))) ||\n            (!parentNode && ((subtree && (target === ownerDocument || /* c8 ignore next */target.contains(element))) ||\n                            (!subtree && target[characterData ? 'childNodes' : 'children'].includes(element))))\n          ) {\n            const {callback, records, scheduled} = observer;\n            records.push(createRecord(\n              'childList', target, element,\n              parentNode ? [] : [element], parentNode ? [element] : []\n            ));\n            if (!scheduled) {\n              observer.scheduled = true;\n              Promise.resolve().then(() => {\n                observer.scheduled = false;\n                callback(records.splice(0), observer);\n              });\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n};\n\nexport class MutationObserverClass {\n  constructor(ownerDocument) {\n    const observers = new Set;\n    this.observers = observers;\n    this.active = false;\n\n    /**\n     * @implements globalThis.MutationObserver\n     */\n    this.class = class MutationObserver {\n\n      constructor(callback) {\n        /**\n         * @private\n         */\n        this.callback = callback;\n\n        /**\n         * @private\n         */\n        this.nodes = new Map;\n\n        /**\n         * @private\n         */\n        this.records = [];\n\n        /**\n         * @private\n         */\n        this.scheduled = false;\n      }\n\n      disconnect() {\n        this.records.splice(0);\n        this.nodes.clear();\n        observers.delete(this);\n        ownerDocument[MUTATION_OBSERVER].active = !!observers.size;\n      }\n\n      /**\n       * @param {Element} target\n       * @param {MutationObserverInit} options\n       */\n      observe(target, options = {\n        subtree: false,\n        childList: false,\n        attributes: false,\n        attributeFilter: null,\n        attributeOldValue: false,\n        characterData: false,\n        // TODO: not implemented yet\n        // characterDataOldValue: false\n      }) {\n        if (('attributeOldValue' in options) || ('attributeFilter' in options))\n          options.attributes = true;\n        // if ('characterDataOldValue' in options)\n        //   options.characterData = true;\n        options.childList = !!options.childList;\n        options.subtree = !!options.subtree;\n        this.nodes.set(target, options);\n        observers.add(this);\n        ownerDocument[MUTATION_OBSERVER].active = true;\n      }\n\n      /**\n       * @returns {MutationRecord[]}\n       */\n      takeRecords() { return this.records.splice(0); }\n    }\n  }\n}\n", "// https://dom.spec.whatwg.org/#node\n\nimport {\n  ELEMENT_NODE,\n  ATTRIBUTE_NODE,\n  TEXT_NODE,\n  CDATA_SECTION_NODE,\n  COMMENT_NODE,\n  DOCUMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n  DOCUMENT_TYPE_NODE,\n  DOCUMENT_POSITION_DISCONNECTED,\n  DOCUMENT_POSITION_PRECEDING,\n  DOCUMENT_POSITION_FOLLOWING,\n  DOCUMENT_POSITION_CONTAINS,\n  DOCUMENT_POSITION_CONTAINED_BY,\n  DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC\n} from '../shared/constants.js';\n\nimport {NEXT, PREV} from '../shared/symbols.js';\n\nimport {EventTarget} from './event-target.js';\n\nimport {NodeList} from './node-list.js';\n\nconst getParentNodeCount = ({parentNode}) => {\n  let count = 0;\n  while (parentNode) {\n    count++;\n    parentNode = parentNode.parentNode;\n  }\n  return count;\n};\n\n/**\n * @implements globalThis.Node\n */\nexport class Node extends EventTarget {\n\n  static get ELEMENT_NODE() { return ELEMENT_NODE; }\n  static get ATTRIBUTE_NODE() { return ATTRIBUTE_NODE; }\n  static get TEXT_NODE() { return TEXT_NODE; }\n  static get CDATA_SECTION_NODE() { return CDATA_SECTION_NODE; }\n  static get COMMENT_NODE() { return COMMENT_NODE; }\n  static get DOCUMENT_NODE() { return DOCUMENT_NODE; }\n  static get DOCUMENT_FRAGMENT_NODE() { return DOCUMENT_FRAGMENT_NODE; }\n  static get DOCUMENT_TYPE_NODE() { return DOCUMENT_TYPE_NODE; }\n\n  constructor(ownerDocument, localName, nodeType) {\n    super();\n    this.ownerDocument = ownerDocument;\n    this.localName = localName;\n    this.nodeType = nodeType;\n    this.parentNode = null;\n    this[NEXT] = null;\n    this[PREV] = null;\n  }\n\n  get ELEMENT_NODE() { return ELEMENT_NODE; }\n  get ATTRIBUTE_NODE() { return ATTRIBUTE_NODE; }\n  get TEXT_NODE() { return TEXT_NODE; }\n  get CDATA_SECTION_NODE() { return CDATA_SECTION_NODE; }\n  get COMMENT_NODE() { return COMMENT_NODE; }\n  get DOCUMENT_NODE() { return DOCUMENT_NODE; }\n  get DOCUMENT_FRAGMENT_NODE() { return DOCUMENT_FRAGMENT_NODE; }\n  get DOCUMENT_TYPE_NODE() { return DOCUMENT_TYPE_NODE; }\n\n  get baseURI() {\n    const ownerDocument = this.nodeType === DOCUMENT_NODE ?\n                            this : this.ownerDocument;\n    if (ownerDocument) {\n      const base = ownerDocument.querySelector('base');\n      if (base)\n        return base.getAttribute('href');\n\n      const {location} = ownerDocument.defaultView;\n      if (location)\n        return location.href;\n    }\n\n    return null;\n  }\n\n  /* c8 ignore start */\n  // mixin: node\n  get isConnected() { return false; }\n  get nodeName() { return this.localName; }\n  get parentElement() { return null; }\n  get previousSibling() { return null; }\n  get previousElementSibling() { return null; }\n  get nextSibling() { return null; }\n  get nextElementSibling() { return null; }\n  get childNodes() { return new NodeList; }\n  get firstChild() { return null; }\n  get lastChild() { return null; }\n\n  // default values\n  get nodeValue() { return null; }\n  set nodeValue(value) {}\n  get textContent() { return null; }\n  set textContent(value) {}\n  normalize() {}\n  cloneNode() { return null; }\n  contains() { return false; }\n  /**\n   * Inserts a node before a reference node as a child of this parent node.\n   * @param {Node} newNode The node to be inserted.\n   * @param {Node} referenceNode The node before which newNode is inserted. If this is null, then newNode is inserted at the end of node's child nodes.\n   * @returns The added child\n   */\n  // eslint-disable-next-line no-unused-vars\n  insertBefore(newNode, referenceNode) { return newNode }\n  /**\n   * Adds a node to the end of the list of children of this node.\n   * @param {Node} child The node to append to the given parent node.\n   * @returns The appended child.\n   */\n  appendChild(child) { return child }\n  /**\n   * Replaces a child node within this node\n   * @param {Node} newChild The new node to replace oldChild.\n   * @param {Node} oldChild The child to be replaced.\n   * @returns The replaced Node. This is the same node as oldChild.\n   */\n  replaceChild(newChild, oldChild) { return oldChild }\n  /**\n   * Removes a child node from the DOM.\n   * @param {Node} child A Node that is the child node to be removed from the DOM.\n   * @returns The removed node.\n   */\n  removeChild(child) { return child }\n  toString() { return ''; }\n  /* c8 ignore stop */\n\n  hasChildNodes() { return !!this.lastChild; }\n  isSameNode(node) { return this === node; }\n\n  // TODO: attributes?\n  compareDocumentPosition(target) {\n    let result = 0;\n    if (this !== target) {\n      let self = getParentNodeCount(this);\n      let other = getParentNodeCount(target);\n      if (self < other) {\n        result += DOCUMENT_POSITION_FOLLOWING;\n        if (this.contains(target))\n          result += DOCUMENT_POSITION_CONTAINED_BY;\n      }\n      else if (other < self) {\n        result += DOCUMENT_POSITION_PRECEDING;\n        if (target.contains(this))\n          result += DOCUMENT_POSITION_CONTAINS;\n      }\n      else if (self && other) {\n        const {childNodes} = this.parentNode;\n        if (childNodes.indexOf(this) < childNodes.indexOf(target))\n          result += DOCUMENT_POSITION_FOLLOWING;\n        else\n          result += DOCUMENT_POSITION_PRECEDING;\n      }\n      if (!self || !other) {\n        result += DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC;\n        result += DOCUMENT_POSITION_DISCONNECTED;\n      }\n    }\n    return result;\n  }\n\n  isEqualNode(node) {\n    if (this === node)\n      return true;\n    if (this.nodeType === node.nodeType) {\n      switch (this.nodeType) {\n        case DOCUMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE: {\n          const aNodes = this.childNodes;\n          const bNodes = node.childNodes;\n          return aNodes.length === bNodes.length && aNodes.every((node, i) => node.isEqualNode(bNodes[i]));\n        }\n      }\n      return this.toString() === node.toString();\n    }\n    return false;\n  }\n\n  /**\n   * @protected\n   */\n  _getParent() {\n    return this.parentNode;\n  }\n\n  /**\n   * Calling it on an element inside a standard web page will return an HTMLDocument object representing the entire page (or <iframe>).\n   * Calling it on an element inside a shadow DOM will return the associated ShadowRoot.\n   * @return {ShadowRoot | HTMLDocument}\n   */\n  getRootNode() {\n    let root = this;\n    while (root.parentNode)\n      root = root.parentNode;\n    return root;\n  }\n}\n", "// https://dom.spec.whatwg.org/#interface-eventtarget\n\nconst wm = new WeakMap();\n\nfunction dispatch(event, listener) {\n  if (typeof listener === 'function')\n    listener.call(event.target, event);\n  else\n    listener.handleEvent(event);\n  return event._stopImmediatePropagationFlag;\n}\n\nfunction invokeListeners({currentTarget, target}) {\n  const map = wm.get(currentTarget);\n  if (map && map.has(this.type)) {\n    const listeners = map.get(this.type);\n    if (currentTarget === target) {\n      this.eventPhase = this.AT_TARGET;\n    } else {\n      this.eventPhase = this.BUBBLING_PHASE;\n    }\n\n    this.currentTarget = currentTarget;\n    this.target = target;\n    for (const [listener, options] of listeners) {\n      if (options && options.once)\n        listeners.delete(listener);\n      if (dispatch(this, listener))\n        break;\n    }\n    delete this.currentTarget;\n    delete this.target;\n    return this.cancelBubble;\n  }\n}\n\n\n/**\n * @implements globalThis.EventTarget\n */\nclass DOMEventTarget {\n\n  constructor() {\n    wm.set(this, new Map);\n  }\n\n  /**\n   * @protected\n   */\n  _getParent() {\n    return null;\n  }\n\n  addEventListener(type, listener, options) {\n    const map = wm.get(this);\n    if (!map.has(type)) \n      map.set(type, new Map);\n    map.get(type).set(listener, options);\n  }\n\n  removeEventListener(type, listener) {\n    const map = wm.get(this);\n    if (map.has(type)) {\n      const listeners = map.get(type);\n      if (listeners.delete(listener) && !listeners.size)\n        map.delete(type);\n    }\n  }\n\n  dispatchEvent(event) {\n    let node = this;\n    event.eventPhase = event.CAPTURING_PHASE;\n\n    // intentionally simplified, specs imply way more code: https://dom.spec.whatwg.org/#event-path\n    while (node) {\n      if (node.dispatchEvent)\n        event._path.push({currentTarget: node, target: this});\n      node = event.bubbles && node._getParent && node._getParent();\n    }\n    event._path.some(invokeListeners, event);\n    event._path = [];\n    event.eventPhase = event.NONE;\n    return !event.defaultPrevented;\n  }\n\n}\n\nexport {DOMEventTarget as EventTarget};\n", "// https://dom.spec.whatwg.org/#interface-nodelist\n\n/**\n * @implements globalThis.NodeList\n */\nexport class NodeList extends Array {\n  item(i) { return i < this.length ? this[i] : null; }\n}\n", "const {replace} = '';\n\n// escape\nconst ca = /[<>&\\xA0]/g;\n\nconst esca = {\n  '\\xA0': '&#160;',\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\n\nconst pe = m => esca[m];\n\n/**\n * Safely escape HTML entities such as `&`, `<`, `>` only.\n * @param {string} es the input to safely escape\n * @returns {string} the escaped input, and it **throws** an error if\n *  the input type is unexpected, except for boolean and numbers,\n *  converted as string.\n */\nexport const escape = es => replace.call(es, ca, pe);\n", "// https://dom.spec.whatwg.org/#interface-characterdata\n\nimport {NEXT, PREV, VALUE} from '../shared/symbols.js';\nimport {String} from '../shared/utils.js';\nimport {isConnected, parentElement, previousSibling, nextSibling} from '../shared/node.js';\nimport {characterDataAsJSON} from '../shared/jsdon.js';\n\nimport {previousElementSibling, nextElementSibling} from '../mixin/non-document-type-child-node.js';\nimport {before, after, replaceWith, remove} from '../mixin/child-node.js';\n\nimport {Node} from './node.js';\nimport {moCallback} from './mutation-observer.js';\n\n/**\n * @implements globalThis.CharacterData\n */\nexport class CharacterData extends Node {\n\n  constructor(ownerDocument, localName, nodeType, data) {\n    super(ownerDocument, localName, nodeType);\n    this[VALUE] = String(data);\n  }\n\n  // <Mixins>\n  get isConnected() { return isConnected(this); }\n  get parentElement() { return parentElement(this); }\n  get previousSibling() { return previousSibling(this); }\n  get nextSibling() { return nextSibling(this); }\n\n  get previousElementSibling() { return previousElementSibling(this); }\n  get nextElementSibling() { return nextElementSibling(this); }\n\n  before(...nodes) { before(this, nodes); }\n  after(...nodes) { after(this, nodes); }\n  replaceWith(...nodes) { replaceWith(this, nodes); }\n  remove() { remove(this[PREV], this, this[NEXT]); }\n  // </Mixins>\n\n  // CharacterData only\n  /* c8 ignore start */\n  get data() { return this[VALUE]; }\n  set data(value) {\n    this[VALUE] = String(value);\n    moCallback(this, this.parentNode);\n  }\n\n  get nodeValue() { return this.data; }\n  set nodeValue(value) { this.data = value; }\n\n  get textContent() { return this.data; }\n  set textContent(value) { this.data = value; }\n\n  get length() { return this.data.length; }\n\n  substringData(offset, count) {\n    return this.data.substr(offset, count);\n  }\n\n  appendData(data) {\n    this.data += data;\n  }\n\n  insertData(offset, data) {\n    const {data: t} = this;\n    this.data = t.slice(0, offset) + data + t.slice(offset);\n  }\n\n  deleteData(offset, count) {\n    const {data: t} = this;\n    this.data = t.slice(0, offset) + t.slice(offset + count);\n  }\n\n  replaceData(offset, count, data) {\n    const {data: t} = this;\n    this.data = t.slice(0, offset) + data + t.slice(offset + count);\n  }\n  /* c8 ignore stop */\n\n  toJSON() {\n    const json = [];\n    characterDataAsJSON(this, json);\n    return json;\n  }\n}\n", "import {\n  CDATA_SECTION_NODE,\n  COMMENT_NODE,\n  DOCUMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n  TEXT_NODE,\n  NODE_END\n} from './constants.js';\n\nimport {START, NEXT, PREV} from './symbols.js';\nimport {getEnd} from './utils.js';\n\nexport const isConnected = ({ownerDocument, parentNode}) => {\n  while (parentNode) {\n    if (parentNode === ownerDocument)\n      return true;\n    parentNode = parentNode.parentNode || parentNode.host;\n  }\n  return false;\n};\n\nexport const parentElement = ({parentNode}) => {\n  if (parentNode) {\n    switch (parentNode.nodeType) {\n      case DOCUMENT_NODE:\n      case DOCUMENT_FRAGMENT_NODE:\n        return null;\n    }\n  }\n  return parentNode;\n};\n\nexport const previousSibling = ({[PREV]: prev}) => {\n  switch (prev ? prev.nodeType : 0) {\n    case NODE_END:\n      return prev[START];\n    case TEXT_NODE:\n    case COMMENT_NODE:\n    case CDATA_SECTION_NODE:\n      return prev;\n  }\n  return null;\n};\n\nexport const nextSibling = node => {\n  const next = getEnd(node)[NEXT];\n  return next && (next.nodeType === NODE_END ? null : next);\n};\n", "// https://dom.spec.whatwg.org/#nondocumenttypechildnode\n// CharacterData, Element\n\nimport {ELEMENT_NODE} from '../shared/constants.js';\n\nimport {nextSibling, previousSibling} from '../shared/node.js';\n\nexport const nextElementSibling = node => {\n  let next = nextSibling(node);\n  while (next && next.nodeType !== ELEMENT_NODE)\n    next = nextSibling(next);\n  return next;\n};\n\nexport const previousElementSibling = node => {\n  let prev = previousSibling(node);\n  while (prev && prev.nodeType !== ELEMENT_NODE)\n    prev = previousSibling(prev);\n  return prev;\n};\n", "// https://dom.spec.whatwg.org/#childnode\n// CharacterData, DocumentType, Element\n\nimport {ELEMENT_NODE} from '../shared/constants.js';\nimport {NEXT, PREV} from '../shared/symbols.js';\n\nimport {getEnd, setAdjacent} from '../shared/utils.js';\n\nimport {moCallback} from '../interface/mutation-observer.js';\nimport {disconnectedCallback} from '../interface/custom-element-registry.js';\n\nconst asFragment = (ownerDocument, nodes) => {\n  const fragment = ownerDocument.createDocumentFragment();\n  fragment.append(...nodes);\n  return fragment;\n};\n\nexport const before = (node, nodes) => {\n  const {ownerDocument, parentNode} = node;\n  if (parentNode)\n    parentNode.insertBefore(\n      asFragment(ownerDocument, nodes),\n      node\n    );\n};\n\nexport const after = (node, nodes) => {\n  const {ownerDocument, parentNode} = node;\n  if (parentNode)\n    parentNode.insertBefore(\n      asFragment(ownerDocument, nodes),\n      getEnd(node)[NEXT]\n    );\n};\n\nexport const replaceWith = (node, nodes) => {\n  const {ownerDocument, parentNode} = node;\n  if (parentNode) {\n    if (nodes.includes(node))\n      replaceWith(node, [node = node.cloneNode()]);\n    parentNode.insertBefore(\n      asFragment(ownerDocument, nodes),\n      node\n    );\n    node.remove();\n  }\n};\n\nexport const remove = (prev, current, next) => {\n  const {parentNode, nodeType} = current;\n  if (prev || next) {\n    setAdjacent(prev, next);\n    current[PREV] = null;\n    getEnd(current)[NEXT] = null;\n  }\n  if (parentNode) {\n    current.parentNode = null;\n    moCallback(current, parentNode);\n    if (nodeType === ELEMENT_NODE)\n      disconnectedCallback(current);\n  }\n};\n", "import {CDATA_SECTION_NODE} from '../shared/constants.js';\nimport {VALUE} from '../shared/symbols.js';\n\nimport {CharacterData} from './character-data.js';\n\n/**\n * @implements globalThis.CDATASection\n */\nexport class CDATASection extends CharacterData {\n  constructor(ownerDocument, data = '') {\n    super(ownerDocument, '#cdatasection', CDATA_SECTION_NODE, data);\n  }\n\n  cloneNode() {\n    const {ownerDocument, [VALUE]: data} = this;\n    return new CDATASection(ownerDocument, data);\n  }\n\n  toString() { return `<![CDATA[${this[VALUE]}]]>`; }\n}\n", "import {COMMENT_NODE} from '../shared/constants.js';\nimport {VALUE} from '../shared/symbols.js';\n\nimport {CharacterData} from './character-data.js';\n\n/**\n * @implements globalThis.Comment\n */\nexport class Comment extends CharacterData {\n  constructor(ownerDocument, data = '') {\n    super(ownerDocument, '#comment', COMMENT_NODE, data);\n  }\n\n  cloneNode() {\n    const {ownerDocument, [VALUE]: data} = this;\n    return new Comment(ownerDocument, data);\n  }\n\n  toString() { return `<!--${this[VALUE]}-->`; }\n}\n", "import {DOCUMENT_FRAGMENT_NODE} from '../shared/constants.js';\nimport {NonElementParentNode} from '../mixin/non-element-parent-node.js';\n\n/**\n * @implements globalThis.DocumentFragment\n */\nexport class DocumentFragment extends NonElementParentNode {\n  constructor(ownerDocument) {\n    super(ownerDocument, '#document-fragment', DOCUMENT_FRAGMENT_NODE);\n  }\n}\n", "// https://dom.spec.whatwg.org/#interface-nonelementparentnode\n// Document, DocumentFragment\n\nimport {ELEMENT_NODE} from '../shared/constants.js';\nimport {END, NEXT} from '../shared/symbols.js';\nimport {nonElementAsJSON} from '../shared/jsdon.js';\n\nimport {ParentNode} from './parent-node.js';\n\nexport class NonElementParentNode extends ParentNode {\n  getElementById(id) {\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      if (next.nodeType === ELEMENT_NODE && next.id === id)\n        return next;\n      next = next[NEXT];\n    }\n    return null;\n  }\n\n  cloneNode(deep) {\n    const {ownerDocument, constructor} = this;\n    const nonEPN = new constructor(ownerDocument);\n    if (deep) {\n      const {[END]: end} = nonEPN;\n      for (const node of this.childNodes)\n        nonEPN.insertBefore(node.cloneNode(deep), end);\n    }\n    return nonEPN; \n  }\n\n  toString() {\n    const {childNodes, localName} = this;\n    return `<${localName}>${childNodes.join('')}</${localName}>`;\n  }\n\n  toJSON() {\n    const json = [];\n    nonElementAsJSON(this, json);\n    return json;\n  }\n}\n", "// https://dom.spec.whatwg.org/#interface-parentnode\n// Document, DocumentFragment, Element\n\nimport {\n  ATTRIBUTE_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n  ELEMENT_NODE,\n  TEXT_NODE,\n  NODE_END,\n  CDATA_SECTION_NODE,\n  COMMENT_NODE\n} from '../shared/constants.js';\n\nimport {PRIVATE, END, NEXT, PREV, START, VALUE} from '../shared/symbols.js';\n\nimport {prepareMatch} from '../shared/matches.js';\nimport {previousSibling, nextSibling} from '../shared/node.js';\nimport {getEnd, knownAdjacent, knownBoundaries, knownSegment, knownSiblings, localCase} from '../shared/utils.js';\n\nimport {Node} from '../interface/node.js';\nimport {Text} from '../interface/text.js';\nimport {NodeList} from '../interface/node-list.js';\n\nimport {moCallback} from '../interface/mutation-observer.js';\nimport {connectedCallback} from '../interface/custom-element-registry.js';\n\nimport {nextElementSibling} from './non-document-type-child-node.js';\n\nconst isNode = node => node instanceof Node;\n\nconst insert = (parentNode, child, nodes) => {\n  const {ownerDocument} = parentNode;\n  for (const node of nodes)\n    parentNode.insertBefore(\n      isNode(node) ? node : new Text(ownerDocument, node),\n      child\n    );\n};\n\n/** @typedef { import('../interface/element.js').Element & {\n    [typeof NEXT]: NodeStruct,\n    [typeof PREV]: NodeStruct,\n    [typeof START]: NodeStruct,\n    nodeType: typeof ATTRIBUTE_NODE | typeof DOCUMENT_FRAGMENT_NODE | typeof ELEMENT_NODE | typeof TEXT_NODE | typeof NODE_END | typeof COMMENT_NODE | typeof CDATA_SECTION_NODE,\n    ownerDocument: Document,\n    parentNode: ParentNode,\n}} NodeStruct */\n\nexport class ParentNode extends Node {\n  constructor(ownerDocument, localName, nodeType) {\n    super(ownerDocument, localName, nodeType);\n    this[PRIVATE] = null;\n    /** @type {NodeStruct} */\n    this[NEXT] = this[END] = {\n      [NEXT]: null,\n      [PREV]: this,\n      [START]: this,\n      nodeType: NODE_END,\n      ownerDocument: this.ownerDocument,\n      parentNode: null\n    };\n  }\n\n  get childNodes() {\n    const childNodes = new NodeList;\n    let {firstChild} = this;\n    while (firstChild) {\n      childNodes.push(firstChild);\n      firstChild = nextSibling(firstChild);\n    }\n    return childNodes;\n  }\n\n  get children() {\n    const children = new NodeList;\n    let {firstElementChild} = this;\n    while (firstElementChild) {\n      children.push(firstElementChild);\n      firstElementChild = nextElementSibling(firstElementChild);\n    }\n    return children;\n  }\n\n  /**\n   * @returns {NodeStruct | null}\n   */\n  get firstChild() {\n    let {[NEXT]: next, [END]: end} = this;\n    while (next.nodeType === ATTRIBUTE_NODE)\n      next = next[NEXT];\n    return next === end ? null : next;\n  }\n\n  /**\n   * @returns {NodeStruct | null}\n   */\n  get firstElementChild() {\n    let {firstChild} = this;\n    while (firstChild) {\n      if (firstChild.nodeType === ELEMENT_NODE)\n        return firstChild;\n      firstChild = nextSibling(firstChild);\n    }\n    return null;\n  }\n\n  get lastChild() {\n    const prev = this[END][PREV];\n    switch (prev.nodeType) {\n      case NODE_END:\n        return prev[START];\n      case ATTRIBUTE_NODE:\n        return null;\n    }\n    return prev === this ? null : prev;\n  }\n\n  get lastElementChild() {\n    let {lastChild} = this;\n    while (lastChild) {\n      if (lastChild.nodeType === ELEMENT_NODE)\n        return lastChild;\n      lastChild = previousSibling(lastChild);\n    }\n    return null;\n  }\n\n  get childElementCount() {\n    return this.children.length;\n  }\n\n  prepend(...nodes) {\n    insert(this, this.firstChild, nodes);\n  }\n\n  append(...nodes) {\n    insert(this, this[END], nodes);\n  }\n\n  replaceChildren(...nodes) {\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end && next.nodeType === ATTRIBUTE_NODE)\n      next = next[NEXT];\n    while (next !== end) {\n      const after = getEnd(next)[NEXT];\n      next.remove();\n      next = after;\n    }\n    if (nodes.length)\n      insert(this, end, nodes);\n  }\n\n  getElementsByClassName(className) {\n    const elements = new NodeList;\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      if (\n        next.nodeType === ELEMENT_NODE &&\n        next.hasAttribute('class') &&\n        next.classList.has(className)\n      )\n        elements.push(next);\n      next = next[NEXT];\n    }\n    return elements;\n  }\n\n  getElementsByTagName(tagName) {\n    const elements = new NodeList;\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      if (next.nodeType === ELEMENT_NODE && (\n        next.localName === tagName ||\n        localCase(next) === tagName\n      ))\n        elements.push(next);\n      next = next[NEXT];\n    }\n    return elements;\n  }\n\n  querySelector(selectors) {\n    const matches = prepareMatch(this, selectors);\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      if (next.nodeType === ELEMENT_NODE && matches(next))\n        return next;\n      next = next.nodeType === ELEMENT_NODE && next.localName === 'template' ? next[END] : next[NEXT];\n    }\n    return null;\n  }\n\n  querySelectorAll(selectors) {\n    const matches = prepareMatch(this, selectors);\n    const elements = new NodeList;\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      if (next.nodeType === ELEMENT_NODE && matches(next))\n        elements.push(next);\n      next = next.nodeType === ELEMENT_NODE && next.localName === 'template' ? next[END] : next[NEXT];\n    }\n    return elements;\n  }\n\n  appendChild(node) {\n    return this.insertBefore(node, this[END]);\n  }\n\n  contains(node) {\n    let parentNode = node;\n    while (parentNode && parentNode !== this)\n      parentNode = parentNode.parentNode;\n    return parentNode === this;\n  }\n\n  insertBefore(node, before = null) {\n    if (node === before)\n      return node;\n    if (node === this)\n      throw new Error('unable to append a node to itself');\n    const next = before || this[END];\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        node.remove();\n        node.parentNode = this;\n        knownBoundaries(next[PREV], node, next);\n        moCallback(node, null);\n        connectedCallback(node);\n        break;\n      case DOCUMENT_FRAGMENT_NODE: {\n        let {[PRIVATE]: parentNode, firstChild, lastChild} = node;\n        if (firstChild) {\n          knownSegment(next[PREV], firstChild, lastChild, next);\n          knownAdjacent(node, node[END]);\n          if (parentNode)\n            parentNode.replaceChildren();\n          do {\n            firstChild.parentNode = this;\n            moCallback(firstChild, null);\n            if (firstChild.nodeType === ELEMENT_NODE)\n              connectedCallback(firstChild);\n          } while (\n            firstChild !== lastChild &&\n            (firstChild = nextSibling(firstChild))\n          );\n        }\n        break;\n      }\n      case TEXT_NODE:\n      case COMMENT_NODE:\n      case CDATA_SECTION_NODE:\n        node.remove();\n      /* eslint no-fallthrough:0 */\n      // this covers DOCUMENT_TYPE_NODE too\n      default:\n        node.parentNode = this;\n        knownSiblings(next[PREV], node, next);\n        moCallback(node, null);\n        break;\n    }\n    return node;\n  }\n\n  normalize() {\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      const {[NEXT]: $next, [PREV]: $prev, nodeType} = next;\n      if (nodeType === TEXT_NODE) {\n        if (!next[VALUE])\n          next.remove();\n        else if ($prev && $prev.nodeType === TEXT_NODE) {\n          $prev.textContent += next.textContent;\n          next.remove();\n        }\n      }\n      next = $next;\n    }\n  }\n\n  removeChild(node) {\n    if (node.parentNode !== this)\n      throw new Error('node is not a child');\n    node.remove();\n    return node;\n  }\n\n  replaceChild(node, replaced) {\n    const next = getEnd(replaced)[NEXT];\n    replaced.remove();\n    this.insertBefore(node, next);\n    return replaced;\n  }\n}\n", "import * as CSSselect from 'css-select';\n\nimport {ELEMENT_NODE, TEXT_NODE} from './constants.js';\nimport {ignoreCase} from './utils.js';\n\nconst {isArray} = Array;\n\n/* c8 ignore start */\nconst isTag = ({nodeType}) => nodeType === ELEMENT_NODE;\n\nconst existsOne = (test, elements) => elements.some(\n  element => isTag(element) && (\n    test(element) ||\n    existsOne(test, getChildren(element))\n  )\n);\n\nconst getAttributeValue = (element, name) => name === 'class' ?\n                            element.classList.value : element.getAttribute(name);\n\nconst getChildren = ({childNodes}) => childNodes;\n\nconst getName = (element) => {\n  const {localName} = element;\n  return ignoreCase(element) ? localName.toLowerCase() : localName;\n};\n\nconst getParent = ({parentNode}) => parentNode;\n\nconst getSiblings = element => {\n  const {parentNode} = element;\n  return parentNode ? getChildren(parentNode) : element;\n};\n\nconst getText = node => {\n  if (isArray(node))\n    return node.map(getText).join('');\n  if (isTag(node))\n    return getText(getChildren(node));\n  if (node.nodeType === TEXT_NODE)\n    return node.data;\n  return '';\n};\n\nconst hasAttrib = (element, name) => element.hasAttribute(name);\n\nconst removeSubsets = nodes => {\n  let {length} = nodes;\n  while (length--) {\n    const node = nodes[length];\n    if (length && -1 < nodes.lastIndexOf(node, length - 1)) {\n      nodes.splice(length, 1);\n      continue;\n    }\n    for (let {parentNode} = node; parentNode; parentNode = parentNode.parentNode) {\n      if (nodes.includes(parentNode)) {\n        nodes.splice(length, 1);\n        break;\n      }\n    }\n  }\n  return nodes;\n};\n\nconst findAll = (test, nodes) => {\n  const matches = [];\n  for (const node of nodes) {\n    if (isTag(node)) {\n      if (test(node))\n        matches.push(node);\n      matches.push(...findAll(test, getChildren(node)));\n    }\n  }\n  return matches;\n};\n\nconst findOne = (test, nodes) => {\n  for (let node of nodes)\n    if (test(node) || (node = findOne(test, getChildren(node))))\n      return node;\n  return null;\n};\n/* c8 ignore stop */\n\nconst adapter = {\n  isTag,\n  existsOne,\n  getAttributeValue,\n  getChildren,\n  getName,\n  getParent,\n  getSiblings,\n  getText,\n  hasAttrib,\n  removeSubsets,\n  findAll,\n  findOne\n};\n\nexport const prepareMatch = (element, selectors) => CSSselect.compile(\n  selectors,\n  {\n    context: selectors.includes(':scope') ? element : void 0,\n    xmlMode: !ignoreCase(element),\n    adapter\n  }\n);\n\nexport const matches = (element, selectors) => CSSselect.is(\n  element,\n  selectors,\n  {\n    strict: true,\n    context: selectors.includes(':scope') ? element : void 0,\n    xmlMode: !ignoreCase(element),\n    adapter\n  }\n);\n", null, null, "export * from \"./types\";\nexport { isTraversal, parse } from \"./parse\";\nexport { stringify } from \"./stringify\";\n", "export var SelectorType;\n(function (SelectorType) {\n    SelectorType[\"Attribute\"] = \"attribute\";\n    SelectorType[\"Pseudo\"] = \"pseudo\";\n    SelectorType[\"PseudoElement\"] = \"pseudo-element\";\n    SelectorType[\"Tag\"] = \"tag\";\n    SelectorType[\"Universal\"] = \"universal\";\n    // Traversals\n    SelectorType[\"Adjacent\"] = \"adjacent\";\n    SelectorType[\"Child\"] = \"child\";\n    SelectorType[\"Descendant\"] = \"descendant\";\n    SelectorType[\"Parent\"] = \"parent\";\n    SelectorType[\"Sibling\"] = \"sibling\";\n    SelectorType[\"ColumnCombinator\"] = \"column-combinator\";\n})(SelectorType || (SelectorType = {}));\n/**\n * Modes for ignore case.\n *\n * This could be updated to an enum, and the object is\n * the current stand-in that will allow code to be updated\n * without big changes.\n */\nexport const IgnoreCaseMode = {\n    Unknown: null,\n    QuirksMode: \"quirks\",\n    IgnoreCase: true,\n    CaseSensitive: false,\n};\nexport var AttributeAction;\n(function (AttributeAction) {\n    AttributeAction[\"Any\"] = \"any\";\n    AttributeAction[\"Element\"] = \"element\";\n    AttributeAction[\"End\"] = \"end\";\n    AttributeAction[\"Equals\"] = \"equals\";\n    AttributeAction[\"Exists\"] = \"exists\";\n    AttributeAction[\"Hyphen\"] = \"hyphen\";\n    AttributeAction[\"Not\"] = \"not\";\n    AttributeAction[\"Start\"] = \"start\";\n})(AttributeAction || (AttributeAction = {}));\n", "import { SelectorType, AttributeAction, } from \"./types\";\nconst reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nconst reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\nconst actionTypes = new Map([\n    [126 /* Tilde */, AttributeAction.Element],\n    [94 /* Circumflex */, AttributeAction.Start],\n    [36 /* Dollar */, AttributeAction.End],\n    [42 /* Asterisk */, AttributeAction.Any],\n    [33 /* ExclamationMark */, AttributeAction.Not],\n    [124 /* Pipe */, AttributeAction.Hyphen],\n]);\n// Pseudos, whose data property is parsed as well.\nconst unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"where\",\n    \"host\",\n    \"host-context\",\n]);\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nexport function isTraversal(selector) {\n    switch (selector.type) {\n        case SelectorType.Adjacent:\n        case SelectorType.Child:\n        case SelectorType.Descendant:\n        case SelectorType.Parent:\n        case SelectorType.Sibling:\n        case SelectorType.ColumnCombinator:\n            return true;\n        default:\n            return false;\n    }\n}\nconst stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    const high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isQuote(c) {\n    return c === 39 /* SingleQuote */ || c === 34 /* DoubleQuote */;\n}\nfunction isWhitespace(c) {\n    return (c === 32 /* Space */ ||\n        c === 9 /* Tab */ ||\n        c === 10 /* NewLine */ ||\n        c === 12 /* FormFeed */ ||\n        c === 13 /* CarriageReturn */);\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nexport function parse(selector) {\n    const subselects = [];\n    const endIndex = parseSelector(subselects, `${selector}`, 0);\n    if (endIndex < selector.length) {\n        throw new Error(`Unmatched selector: ${selector.slice(endIndex)}`);\n    }\n    return subselects;\n}\nfunction parseSelector(subselects, selector, selectorIndex) {\n    let tokens = [];\n    function getName(offset) {\n        const match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(`Expected name, found ${selector.slice(selectorIndex)}`);\n        }\n        const [name] = match;\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        selectorIndex += offset;\n        while (selectorIndex < selector.length &&\n            isWhitespace(selector.charCodeAt(selectorIndex))) {\n            selectorIndex++;\n        }\n    }\n    function readValueWithParenthesis() {\n        selectorIndex += 1;\n        const start = selectorIndex;\n        let counter = 1;\n        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n            if (selector.charCodeAt(selectorIndex) ===\n                40 /* LeftParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter++;\n            }\n            else if (selector.charCodeAt(selectorIndex) ===\n                41 /* RightParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter--;\n            }\n        }\n        if (counter) {\n            throw new Error(\"Parenthesis not matched\");\n        }\n        return unescapeCSS(selector.slice(start, selectorIndex - 1));\n    }\n    function isEscaped(pos) {\n        let slashCount = 0;\n        while (selector.charCodeAt(--pos) === 92 /* BackSlash */)\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    function addTraversal(type) {\n        if (tokens.length > 0 &&\n            tokens[tokens.length - 1].type === SelectorType.Descendant) {\n            tokens[tokens.length - 1].type = type;\n            return;\n        }\n        ensureNotTraversal();\n        tokens.push({ type });\n    }\n    function addSpecialAttribute(name, action) {\n        tokens.push({\n            type: SelectorType.Attribute,\n            name,\n            action,\n            value: getName(1),\n            namespace: null,\n            ignoreCase: \"quirks\",\n        });\n    }\n    /**\n     * We have finished parsing the current part of the selector.\n     *\n     * Remove descendant tokens at the end if they exist,\n     * and return the last index, so that parsing can be\n     * picked up from here.\n     */\n    function finalizeSubselector() {\n        if (tokens.length &&\n            tokens[tokens.length - 1].type === SelectorType.Descendant) {\n            tokens.pop();\n        }\n        if (tokens.length === 0) {\n            throw new Error(\"Empty sub-selector\");\n        }\n        subselects.push(tokens);\n    }\n    stripWhitespace(0);\n    if (selector.length === selectorIndex) {\n        return selectorIndex;\n    }\n    loop: while (selectorIndex < selector.length) {\n        const firstChar = selector.charCodeAt(selectorIndex);\n        switch (firstChar) {\n            // Whitespace\n            case 32 /* Space */:\n            case 9 /* Tab */:\n            case 10 /* NewLine */:\n            case 12 /* FormFeed */:\n            case 13 /* CarriageReturn */: {\n                if (tokens.length === 0 ||\n                    tokens[0].type !== SelectorType.Descendant) {\n                    ensureNotTraversal();\n                    tokens.push({ type: SelectorType.Descendant });\n                }\n                stripWhitespace(1);\n                break;\n            }\n            // Traversals\n            case 62 /* GreaterThan */: {\n                addTraversal(SelectorType.Child);\n                stripWhitespace(1);\n                break;\n            }\n            case 60 /* LessThan */: {\n                addTraversal(SelectorType.Parent);\n                stripWhitespace(1);\n                break;\n            }\n            case 126 /* Tilde */: {\n                addTraversal(SelectorType.Sibling);\n                stripWhitespace(1);\n                break;\n            }\n            case 43 /* Plus */: {\n                addTraversal(SelectorType.Adjacent);\n                stripWhitespace(1);\n                break;\n            }\n            // Special attribute selectors: .class, #id\n            case 46 /* Period */: {\n                addSpecialAttribute(\"class\", AttributeAction.Element);\n                break;\n            }\n            case 35 /* Hash */: {\n                addSpecialAttribute(\"id\", AttributeAction.Equals);\n                break;\n            }\n            case 91 /* LeftSquareBracket */: {\n                stripWhitespace(1);\n                // Determine attribute name and namespace\n                let name;\n                let namespace = null;\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */) {\n                    // Equivalent to no namespace\n                    name = getName(1);\n                }\n                else if (selector.startsWith(\"*|\", selectorIndex)) {\n                    namespace = \"*\";\n                    name = getName(2);\n                }\n                else {\n                    name = getName(0);\n                    if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                        selector.charCodeAt(selectorIndex + 1) !==\n                            61 /* Equal */) {\n                        namespace = name;\n                        name = getName(1);\n                    }\n                }\n                stripWhitespace(0);\n                // Determine comparison operation\n                let action = AttributeAction.Exists;\n                const possibleAction = actionTypes.get(selector.charCodeAt(selectorIndex));\n                if (possibleAction) {\n                    action = possibleAction;\n                    if (selector.charCodeAt(selectorIndex + 1) !==\n                        61 /* Equal */) {\n                        throw new Error(\"Expected `=`\");\n                    }\n                    stripWhitespace(2);\n                }\n                else if (selector.charCodeAt(selectorIndex) === 61 /* Equal */) {\n                    action = AttributeAction.Equals;\n                    stripWhitespace(1);\n                }\n                // Determine value\n                let value = \"\";\n                let ignoreCase = null;\n                if (action !== \"exists\") {\n                    if (isQuote(selector.charCodeAt(selectorIndex))) {\n                        const quote = selector.charCodeAt(selectorIndex);\n                        let sectionEnd = selectorIndex + 1;\n                        while (sectionEnd < selector.length &&\n                            (selector.charCodeAt(sectionEnd) !== quote ||\n                                isEscaped(sectionEnd))) {\n                            sectionEnd += 1;\n                        }\n                        if (selector.charCodeAt(sectionEnd) !== quote) {\n                            throw new Error(\"Attribute value didn't end\");\n                        }\n                        value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));\n                        selectorIndex = sectionEnd + 1;\n                    }\n                    else {\n                        const valueStart = selectorIndex;\n                        while (selectorIndex < selector.length &&\n                            ((!isWhitespace(selector.charCodeAt(selectorIndex)) &&\n                                selector.charCodeAt(selectorIndex) !==\n                                    93 /* RightSquareBracket */) ||\n                                isEscaped(selectorIndex))) {\n                            selectorIndex += 1;\n                        }\n                        value = unescapeCSS(selector.slice(valueStart, selectorIndex));\n                    }\n                    stripWhitespace(0);\n                    // See if we have a force ignore flag\n                    const forceIgnore = selector.charCodeAt(selectorIndex) | 0x20;\n                    // If the forceIgnore flag is set (either `i` or `s`), use that value\n                    if (forceIgnore === 115 /* LowerS */) {\n                        ignoreCase = false;\n                        stripWhitespace(1);\n                    }\n                    else if (forceIgnore === 105 /* LowerI */) {\n                        ignoreCase = true;\n                        stripWhitespace(1);\n                    }\n                }\n                if (selector.charCodeAt(selectorIndex) !==\n                    93 /* RightSquareBracket */) {\n                    throw new Error(\"Attribute selector didn't terminate\");\n                }\n                selectorIndex += 1;\n                const attributeSelector = {\n                    type: SelectorType.Attribute,\n                    name,\n                    action,\n                    value,\n                    namespace,\n                    ignoreCase,\n                };\n                tokens.push(attributeSelector);\n                break;\n            }\n            case 58 /* Colon */: {\n                if (selector.charCodeAt(selectorIndex + 1) === 58 /* Colon */) {\n                    tokens.push({\n                        type: SelectorType.PseudoElement,\n                        name: getName(2).toLowerCase(),\n                        data: selector.charCodeAt(selectorIndex) ===\n                            40 /* LeftParenthesis */\n                            ? readValueWithParenthesis()\n                            : null,\n                    });\n                    continue;\n                }\n                const name = getName(1).toLowerCase();\n                let data = null;\n                if (selector.charCodeAt(selectorIndex) ===\n                    40 /* LeftParenthesis */) {\n                    if (unpackPseudos.has(name)) {\n                        if (isQuote(selector.charCodeAt(selectorIndex + 1))) {\n                            throw new Error(`Pseudo-selector ${name} cannot be quoted`);\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, selectorIndex + 1);\n                        if (selector.charCodeAt(selectorIndex) !==\n                            41 /* RightParenthesis */) {\n                            throw new Error(`Missing closing parenthesis in :${name} (${selector})`);\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        data = readValueWithParenthesis();\n                        if (stripQuotesFromPseudos.has(name)) {\n                            const quot = data.charCodeAt(0);\n                            if (quot === data.charCodeAt(data.length - 1) &&\n                                isQuote(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                        }\n                        data = unescapeCSS(data);\n                    }\n                }\n                tokens.push({ type: SelectorType.Pseudo, name, data });\n                break;\n            }\n            case 44 /* Comma */: {\n                finalizeSubselector();\n                tokens = [];\n                stripWhitespace(1);\n                break;\n            }\n            default: {\n                if (selector.startsWith(\"/*\", selectorIndex)) {\n                    const endIndex = selector.indexOf(\"*/\", selectorIndex + 2);\n                    if (endIndex < 0) {\n                        throw new Error(\"Comment was not terminated\");\n                    }\n                    selectorIndex = endIndex + 2;\n                    // Remove leading whitespace\n                    if (tokens.length === 0) {\n                        stripWhitespace(0);\n                    }\n                    break;\n                }\n                let namespace = null;\n                let name;\n                if (firstChar === 42 /* Asterisk */) {\n                    selectorIndex += 1;\n                    name = \"*\";\n                }\n                else if (firstChar === 124 /* Pipe */) {\n                    name = \"\";\n                    if (selector.charCodeAt(selectorIndex + 1) === 124 /* Pipe */) {\n                        addTraversal(SelectorType.ColumnCombinator);\n                        stripWhitespace(2);\n                        break;\n                    }\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name = getName(0);\n                }\n                else {\n                    break loop;\n                }\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                    selector.charCodeAt(selectorIndex + 1) !== 124 /* Pipe */) {\n                    namespace = name;\n                    if (selector.charCodeAt(selectorIndex + 1) ===\n                        42 /* Asterisk */) {\n                        name = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name = getName(1);\n                    }\n                }\n                tokens.push(name === \"*\"\n                    ? { type: SelectorType.Universal, namespace }\n                    : { type: SelectorType.Tag, name, namespace });\n            }\n        }\n    }\n    finalizeSubselector();\n    return selectorIndex;\n}\n", null, null, null, null, null, null, null, null, null, null, null, "import {TEXT_NODE} from '../shared/constants.js';\nimport {VALUE} from '../shared/symbols.js';\nimport {escape} from '../shared/text-escaper.js';\n\nimport {CharacterData} from './character-data.js';\n\n/**\n * @implements globalThis.Text\n */\nexport class Text extends CharacterData {\n  constructor(ownerDocument, data = '') {\n    super(ownerDocument, '#text', TEXT_NODE, data);\n  }\n\n  get wholeText() {\n    const text = [];\n    let {previousSibling, nextSibling} = this;\n    while (previousSibling) {\n      if (previousSibling.nodeType === TEXT_NODE)\n        text.unshift(previousSibling[VALUE]);\n      else\n        break;\n      previousSibling = previousSibling.previousSibling;\n    }\n    text.push(this[VALUE]);\n    while (nextSibling) {\n      if (nextSibling.nodeType === TEXT_NODE)\n        text.push(nextSibling[VALUE]);\n      else\n        break;\n      nextSibling = nextSibling.nextSibling;\n    }\n    return text.join('');\n  }\n\n  cloneNode() {\n    const {ownerDocument, [VALUE]: data} = this;\n    return new Text(ownerDocument, data);\n  }\n\n  toString() { return escape(this[VALUE]); }\n}\n", "import {DOCUMENT_TYPE_NODE} from '../shared/constants.js';\nimport {documentTypeAsJSON} from '../shared/jsdon.js';\n\nimport {Node} from './node.js';\n\n/**\n * @implements globalThis.DocumentType\n */\nexport class DocumentType extends Node {\n  constructor(ownerDocument, name, publicId = '', systemId = '') {\n    super(ownerDocument, '#document-type', DOCUMENT_TYPE_NODE);\n    this.name = name;\n    this.publicId = publicId;\n    this.systemId = systemId;\n  }\n\n  cloneNode() {\n    const {ownerDocument, name, publicId, systemId} = this;\n    return new DocumentType(ownerDocument, name, publicId, systemId);\n  }\n\n  toString() {\n    const {name, publicId, systemId} = this;\n    const hasPublic = 0 < publicId.length;\n    const str = [name];\n    if (hasPublic)\n      str.push('PUBLIC', `\"${publicId}\"`);\n    if (systemId.length) {\n      if (!hasPublic)\n        str.push('SYSTEM');\n      str.push(`\"${systemId}\"`);\n    }\n    return `<!DOCTYPE ${str.join(' ')}>`;\n  }\n\n  toJSON() {\n    const json = [];\n    documentTypeAsJSON(this, json);\n    return json;\n  }\n}\n", "// https://dom.spec.whatwg.org/#interface-element\n\nimport {\n  ATTRIBUTE_NODE,\n  BLOCK_ELEMENTS,\n  CDATA_SECTION_NODE,\n  COMMENT_NODE,\n  ELEMENT_NODE,\n  NODE_END,\n  TEXT_NODE,\n  SVG_NAMESPACE\n} from '../shared/constants.js';\n\nimport {\n  setAttribute, removeAttribute,\n  numericAttribute, stringAttribute\n} from '../shared/attributes.js';\n\nimport {\n  CLASS_LIST, DATASET, STYLE,\n  END, NEXT, PREV, START,\n  MIME\n} from '../shared/symbols.js';\n\nimport {\n  htmlToFragment,\n  ignoreCase,\n  knownAdjacent,\n  localCase,\n  String\n} from '../shared/utils.js';\n\nimport {elementAsJSON} from '../shared/jsdon.js';\nimport {matches, prepareMatch} from '../shared/matches.js';\nimport {shadowRoots} from '../shared/shadow-roots.js';\n\nimport {isConnected, parentElement, previousSibling, nextSibling} from '../shared/node.js';\nimport {previousElementSibling, nextElementSibling} from '../mixin/non-document-type-child-node.js';\n\nimport {before, after, replaceWith, remove} from '../mixin/child-node.js';\nimport {getInnerHtml, setInnerHtml} from '../mixin/inner-html.js';\nimport {ParentNode} from '../mixin/parent-node.js';\n\nimport {DOMStringMap} from '../dom/string-map.js';\nimport {DOMTokenList} from '../dom/token-list.js';\n\nimport {CSSStyleDeclaration} from './css-style-declaration.js';\nimport {Event} from './event.js';\nimport {NamedNodeMap} from './named-node-map.js';\nimport {ShadowRoot} from './shadow-root.js';\nimport {NodeList} from './node-list.js';\nimport {Attr} from './attr.js';\nimport {Text} from './text.js';\nimport {escape} from '../shared/text-escaper.js';\n\n// <utils>\nconst attributesHandler = {\n  get(target, key) {\n    return key in target ? target[key] : target.find(({name}) => name === key);\n  }\n};\n\nconst create = (ownerDocument, element, localName)  => {\n  if ('ownerSVGElement' in element) {\n    const svg = ownerDocument.createElementNS(SVG_NAMESPACE, localName);\n    svg.ownerSVGElement = element.ownerSVGElement;\n    return svg;\n  }\n  return ownerDocument.createElement(localName);\n};\n\nconst isVoid = ({localName, ownerDocument}) => {\n  return ownerDocument[MIME].voidElements.test(localName);\n};\n\n// </utils>\n\n/**\n * @implements globalThis.Element\n */\nexport class Element extends ParentNode {\n  constructor(ownerDocument, localName) {\n    super(ownerDocument, localName, ELEMENT_NODE);\n    this[CLASS_LIST] = null;\n    this[DATASET] = null;\n    this[STYLE] = null;\n  }\n\n  // <Mixins>\n  get isConnected() { return isConnected(this); }\n  get parentElement() { return parentElement(this); }\n  get previousSibling() { return previousSibling(this); }\n  get nextSibling() { return nextSibling(this); }\n  get namespaceURI() {\n    return 'http://www.w3.org/1999/xhtml';\n  }\n\n  get previousElementSibling() { return previousElementSibling(this); }\n  get nextElementSibling() { return nextElementSibling(this); }\n\n  before(...nodes) { before(this, nodes); }\n  after(...nodes) { after(this, nodes); }\n  replaceWith(...nodes) { replaceWith(this, nodes); }\n  remove() { remove(this[PREV], this, this[END][NEXT]); }\n  // </Mixins>\n\n  // <specialGetters>\n  get id() { return stringAttribute.get(this, 'id'); }\n  set id(value) { stringAttribute.set(this, 'id', value); }\n\n  get className() { return this.classList.value; }\n  set className(value) {\n    const {classList} = this;\n    classList.clear();\n    classList.add(...(String(value).split(/\\s+/)));\n  }\n\n  get nodeName() { return localCase(this); }\n  get tagName() { return localCase(this); }\n\n  get classList() {\n    return this[CLASS_LIST] || (\n      this[CLASS_LIST] = new DOMTokenList(this)\n    );\n  }\n\n  get dataset() {\n    return this[DATASET] || (\n      this[DATASET] = new DOMStringMap(this)\n    );\n  }\n\n  getBoundingClientRect() {\n    return {\n      x: 0,\n      y: 0,\n      bottom: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0,\n      width: 0\n    };\n  }\n\n  get nonce() { return stringAttribute.get(this, 'nonce'); }\n  set nonce(value) { stringAttribute.set(this, 'nonce', value); }\n\n  get style() {\n    return this[STYLE] || (\n      this[STYLE] = new CSSStyleDeclaration(this)\n    );\n  }\n\n  get tabIndex() { return numericAttribute.get(this, 'tabindex') || -1; }\n  set tabIndex(value) { numericAttribute.set(this, 'tabindex', value); }\n\n  get slot() { return stringAttribute.get(this, 'slot'); }\n  set slot(value) { stringAttribute.set(this, 'slot', value); }\n  // </specialGetters>\n\n\n  // <contentRelated>\n  get innerText() {\n    const text = [];\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      if (next.nodeType === TEXT_NODE) {\n        text.push(next.textContent.replace(/\\s+/g, ' '));\n      } else if(\n        text.length && next[NEXT] != end &&\n        BLOCK_ELEMENTS.has(next.tagName)\n      ) {\n        text.push('\\n');\n      }\n      next = next[NEXT];\n    }\n    return text.join('');\n  }\n\n  /**\n   * @returns {String}\n   */\n  get textContent() {\n    const text = [];\n    let {[NEXT]: next, [END]: end} = this;\n    while (next !== end) {\n      const nodeType = next.nodeType;\n      if (nodeType === TEXT_NODE || nodeType === CDATA_SECTION_NODE)\n        text.push(next.textContent);\n      next = next[NEXT];\n    }\n    return text.join('');\n  }\n\n  set textContent(text) {\n    this.replaceChildren();\n    if (text != null && text !== '')\n      this.appendChild(new Text(this.ownerDocument, text));\n  }\n\n  get innerHTML() {\n    return getInnerHtml(this);\n  }\n  set innerHTML(html) {\n    setInnerHtml(this, html);\n  }\n\n  get outerHTML() { return this.toString(); }\n  set outerHTML(html) {\n    const template = this.ownerDocument.createElement('');\n    template.innerHTML = html;\n    this.replaceWith(...template.childNodes);\n  }\n  // </contentRelated>\n\n  // <attributes>\n  get attributes() {\n    const attributes = new NamedNodeMap(this);\n    let next = this[NEXT];\n    while (next.nodeType === ATTRIBUTE_NODE) {\n      attributes.push(next);\n      next = next[NEXT];\n    }\n    return new Proxy(attributes, attributesHandler);\n  }\n\n  focus() { this.dispatchEvent(new Event('focus')); }\n\n  getAttribute(name) {\n    if (name === 'class')\n      return this.className;\n    const attribute = this.getAttributeNode(name);\n    return attribute && (ignoreCase(this) ? attribute.value : escape(attribute.value));\n  }\n\n  getAttributeNode(name) {\n    let next = this[NEXT];\n    while (next.nodeType === ATTRIBUTE_NODE) {\n      if (next.name === name)\n        return next;\n      next = next[NEXT];\n    }\n    return null;\n  }\n\n  getAttributeNames() {\n    const attributes = new NodeList;\n    let next = this[NEXT];\n    while (next.nodeType === ATTRIBUTE_NODE) {\n      attributes.push(next.name);\n      next = next[NEXT];\n    }\n    return attributes;\n  }\n\n  hasAttribute(name) { return !!this.getAttributeNode(name); }\n  hasAttributes() { return this[NEXT].nodeType === ATTRIBUTE_NODE; }\n\n  removeAttribute(name) {\n    if (name === 'class' && this[CLASS_LIST])\n        this[CLASS_LIST].clear();\n    let next = this[NEXT];\n    while (next.nodeType === ATTRIBUTE_NODE) {\n      if (next.name === name) {\n        removeAttribute(this, next);\n        return;\n      }\n      next = next[NEXT];\n    }\n  }\n\n  removeAttributeNode(attribute) {\n    let next = this[NEXT];\n    while (next.nodeType === ATTRIBUTE_NODE) {\n      if (next === attribute) {\n        removeAttribute(this, next);\n        return;\n      }\n      next = next[NEXT];\n    }\n  }\n\n  setAttribute(name, value) {\n    if (name === 'class')\n      this.className = value;\n    else {\n      const attribute = this.getAttributeNode(name);\n      if (attribute)\n        attribute.value = value;\n      else\n        setAttribute(this, new Attr(this.ownerDocument, name, value));\n    }\n  }\n\n  setAttributeNode(attribute) {\n    const {name} = attribute;\n    const previously = this.getAttributeNode(name);\n    if (previously !== attribute) {\n      if (previously)\n        this.removeAttributeNode(previously);\n      const {ownerElement} = attribute;\n      if (ownerElement)\n        ownerElement.removeAttributeNode(attribute);\n      setAttribute(this, attribute);\n    }\n    return previously;\n  }\n\n  toggleAttribute(name, force) {\n    if (this.hasAttribute(name)) {\n      if (!force) {\n        this.removeAttribute(name);\n        return false;\n      }\n      return true;\n    }\n    else if (force || arguments.length === 1) {\n      this.setAttribute(name, '');\n      return true;\n    }\n    return false;\n  }\n  // </attributes>\n\n  // <ShadowDOM>\n  get shadowRoot() {\n    if (shadowRoots.has(this)) {\n      const {mode, shadowRoot} = shadowRoots.get(this);\n      if (mode === 'open')\n        return shadowRoot;\n    }\n    return null;\n  }\n\n  attachShadow(init) {\n    if (shadowRoots.has(this))\n      throw new Error('operation not supported');\n    // TODO: shadowRoot should be likely a specialized class that extends DocumentFragment\n    //       but until DSD is out, I am not sure I should spend time on this.\n    const shadowRoot = new ShadowRoot(this);\n    shadowRoots.set(this, {\n      mode: init.mode,\n      shadowRoot\n    });\n    return shadowRoot;\n  }\n  // </ShadowDOM>\n\n  // <selectors>\n  matches(selectors) { return matches(this, selectors); }\n  closest(selectors) {\n    let parentElement = this;\n    const matches = prepareMatch(parentElement, selectors);\n    while (parentElement && !matches(parentElement))\n      parentElement = parentElement.parentElement;\n    return parentElement;\n  }\n  // </selectors>\n\n  // <insertAdjacent>\n  insertAdjacentElement(position, element) {\n    const {parentElement} = this;\n    switch (position) {\n      case 'beforebegin':\n        if (parentElement) {\n          parentElement.insertBefore(element, this);\n          break;\n        }\n        return null;\n      case 'afterbegin':\n        this.insertBefore(element, this.firstChild);\n        break;\n      case 'beforeend':\n        this.insertBefore(element, null);\n        break;\n      case 'afterend':\n        if (parentElement) {\n          parentElement.insertBefore(element, this.nextSibling);\n          break;\n        }\n        return null;\n    }\n    return element;\n  }\n\n  insertAdjacentHTML(position, html) {\n    this.insertAdjacentElement(position, htmlToFragment(this.ownerDocument, html));\n  }\n\n  insertAdjacentText(position, text) {\n    const node = this.ownerDocument.createTextNode(text);\n    this.insertAdjacentElement(position, node);\n  }\n  // </insertAdjacent>\n\n  cloneNode(deep = false) {\n    const {ownerDocument, localName} = this;\n    const addNext = next => {\n      next.parentNode = parentNode;\n      knownAdjacent($next, next);\n      $next = next;\n    };\n    const clone = create(ownerDocument, this, localName);\n    let parentNode = clone, $next = clone;\n    let {[NEXT]: next, [END]: prev} = this;\n    while (next !== prev && (deep || next.nodeType === ATTRIBUTE_NODE)) {\n      switch (next.nodeType) {\n        case NODE_END:\n          knownAdjacent($next, parentNode[END]);\n          $next = parentNode[END];\n          parentNode = parentNode.parentNode;\n          break;\n        case ELEMENT_NODE: {\n          const node = create(ownerDocument, next, next.localName);\n          addNext(node);\n          parentNode = node;\n          break;\n        }\n        case ATTRIBUTE_NODE: {\n          const attr = next.cloneNode(deep);\n          attr.ownerElement = parentNode;\n          addNext(attr);\n          break;\n        }\n        case TEXT_NODE:\n        case COMMENT_NODE:\n        case CDATA_SECTION_NODE:\n          addNext(next.cloneNode(deep));\n          break;\n      }\n      next = next[NEXT];\n    }\n    knownAdjacent($next, clone[END]);\n    return clone;\n  }\n\n  // <custom>\n  toString() {\n    const out = [];\n    const {[END]: end} = this;\n    let next = {[NEXT]: this};\n    let isOpened = false;\n    do {\n      next = next[NEXT];\n      switch (next.nodeType) {\n        case ATTRIBUTE_NODE: {\n          const attr = ' ' + next;\n          switch (attr) {\n            case ' id':\n            case ' class':\n            case ' style':\n              break;\n            default:\n              out.push(attr);\n          }\n          break;\n        }\n        case NODE_END: {\n          const start = next[START];\n          if (isOpened) {\n            if ('ownerSVGElement' in start)\n              out.push(' />');\n            else if (isVoid(start))\n              out.push(ignoreCase(start) ? '>' : ' />');\n            else\n              out.push(`></${start.localName}>`);\n            isOpened = false;\n          }\n          else\n            out.push(`</${start.localName}>`);\n          break;\n        }\n        case ELEMENT_NODE:\n          if (isOpened)\n            out.push('>');\n          if (next.toString !== this.toString) {\n            out.push(next.toString());\n            next = next[END];\n            isOpened = false;\n          }\n          else {\n            out.push(`<${next.localName}`);\n            isOpened = true;\n          }\n          break;\n        case TEXT_NODE:\n        case COMMENT_NODE:\n        case CDATA_SECTION_NODE:\n          out.push((isOpened ? '>' : '') + next);\n          isOpened = false;\n          break;\n      }\n    } while (next !== end);\n    return out.join('');\n  }\n\n  toJSON() {\n    const json = [];\n    elementAsJSON(this, json);\n    return json;\n  }\n  // </custom>\n\n\n  /* c8 ignore start */\n  getAttributeNS(_, name) { return this.getAttribute(name); }\n  getElementsByTagNameNS(_, name) { return this.getElementsByTagName(name); }\n  hasAttributeNS(_, name) { return this.hasAttribute(name); }\n  removeAttributeNS(_, name) { this.removeAttribute(name); }\n  setAttributeNS(_, name, value) { this.setAttribute(name, value); }\n  setAttributeNodeNS(attr) { return this.setAttributeNode(attr); }\n  /* c8 ignore stop */\n}\n", "import {ELEMENT_NODE, DOCUMENT_FRAGMENT_NODE} from '../shared/constants.js';\nimport {CUSTOM_ELEMENTS} from '../shared/symbols.js';\nimport {parseFromString} from '../shared/parse-from-string.js';\nimport {ignoreCase} from '../shared/utils.js';\n\n\n/**\n * @param {Node} node\n * @returns {String}\n */\nexport const getInnerHtml = node => node.childNodes.join('');\n\n/**\n * @param {Node} node\n * @param {String} html\n */\nexport const setInnerHtml = (node, html) => {\n  const {ownerDocument} = node;\n  const {constructor} = ownerDocument;\n  const document = new constructor;\n  document[CUSTOM_ELEMENTS] = ownerDocument[CUSTOM_ELEMENTS];\n  const {childNodes} = parseFromString(document, ignoreCase(node), html);\n\n  node.replaceChildren(...childNodes.map(setOwnerDocument, ownerDocument));\n};\n\nfunction setOwnerDocument(node) {\n  node.ownerDocument = this;\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE:\n      node.childNodes.forEach(setOwnerDocument, this);\n      break;\n  }\n  return node;\n}\n", "import uhyphen from 'uhyphen';\nimport {setPrototypeOf} from '../shared/object.js';\n\nconst refs = new WeakMap;\n\nconst key = name => `data-${uhyphen(name)}`;\nconst prop = name => name.slice(5).replace(/-([a-z])/g, (_, $1) => $1.toUpperCase());\n\nconst handler = {\n  get(dataset, name) {\n    if (name in dataset)\n      return refs.get(dataset).getAttribute(key(name));\n  },\n\n  set(dataset, name, value) {\n    dataset[name] = value;\n    refs.get(dataset).setAttribute(key(name), value);\n    return true;\n  },\n\n  deleteProperty(dataset, name) {\n    if (name in dataset)\n      refs.get(dataset).removeAttribute(key(name));\n    return delete dataset[name];\n  }\n};\n\n/**\n * @implements globalThis.DOMStringMap\n */\nexport class DOMStringMap {\n  /**\n   * @param {Element} ref\n   */\n  constructor(ref) {\n    for (const {name, value} of ref.attributes) {\n      if (/^data-/.test(name))\n        this[prop(name)] = value;\n    }\n    refs.set(this, ref);\n    return new Proxy(this, handler);\n  }\n}\n\nsetPrototypeOf(DOMStringMap.prototype, null);\n", "export default camel => camel.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z0-9]+)([A-Z]))/g, '$2$5-$3$6')\n                             .toLowerCase();\n", "import {OWNER_ELEMENT} from '../shared/symbols.js';\nimport {setAttribute} from '../shared/attributes.js';\n\nimport {Attr} from '../interface/attr.js';\n\nconst {add} = Set.prototype;\nconst addTokens = (self, tokens) => {\n  for (const token of tokens) {\n    if (token)\n      add.call(self, token);\n  }\n};\n\nconst update = ({[OWNER_ELEMENT]: ownerElement, value}) => {\n  const attribute = ownerElement.getAttributeNode('class');\n  if (attribute)\n    attribute.value = value;\n  else\n    setAttribute(\n      ownerElement,\n      new Attr(ownerElement.ownerDocument, 'class', value)\n    );\n};\n\n/**\n * @implements globalThis.DOMTokenList\n */\nexport class DOMTokenList extends Set {\n\n  constructor(ownerElement) {\n    super();\n    this[OWNER_ELEMENT] = ownerElement;\n    const attribute = ownerElement.getAttributeNode('class');\n    if (attribute)\n      addTokens(this, attribute.value.split(/\\s+/));\n  }\n\n  get length() { return this.size; }\n\n  get value() { return [...this].join(' '); }\n\n  /**\n   * @param  {...string} tokens\n   */\n  add(...tokens) {\n    addTokens(this, tokens);\n    update(this);\n  }\n\n  /**\n   * @param {string} token\n   */\n  contains(token) { return this.has(token); }\n\n  /**\n   * @param  {...string} tokens\n   */\n  remove(...tokens) {\n    for (const token of tokens)\n      this.delete(token);\n    update(this);\n  }\n\n  /**\n   * @param {string} token\n   * @param {boolean?} force\n   */\n  toggle(token, force) {\n    if (this.has(token)) {\n      if (force)\n        return true;\n      this.delete(token);\n      update(this);\n    }\n    else if (force || arguments.length === 1) {\n      super.add(token);\n      update(this);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {string} token\n   * @param {string} newToken\n   */\n  replace(token, newToken) {\n    if (this.has(token)) {\n      this.delete(token);\n      super.add(newToken);\n      update(this);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {string} token\n   */\n  supports() { return true; }\n}\n", "import uhyphen from 'uhyphen';\n\nimport {CHANGED, PRIVATE, VALUE} from '../shared/symbols.js';\n\nconst refs = new WeakMap;\n\nconst getKeys = style => [...style.keys()].filter(key => key !== PRIVATE);\n\nconst updateKeys = style => {\n  const attr = refs.get(style).getAttributeNode('style');\n  if (!attr || attr[CHANGED] || style.get(PRIVATE) !== attr) {\n    style.clear();\n    if (attr) {\n      style.set(PRIVATE, attr);\n      for (const rule of attr[VALUE].split(/\\s*;\\s*/)) {\n        let [key, ...rest] = rule.split(':');\n        if (rest.length > 0) {\n          key = key.trim();\n          const value = rest.join(':').trim();\n          if (key && value)\n            style.set(key, value);\n        }\n      }\n    }\n  }\n  return attr;\n};\n\nconst handler = {\n  get(style, name) {\n    if (name in prototype)\n      return style[name];\n    updateKeys(style);\n    if (name === 'length')\n      return getKeys(style).length;\n    if (/^\\d+$/.test(name))\n      return getKeys(style)[name];\n    return style.get(uhyphen(name));\n  },\n\n  set(style, name, value) {\n    if (name === 'cssText')\n      style[name] = value;\n    else {\n      let attr = updateKeys(style);\n      if (value == null)\n        style.delete(uhyphen(name));\n      else\n        style.set(uhyphen(name), value);\n      if (!attr) {\n        const element = refs.get(style);\n        attr = element.ownerDocument.createAttribute('style');\n        element.setAttributeNode(attr);\n        style.set(PRIVATE, attr);\n      }\n      attr[CHANGED] = false;\n      attr[VALUE] = style.toString();\n    }\n    return true;\n  }\n};\n\n/**\n * @implements globalThis.CSSStyleDeclaration\n */\nexport class CSSStyleDeclaration extends Map {\n  constructor(element) {\n    super();\n    refs.set(this, element);\n    /* c8 ignore start */\n    return new Proxy(this, handler);\n    /* c8 ignore stop */\n  }\n\n  get cssText() {\n    return this.toString();\n  }\n\n  set cssText(value) {\n    refs.get(this).setAttribute('style', value);\n  }\n\n  getPropertyValue(name) {\n    const self = this[PRIVATE];\n    return handler.get(self, name);\n  }\n\n  setProperty(name, value) {\n    const self = this[PRIVATE];\n    handler.set(self, name, value);\n  }\n\n  removeProperty(name) {\n    const self = this[PRIVATE];\n    handler.set(self, name, null);\n  }\n\n  [Symbol.iterator]() {\n    const self = this[PRIVATE];\n    updateKeys(self);\n    const keys = getKeys(self);\n    const {length} = keys;\n    let i = 0;\n    return {\n      next() {\n        const done = i === length;\n        return {done, value: done ? null : keys[i++]};\n      }\n    };\n  }\n\n  get[PRIVATE]() { return this; }\n\n  toString() {\n    const self = this[PRIVATE];\n    updateKeys(self);\n    const cssText = [];\n    self.forEach(push, cssText);\n    return cssText.join(';');\n  }\n}\n\nconst {prototype} = CSSStyleDeclaration;\n\nfunction push(value, key) {\n  if (key !== PRIVATE)\n    this.push(`${key}:${value}`);\n}\n", "// https://dom.spec.whatwg.org/#interface-event\n\n/* c8 ignore start */\n\n// Node 15 has Event but 14 and 12 don't\nconst BUBBLING_PHASE = 3;\nconst AT_TARGET = 2;\nconst CAPTURING_PHASE = 1;\nconst NONE = 0;\n\nfunction getCurrentTarget(ev) {\n  return ev.currentTarget;\n}\n\n/**\n * @implements globalThis.Event\n */\nclass GlobalEvent {\n    static get BUBBLING_PHASE() { return BUBBLING_PHASE; }\n    static get AT_TARGET() { return AT_TARGET; }\n    static get CAPTURING_PHASE() { return CAPTURING_PHASE; }\n    static get NONE() { return NONE; }\n\n    constructor(type, eventInitDict = {}) {\n      this.type = type;\n      this.bubbles = !!eventInitDict.bubbles;\n      this.cancelBubble = false;\n      this._stopImmediatePropagationFlag = false;\n      this.cancelable = !!eventInitDict.cancelable;\n      this.eventPhase = this.NONE;\n      this.timeStamp = Date.now();\n      this.defaultPrevented = false;\n      this.originalTarget = null;\n      this.returnValue = null;\n      this.srcElement = null;\n      this.target = null;\n      this._path = [];\n    }\n\n    get BUBBLING_PHASE() { return BUBBLING_PHASE; }\n    get AT_TARGET() { return AT_TARGET; }\n    get CAPTURING_PHASE() { return CAPTURING_PHASE; }\n    get NONE() { return NONE; }\n\n    preventDefault() { this.defaultPrevented = true; }\n\n    // simplified implementation, should be https://dom.spec.whatwg.org/#dom-event-composedpath\n    composedPath() {\n      return this._path.map(getCurrentTarget);\n    }\n\n    stopPropagation() {\n      this.cancelBubble = true;\n    }\n    \n    stopImmediatePropagation() {\n      this.stopPropagation();\n      this._stopImmediatePropagationFlag = true;\n    }\n  }\n\nexport {GlobalEvent as Event};\n\n/* c8 ignore stop */\n", "/**\n * @implements globalThis.NamedNodeMap\n */\nexport class NamedNodeMap extends Array {\n  constructor(ownerElement) {\n    super();\n    this.ownerElement = ownerElement;\n  }\n\n  getNamedItem(name) {\n    return this.ownerElement.getAttributeNode(name);\n  }\n\n  setNamedItem(attr) {\n    this.ownerElement.setAttributeNode(attr);\n    this.unshift(attr);\n  }\n\n  removeNamedItem(name) {\n    const item = this.getNamedItem(name);\n    this.ownerElement.removeAttribute(name);\n    this.splice(this.indexOf(item), 1);\n  }\n\n  item(index) {\n    return index < this.length ? this[index] : null;\n  }\n\n  /* c8 ignore start */\n  getNamedItemNS(_, name) {\n    return this.getNamedItem(name);\n  }\n\n  setNamedItemNS(_, attr) {\n    return this.setNamedItem(attr);\n  }\n\n  removeNamedItemNS(_, name) {\n    return this.removeNamedItem(name);\n  }\n  /* c8 ignore stop */\n}\n", "import {DOCUMENT_FRAGMENT_NODE} from '../shared/constants.js';\nimport {getInnerHtml, setInnerHtml} from '../mixin/inner-html.js';\nimport {NonElementParentNode} from '../mixin/non-element-parent-node.js';\n\n/**\n * @implements globalThis.ShadowRoot\n */\nexport class ShadowRoot extends NonElementParentNode {\n  constructor(host) {\n    super(host.ownerDocument, '#shadow-root', DOCUMENT_FRAGMENT_NODE);\n    this.host = host;\n  }\n\n  get innerHTML() {\n    return getInnerHtml(this);\n  }\n  set innerHTML(html) {\n    setInnerHtml(this, html);\n  }\n}\n", "import {Element} from '../interface/element.js';\nimport {String} from '../shared/utils.js';\n\nconst classNames = new WeakMap;\n\nconst handler = {\n  get(target, name) {\n    return target[name];\n  },\n  set(target, name, value) {\n    target[name] = value;\n    return true;\n  }\n};\n\n/**\n * @implements globalThis.SVGElement\n */\nexport class SVGElement extends Element {\n  constructor(ownerDocument, localName, ownerSVGElement = null) {\n    super(ownerDocument, localName);\n    this.ownerSVGElement = ownerSVGElement;\n  }\n\n  get className() {\n    if (!classNames.has(this))\n      classNames.set(this, new Proxy({baseVal: '', animVal: ''}, handler));\n    return classNames.get(this);\n  }\n\n  /* c8 ignore start */\n  set className(value) {\n    const {classList} = this;\n    classList.clear();\n    classList.add(...(String(value).split(/\\s+/)));\n  }\n  /* c8 ignore stop */\n\n  get namespaceURI() {\n    return 'http://www.w3.org/2000/svg';\n  }\n\n  getAttribute(name) {\n    return name === 'class' ?\n      [...this.classList].join(' ') :\n      super.getAttribute(name);\n  }\n\n  setAttribute(name, value) {\n    if (name === 'class')\n      this.className = value;\n    else if (name === 'style') {\n      const {className} = this;\n      className.baseVal = className.animVal = value;\n    }\n    super.setAttribute(name, value);\n  }\n}\n", "import {HTMLElement} from '../html/element.js';\nimport {HTMLTemplateElement} from '../html/template-element.js';\nimport {HTMLHtmlElement} from '../html/html-element.js';\nimport {HTMLScriptElement} from '../html/script-element.js';\nimport {HTMLFrameElement} from '../html/frame-element.js';\nimport {HTMLIFrameElement} from '../html/i-frame-element.js';\nimport {HTMLObjectElement} from '../html/object-element.js';\nimport {HTMLHeadElement} from '../html/head-element.js';\nimport {HTMLBodyElement} from '../html/body-element.js';\nimport {HTMLStyleElement} from '../html/style-element.js';\nimport {HTMLTimeElement} from '../html/time-element.js';\nimport {HTMLFieldSetElement} from '../html/field-set-element.js';\nimport {HTMLEmbedElement} from '../html/embed-element.js';\nimport {HTMLHRElement} from '../html/hr-element.js';\nimport {HTMLProgressElement} from '../html/progress-element.js';\nimport {HTMLParagraphElement} from '../html/paragraph-element.js';\nimport {HTMLTableElement} from '../html/table-element.js';\nimport {HTMLFrameSetElement} from '../html/frame-set-element.js';\nimport {HTMLLIElement} from '../html/li-element.js';\nimport {HTMLBaseElement} from '../html/base-element.js';\nimport {HTMLDataListElement} from '../html/data-list-element.js';\nimport {HTMLInputElement} from '../html/input-element.js';\nimport {HTMLParamElement} from '../html/param-element.js';\nimport {HTMLMediaElement} from '../html/media-element.js';\nimport {HTMLAudioElement} from '../html/audio-element.js';\nimport {HTMLHeadingElement} from '../html/heading-element.js';\nimport {HTMLDirectoryElement} from '../html/directory-element.js';\nimport {HTMLQuoteElement} from '../html/quote-element.js';\nimport {HTMLCanvasElement} from '../html/canvas-element.js';\nimport {HTMLLegendElement} from '../html/legend-element.js';\nimport {HTMLOptionElement} from '../html/option-element.js';\nimport {HTMLSpanElement} from '../html/span-element.js';\nimport {HTMLMeterElement} from '../html/meter-element.js';\nimport {HTMLVideoElement} from '../html/video-element.js';\nimport {HTMLTableCellElement} from '../html/table-cell-element.js';\nimport {HTMLTitleElement} from '../html/title-element.js';\nimport {HTMLOutputElement} from '../html/output-element.js';\nimport {HTMLTableRowElement} from '../html/table-row-element.js';\nimport {HTMLDataElement} from '../html/data-element.js';\nimport {HTMLMenuElement} from '../html/menu-element.js';\nimport {HTMLSelectElement} from '../html/select-element.js';\nimport {HTMLBRElement} from '../html/br-element.js';\nimport {HTMLButtonElement} from '../html/button-element.js';\nimport {HTMLMapElement} from '../html/map-element.js';\nimport {HTMLOptGroupElement} from '../html/opt-group-element.js';\nimport {HTMLDListElement} from '../html/d-list-element.js';\nimport {HTMLTextAreaElement} from '../html/text-area-element.js';\nimport {HTMLFontElement} from '../html/font-element.js';\nimport {HTMLDivElement} from '../html/div-element.js';\nimport {HTMLLinkElement} from '../html/link-element.js';\nimport {HTMLSlotElement} from '../html/slot-element.js';\nimport {HTMLFormElement} from '../html/form-element.js';\nimport {HTMLImageElement} from '../html/image-element.js';\nimport {HTMLPreElement} from '../html/pre-element.js';\nimport {HTMLUListElement} from '../html/u-list-element.js';\nimport {HTMLMetaElement} from '../html/meta-element.js';\nimport {HTMLPictureElement} from '../html/picture-element.js';\nimport {HTMLAreaElement} from '../html/area-element.js';\nimport {HTMLOListElement} from '../html/o-list-element.js';\nimport {HTMLTableCaptionElement} from '../html/table-caption-element.js';\nimport {HTMLAnchorElement} from '../html/anchor-element.js';\nimport {HTMLLabelElement} from '../html/label-element.js';\nimport {HTMLUnknownElement} from '../html/unknown-element.js';\nimport {HTMLModElement} from '../html/mod-element.js';\nimport {HTMLDetailsElement} from '../html/details-element.js';\nimport {HTMLSourceElement} from '../html/source-element.js';\nimport {HTMLTrackElement} from '../html/track-element.js';\nimport {HTMLMarqueeElement} from '../html/marquee-element.js';\n\nexport {\n  HTMLElement,\n  HTMLTemplateElement,\n  HTMLHtmlElement,\n  HTMLScriptElement,\n  HTMLFrameElement,\n  HTMLIFrameElement,\n  HTMLObjectElement,\n  HTMLHeadElement,\n  HTMLBodyElement,\n  HTMLStyleElement,\n  HTMLTimeElement,\n  HTMLFieldSetElement,\n  HTMLEmbedElement,\n  HTMLHRElement,\n  HTMLProgressElement,\n  HTMLParagraphElement,\n  HTMLTableElement,\n  HTMLFrameSetElement,\n  HTMLLIElement,\n  HTMLBaseElement,\n  HTMLDataListElement,\n  HTMLInputElement,\n  HTMLParamElement,\n  HTMLMediaElement,\n  HTMLAudioElement,\n  HTMLHeadingElement,\n  HTMLDirectoryElement,\n  HTMLQuoteElement,\n  HTMLCanvasElement,\n  HTMLLegendElement,\n  HTMLOptionElement,\n  HTMLSpanElement,\n  HTMLMeterElement,\n  HTMLVideoElement,\n  HTMLTableCellElement,\n  HTMLTitleElement,\n  HTMLOutputElement,\n  HTMLTableRowElement,\n  HTMLDataElement,\n  HTMLMenuElement,\n  HTMLSelectElement,\n  HTMLBRElement,\n  HTMLButtonElement,\n  HTMLMapElement,\n  HTMLOptGroupElement,\n  HTMLDListElement,\n  HTMLTextAreaElement,\n  HTMLFontElement,\n  HTMLDivElement,\n  HTMLLinkElement,\n  HTMLSlotElement,\n  HTMLFormElement,\n  HTMLImageElement,\n  HTMLPreElement,\n  HTMLUListElement,\n  HTMLMetaElement,\n  HTMLPictureElement,\n  HTMLAreaElement,\n  HTMLOListElement,\n  HTMLTableCaptionElement,\n  HTMLAnchorElement,\n  HTMLLabelElement,\n  HTMLUnknownElement,\n  HTMLModElement,\n  HTMLDetailsElement,\n  HTMLSourceElement,\n  HTMLTrackElement,\n  HTMLMarqueeElement\n};\n\nexport const HTMLClasses = {\n  HTMLElement,\n  HTMLTemplateElement,\n  HTMLHtmlElement,\n  HTMLScriptElement,\n  HTMLFrameElement,\n  HTMLIFrameElement,\n  HTMLObjectElement,\n  HTMLHeadElement,\n  HTMLBodyElement,\n  HTMLStyleElement,\n  HTMLTimeElement,\n  HTMLFieldSetElement,\n  HTMLEmbedElement,\n  HTMLHRElement,\n  HTMLProgressElement,\n  HTMLParagraphElement,\n  HTMLTableElement,\n  HTMLFrameSetElement,\n  HTMLLIElement,\n  HTMLBaseElement,\n  HTMLDataListElement,\n  HTMLInputElement,\n  HTMLParamElement,\n  HTMLMediaElement,\n  HTMLAudioElement,\n  HTMLHeadingElement,\n  HTMLDirectoryElement,\n  HTMLQuoteElement,\n  HTMLCanvasElement,\n  HTMLLegendElement,\n  HTMLOptionElement,\n  HTMLSpanElement,\n  HTMLMeterElement,\n  HTMLVideoElement,\n  HTMLTableCellElement,\n  HTMLTitleElement,\n  HTMLOutputElement,\n  HTMLTableRowElement,\n  HTMLDataElement,\n  HTMLMenuElement,\n  HTMLSelectElement,\n  HTMLBRElement,\n  HTMLButtonElement,\n  HTMLMapElement,\n  HTMLOptGroupElement,\n  HTMLDListElement,\n  HTMLTextAreaElement,\n  HTMLFontElement,\n  HTMLDivElement,\n  HTMLLinkElement,\n  HTMLSlotElement,\n  HTMLFormElement,\n  HTMLImageElement,\n  HTMLPreElement,\n  HTMLUListElement,\n  HTMLMetaElement,\n  HTMLPictureElement,\n  HTMLAreaElement,\n  HTMLOListElement,\n  HTMLTableCaptionElement,\n  HTMLAnchorElement,\n  HTMLLabelElement,\n  HTMLUnknownElement,\n  HTMLModElement,\n  HTMLDetailsElement,\n  HTMLSourceElement,\n  HTMLTrackElement,\n  HTMLMarqueeElement\n};\n", "import {END, UPGRADE} from '../shared/symbols.js';\nimport {booleanAttribute, stringAttribute} from '../shared/attributes.js';\n\nimport {Event} from '../interface/event.js';\nimport {Element} from '../interface/element.js';\nimport {Classes, customElements} from '../interface/custom-element-registry.js';\n\nconst Level0 = new WeakMap;\nconst level0 = {\n  get(element, name) {\n    return Level0.has(element) && Level0.get(element)[name] || null;\n  },\n  set(element, name, value) {\n    if (!Level0.has(element))\n      Level0.set(element, {});\n    const handlers = Level0.get(element);\n    const type = name.slice(2);\n    if (handlers[name])\n      element.removeEventListener(type, handlers[name], false);\n    if ((handlers[name] = value))\n      element.addEventListener(type, value, false);\n  }\n};\n\n/**\n * @implements globalThis.HTMLElement\n */\nexport class HTMLElement extends Element {\n\n  static get observedAttributes() { return []; }\n\n  constructor(ownerDocument = null, localName = '') {\n    super(ownerDocument, localName);\n\n    const ownerLess = !ownerDocument;\n    let options;\n\n    if (ownerLess) {\n      const {constructor: Class} = this;\n      if (!Classes.has(Class))\n        throw new Error('unable to initialize this Custom Element');\n      ({ownerDocument, localName, options} = Classes.get(Class));\n    }\n\n    if (ownerDocument[UPGRADE]) {\n      const {element, values} = ownerDocument[UPGRADE];\n      ownerDocument[UPGRADE] = null;\n      for (const [key, value] of values)\n        element[key] = value;\n      return element;\n    }\n\n    if (ownerLess) {\n      this.ownerDocument = this[END].ownerDocument = ownerDocument;\n      this.localName = localName;\n      customElements.set(this, {connected: false});\n      if (options.is)\n        this.setAttribute('is', options.is);\n    }\n  }\n\n  /* c8 ignore start */\n\n  /* TODO: what about these?\n  offsetHeight\n  offsetLeft\n  offsetParent\n  offsetTop\n  offsetWidth\n  */\n\n  blur() { this.dispatchEvent(new Event('blur')); }\n  click() {\n    const clickEvent = new Event('click', {bubbles: true, cancelable: true});\n    clickEvent.button = 0;\n\n    this.dispatchEvent(clickEvent);\n  }\n\n  // Boolean getters\n  get accessKeyLabel() {\n    const {accessKey} = this;\n    return accessKey && `Alt+Shift+${accessKey}`;\n  }\n  get isContentEditable() { return this.hasAttribute('contenteditable'); }\n\n  // Boolean Accessors\n  get contentEditable() { return booleanAttribute.get(this, 'contenteditable'); }\n  set contentEditable(value) { booleanAttribute.set(this, 'contenteditable', value); }\n  get draggable() { return booleanAttribute.get(this, 'draggable'); }\n  set draggable(value) { booleanAttribute.set(this, 'draggable', value); }\n  get hidden() { return booleanAttribute.get(this, 'hidden'); }\n  set hidden(value) { booleanAttribute.set(this, 'hidden', value); }\n  get spellcheck() { return booleanAttribute.get(this, 'spellcheck'); }\n  set spellcheck(value) { booleanAttribute.set(this, 'spellcheck', value); }\n\n  // String Accessors\n  get accessKey() { return stringAttribute.get(this, 'accesskey'); }\n  set accessKey(value) { stringAttribute.set(this, 'accesskey', value); }\n  get dir() { return stringAttribute.get(this, 'dir'); }\n  set dir(value) { stringAttribute.set(this, 'dir', value); }\n  get lang() { return stringAttribute.get(this, 'lang'); }\n  set lang(value) { stringAttribute.set(this, 'lang', value); }\n  get title() { return stringAttribute.get(this, 'title'); }\n  set title(value) { stringAttribute.set(this, 'title', value); }\n\n  // DOM Level 0\n  get onabort() { return level0.get(this, 'onabort'); }\n  set onabort(value) { level0.set(this, 'onabort', value); }\n\n  get onblur() { return level0.get(this, 'onblur'); }\n  set onblur(value) { level0.set(this, 'onblur', value); }\n\n  get oncancel() { return level0.get(this, 'oncancel'); }\n  set oncancel(value) { level0.set(this, 'oncancel', value); }\n\n  get oncanplay() { return level0.get(this, 'oncanplay'); }\n  set oncanplay(value) { level0.set(this, 'oncanplay', value); }\n\n  get oncanplaythrough() { return level0.get(this, 'oncanplaythrough'); }\n  set oncanplaythrough(value) { level0.set(this, 'oncanplaythrough', value); }\n\n  get onchange() { return level0.get(this, 'onchange'); }\n  set onchange(value) { level0.set(this, 'onchange', value); }\n\n  get onclick() { return level0.get(this, 'onclick'); }\n  set onclick(value) { level0.set(this, 'onclick', value); }\n\n  get onclose() { return level0.get(this, 'onclose'); }\n  set onclose(value) { level0.set(this, 'onclose', value); }\n\n  get oncontextmenu() { return level0.get(this, 'oncontextmenu'); }\n  set oncontextmenu(value) { level0.set(this, 'oncontextmenu', value); }\n\n  get oncuechange() { return level0.get(this, 'oncuechange'); }\n  set oncuechange(value) { level0.set(this, 'oncuechange', value); }\n\n  get ondblclick() { return level0.get(this, 'ondblclick'); }\n  set ondblclick(value) { level0.set(this, 'ondblclick', value); }\n\n  get ondrag() { return level0.get(this, 'ondrag'); }\n  set ondrag(value) { level0.set(this, 'ondrag', value); }\n\n  get ondragend() { return level0.get(this, 'ondragend'); }\n  set ondragend(value) { level0.set(this, 'ondragend', value); }\n\n  get ondragenter() { return level0.get(this, 'ondragenter'); }\n  set ondragenter(value) { level0.set(this, 'ondragenter', value); }\n\n  get ondragleave() { return level0.get(this, 'ondragleave'); }\n  set ondragleave(value) { level0.set(this, 'ondragleave', value); }\n\n  get ondragover() { return level0.get(this, 'ondragover'); }\n  set ondragover(value) { level0.set(this, 'ondragover', value); }\n\n  get ondragstart() { return level0.get(this, 'ondragstart'); }\n  set ondragstart(value) { level0.set(this, 'ondragstart', value); }\n\n  get ondrop() { return level0.get(this, 'ondrop'); }\n  set ondrop(value) { level0.set(this, 'ondrop', value); }\n\n  get ondurationchange() { return level0.get(this, 'ondurationchange'); }\n  set ondurationchange(value) { level0.set(this, 'ondurationchange', value); }\n\n  get onemptied() { return level0.get(this, 'onemptied'); }\n  set onemptied(value) { level0.set(this, 'onemptied', value); }\n\n  get onended() { return level0.get(this, 'onended'); }\n  set onended(value) { level0.set(this, 'onended', value); }\n\n  get onerror() { return level0.get(this, 'onerror'); }\n  set onerror(value) { level0.set(this, 'onerror', value); }\n\n  get onfocus() { return level0.get(this, 'onfocus'); }\n  set onfocus(value) { level0.set(this, 'onfocus', value); }\n\n  get oninput() { return level0.get(this, 'oninput'); }\n  set oninput(value) { level0.set(this, 'oninput', value); }\n\n  get oninvalid() { return level0.get(this, 'oninvalid'); }\n  set oninvalid(value) { level0.set(this, 'oninvalid', value); }\n\n  get onkeydown() { return level0.get(this, 'onkeydown'); }\n  set onkeydown(value) { level0.set(this, 'onkeydown', value); }\n\n  get onkeypress() { return level0.get(this, 'onkeypress'); }\n  set onkeypress(value) { level0.set(this, 'onkeypress', value); }\n\n  get onkeyup() { return level0.get(this, 'onkeyup'); }\n  set onkeyup(value) { level0.set(this, 'onkeyup', value); }\n\n  get onload() { return level0.get(this, 'onload'); }\n  set onload(value) { level0.set(this, 'onload', value); }\n\n  get onloadeddata() { return level0.get(this, 'onloadeddata'); }\n  set onloadeddata(value) { level0.set(this, 'onloadeddata', value); }\n\n  get onloadedmetadata() { return level0.get(this, 'onloadedmetadata'); }\n  set onloadedmetadata(value) { level0.set(this, 'onloadedmetadata', value); }\n\n  get onloadstart() { return level0.get(this, 'onloadstart'); }\n  set onloadstart(value) { level0.set(this, 'onloadstart', value); }\n\n  get onmousedown() { return level0.get(this, 'onmousedown'); }\n  set onmousedown(value) { level0.set(this, 'onmousedown', value); }\n\n  get onmouseenter() { return level0.get(this, 'onmouseenter'); }\n  set onmouseenter(value) { level0.set(this, 'onmouseenter', value); }\n\n  get onmouseleave() { return level0.get(this, 'onmouseleave'); }\n  set onmouseleave(value) { level0.set(this, 'onmouseleave', value); }\n\n  get onmousemove() { return level0.get(this, 'onmousemove'); }\n  set onmousemove(value) { level0.set(this, 'onmousemove', value); }\n\n  get onmouseout() { return level0.get(this, 'onmouseout'); }\n  set onmouseout(value) { level0.set(this, 'onmouseout', value); }\n\n  get onmouseover() { return level0.get(this, 'onmouseover'); }\n  set onmouseover(value) { level0.set(this, 'onmouseover', value); }\n\n  get onmouseup() { return level0.get(this, 'onmouseup'); }\n  set onmouseup(value) { level0.set(this, 'onmouseup', value); }\n\n  get onmousewheel() { return level0.get(this, 'onmousewheel'); }\n  set onmousewheel(value) { level0.set(this, 'onmousewheel', value); }\n\n  get onpause() { return level0.get(this, 'onpause'); }\n  set onpause(value) { level0.set(this, 'onpause', value); }\n\n  get onplay() { return level0.get(this, 'onplay'); }\n  set onplay(value) { level0.set(this, 'onplay', value); }\n\n  get onplaying() { return level0.get(this, 'onplaying'); }\n  set onplaying(value) { level0.set(this, 'onplaying', value); }\n\n  get onprogress() { return level0.get(this, 'onprogress'); }\n  set onprogress(value) { level0.set(this, 'onprogress', value); }\n\n  get onratechange() { return level0.get(this, 'onratechange'); }\n  set onratechange(value) { level0.set(this, 'onratechange', value); }\n\n  get onreset() { return level0.get(this, 'onreset'); }\n  set onreset(value) { level0.set(this, 'onreset', value); }\n\n  get onresize() { return level0.get(this, 'onresize'); }\n  set onresize(value) { level0.set(this, 'onresize', value); }\n\n  get onscroll() { return level0.get(this, 'onscroll'); }\n  set onscroll(value) { level0.set(this, 'onscroll', value); }\n\n  get onseeked() { return level0.get(this, 'onseeked'); }\n  set onseeked(value) { level0.set(this, 'onseeked', value); }\n\n  get onseeking() { return level0.get(this, 'onseeking'); }\n  set onseeking(value) { level0.set(this, 'onseeking', value); }\n\n  get onselect() { return level0.get(this, 'onselect'); }\n  set onselect(value) { level0.set(this, 'onselect', value); }\n\n  get onshow() { return level0.get(this, 'onshow'); }\n  set onshow(value) { level0.set(this, 'onshow', value); }\n\n  get onstalled() { return level0.get(this, 'onstalled'); }\n  set onstalled(value) { level0.set(this, 'onstalled', value); }\n\n  get onsubmit() { return level0.get(this, 'onsubmit'); }\n  set onsubmit(value) { level0.set(this, 'onsubmit', value); }\n\n  get onsuspend() { return level0.get(this, 'onsuspend'); }\n  set onsuspend(value) { level0.set(this, 'onsuspend', value); }\n\n  get ontimeupdate() { return level0.get(this, 'ontimeupdate'); }\n  set ontimeupdate(value) { level0.set(this, 'ontimeupdate', value); }\n\n  get ontoggle() { return level0.get(this, 'ontoggle'); }\n  set ontoggle(value) { level0.set(this, 'ontoggle', value); }\n\n  get onvolumechange() { return level0.get(this, 'onvolumechange'); }\n  set onvolumechange(value) { level0.set(this, 'onvolumechange', value); }\n\n  get onwaiting() { return level0.get(this, 'onwaiting'); }\n  set onwaiting(value) { level0.set(this, 'onwaiting', value); }\n\n  get onauxclick() { return level0.get(this, 'onauxclick'); }\n  set onauxclick(value) { level0.set(this, 'onauxclick', value); }\n\n  get ongotpointercapture() { return level0.get(this, 'ongotpointercapture'); }\n  set ongotpointercapture(value) { level0.set(this, 'ongotpointercapture', value); }\n\n  get onlostpointercapture() { return level0.get(this, 'onlostpointercapture'); }\n  set onlostpointercapture(value) { level0.set(this, 'onlostpointercapture', value); }\n\n  get onpointercancel() { return level0.get(this, 'onpointercancel'); }\n  set onpointercancel(value) { level0.set(this, 'onpointercancel', value); }\n\n  get onpointerdown() { return level0.get(this, 'onpointerdown'); }\n  set onpointerdown(value) { level0.set(this, 'onpointerdown', value); }\n\n  get onpointerenter() { return level0.get(this, 'onpointerenter'); }\n  set onpointerenter(value) { level0.set(this, 'onpointerenter', value); }\n\n  get onpointerleave() { return level0.get(this, 'onpointerleave'); }\n  set onpointerleave(value) { level0.set(this, 'onpointerleave', value); }\n\n  get onpointermove() { return level0.get(this, 'onpointermove'); }\n  set onpointermove(value) { level0.set(this, 'onpointermove', value); }\n\n  get onpointerout() { return level0.get(this, 'onpointerout'); }\n  set onpointerout(value) { level0.set(this, 'onpointerout', value); }\n\n  get onpointerover() { return level0.get(this, 'onpointerover'); }\n  set onpointerover(value) { level0.set(this, 'onpointerover', value); }\n\n  get onpointerup() { return level0.get(this, 'onpointerup'); }\n  set onpointerup(value) { level0.set(this, 'onpointerup', value); }\n  /* c8 ignore stop */\n\n}\n", "import {CONTENT, PRIVATE} from '../shared/symbols.js';\n\nimport {registerHTMLClass} from '../shared/register-html-class.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'template';\n\n/**\n * @implements globalThis.HTMLTemplateElement\n */\nclass HTMLTemplateElement extends HTMLElement {\n  constructor(ownerDocument) {\n    super(ownerDocument, tagName);\n    const content = this.ownerDocument.createDocumentFragment();\n    (this[CONTENT] = content)[PRIVATE] = this;\n  }\n\n  get content() {\n    if (this.hasChildNodes() && !this[CONTENT].hasChildNodes()) {\n      for (const node of this.childNodes)\n        this[CONTENT].appendChild(node.cloneNode(true));\n    }\n    return this[CONTENT];\n  }\n}\n\nregisterHTMLClass(tagName, HTMLTemplateElement);\n\nexport {HTMLTemplateElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLHtmlElement\n */\nexport class HTMLHtmlElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'html') {\n    super(ownerDocument, localName);\n  }\n}\n", "import { booleanAttribute, stringAttribute } from '../shared/attributes.js';\nimport { registerHTMLClass } from '../shared/register-html-class.js';\n\nimport { TextElement } from './text-element.js';\n\nconst tagName = 'script';\n\n/**\n * @implements globalThis.HTMLScriptElement\n */\nclass HTMLScriptElement extends TextElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  get type() {\n    return stringAttribute.get(this, 'type');\n  }\n  set type(value) {\n    stringAttribute.set(this, 'type', value);\n  }\n\n  get src() {\n    return stringAttribute.get(this, 'src');\n  }\n  set src(value) {\n    stringAttribute.set(this, 'src', value);\n  }\n\n  get defer() {\n    return booleanAttribute.get(this, 'defer');\n  }\n\n  set defer(value) {\n    booleanAttribute.set(this, 'defer', value);\n  }\n\n  get crossOrigin() {\n    return stringAttribute.get(this, 'crossorigin');\n  }\n  set crossOrigin(value) {\n    stringAttribute.set(this, 'crossorigin', value);\n  }\n\n  get nomodule() {\n    return booleanAttribute.get(this, 'nomodule');\n  }\n  set nomodule(value) {\n    booleanAttribute.set(this, 'nomodule', value);\n  }\n\n  get referrerPolicy() {\n    return stringAttribute.get(this, 'referrerpolicy');\n  }\n  set referrerPolicy(value) {\n    stringAttribute.set(this, 'referrerpolicy', value);\n  }\n\n  get nonce() {\n    return stringAttribute.get(this, 'nonce');\n  }\n  set nonce(value) {\n    stringAttribute.set(this, 'nonce', value);\n  }\n\n  get async() {\n    return booleanAttribute.get(this, 'async');\n  }\n  set async(value) {\n    booleanAttribute.set(this, 'async', value);\n  }\n\n  get text() { return this.textContent; }\n  set text(content) { this.textContent = content; }\n}\n\nregisterHTMLClass(tagName, HTMLScriptElement);\n\nexport { HTMLScriptElement };\n", "import {HTMLElement} from './element.js';\n\nconst {toString} = HTMLElement.prototype;\n\nexport class TextElement extends HTMLElement {\n\n  get innerHTML() { return this.textContent; }\n  set innerHTML(html) { this.textContent = html; }\n\n  toString() {\n    const outerHTML = toString.call(this.cloneNode());\n    return outerHTML.replace('><', () => `>${this.textContent}<`);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLFrameElement\n */\nexport class HTMLFrameElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'frame') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {booleanAttribute, stringAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'iframe';\n\n/**\n * @implements globalThis.HTMLIFrameElement\n */\nclass HTMLIFrameElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get src() { return stringAttribute.get(this, 'src'); }\n  set src(value) { stringAttribute.set(this, 'src', value); }\n\n  get srcdoc() { return stringAttribute.get(this, \"srcdoc\"); }\n  set srcdoc(value) { stringAttribute.set(this, \"srcdoc\", value); }\n\n  get name() { return stringAttribute.get(this, \"name\"); }\n  set name(value) { stringAttribute.set(this, \"name\", value); }\n\n  get allow() { return stringAttribute.get(this, \"allow\"); }\n  set allow(value) { stringAttribute.set(this, \"allow\", value); }\n\n  get allowFullscreen() { return booleanAttribute.get(this, \"allowfullscreen\"); }\n  set allowFullscreen(value) { booleanAttribute.set(this, \"allowfullscreen\", value); }\n  \n  get referrerPolicy() { return stringAttribute.get(this, \"referrerpolicy\"); }\n  set referrerPolicy(value) { stringAttribute.set(this, \"referrerpolicy\", value); }\n  \n  get loading() { return stringAttribute.get(this, \"loading\"); }\n  set loading(value) { stringAttribute.set(this, \"loading\", value); }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLIFrameElement);\n\nexport {HTMLIFrameElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLObjectElement\n */\nexport class HTMLObjectElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'object') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLHeadElement\n */\nexport class HTMLHeadElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'head') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLBodyElement\n */\nexport class HTMLBodyElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'body') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {parse} from 'cssom';\n\nimport {registerHTMLClass} from '../shared/register-html-class.js';\nimport {SHEET} from '../shared/symbols.js';\n\nimport {TextElement} from './text-element.js';\n\nconst tagName = 'style';\n\n/**\n * @implements globalThis.HTMLStyleElement\n */\nclass HTMLStyleElement extends TextElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n    this[SHEET] = null;\n  }\n\n  get sheet() {\n    const sheet = this[SHEET];\n    if (sheet !== null) {\n      return sheet;\n    }\n    return this[SHEET] = parse(this.textContent);\n  }\n\n  get innerHTML() {\n    return super.innerHTML || '';\n  }\n  set innerHTML(value) {\n    super.textContent = value;\n    this[SHEET] = null;\n  }\n  get innerText() {\n    return super.innerText || '';\n  }\n  set innerText(value) {\n    super.textContent = value;\n    this[SHEET] = null;\n  }\n  get textContent() {\n    return super.textContent || '';\n  }\n  set textContent(value) {\n    super.textContent = value;\n    this[SHEET] = null;\n  }\n}\n\nregisterHTMLClass(tagName, HTMLStyleElement);\n\nexport {HTMLStyleElement};\n", "import {stringAttribute} from '../shared/attributes.js';\nimport {registerHTMLClass} from '../shared/register-html-class.js';\n\nimport {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLTimeElement\n */\nclass HTMLTimeElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'time') {\n    super(ownerDocument, localName);\n  }\n\n  /**\n   * @type {string}\n   */\n  get dateTime() { return stringAttribute.get(this, 'datetime'); }\n  set dateTime(value) { stringAttribute.set(this, 'datetime', value); }\n}\n\nregisterHTMLClass('time', HTMLTimeElement)\n\nexport {HTMLTimeElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLFieldSetElement\n */\nexport class HTMLFieldSetElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'fieldset') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLEmbedElement\n */\nexport class HTMLEmbedElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'embed') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLHRElement\n */\nexport class HTMLHRElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'hr') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLProgressElement\n */\nexport class HTMLProgressElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'progress') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLParagraphElement\n */\nexport class HTMLParagraphElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'p') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLTableElement\n */\nexport class HTMLTableElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'table') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLFrameSetElement\n */\nexport class HTMLFrameSetElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'frameset') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLLIElement\n */\nexport class HTMLLIElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'li') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLBaseElement\n */\nexport class HTMLBaseElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'base') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLDataListElement\n */\nexport class HTMLDataListElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'datalist') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {booleanAttribute, stringAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'input';\n\n/**\n * @implements globalThis.HTMLInputElement\n */\nclass HTMLInputElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get autofocus() { return booleanAttribute.get(this, 'autofocus') || -1; }\n  set autofocus(value) { booleanAttribute.set(this, 'autofocus', value); }\n\n  get disabled() { return booleanAttribute.get(this, 'disabled'); }\n  set disabled(value) { booleanAttribute.set(this, 'disabled', value); }\n\n  get name() { return this.getAttribute('name'); }\n  set name(value) { this.setAttribute('name', value); }\n\n  get placeholder() { return this.getAttribute('placeholder'); }\n  set placeholder(value) { this.setAttribute('placeholder', value); }\n\n  get type() { return this.getAttribute('type'); }\n  set type(value) { this.setAttribute('type', value); }\n\n  get value() { return stringAttribute.get(this, 'value'); }\n  set value(value) { stringAttribute.set(this, 'value', value); }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLInputElement);\n\nexport {HTMLInputElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLParamElement\n */\nexport class HTMLParamElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'param') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLMediaElement\n */\nexport class HTMLMediaElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'media') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLAudioElement\n */\nexport class HTMLAudioElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'audio') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'h1';\n\n/**\n * @implements globalThis.HTMLHeadingElement\n */\nclass HTMLHeadingElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n}\n\nregisterHTMLClass([tagName, 'h2', 'h3', 'h4', 'h5', 'h6'], HTMLHeadingElement);\n\nexport {HTMLHeadingElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLDirectoryElement\n */\nexport class HTMLDirectoryElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'dir') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLQuoteElement\n */\nexport class HTMLQuoteElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'quote') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {IMAGE} from '../shared/symbols.js';\n\nimport {registerHTMLClass} from '../shared/register-html-class.js';\nimport {numericAttribute} from '../shared/attributes.js';\n\nimport Canvas from '../../commonjs/canvas.cjs';\n\nimport {HTMLElement} from './element.js';\n\nconst {createCanvas} = Canvas;\n\nconst tagName = 'canvas';\n\n/**\n * @implements globalThis.HTMLCanvasElement\n */\nclass HTMLCanvasElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n    this[IMAGE] = createCanvas(300, 150);\n  }\n\n  get width() {\n    return this[IMAGE].width;\n  }\n\n  set width(value) {\n    numericAttribute.set(this, 'width', value);\n    this[IMAGE].width = value;\n  }\n\n  get height() {\n    return this[IMAGE].height;\n  }\n\n  set height(value) {\n    numericAttribute.set(this, 'height', value);\n    this[IMAGE].height = value;\n  }\n\n  getContext(type) {\n    return this[IMAGE].getContext(type);\n  }\n\n  toDataURL(...args) {\n    return this[IMAGE].toDataURL(...args);\n  }\n}\n\nregisterHTMLClass(tagName, HTMLCanvasElement);\n\nexport {HTMLCanvasElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLLegendElement\n */\nexport class HTMLLegendElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'legend') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\nimport {booleanAttribute, stringAttribute} from '../shared/attributes.js';\nimport {registerHTMLClass} from '../shared/register-html-class.js';\n\nconst tagName = 'option';\n\n/**\n * @implements globalThis.HTMLOptionElement\n */\nclass HTMLOptionElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get value() { return stringAttribute.get(this, 'value'); }\n  set value(value) { stringAttribute.set(this, 'value', value); }\n  /* c8 ignore stop */\n\n  get selected() { return booleanAttribute.get(this, 'selected'); }\n  set selected(value) {\n    const option = this.parentElement?.querySelector('option[selected]');\n    if (option && option !== this)\n      option.selected = false;\n    booleanAttribute.set(this, 'selected', value);\n  }\n}\n\nregisterHTMLClass(tagName, HTMLOptionElement);\n\nexport {HTMLOptionElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLSpanElement\n */\nexport class HTMLSpanElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'span') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLMeterElement\n */\nexport class HTMLMeterElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'meter') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLVideoElement\n */\nexport class HTMLVideoElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'video') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLTableCellElement\n */\nexport class HTMLTableCellElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'td') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\n\nimport {TextElement} from './text-element.js';\n\nconst tagName = 'title';\n\n/**\n * @implements globalThis.HTMLTitleElement\n */\nclass HTMLTitleElement extends TextElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n}\n\nregisterHTMLClass(tagName, HTMLTitleElement);\n\nexport {HTMLTitleElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLOutputElement\n */\nexport class HTMLOutputElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'output') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLTableRowElement\n */\nexport class HTMLTableRowElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'tr') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLDataElement\n */\nexport class HTMLDataElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'data') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLMenuElement\n */\nexport class HTMLMenuElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'menu') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {booleanAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\nimport {NodeList} from '../interface/node-list.js';\n\nconst tagName = 'select';\n\n/**\n * @implements globalThis.HTMLSelectElement\n */\nclass HTMLSelectElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  get options() {\n    let children = new NodeList;\n    let {firstElementChild} = this;\n    while (firstElementChild) {\n      if (firstElementChild.tagName === 'OPTGROUP')\n        children.push(...firstElementChild.children);\n      else\n        children.push(firstElementChild);\n      firstElementChild = firstElementChild.nextElementSibling;\n    }\n    return children;\n  }\n\n  /* c8 ignore start */\n  get disabled() { return booleanAttribute.get(this, 'disabled'); }\n  set disabled(value) { booleanAttribute.set(this, 'disabled', value); }\n\n  get name() { return this.getAttribute('name'); }\n  set name(value) { this.setAttribute('name', value); }\n  /* c8 ignore stop */\n\n  get value() { return this.querySelector('option[selected]')?.value; }\n}\n\nregisterHTMLClass(tagName, HTMLSelectElement);\n\nexport {HTMLSelectElement};\n\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLBRElement\n */\nexport class HTMLBRElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'br') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {booleanAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'button';\n\n/**\n * @implements globalThis.HTMLButtonElement\n */\nclass HTMLButtonElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get disabled() { return booleanAttribute.get(this, 'disabled'); }\n  set disabled(value) { booleanAttribute.set(this, 'disabled', value); }\n\n  get name() { return this.getAttribute('name'); }\n  set name(value) { this.setAttribute('name', value); }\n\n  get type() { return this.getAttribute('type'); }\n  set type(value) { this.setAttribute('type', value); }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLButtonElement);\n\nexport {HTMLButtonElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLMapElement\n */\nexport class HTMLMapElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'map') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLOptGroupElement\n */\nexport class HTMLOptGroupElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'optgroup') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLDListElement\n */\nexport class HTMLDListElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'dl') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {booleanAttribute} from '../shared/attributes.js';\n\nimport {TextElement} from './text-element.js';\n\nconst tagName = 'textarea';\n\n/**\n * @implements globalThis.HTMLTextAreaElement\n */\nclass HTMLTextAreaElement extends TextElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get disabled() { return booleanAttribute.get(this, 'disabled'); }\n  set disabled(value) { booleanAttribute.set(this, 'disabled', value); }\n\n  get name() { return this.getAttribute('name'); }\n  set name(value) { this.setAttribute('name', value); }\n\n  get placeholder() { return this.getAttribute('placeholder'); }\n  set placeholder(value) { this.setAttribute('placeholder', value); }\n\n  get type() { return this.getAttribute('type'); }\n  set type(value) { this.setAttribute('type', value); }\n\n  get value() { return this.textContent; }\n  set value(content) { this.textContent = content; }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLTextAreaElement);\n\nexport {HTMLTextAreaElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLFontElement\n */\nexport class HTMLFontElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'font') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLDivElement\n */\nexport class HTMLDivElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'div') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {booleanAttribute, stringAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'link';\n\n/**\n * @implements globalThis.HTMLLinkElement\n */\nclass HTMLLinkElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */ // copy paste from img.src, already covered\n  get disabled() { return booleanAttribute.get(this, 'disabled'); }\n  set disabled(value) { booleanAttribute.set(this, 'disabled', value); }\n\n  get href() { return stringAttribute.get(this, 'href').trim(); }\n  set href(value) { stringAttribute.set(this, 'href', value); }\n\n  get hreflang() { return stringAttribute.get(this, 'hreflang'); }\n  set hreflang(value) { stringAttribute.set(this, 'hreflang', value); }\n\n  get media() { return stringAttribute.get(this, 'media'); }\n  set media(value) { stringAttribute.set(this, 'media', value); }\n\n  get rel() { return stringAttribute.get(this, 'rel'); }\n  set rel(value) { stringAttribute.set(this, 'rel', value); }\n\n  get type() { return stringAttribute.get(this, 'type'); }\n  set type(value) { stringAttribute.set(this, 'type', value); }\n  /* c8 ignore stop */\n\n}\n\nregisterHTMLClass(tagName, HTMLLinkElement);\n\nexport {HTMLLinkElement};\n", "import {HTMLElement} from './element.js';\nimport {registerHTMLClass} from '../shared/register-html-class.js';\n\nconst tagName = 'slot';\n\n/**\n * @implements globalThis.HTMLSlotElement\n */\nclass HTMLSlotElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get name() { return this.getAttribute('name'); }\n  set name(value) { this.setAttribute('name', value); }\n\n  assign() {}\n\n  assignedNodes(options) {\n    const isNamedSlot = !!this.name;\n    const hostChildNodes = this.getRootNode().host?.childNodes ?? [];\n    let slottables;\n\n    if (isNamedSlot) {\n      slottables = [...hostChildNodes].filter(node => node.slot === this.name);\n    } else {\n      slottables = [...hostChildNodes].filter(node => !node.slot);\n    }\n\n    if (options?.flatten) {\n      const result = [];\n\n      // Element and Text nodes are slottables. A slot can be a slottable.\n      for (let slottable of slottables) {\n        if (slottable.localName === 'slot') {\n          result.push(...slottable.assignedNodes({ flatten: true }));\n        } else {\n          result.push(slottable);\n        }\n      }\n\n      slottables = result;\n    }\n\n    // If no assigned nodes are found, it returns the slot's fallback content.\n    return slottables.length ? slottables : [...this.childNodes];\n  }\n\n  assignedElements(options) {\n    const slottables = this.assignedNodes(options).filter(n => n.nodeType === 1);\n\n    // If no assigned elements are found, it returns the slot's fallback content.\n    return slottables.length ? slottables : [...this.children];\n  }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLSlotElement);\n\nexport {HTMLSlotElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLFormElement\n */\nexport class HTMLFormElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'form') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {numericAttribute, stringAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'img';\n\n/**\n * @implements globalThis.HTMLImageElement\n */\nclass HTMLImageElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get alt() { return stringAttribute.get(this, 'alt'); }\n  set alt(value) { stringAttribute.set(this, 'alt', value); }\n\n  get sizes() { return stringAttribute.get(this, 'sizes'); }\n  set sizes(value) { stringAttribute.set(this, 'sizes', value); }\n\n  get src() { return stringAttribute.get(this, 'src'); }\n  set src(value) { stringAttribute.set(this, 'src', value); }\n\n  get srcset() { return stringAttribute.get(this, 'srcset'); }\n  set srcset(value) { stringAttribute.set(this, 'srcset', value); }\n\n  get title() { return stringAttribute.get(this, 'title'); }\n  set title(value) { stringAttribute.set(this, 'title', value); }\n\n  get width() { return numericAttribute.get(this, 'width'); }\n  set width(value) { numericAttribute.set(this, 'width', value); }\n\n  get height() { return numericAttribute.get(this, 'height'); }\n  set height(value) { numericAttribute.set(this, 'height', value); }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLImageElement);\n\nexport {HTMLImageElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLPreElement\n */\nexport class HTMLPreElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'pre') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLUListElement\n */\nexport class HTMLUListElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'ul') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\nimport {registerHTMLClass} from '../shared/register-html-class.js';\nimport { stringAttribute } from '../shared/attributes.js';\n\nconst tagName = 'meta'\n/**\n * @implements globalThis.HTMLMetaElement\n */\nexport class HTMLMetaElement extends HTMLElement {\n  constructor(ownerDocument, localName =tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get name() { return stringAttribute.get(this, 'name'); }\n  set name(value) { stringAttribute.set(this, 'name', value); }\n\n  get httpEquiv() { return stringAttribute.get(this, 'http-equiv'); }\n  set httpEquiv(value) { stringAttribute.set(this, 'http-equiv', value); }\n\n  get content() { return stringAttribute.get(this, 'content'); }\n  set content(value) { stringAttribute.set(this, 'content', value); }\n\n  get charset() { return stringAttribute.get(this, 'charset'); }\n  set charset(value) { stringAttribute.set(this, 'charset', value); }\n\n  get media() { return stringAttribute.get(this, 'media'); }\n  set media(value) { stringAttribute.set(this, 'media', value); }\n  /* c8 ignore stop */\n\n}\n\nregisterHTMLClass(tagName, HTMLMetaElement);\n\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLPictureElement\n */\nexport class HTMLPictureElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'picture') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLAreaElement\n */\nexport class HTMLAreaElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'area') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLOListElement\n */\nexport class HTMLOListElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'ol') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLTableCaptionElement\n */\nexport class HTMLTableCaptionElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'caption') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {stringAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'a';\n\n/**\n * @implements globalThis.HTMLAnchorElement\n */\nclass HTMLAnchorElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */ // copy paste from img.src, already covered\n  get href() { return encodeURI(decodeURI(stringAttribute.get(this, 'href'))).trim(); }\n  set href(value) { stringAttribute.set(this, 'href', decodeURI(value)); }\n\n  get download() { return encodeURI(decodeURI(stringAttribute.get(this, 'download'))); }\n  set download(value) { stringAttribute.set(this, 'download', decodeURI(value)); }\n\n  get target() { return stringAttribute.get(this, 'target'); }\n  set target(value) { stringAttribute.set(this, 'target', value); }\n\n  get type() { return stringAttribute.get(this, 'type'); }\n  set type(value) { stringAttribute.set(this, 'type', value); }\n\n  get rel() { return stringAttribute.get(this, 'rel'); }\n  set rel(value) { stringAttribute.set(this, 'rel', value); }\n  /* c8 ignore stop */\n\n}\n\nregisterHTMLClass(tagName, HTMLAnchorElement);\n\nexport {HTMLAnchorElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLLabelElement\n */\nexport class HTMLLabelElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'label') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLUnknownElement\n */\nexport class HTMLUnknownElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'unknown') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLModElement\n */\nexport class HTMLModElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'mod') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLDetailsElement\n */\nexport class HTMLDetailsElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'details') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {registerHTMLClass} from '../shared/register-html-class.js';\nimport {stringAttribute} from '../shared/attributes.js';\n\nimport {HTMLElement} from './element.js';\n\nconst tagName = 'source';\n\n/**\n * @implements globalThis.HTMLSourceElement\n */\nclass HTMLSourceElement extends HTMLElement {\n  constructor(ownerDocument, localName = tagName) {\n    super(ownerDocument, localName);\n  }\n\n  /* c8 ignore start */\n  get src() { return stringAttribute.get(this, 'src'); }\n  set src(value) { stringAttribute.set(this, 'src', value); }\n\n  get srcset() { return stringAttribute.get(this, 'srcset'); }\n  set srcset(value) { stringAttribute.set(this, 'srcset', value); }\n\n  get sizes() { return stringAttribute.get(this, 'sizes'); }\n  set sizes(value) { stringAttribute.set(this, 'sizes', value); }\n\n  get type() { return stringAttribute.get(this, 'type'); }\n  set type(value) { stringAttribute.set(this, 'type', value); }\n  /* c8 ignore stop */\n}\n\nregisterHTMLClass(tagName, HTMLSourceElement);\n\nexport {HTMLSourceElement};\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLTrackElement\n */\nexport class HTMLTrackElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'track') {\n    super(ownerDocument, localName);\n  }\n}\n", "import {HTMLElement} from './element.js';\n\n/**\n * @implements globalThis.HTMLMarqueeElement\n */\nexport class HTMLMarqueeElement extends HTMLElement {\n  constructor(ownerDocument, localName = 'marquee') {\n    super(ownerDocument, localName);\n  }\n}\n", "// TODO: ensure all these are text only\n// /^(?:plaintext|script|style|textarea|title|xmp)$/i\n\nconst voidElements = {test: () => true};\nexport const Mime = {\n  'text/html': {\n    docType: '<!DOCTYPE html>',\n    ignoreCase: true,\n    voidElements: /^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i\n  },\n  'image/svg+xml': {\n    docType: '<?xml version=\"1.0\" encoding=\"utf-8\"?>',\n    ignoreCase: false,\n    voidElements\n  },\n  'text/xml': {\n    docType: '<?xml version=\"1.0\" encoding=\"utf-8\"?>',\n    ignoreCase: false,\n    voidElements\n  },\n  'application/xml': {\n    docType: '<?xml version=\"1.0\" encoding=\"utf-8\"?>',\n    ignoreCase: false,\n    voidElements\n  },\n  'application/xhtml+xml': {\n    docType: '<?xml version=\"1.0\" encoding=\"utf-8\"?>',\n    ignoreCase: false,\n    voidElements\n  }\n};\n", "// https://dom.spec.whatwg.org/#interface-customevent\n\n/* c8 ignore start */\n\n// One day Node might have CustomEvent too\n\nimport {Event} from './event.js';\n\n/**\n * @implements globalThis.CustomEvent\n */\nexport class CustomEvent extends Event {\n  constructor(type, eventInitDict = {}) {\n    super(type, eventInitDict);\n    this.detail = eventInitDict.detail;\n  }\n}\n\n/* c8 ignore stop */\n", "// https://dom.spec.whatwg.org/#interface-customevent\n\n/* c8 ignore start */\n\n// One day Node might have CustomEvent too\n\nimport {Event} from './event.js';\n\n/**\n * @implements globalThis.InputEvent\n */\nexport class InputEvent extends Event {\n  constructor(type, inputEventInit = {}) {\n    super(type, inputEventInit);\n    this.inputType = inputEventInit.inputType;\n    this.data = inputEventInit.data;\n    this.dataTransfer = inputEventInit.dataTransfer;\n    this.isComposing = inputEventInit.isComposing || false;\n    this.ranges = inputEventInit.ranges;\n  }\n}\n/* c8 ignore stop */\n", "import {HTMLImageElement} from '../html/image-element.js';\n\nexport const ImageClass = ownerDocument =>\n/**\n * @implements globalThis.Image\n */\nclass Image extends HTMLImageElement {\n  constructor(width, height) {\n    super(ownerDocument);\n    switch (arguments.length) {\n      case 1:\n        this.height = width;\n        this.width = width;\n        break;\n      case 2:\n        this.height = height;\n        this.width = width;\n        break;\n    }\n  }\n};\n", "// https://dom.spec.whatwg.org/#concept-live-range\n\nimport {END, NEXT, PREV, START} from '../shared/symbols.js';\n\nimport {SVGElement} from '../svg/element.js';\n\nimport {getEnd, htmlToFragment, setAdjacent} from '../shared/utils.js';\n\nconst deleteContents = ({[START]: start, [END]: end}, fragment = null) => {\n  setAdjacent(start[PREV], end[NEXT]);\n  do {\n    const after = getEnd(start);\n    const next = after === end ? after : after[NEXT];\n    if (fragment)\n      fragment.insertBefore(start, fragment[END]);\n    else\n      start.remove();\n    start = next;\n  } while (start !== end);\n};\n\n/**\n * @implements globalThis.Range\n */\nexport class Range {\n  constructor() {\n    this[START] = null;\n    this[END] = null;\n    this.commonAncestorContainer = null;\n  }\n\n  /* TODO: this is more complicated than it looks\n  setStart(node, offset) {\n    this[START] = node.childNodes[offset];\n  }\n\n  setEnd(node, offset) {\n    this[END] = getEnd(node.childNodes[offset]);\n  }\n  //*/\n\n  insertNode(newNode) {\n    this[END].parentNode.insertBefore(newNode, this[START]);\n  }\n\n  selectNode(node) {\n    this[START] = node;\n    this[END] = getEnd(node);\n  }\n\n  // TODO: SVG elements should then create contextual fragments\n  //       that return SVG nodes\n  selectNodeContents(node) {\n    this.selectNode(node);\n    this.commonAncestorContainer = node;\n  }\n\n  surroundContents(parentNode) {\n    parentNode.replaceChildren(this.extractContents());\n  }\n\n  setStartBefore(node) {\n    this[START] = node;\n  }\n\n  setStartAfter(node) {\n    this[START] = node.nextSibling;\n  }\n\n  setEndBefore(node) {\n    this[END] = getEnd(node.previousSibling);\n  }\n\n  setEndAfter(node) {\n    this[END] = getEnd(node);\n  }\n\n  cloneContents() {\n    let {[START]: start, [END]: end} = this;\n    const fragment = start.ownerDocument.createDocumentFragment();\n    while (start !== end) {\n      fragment.insertBefore(start.cloneNode(true), fragment[END]);\n      start = getEnd(start);\n      if (start !== end)\n        start = start[NEXT];\n    }\n    return fragment;\n  }\n\n  deleteContents() {\n    deleteContents(this);\n  }\n\n  extractContents() {\n    const fragment = this[START].ownerDocument.createDocumentFragment();\n    deleteContents(this, fragment);\n    return fragment;\n  }\n\n  createContextualFragment(html) {\n    const { commonAncestorContainer: doc } = this;\n    const isSVG = 'ownerSVGElement' in doc;\n    const document = isSVG ? doc.ownerDocument : doc;\n    let content = htmlToFragment(document, html);\n    if (isSVG) {\n      const childNodes = [...content.childNodes];\n      content = document.createDocumentFragment();\n      Object.setPrototypeOf(content, SVGElement.prototype);\n      content.ownerSVGElement = document;\n      for (const child of childNodes) {\n        Object.setPrototypeOf(child, SVGElement.prototype);\n        child.ownerSVGElement = document;\n        content.appendChild(child);\n      }\n    }\n    else\n      this.selectNode(content);\n    return content;\n  }\n\n  cloneRange() {\n    const range = new Range;\n    range[START] = this[START];\n    range[END] = this[END];\n    return range;\n  }\n}\n", "import {\n  DOCUMENT_NODE,\n  ELEMENT_NODE,\n  TEXT_NODE,\n  CDATA_SECTION_NODE,\n  COMMENT_NODE,\n  SHOW_ALL,\n  SHOW_ELEMENT,\n  SHOW_CDATA_SECTION,\n  SHOW_COMMENT,\n  SHOW_TEXT\n} from '../shared/constants.js';\n\nimport {PRIVATE, END, NEXT} from '../shared/symbols.js';\n\nconst isOK = ({nodeType}, mask) => {\n  switch (nodeType) {\n    case ELEMENT_NODE:\n      return mask & SHOW_ELEMENT;\n    case TEXT_NODE:\n      return mask & SHOW_TEXT;\n    case COMMENT_NODE:\n      return mask & SHOW_COMMENT;\n    case CDATA_SECTION_NODE:\n      return mask & SHOW_CDATA_SECTION;\n  }\n  return 0;\n};\n\n/**\n * @implements globalThis.TreeWalker\n */\nexport class TreeWalker {\n  constructor(root, whatToShow = SHOW_ALL) {\n    this.root = root;\n    this.currentNode = root;\n    this.whatToShow = whatToShow;\n    let {[NEXT]: next, [END]: end} = root;\n    if (root.nodeType === DOCUMENT_NODE) {\n      const {documentElement} = root;\n      next = documentElement;\n      end = documentElement[END];\n    }\n    const nodes = [];\n    while (next && next !== end) {\n      if (isOK(next, whatToShow))\n        nodes.push(next);\n      next = next[NEXT];\n    }\n    this[PRIVATE] = {i: 0, nodes};\n  }\n\n  nextNode() {\n    const $ = this[PRIVATE];\n    this.currentNode = $.i < $.nodes.length ? $.nodes[$.i++] : null;\n    return this.currentNode;\n  }\n}\n", "import {MIME} from '../shared/symbols.js';\nimport {Document} from '../interface/document.js';\n\n/**\n * @implements globalThis.Document\n */\nexport class SVGDocument extends Document {\n  constructor() { super('image/svg+xml'); }\n  toString() {\n    return this[MIME].docType + super.toString();\n  }\n}\n", "import {MIME} from '../shared/symbols.js';\nimport {Document} from '../interface/document.js';\n\n/**\n * @implements globalThis.XMLDocument\n */\nexport class XMLDocument extends Document {\n  constructor() { super('text/xml'); }\n  toString() {\n    return this[MIME].docType + super.toString();\n  }\n}\n", "import {\n  NODE_END,\n  ELEMENT_NODE,\n  ATTRIBUTE_NODE,\n  TEXT_NODE,\n  CDATA_SECTION_NODE,\n  COMMENT_NODE,\n  DOCUMENT_NODE,\n  DOCUMENT_TYPE_NODE,\n  DOCUMENT_FRAGMENT_NODE\n} from './constants.js';\n\nimport {END, PREV} from './symbols.js';\n\nimport {htmlClasses} from './register-html-class.js';\nimport {knownBoundaries, knownSiblings} from './utils.js';\n\nimport {Attr} from '../interface/attr.js';\nimport {CDATASection} from '../interface/cdata-section.js';\nimport {Comment} from '../interface/comment.js';\nimport {DocumentType} from '../interface/document-type.js';\nimport {Text} from '../interface/text.js';\n\nimport {HTMLDocument} from '../html/document.js';\nimport {HTMLElement} from '../html/element.js';\nimport {SVGElement} from '../svg/element.js';\n\nconst {parse} = JSON;\n\nconst append = (parentNode, node, end) => {\n  node.parentNode = parentNode;\n  knownSiblings(end[PREV], node, end);\n};\n\nconst createHTMLElement = (ownerDocument, localName) => {\n  if (htmlClasses.has(localName)) {\n    const Class = htmlClasses.get(localName);\n    return new Class(ownerDocument, localName);\n  }\n  return new HTMLElement(ownerDocument, localName);\n};\n\n/**\n * @typedef {number|string} jsdonValue - either a node type or its content\n */\n\n/**\n * Given a stringified, or arrayfied DOM element, returns an HTMLDocument\n * that represent the content of such string, or array.\n * @param {string|jsdonValue[]} value\n * @returns {HTMLDocument}\n */\nexport const parseJSON = value => {\n  const array = typeof value === 'string' ? parse(value) : value;\n  const {length} = array;\n  const document = new HTMLDocument;\n  let parentNode = document, end = parentNode[END], svg = false, i = 0;\n  while (i < length) {\n    let nodeType = array[i++];\n    switch (nodeType) {\n      case ELEMENT_NODE: {\n        const localName = array[i++];\n        const isSVG = svg || localName === 'svg' || localName === 'SVG';\n        const element = isSVG ?\n                          new SVGElement(document, localName, parentNode.ownerSVGElement || null) :\n                          createHTMLElement(document, localName);\n        knownBoundaries(end[PREV], element, end);\n        element.parentNode = parentNode;\n        parentNode = element;\n        end = parentNode[END];\n        svg = isSVG;\n        break;\n      }\n      case ATTRIBUTE_NODE: {\n        const name = array[i++];\n        const value = typeof array[i] === 'string' ? array[i++] : '';\n        const attr = new Attr(document, name, value);\n        attr.ownerElement = parentNode;\n        knownSiblings(end[PREV], attr, end);\n        break;\n      }\n      case TEXT_NODE:\n        append(parentNode, new Text(document, array[i++]), end);\n        break;\n      case COMMENT_NODE:\n        append(parentNode, new Comment(document, array[i++]), end);\n        break;\n      case CDATA_SECTION_NODE:\n        append(parentNode, new CDATASection(document, array[i++]), end);\n        break;\n      case DOCUMENT_TYPE_NODE: {\n        const args = [document];\n        while (typeof array[i] === 'string')\n          args.push(array[i++]);\n        if (args.length === 3 && /\\.dtd$/i.test(args[2]))\n          args.splice(2, 0, '');\n        append(parentNode, new DocumentType(...args), end);\n        break;\n      }\n      case DOCUMENT_FRAGMENT_NODE:\n        parentNode = document.createDocumentFragment();\n        end = parentNode[END];\n      /* eslint no-fallthrough:0 */\n      case DOCUMENT_NODE:\n        break;\n      default:\n        do {\n          nodeType -= NODE_END;\n          if (svg && !parentNode.ownerSVGElement)\n            svg = false;\n          parentNode = parentNode.parentNode || parentNode;\n        } while (nodeType < 0);\n        end = parentNode[END];\n        break;\n    }\n  }\n  switch (i && array[0]) {\n    case ELEMENT_NODE:\n      return document.firstElementChild;\n    case DOCUMENT_FRAGMENT_NODE:\n      return parentNode;\n  }\n  return document;\n};\n\n/**\n * \n * @param {Document|Element} node the Document or Element to serialize\n * @returns {jsdonValue[]} the linear jsdon serialized array\n */\nexport const toJSON = node => node.toJSON();\n", "import {\n  SHOW_ALL,\n  SHOW_ELEMENT,\n  SHOW_COMMENT,\n  SHOW_CDATA_SECTION,\n  SHOW_TEXT\n} from '../shared/constants.js';\n\nexport class NodeFilter {\n  static get SHOW_ALL() { return SHOW_ALL; }\n  static get SHOW_ELEMENT() { return SHOW_ELEMENT; }\n  static get SHOW_COMMENT() { return SHOW_COMMENT; }\n  static get SHOW_CDATA_SECTION() { return SHOW_CDATA_SECTION; }\n  static get SHOW_TEXT() { return SHOW_TEXT; }\n}\n", "import { parseHTML } from 'linkedom';\n\nexport interface ExtractedColumn {\n  image?: {\n    src: string;\n    alt: string;\n  };\n  heading?: string;\n  headingLevel?: number;\n  description?: string;\n  cta?: {\n    text: string;\n    href: string;\n  };\n  rawContent?: string;\n}\n\nexport interface ExtractedBlock {\n  type: 'columns' | 'cards' | 'tabs' | 'accordion' | 'hero' | 'text' | 'carousel' | 'unknown';\n  title?: string;\n  subtitle?: string;\n  columns: ExtractedColumn[];\n  styles: ExtractedStyles;\n}\n\nexport interface ExtractedStyles {\n  // Colors\n  backgroundColor?: string;\n  textColor?: string;\n  headingColor?: string;\n  linkColor?: string;\n  // Layout\n  columnCount: number;\n  gap?: string;\n  padding?: string;\n  // Typography\n  headingFont?: string;\n  bodyFont?: string;\n  // Other\n  borderRadius?: string;\n  boxShadow?: string;\n}\n\n/**\n * Extracts structured content from HTML, regardless of nesting depth\n */\nexport function extractContent(html: string, baseUrl?: string): ExtractedBlock {\n  const { document } = parseHTML(`<div id=\"root\">${html}</div>`);\n  const root = document.getElementById('root')!;\n\n  // Find the main title/header\n  const title = findMainTitle(root);\n\n  // Find columns/cards - look for repeating structures\n  const columns = findColumns(root, baseUrl);\n\n  // Determine block type based on structure\n  const type = determineBlockType(root, columns);\n\n  // Extract style hints\n  const styles = extractStyles(root, columns);\n\n  return {\n    type,\n    title: title?.text,\n    subtitle: title?.subtitle,\n    columns,\n    styles,\n  };\n}\n\n/**\n * Find the main title of the block\n */\nfunction findMainTitle(root: Element): { text: string; subtitle?: string } | null {\n  // Look for main headings - typically h2 with classes like mainHeader, title, etc.\n  const headings = root.querySelectorAll('h1, h2, h3');\n\n  for (const heading of headings) {\n    const text = heading.textContent?.trim();\n    if (!text) continue;\n\n    // Skip hidden/accessibility-only headings\n    const className = heading.className || '';\n    if (className.includes('offscreen') || className.includes('sr-only') || className.includes('hidden') || className.includes('aria-')) {\n      continue;\n    }\n\n    // Look for main header indicators\n    if (className.includes('mainHeader') || className.includes('main-header') ||\n        className.includes('title') || className.includes('headline')) {\n      return { text };\n    }\n\n    // Check if this heading appears before the columns (top-level position)\n    // by seeing if it's not deeply nested in column-like containers\n    let parent = heading.parentElement;\n    let nestingLevel = 0;\n    let isInColumn = false;\n\n    while (parent && parent !== root && nestingLevel < 5) {\n      const parentClass = parent.className || '';\n      if (/col|card|tab|cell|item/i.test(parentClass)) {\n        isInColumn = true;\n        break;\n      }\n      parent = parent.parentElement;\n      nestingLevel++;\n    }\n\n    if (!isInColumn && text.length > 5 && text.length < 100) {\n      return { text };\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find column/card structures in the content\n */\nfunction findColumns(root: Element, baseUrl?: string): ExtractedColumn[] {\n  const columns: ExtractedColumn[] = [];\n\n  // Strategy 1: Look for elements with column-indicating classes\n  const classPatterns = [\n    /\\bcol[_-]?\\d+\\b/i,        // col1, col-1, col_1\n    /\\bcolumn[_-]?\\d*\\b/i,     // column, column1\n    /\\btab[_-]?content\\b/i,    // tabContent, tab-content\n    /\\bcard\\b/i,               // card\n    /\\bgrid[_-]?\\d+\\b/i,       // grid_8, grid-4\n    /\\bcell\\b/i,               // cell\n    /\\bslide\\b/i,              // slide, carousel-slide\n    /carousel[_-]*item/i,      // carousel-item, carousel__item, cmp-carousel__item\n    /\\bswiper-slide\\b/i,       // swiper-slide\n    /\\bslick-slide\\b/i,        // slick-slide\n  ];\n\n  // Find all potential column containers\n  const allElements = root.querySelectorAll('*');\n  const columnCandidates: Element[] = [];\n\n  for (const el of allElements) {\n    const className = el.className || '';\n    if (classPatterns.some(pattern => pattern.test(className))) {\n      columnCandidates.push(el);\n    }\n  }\n\n  // Group by parent to find siblings\n  const siblingGroups = groupBySiblings(columnCandidates);\n\n  // Find the best group (most siblings with similar structure)\n  let bestGroup = findBestColumnGroup(siblingGroups);\n\n  // If no class-based columns found, try structure-based detection\n  if (!bestGroup || bestGroup.length < 2) {\n    bestGroup = findStructuralColumns(root);\n  }\n\n  // Extract content from each column\n  for (const colEl of bestGroup) {\n    columns.push(extractColumnContent(colEl, baseUrl));\n  }\n\n  return columns;\n}\n\n/**\n * Group elements by their parent (siblings)\n */\nfunction groupBySiblings(elements: Element[]): Map<Element, Element[]> {\n  const groups = new Map<Element, Element[]>();\n\n  for (const el of elements) {\n    const parent = el.parentElement;\n    if (!parent) continue;\n\n    if (!groups.has(parent)) {\n      groups.set(parent, []);\n    }\n    groups.get(parent)!.push(el);\n  }\n\n  return groups;\n}\n\n/**\n * Find the best group of columns (most siblings, consistent structure)\n */\nfunction findBestColumnGroup(groups: Map<Element, Element[]>): Element[] {\n  let bestGroup: Element[] = [];\n  let bestScore = 0;\n\n  for (const [parent, elements] of groups) {\n    if (elements.length < 2) continue;\n\n    // Score based on count and structural similarity\n    const score = elements.length * (hasConsistentStructure(elements) ? 2 : 1);\n\n    if (score > bestScore) {\n      bestScore = score;\n      bestGroup = elements;\n    }\n  }\n\n  return bestGroup;\n}\n\n/**\n * Check if elements have consistent structure (likely columns/cards)\n */\nfunction hasConsistentStructure(elements: Element[]): boolean {\n  if (elements.length < 2) return false;\n\n  // Check if all elements have similar child structure\n  const signatures = elements.map(el => getStructureSignature(el));\n  const firstSig = signatures[0];\n\n  return signatures.every(sig => sig === firstSig);\n}\n\n/**\n * Get a signature of an element's structure\n */\nfunction getStructureSignature(el: Element): string {\n  const parts: string[] = [];\n\n  if (el.querySelector('img, picture, [data-src]')) parts.push('img');\n  if (el.querySelector('h1, h2, h3, h4, h5, h6')) parts.push('heading');\n  if (el.querySelector('p')) parts.push('text');\n  if (el.querySelector('a')) parts.push('link');\n\n  return parts.join('+');\n}\n\n/**\n * Find columns based on structural patterns (fallback)\n */\nfunction findStructuralColumns(root: Element): Element[] {\n  // Look for sections, articles, or divs with similar siblings\n  const containers = ['section', 'article', 'div'];\n\n  for (const tag of containers) {\n    const elements = root.querySelectorAll(tag);\n    const groups = groupBySiblings(Array.from(elements));\n\n    for (const [parent, siblings] of groups) {\n      if (siblings.length >= 2 && siblings.length <= 6) {\n        if (hasConsistentStructure(siblings)) {\n          return siblings;\n        }\n      }\n    }\n  }\n\n  return [];\n}\n\n/**\n * Check if an element is likely a column container\n */\nfunction isColumnContainer(el: Element): boolean {\n  const className = el.className || '';\n  const patterns = [/col/i, /card/i, /tab/i, /grid/i, /cell/i];\n  return patterns.some(p => p.test(className));\n}\n\n/**\n * Resolve a relative URL to an absolute URL\n */\nfunction resolveUrl(url: string, baseUrl?: string): string {\n  if (!url || !baseUrl) return url;\n  if (url.startsWith('http://') || url.startsWith('https://') || url.startsWith('data:')) {\n    return url;\n  }\n  try {\n    return new URL(url, baseUrl).href;\n  } catch {\n    return url;\n  }\n}\n\n/**\n * Extract content from a single column element\n */\nfunction extractColumnContent(el: Element, baseUrl?: string): ExtractedColumn {\n  const column: ExtractedColumn = {};\n\n  // Find image - check multiple sources\n  // Priority: data-src on picture container > img src > background-image\n  const dataSrcElements = el.querySelectorAll('[data-src]');\n  const imgs = el.querySelectorAll('img');\n\n  let imageSrc = '';\n  let imageAlt = '';\n\n  // Check data-src attributes (common for lazy-loaded images)\n  for (const dsEl of dataSrcElements) {\n    const src = dsEl.getAttribute('data-src');\n    if (src && !src.includes('clear.gif') && !src.includes('spacer') && !src.includes('1x1')) {\n      imageSrc = src;\n      imageAlt = dsEl.getAttribute('data-alt') || '';\n      break;\n    }\n  }\n\n  // Check img elements if no data-src found\n  if (!imageSrc) {\n    for (const img of imgs) {\n      const src = img.getAttribute('src') || img.getAttribute('data-src') || '';\n      if (src && !src.includes('clear.gif') && !src.includes('spacer') && !src.includes('1x1')) {\n        imageSrc = src;\n        imageAlt = img.getAttribute('alt') || '';\n        break;\n      }\n    }\n  }\n\n  // Check for background images in style\n  if (!imageSrc) {\n    const allElements = el.querySelectorAll('*');\n    for (const elem of allElements) {\n      const style = elem.getAttribute('style') || '';\n      const bgMatch = style.match(/background(?:-image)?:\\s*url\\(['\"]?([^'\")\\s]+)['\"]?\\)/i);\n      if (bgMatch && bgMatch[1]) {\n        imageSrc = bgMatch[1];\n        break;\n      }\n    }\n  }\n\n  if (imageSrc) {\n    column.image = { src: resolveUrl(imageSrc, baseUrl), alt: imageAlt };\n  }\n\n  // Find heading\n  const heading = el.querySelector('h1, h2, h3, h4, h5, h6');\n  if (heading) {\n    const text = heading.textContent?.trim();\n    // Skip hidden headings\n    const className = heading.className || '';\n    if (text && !className.includes('offscreen') && !className.includes('hidden')) {\n      column.heading = text;\n      column.headingLevel = parseInt(heading.tagName[1]);\n    }\n  }\n\n  // Find description (paragraph text)\n  const paragraphs = el.querySelectorAll('p');\n  const descriptions: string[] = [];\n  for (const p of paragraphs) {\n    const text = p.textContent?.trim();\n    if (text && text.length > 10) {\n      descriptions.push(text);\n    }\n  }\n  if (descriptions.length > 0) {\n    column.description = descriptions.join(' ');\n  }\n\n  // Find CTA link\n  const links = el.querySelectorAll('a');\n  for (const link of links) {\n    const href = link.getAttribute('href');\n    const text = link.textContent?.trim();\n    if (href && text && !href.startsWith('#') && text.length > 2) {\n      column.cta = { text, href: resolveUrl(href, baseUrl) };\n      break;\n    }\n  }\n\n  return column;\n}\n\n/**\n * Detect if the structure looks like cards based on visual/structural signals\n */\nfunction detectCardSignals(root: Element, columns: ExtractedColumn[]): { isCards: boolean; confidence: number } {\n  let cardScore = 0;\n  let columnScore = 0;\n\n  // 1. Check class names for card/column hints\n  const classStr = root.innerHTML.toLowerCase();\n\n  // Card-related class patterns\n  if (/\\bcard\\b/.test(classStr)) cardScore += 3;\n  if (/\\btile\\b/.test(classStr)) cardScore += 3;\n  if (/\\bgrid-item\\b/.test(classStr)) cardScore += 2;\n  if (/\\bproduct\\b/.test(classStr)) cardScore += 1;\n  if (/\\bteaser\\b/.test(classStr)) cardScore += 2;\n\n  // Column-related class patterns\n  if (/\\bcol(?:umn)?[-_]?\\d*\\b/.test(classStr)) columnScore += 2;\n  if (/\\bfeature\\b/.test(classStr)) columnScore += 1;\n\n  // 2. Check for visual boundaries (box-shadow, border, border-radius in inline styles)\n  const elementsWithStyle = root.querySelectorAll('[style]');\n  for (const el of elementsWithStyle) {\n    const style = (el.getAttribute('style') || '').toLowerCase();\n    if (/box-shadow/.test(style)) cardScore += 2;\n    if (/border-radius/.test(style)) cardScore += 1;\n    if (/border:\\s*\\d/.test(style)) cardScore += 1;\n  }\n\n  // 3. Check description length - cards have shorter descriptions\n  const avgDescLength = columns.reduce((sum, c) => sum + (c.description?.length || 0), 0) / (columns.length || 1);\n  if (avgDescLength < 80) {\n    cardScore += 2; // Short descriptions = likely cards\n  } else if (avgDescLength > 150) {\n    columnScore += 2; // Long descriptions = likely columns\n  }\n\n  // 4. Check for wrapper links (entire item wrapped in <a>)\n  const allElements = root.querySelectorAll('a');\n  let wrapperLinkCount = 0;\n  for (const link of allElements) {\n    // If link contains both image and heading, it's a wrapper link (card pattern)\n    if (link.querySelector('img, picture') && link.querySelector('h2, h3, h4')) {\n      wrapperLinkCount++;\n    }\n  }\n  if (wrapperLinkCount >= columns.length * 0.5) {\n    cardScore += 3;\n  }\n\n  // 5. Check if items have CTA links (columns often have explicit CTAs, cards are clickable)\n  const itemsWithCta = columns.filter(c => c.cta).length;\n  if (itemsWithCta >= columns.length * 0.7) {\n    columnScore += 2; // Explicit CTAs = likely columns\n  }\n\n  const isCards = cardScore > columnScore;\n  const confidence = Math.abs(cardScore - columnScore);\n\n  return { isCards, confidence };\n}\n\n/**\n * Detect if the structure is a carousel\n */\nfunction detectCarousel(root: Element): boolean {\n  const html = root.innerHTML.toLowerCase();\n  const outerHTML = root.outerHTML?.toLowerCase() || '';\n\n  // Check class names for carousel patterns\n  const carouselClassPatterns = [\n    /\\bcarousel\\b/,\n    /\\bslider\\b/,\n    /\\bswiper\\b/,\n    /\\bslick\\b/,\n    /\\bslideshow\\b/,\n    /\\bgallery\\b/,\n  ];\n\n  for (const pattern of carouselClassPatterns) {\n    if (pattern.test(html) || pattern.test(outerHTML)) {\n      return true;\n    }\n  }\n\n  // Check for ARIA carousel attributes\n  if (root.querySelector('[aria-roledescription=\"carousel\"]')) return true;\n  if (root.querySelector('[data-cmp-is=\"carousel\"]')) return true;\n  if (root.querySelector('[data-slick]')) return true;\n  if (root.querySelector('[data-swiper]')) return true;\n  if (root.querySelector('.owl-carousel')) return true;\n\n  // Check for carousel navigation elements\n  const hasCarouselNav = root.querySelector(\n    '[class*=\"carousel-indicator\"], [class*=\"carousel-control\"], ' +\n    '[class*=\"slick-dots\"], [class*=\"swiper-pagination\"], ' +\n    '[class*=\"slide-nav\"], [class*=\"slider-nav\"]'\n  );\n  if (hasCarouselNav) return true;\n\n  return false;\n}\n\n/**\n * Determine the block type based on structure\n */\nfunction determineBlockType(root: Element, columns: ExtractedColumn[]): ExtractedBlock['type'] {\n  const columnCount = columns.length;\n\n  // Check for carousel first (before other patterns)\n  if (detectCarousel(root)) {\n    return 'carousel';\n  }\n\n  // Check for hero (single large image with text)\n  if (columnCount <= 1) {\n    const hasLargeImage = root.querySelector('img, picture, [data-src]');\n    const hasHeading = root.querySelector('h1, h2');\n    if (hasLargeImage && hasHeading) {\n      return 'hero';\n    }\n  }\n\n  // Check for accordion (heading + content pairs without images)\n  const columnsWithImages = columns.filter(c => c.image).length;\n  if (columnCount >= 2 && columnsWithImages === 0) {\n    const allHaveHeadings = columns.every(c => c.heading);\n    if (allHaveHeadings) {\n      return 'accordion';\n    }\n  }\n\n  // Use signal-based detection to distinguish cards from columns\n  if (columnCount >= 2) {\n    const { isCards } = detectCardSignals(root, columns);\n    return isCards ? 'cards' : 'columns';\n  }\n\n  // Default\n  if (columnCount === 0) {\n    return root.querySelector('h1, h2, h3, p') ? 'text' : 'unknown';\n  }\n\n  return 'columns';\n}\n\n/**\n * Extract style hints from the HTML\n */\nfunction extractStyles(root: Element, columns: ExtractedColumn[]): ExtractedStyles {\n  const styles: ExtractedStyles = {\n    columnCount: columns.length || 1,\n  };\n\n  // Look for inline styles\n  const elementsWithStyle = root.querySelectorAll('[style]');\n  for (const el of elementsWithStyle) {\n    const style = el.getAttribute('style') || '';\n\n    // Extract colors\n    const bgMatch = style.match(/background(?:-color)?:\\s*([^;]+)/i);\n    if (bgMatch) styles.backgroundColor = bgMatch[1].trim();\n\n    const colorMatch = style.match(/(?:^|;)\\s*color:\\s*([^;]+)/i);\n    if (colorMatch) styles.textColor = colorMatch[1].trim();\n\n    // Extract spacing\n    const paddingMatch = style.match(/padding:\\s*([^;]+)/i);\n    if (paddingMatch) styles.padding = paddingMatch[1].trim();\n\n    const gapMatch = style.match(/gap:\\s*([^;]+)/i);\n    if (gapMatch) styles.gap = gapMatch[1].trim();\n  }\n\n  // Look for color hints in class names\n  const classStr = root.innerHTML || '';\n  if (classStr.includes('gradient')) {\n    styles.headingColor = 'var(--link-color)'; // Common gradient text pattern\n  }\n\n  return styles;\n}\n", "import { ExtractedBlock, ExtractedColumn, ExtractedStyles } from './content-extractor';\nimport { DesignTokens } from './design-analyzer';\n\nexport interface GeneratedBlock {\n  blockName: string;\n  html: string;\n  js: string;\n  css: string;\n}\n\n/**\n * Generate a complete EDS block from extracted content\n */\nexport function buildBlock(extracted: ExtractedBlock, designTokens?: DesignTokens): GeneratedBlock {\n  const blockName = generateBlockName(extracted);\n\n  return {\n    blockName,\n    html: generateHTML(blockName, extracted),\n    js: generateJS(blockName, extracted),\n    css: generateCSS(blockName, extracted, designTokens),\n  };\n}\n\n/**\n * Generate a meaningful block name\n */\nfunction generateBlockName(extracted: ExtractedBlock): string {\n  const parts: string[] = [];\n\n  // Base name from type\n  switch (extracted.type) {\n    case 'tabs':\n      parts.push('tabs');\n      break;\n    case 'cards':\n      parts.push('cards');\n      break;\n    case 'columns':\n      parts.push('columns');\n      break;\n    case 'hero':\n      parts.push('hero');\n      break;\n    case 'accordion':\n      parts.push('accordion');\n      break;\n    case 'carousel':\n      parts.push('carousel');\n      break;\n    default:\n      parts.push('content');\n  }\n\n  // Add column count for multi-column layouts\n  if (extracted.columns.length >= 2) {\n    parts.push(String(extracted.columns.length));\n  }\n\n  // Add feature hints\n  const hasImages = extracted.columns.some(c => c.image);\n  const hasCTAs = extracted.columns.some(c => c.cta);\n\n  if (hasImages && extracted.type !== 'hero') {\n    parts.push('media');\n  }\n\n  return parts.join('-');\n}\n\n/**\n * Generate clean EDS HTML structure\n */\nfunction generateHTML(blockName: string, extracted: ExtractedBlock): string {\n  const lines: string[] = [];\n\n  lines.push(`<div class=\"${blockName} block\">`);\n\n  // Add title row if present\n  if (extracted.title) {\n    lines.push('  <div>');\n    lines.push('    <div>');\n    lines.push(`      <h2>${escapeHtml(extracted.title)}</h2>`);\n    if (extracted.subtitle) {\n      lines.push(`      <p>${escapeHtml(extracted.subtitle)}</p>`);\n    }\n    lines.push('    </div>');\n    lines.push('  </div>');\n  }\n\n  // Add content rows based on type\n  switch (extracted.type) {\n    case 'columns':\n      // Single row with multiple column cells\n      lines.push('  <div>');\n      for (const col of extracted.columns) {\n        lines.push('    <div>');\n        // Image first, then heading, description, CTA\n        if (col.image) {\n          lines.push(`      <picture>`);\n          lines.push(`        <source type=\"image/webp\" srcset=\"${escapeHtml(col.image.src)}?width=750&format=webp\">`);\n          lines.push(`        <img src=\"${escapeHtml(col.image.src)}\" alt=\"${escapeHtml(col.image.alt)}\" loading=\"lazy\">`);\n          lines.push(`      </picture>`);\n        }\n        if (col.heading) {\n          const level = col.headingLevel || 3;\n          lines.push(`      <h${level}>${escapeHtml(col.heading)}</h${level}>`);\n        }\n        if (col.description) {\n          lines.push(`      <p>${escapeHtml(col.description)}</p>`);\n        }\n        if (col.cta) {\n          lines.push(`      <p><a href=\"${escapeHtml(col.cta.href)}\">${escapeHtml(col.cta.text)}</a></p>`);\n        }\n        lines.push('    </div>');\n      }\n      lines.push('  </div>');\n      break;\n\n    case 'tabs':\n      // Single row with multiple cells (for tabs that show one at a time)\n      lines.push('  <div>');\n      for (const col of extracted.columns) {\n        lines.push('    <div>');\n        lines.push(...generateColumnContent(col, 6));\n        lines.push('    </div>');\n      }\n      lines.push('  </div>');\n      break;\n\n    case 'cards':\n      // Each card is a row with image and content cells\n      for (const col of extracted.columns) {\n        lines.push('  <div>');\n        if (col.image) {\n          lines.push('    <div>');\n          lines.push(`      <picture>`);\n          lines.push(`        <source type=\"image/webp\" srcset=\"${escapeHtml(col.image.src)}?width=750&format=webp\">`);\n          lines.push(`        <img src=\"${escapeHtml(col.image.src)}\" alt=\"${escapeHtml(col.image.alt)}\" loading=\"lazy\">`);\n          lines.push(`      </picture>`);\n          lines.push('    </div>');\n        }\n        lines.push('    <div>');\n        if (col.heading) {\n          const level = col.headingLevel || 3;\n          lines.push(`      <h${level}>${escapeHtml(col.heading)}</h${level}>`);\n        }\n        if (col.description) {\n          lines.push(`      <p>${escapeHtml(col.description)}</p>`);\n        }\n        if (col.cta) {\n          lines.push(`      <p><a href=\"${escapeHtml(col.cta.href)}\">${escapeHtml(col.cta.text)}</a></p>`);\n        }\n        lines.push('    </div>');\n        lines.push('  </div>');\n      }\n      break;\n\n    case 'hero':\n      // Single structure with image and content\n      const heroCol = extracted.columns[0] || {};\n      if (heroCol.image) {\n        lines.push('  <div>');\n        lines.push('    <div>');\n        lines.push(`      <picture>`);\n        lines.push(`        <source type=\"image/webp\" srcset=\"${escapeHtml(heroCol.image.src)}?width=2000&format=webp\" media=\"(min-width: 600px)\">`);\n        lines.push(`        <source type=\"image/webp\" srcset=\"${escapeHtml(heroCol.image.src)}?width=750&format=webp\">`);\n        lines.push(`        <img src=\"${escapeHtml(heroCol.image.src)}\" alt=\"${escapeHtml(heroCol.image.alt)}\" loading=\"eager\">`);\n        lines.push(`      </picture>`);\n        lines.push('    </div>');\n        lines.push('  </div>');\n      }\n      lines.push('  <div>');\n      lines.push('    <div>');\n      if (heroCol.heading) {\n        lines.push(`      <h1>${escapeHtml(heroCol.heading)}</h1>`);\n      }\n      if (heroCol.description) {\n        lines.push(`      <p>${escapeHtml(heroCol.description)}</p>`);\n      }\n      if (heroCol.cta) {\n        lines.push(`      <p><a href=\"${escapeHtml(heroCol.cta.href)}\">${escapeHtml(heroCol.cta.text)}</a></p>`);\n      }\n      lines.push('    </div>');\n      lines.push('  </div>');\n      break;\n\n    case 'carousel':\n      // Each slide is a row with image cell and content cell\n      for (const col of extracted.columns) {\n        lines.push('  <div>');\n        // Image cell\n        if (col.image) {\n          lines.push('    <div>');\n          lines.push(`      <picture>`);\n          lines.push(`        <source type=\"image/webp\" srcset=\"${escapeHtml(col.image.src)}?width=2000&format=webp\" media=\"(min-width: 600px)\">`);\n          lines.push(`        <source type=\"image/webp\" srcset=\"${escapeHtml(col.image.src)}?width=750&format=webp\">`);\n          lines.push(`        <img src=\"${escapeHtml(col.image.src)}\" alt=\"${escapeHtml(col.image.alt)}\" loading=\"lazy\">`);\n          lines.push(`      </picture>`);\n          lines.push('    </div>');\n        }\n        // Content cell (overlay box)\n        const hasContent = col.heading || col.description || col.cta;\n        if (hasContent) {\n          lines.push('    <div>');\n          if (col.heading) {\n            const level = col.headingLevel || 2;\n            lines.push(`      <h${level}>${escapeHtml(col.heading)}</h${level}>`);\n          }\n          if (col.description) {\n            lines.push(`      <p>${escapeHtml(col.description)}</p>`);\n          }\n          if (col.cta) {\n            lines.push(`      <p><a href=\"${escapeHtml(col.cta.href)}\">${escapeHtml(col.cta.text)}</a></p>`);\n          }\n          lines.push('    </div>');\n        }\n        lines.push('  </div>');\n      }\n      break;\n\n    default:\n      // Generic content\n      for (const col of extracted.columns) {\n        lines.push('  <div>');\n        lines.push('    <div>');\n        lines.push(...generateColumnContent(col, 6));\n        lines.push('    </div>');\n        lines.push('  </div>');\n      }\n  }\n\n  lines.push('</div>');\n\n  return lines.join('\\n');\n}\n\n/**\n * Generate content for a single column\n */\nfunction generateColumnContent(col: ExtractedColumn, indent: number): string[] {\n  const lines: string[] = [];\n  const pad = ' '.repeat(indent);\n\n  if (col.image) {\n    lines.push(`${pad}<picture>`);\n    lines.push(`${pad}  <source type=\"image/webp\" srcset=\"${escapeHtml(col.image.src)}?width=750&format=webp\">`);\n    lines.push(`${pad}  <img src=\"${escapeHtml(col.image.src)}\" alt=\"${escapeHtml(col.image.alt)}\" loading=\"lazy\">`);\n    lines.push(`${pad}</picture>`);\n  }\n\n  if (col.heading) {\n    const level = col.headingLevel || 3;\n    lines.push(`${pad}<h${level}>${escapeHtml(col.heading)}</h${level}>`);\n  }\n\n  if (col.description) {\n    lines.push(`${pad}<p>${escapeHtml(col.description)}</p>`);\n  }\n\n  if (col.cta) {\n    lines.push(`${pad}<p><a href=\"${escapeHtml(col.cta.href)}\">${escapeHtml(col.cta.text)}</a></p>`);\n  }\n\n  return lines;\n}\n\n/**\n * Generate JS decoration function\n */\nfunction generateJS(blockName: string, extracted: ExtractedBlock): string {\n  switch (extracted.type) {\n    case 'tabs':\n      return generateTabsJS(blockName);\n    case 'columns':\n      return generateColumnsJS(blockName, extracted.columns.length);\n    case 'cards':\n      return generateCardsJS(blockName);\n    case 'hero':\n      return generateHeroJS(blockName);\n    case 'carousel':\n      return generateCarouselJS(blockName);\n    default:\n      return generateDefaultJS(blockName);\n  }\n}\n\nfunction generateTabsJS(blockName: string): string {\n  return `export default function decorate(block) {\n  // Get all content panels\n  const rows = [...block.children];\n  const titleRow = rows.find(row => row.querySelector('h2:only-child'));\n  const contentRow = rows.find(row => row.children.length > 1);\n\n  if (!contentRow) return;\n\n  const panels = [...contentRow.children];\n\n  // Create tab navigation\n  const nav = document.createElement('nav');\n  nav.className = '${blockName}-nav';\n\n  const tabList = document.createElement('ul');\n  tabList.setAttribute('role', 'tablist');\n\n  panels.forEach((panel, index) => {\n    const heading = panel.querySelector('h2, h3, h4');\n    const title = heading?.textContent || \\`Tab \\${index + 1}\\`;\n\n    // Create tab button\n    const tab = document.createElement('li');\n    tab.setAttribute('role', 'tab');\n    tab.setAttribute('aria-selected', index === 0 ? 'true' : 'false');\n    tab.setAttribute('tabindex', index === 0 ? '0' : '-1');\n    tab.textContent = title;\n    tab.addEventListener('click', () => activateTab(index));\n    tabList.appendChild(tab);\n\n    // Setup panel\n    panel.setAttribute('role', 'tabpanel');\n    panel.setAttribute('aria-hidden', index === 0 ? 'false' : 'true');\n    panel.classList.add('${blockName}-panel');\n    if (index === 0) panel.classList.add('${blockName}-panel-active');\n\n    // Remove heading from panel (it's now in tab)\n    if (heading) heading.remove();\n  });\n\n  nav.appendChild(tabList);\n\n  // Insert nav before content\n  if (titleRow) {\n    titleRow.after(nav);\n  } else {\n    block.prepend(nav);\n  }\n\n  function activateTab(activeIndex) {\n    tabList.querySelectorAll('li').forEach((tab, i) => {\n      tab.setAttribute('aria-selected', i === activeIndex ? 'true' : 'false');\n      tab.setAttribute('tabindex', i === activeIndex ? '0' : '-1');\n    });\n\n    panels.forEach((panel, i) => {\n      panel.setAttribute('aria-hidden', i === activeIndex ? 'false' : 'true');\n      panel.classList.toggle('${blockName}-panel-active', i === activeIndex);\n    });\n  }\n}\n`;\n}\n\nfunction generateColumnsJS(blockName: string, colCount: number): string {\n  return `import { createOptimizedPicture } from '../../scripts/aem.js';\n\nexport default function decorate(block) {\n  const rows = [...block.children];\n\n  rows.forEach((row) => {\n    const cols = [...row.children];\n\n    // If this row has multiple columns, it's the columns container\n    if (cols.length > 1) {\n      row.classList.add('${blockName}-row');\n\n      cols.forEach((col) => {\n        col.classList.add('${blockName}-col');\n\n        // Optimize images\n        col.querySelectorAll('picture > img').forEach((img) => {\n          const picture = img.closest('picture');\n          if (picture) {\n            picture.replaceWith(\n              createOptimizedPicture(img.src, img.alt, false, [{ width: '750' }])\n            );\n          }\n        });\n      });\n    }\n  });\n}\n`;\n}\n\nfunction generateCardsJS(blockName: string): string {\n  return `import { createOptimizedPicture } from '../../scripts/aem.js';\n\nexport default function decorate(block) {\n  const ul = document.createElement('ul');\n\n  [...block.children].forEach((row) => {\n    const li = document.createElement('li');\n\n    while (row.firstElementChild) {\n      const cell = row.firstElementChild;\n\n      // Classify cell content\n      if (cell.children.length === 1 && cell.querySelector('picture')) {\n        cell.className = '${blockName}-card-image';\n      } else {\n        cell.className = '${blockName}-card-body';\n      }\n\n      li.append(cell);\n    }\n\n    ul.append(li);\n  });\n\n  // Optimize images\n  ul.querySelectorAll('picture > img').forEach((img) => {\n    img.closest('picture')?.replaceWith(\n      createOptimizedPicture(img.src, img.alt, false, [{ width: '750' }])\n    );\n  });\n\n  block.replaceChildren(ul);\n}\n`;\n}\n\nfunction generateHeroJS(blockName: string): string {\n  return `import { createOptimizedPicture } from '../../scripts/aem.js';\n\nexport default function decorate(block) {\n  const rows = [...block.children];\n\n  rows.forEach((row) => {\n    const cells = [...row.children];\n\n    cells.forEach((cell) => {\n      const pic = cell.querySelector('picture');\n\n      if (pic) {\n        cell.classList.add('${blockName}-image');\n        // Optimize with eager loading for hero\n        const img = pic.querySelector('img');\n        if (img) {\n          pic.replaceWith(\n            createOptimizedPicture(img.src, img.alt, true, [{ width: '2000' }])\n          );\n        }\n      } else if (cell.querySelector('h1, h2')) {\n        cell.classList.add('${blockName}-content');\n      }\n    });\n  });\n}\n`;\n}\n\nfunction generateCarouselJS(blockName: string): string {\n  return `import { createOptimizedPicture } from '../../scripts/aem.js';\n\nexport default function decorate(block) {\n  const slides = [...block.children];\n  let currentSlide = 0;\n\n  // Create carousel wrapper\n  const wrapper = document.createElement('div');\n  wrapper.className = '${blockName}-wrapper';\n\n  // Create slides container\n  const slidesContainer = document.createElement('div');\n  slidesContainer.className = '${blockName}-slides';\n\n  slides.forEach((slide, index) => {\n    slide.classList.add('${blockName}-slide');\n    slide.setAttribute('aria-hidden', index === 0 ? 'false' : 'true');\n    if (index === 0) slide.classList.add('${blockName}-slide-active');\n\n    // Optimize images\n    slide.querySelectorAll('picture > img').forEach((img) => {\n      const picture = img.closest('picture');\n      if (picture) {\n        picture.replaceWith(\n          createOptimizedPicture(img.src, img.alt, index === 0, [{ width: '2000' }])\n        );\n      }\n    });\n\n    slidesContainer.appendChild(slide);\n  });\n\n  wrapper.appendChild(slidesContainer);\n\n  // Create navigation\n  const nav = document.createElement('div');\n  nav.className = '${blockName}-nav';\n\n  const prevBtn = document.createElement('button');\n  prevBtn.className = '${blockName}-prev';\n  prevBtn.setAttribute('aria-label', 'Previous slide');\n  prevBtn.innerHTML = '&#10094;';\n  prevBtn.addEventListener('click', () => goToSlide(currentSlide - 1));\n\n  const nextBtn = document.createElement('button');\n  nextBtn.className = '${blockName}-next';\n  nextBtn.setAttribute('aria-label', 'Next slide');\n  nextBtn.innerHTML = '&#10095;';\n  nextBtn.addEventListener('click', () => goToSlide(currentSlide + 1));\n\n  nav.appendChild(prevBtn);\n  nav.appendChild(nextBtn);\n  wrapper.appendChild(nav);\n\n  // Create indicators\n  const indicators = document.createElement('div');\n  indicators.className = '${blockName}-indicators';\n\n  slides.forEach((_, index) => {\n    const dot = document.createElement('button');\n    dot.className = '${blockName}-indicator';\n    dot.setAttribute('aria-label', \\`Go to slide \\${index + 1}\\`);\n    if (index === 0) dot.classList.add('${blockName}-indicator-active');\n    dot.addEventListener('click', () => goToSlide(index));\n    indicators.appendChild(dot);\n  });\n\n  wrapper.appendChild(indicators);\n  block.replaceChildren(wrapper);\n\n  function goToSlide(index) {\n    const slideCount = slides.length;\n    currentSlide = ((index % slideCount) + slideCount) % slideCount;\n\n    slides.forEach((slide, i) => {\n      slide.classList.toggle('${blockName}-slide-active', i === currentSlide);\n      slide.setAttribute('aria-hidden', i === currentSlide ? 'false' : 'true');\n    });\n\n    indicators.querySelectorAll('.${blockName}-indicator').forEach((dot, i) => {\n      dot.classList.toggle('${blockName}-indicator-active', i === currentSlide);\n    });\n  }\n\n  // Auto-advance every 5 seconds\n  let autoplayInterval = setInterval(() => goToSlide(currentSlide + 1), 5000);\n\n  // Pause on hover\n  block.addEventListener('mouseenter', () => clearInterval(autoplayInterval));\n  block.addEventListener('mouseleave', () => {\n    autoplayInterval = setInterval(() => goToSlide(currentSlide + 1), 5000);\n  });\n}\n`;\n}\n\nfunction generateDefaultJS(blockName: string): string {\n  return `export default function decorate(block) {\n  [...block.children].forEach((row, i) => {\n    row.classList.add('${blockName}-row');\n\n    [...row.children].forEach((col, j) => {\n      col.classList.add('${blockName}-col');\n    });\n  });\n}\n`;\n}\n\n/**\n * Generate CSS that matches the original design\n */\nfunction generateCSS(blockName: string, extracted: ExtractedBlock, designTokens?: DesignTokens): string {\n  const styles = extracted.styles;\n  const colCount = styles.columnCount;\n\n  switch (extracted.type) {\n    case 'tabs':\n      return generateTabsCSS(blockName, styles, designTokens);\n    case 'columns':\n      return generateColumnsCSS(blockName, colCount, styles, designTokens);\n    case 'cards':\n      return generateCardsCSS(blockName, colCount, styles, designTokens);\n    case 'hero':\n      return generateHeroCSS(blockName, styles, designTokens);\n    case 'carousel':\n      return generateCarouselCSS(blockName, styles, designTokens);\n    default:\n      return generateDefaultCSS(blockName, styles, designTokens);\n  }\n}\n\nfunction generateTabsCSS(blockName: string, styles: ExtractedStyles, designTokens?: DesignTokens): string {\n  const dt = {\n    colors: designTokens?.colors || {},\n    typography: designTokens?.typography || {},\n    spacing: designTokens?.spacing || {},\n    layout: designTokens?.layout || {},\n    effects: designTokens?.effects || {},\n  };\n\n  const bgColor = dt.colors.background || styles.backgroundColor || 'var(--background-color, #fff)';\n  const textColor = dt.colors.text || styles.textColor || 'var(--text-color, #333)';\n  const headingColor = dt.colors.heading || styles.headingColor || 'var(--heading-color, #1a1a1a)';\n  const linkColor = dt.colors.link || dt.colors.primary || styles.linkColor || 'var(--link-color, #3b63fb)';\n\n  return `/* ${blockName} - Tabs Block */\n.${blockName} {\n  padding: 40px 0;\n  background: ${bgColor};\n}\n\n.${blockName} > div:first-child h2 {\n  font-size: var(--heading-font-size-l, 32px);\n  color: ${headingColor};\n  margin: 0 0 24px;\n  text-align: center;\n}\n\n.${blockName}-nav {\n  margin-bottom: 32px;\n}\n\n.${blockName}-nav ul {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  border-bottom: 2px solid var(--light-color, #eee);\n}\n\n.${blockName}-nav li {\n  padding: 12px 24px;\n  cursor: pointer;\n  font-weight: 600;\n  color: var(--dark-color, #666);\n  border-bottom: 2px solid transparent;\n  margin-bottom: -2px;\n  transition: color 0.2s, border-color 0.2s;\n}\n\n.${blockName}-nav li:hover {\n  color: ${linkColor};\n}\n\n.${blockName}-nav li[aria-selected=\"true\"] {\n  color: ${linkColor};\n  border-bottom-color: ${linkColor};\n}\n\n.${blockName}-panel {\n  display: none;\n  padding: 24px;\n}\n\n.${blockName}-panel-active {\n  display: block;\n}\n\n.${blockName}-panel h3, .${blockName}-panel h4 {\n  font-size: var(--heading-font-size-m, 24px);\n  color: ${headingColor};\n  margin: 0 0 12px;\n}\n\n.${blockName}-panel p {\n  color: ${textColor};\n  line-height: 1.6;\n  margin: 0 0 16px;\n}\n\n.${blockName}-panel a {\n  color: ${linkColor};\n  font-weight: 600;\n  text-decoration: none;\n}\n\n.${blockName}-panel a:hover {\n  text-decoration: underline;\n}\n\n/* Columns layout for tab content */\n.${blockName} > div:last-child {\n  display: grid;\n  grid-template-columns: repeat(${styles.columnCount}, 1fr);\n  gap: 32px;\n}\n\n@media (max-width: 900px) {\n  .${blockName}-nav ul {\n    flex-wrap: wrap;\n  }\n\n  .${blockName} > div:last-child {\n    grid-template-columns: 1fr;\n  }\n}\n`;\n}\n\nfunction generateColumnsCSS(blockName: string, colCount: number, styles: ExtractedStyles, designTokens?: DesignTokens): string {\n  const dt = {\n    colors: designTokens?.colors || {},\n    typography: designTokens?.typography || {},\n    spacing: designTokens?.spacing || {},\n    layout: designTokens?.layout || {},\n    effects: designTokens?.effects || {},\n  };\n\n  const bgColor = dt.colors.background || styles.backgroundColor || 'var(--background-color, #fff)';\n  const textColor = dt.colors.text || styles.textColor || 'var(--text-color, #333)';\n  const headingColor = dt.colors.heading || dt.colors.primary || styles.headingColor || '#1a1a1a';\n  const linkColor = dt.colors.link || dt.colors.primary || styles.linkColor || '#3b63fb';\n\n  const headingFontSize = dt.typography.headingFontSize || '24px';\n  const headingFontWeight = dt.typography.headingFontWeight || '400';\n  const bodyFontSize = dt.typography.bodyFontSize || '16px';\n  const gap = dt.spacing.gap || '40px';\n  const padding = dt.spacing.padding || '48px 0';\n\n  return `/* ${blockName} - Columns Block */\n.${blockName} {\n  padding: ${padding};\n  background: ${bgColor};\n}\n\n/* Main title */\n.${blockName} > div:first-child h2 {\n  font-size: 36px;\n  font-weight: 300;\n  color: ${headingColor};\n  margin: 0 0 40px;\n}\n\n/* Columns container */\n.${blockName}-row {\n  display: grid;\n  grid-template-columns: repeat(${colCount}, 1fr);\n  gap: 40px;\n}\n\n/* Individual column */\n.${blockName}-col {\n  display: flex;\n  flex-direction: column;\n}\n\n/* Column image */\n.${blockName}-col picture,\n.${blockName}-col img {\n  width: 100%;\n  height: auto;\n  aspect-ratio: 4 / 3;\n  object-fit: cover;\n  margin-bottom: 24px;\n}\n\n/* Column heading */\n.${blockName}-col h2,\n.${blockName}-col h3,\n.${blockName}-col h4 {\n  font-size: 24px;\n  font-weight: 400;\n  color: ${headingColor};\n  margin: 0 0 16px;\n}\n\n/* Column description */\n.${blockName}-col p {\n  color: ${textColor};\n  font-size: 16px;\n  line-height: 1.6;\n  margin: 0 0 16px;\n}\n\n/* CTA link */\n.${blockName}-col a {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  color: ${linkColor};\n  font-size: 16px;\n  font-weight: 400;\n  text-decoration: none;\n  margin-top: auto;\n}\n\n.${blockName}-col a:hover {\n  text-decoration: underline;\n}\n\n.${blockName}-col a::after {\n  content: '\u2192';\n  font-size: 18px;\n}\n\n/* Responsive */\n@media (max-width: 900px) {\n  .${blockName}-row {\n    grid-template-columns: 1fr;\n    gap: 48px;\n  }\n\n  .${blockName} > div:first-child h2 {\n    font-size: 28px;\n  }\n}\n`;\n}\n\nfunction generateCardsCSS(blockName: string, colCount: number, styles: ExtractedStyles, designTokens?: DesignTokens): string {\n  const dt = {\n    colors: designTokens?.colors || {},\n    typography: designTokens?.typography || {},\n    spacing: designTokens?.spacing || {},\n    layout: designTokens?.layout || {},\n    effects: designTokens?.effects || {},\n  };\n\n  const bgColor = dt.colors.background || styles.backgroundColor || 'var(--background-color, #fff)';\n  const textColor = dt.colors.text || styles.textColor || 'var(--text-color, #333)';\n  const headingColor = dt.colors.heading || styles.headingColor || 'var(--heading-color, #1a1a1a)';\n  const linkColor = dt.colors.link || dt.colors.primary || styles.linkColor || 'var(--link-color, #3b63fb)';\n  const borderRadius = dt.layout.borderRadius || '12px';\n  const boxShadow = dt.layout.boxShadow || '0 2px 8px rgba(0, 0, 0, 0.08)';\n\n  return `/* ${blockName} - Cards Block */\n.${blockName} {\n  padding: 40px 0;\n}\n\n.${blockName} > ul {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 24px;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.${blockName} > ul > li {\n  background: ${bgColor};\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n\n.${blockName} > ul > li:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n}\n\n.${blockName}-card-image {\n  aspect-ratio: 16 / 9;\n  overflow: hidden;\n}\n\n.${blockName}-card-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.${blockName}-card-body {\n  padding: 20px;\n}\n\n.${blockName}-card-body h3, .${blockName}-card-body h4 {\n  font-size: var(--heading-font-size-s, 20px);\n  color: ${headingColor};\n  margin: 0 0 8px;\n}\n\n.${blockName}-card-body p {\n  color: ${textColor};\n  line-height: 1.5;\n  margin: 0 0 12px;\n}\n\n.${blockName}-card-body a {\n  color: ${linkColor};\n  font-weight: 600;\n  text-decoration: none;\n}\n\n.${blockName}-card-body a:hover {\n  text-decoration: underline;\n}\n\n@media (min-width: 900px) {\n  .${blockName} > ul {\n    grid-template-columns: repeat(${Math.min(colCount, 4)}, 1fr);\n  }\n}\n`;\n}\n\nfunction generateHeroCSS(blockName: string, styles: ExtractedStyles, designTokens?: DesignTokens): string {\n  const dt = {\n    colors: designTokens?.colors || {},\n    typography: designTokens?.typography || {},\n    spacing: designTokens?.spacing || {},\n    layout: designTokens?.layout || {},\n    effects: designTokens?.effects || {},\n  };\n\n  const headingColor = dt.colors.heading || styles.headingColor || '#fff';\n  const textColor = dt.colors.text || styles.textColor || 'rgba(255, 255, 255, 0.9)';\n  const linkColor = dt.colors.link || dt.colors.primary || styles.linkColor || '#fff';\n  const overlay = dt.effects.overlay || 'rgba(0,0,0,0.3)';\n  const gradient = dt.effects.gradient || `linear-gradient(to bottom, ${overlay}, rgba(0,0,0,0.6))`;\n\n  return `/* ${blockName} - Hero Block */\n.${blockName} {\n  position: relative;\n  min-height: 500px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  color: ${textColor};\n}\n\n.${blockName}-image {\n  position: absolute;\n  inset: 0;\n  z-index: -1;\n}\n\n.${blockName}-image::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.6));\n}\n\n.${blockName}-image picture,\n.${blockName}-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.${blockName}-content {\n  position: relative;\n  z-index: 1;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 60px 20px;\n  text-align: center;\n}\n\n.${blockName}-content h1, .${blockName}-content h2 {\n  font-size: var(--heading-font-size-xxl, 48px);\n  color: ${headingColor};\n  margin: 0 0 16px;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.${blockName}-content p {\n  font-size: var(--body-font-size-m, 20px);\n  margin: 0 0 24px;\n}\n\n.${blockName}-content a {\n  display: inline-block;\n  padding: 14px 32px;\n  background: ${linkColor};\n  color: #1a1a1a;\n  font-weight: 600;\n  text-decoration: none;\n  border-radius: 4px;\n  transition: transform 0.2s;\n}\n\n.${blockName}-content a:hover {\n  transform: scale(1.05);\n}\n\n@media (max-width: 600px) {\n  .${blockName} {\n    min-height: 400px;\n  }\n\n  .${blockName}-content h1, .${blockName}-content h2 {\n    font-size: var(--heading-font-size-xl, 36px);\n  }\n}\n`;\n}\n\nfunction generateCarouselCSS(blockName: string, styles: ExtractedStyles, designTokens?: DesignTokens): string {\n  // Use design tokens if available, fall back to extracted styles or defaults\n  const dt = {\n    colors: designTokens?.colors || {},\n    typography: designTokens?.typography || {},\n    spacing: designTokens?.spacing || {},\n    layout: designTokens?.layout || {},\n    effects: designTokens?.effects || {},\n  };\n\n  const textColor = dt.colors.text || styles.textColor || '#fff';\n  const headingColor = dt.colors.heading || styles.headingColor || '#fff';\n  const primaryColor = dt.colors.primary || '#fff';\n  const bgColor = dt.colors.background || 'transparent';\n\n  const headingFontSize = dt.typography.headingFontSize || 'var(--heading-font-size-xxl, 48px)';\n  const headingFontWeight = dt.typography.headingFontWeight || '700';\n  const bodyFontSize = dt.typography.bodyFontSize || 'var(--body-font-size-m, 18px)';\n  const fontFamily = dt.typography.headingFontFamily || 'inherit';\n\n  const padding = dt.spacing.padding || '0';\n  const borderRadius = dt.layout.borderRadius || '0';\n\n  const overlay = dt.effects.overlay || 'rgba(0, 0, 0, 0.3)';\n  const gradient = dt.effects.gradient || `linear-gradient(to bottom, transparent 50%, ${overlay})`;\n  const textShadow = dt.effects.textShadow || '0 2px 4px rgba(0, 0, 0, 0.5)';\n\n  return `/* ${blockName} - Carousel Block */\n.${blockName} {\n  position: relative;\n  overflow: hidden;\n  background: ${bgColor};\n  border-radius: ${borderRadius};\n}\n\n.${blockName}-wrapper {\n  position: relative;\n}\n\n.${blockName}-slides {\n  position: relative;\n  min-height: 400px;\n}\n\n.${blockName}-slide {\n  position: absolute;\n  inset: 0;\n  opacity: 0;\n  transition: opacity 0.5s ease-in-out;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.${blockName}-slide-active {\n  opacity: 1;\n  position: relative;\n}\n\n.${blockName}-slide > div {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.${blockName}-slide > div::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: ${gradient};\n  pointer-events: none;\n}\n\n.${blockName}-slide picture,\n.${blockName}-slide img {\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n  object-fit: cover;\n}\n\n.${blockName}-slide h1,\n.${blockName}-slide h2 {\n  position: absolute;\n  bottom: 80px;\n  left: 40px;\n  right: 40px;\n  font-family: ${fontFamily};\n  font-size: ${headingFontSize};\n  font-weight: ${headingFontWeight};\n  color: ${headingColor};\n  text-shadow: ${textShadow};\n  margin: 0;\n  z-index: 1;\n}\n\n.${blockName}-slide p {\n  position: absolute;\n  bottom: 40px;\n  left: 40px;\n  right: 40px;\n  font-size: ${bodyFontSize};\n  color: ${textColor};\n  text-shadow: ${textShadow};\n  margin: 0;\n  z-index: 1;\n}\n\n.${blockName}-slide a {\n  display: inline-block;\n  padding: 12px 24px;\n  background: ${primaryColor};\n  color: #1a1a1a;\n  font-weight: 600;\n  text-decoration: none;\n  border-radius: 4px;\n  transition: transform 0.2s;\n  z-index: 1;\n}\n\n.${blockName}-slide a:hover {\n  transform: scale(1.05);\n}\n\n/* Navigation arrows */\n.${blockName}-nav {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  display: flex;\n  justify-content: space-between;\n  padding: 0 16px;\n  pointer-events: none;\n  z-index: 10;\n}\n\n.${blockName}-prev,\n.${blockName}-next {\n  width: 48px;\n  height: 48px;\n  border: none;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  color: #1a1a1a;\n  font-size: 20px;\n  cursor: pointer;\n  pointer-events: auto;\n  transition: background 0.2s, transform 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.${blockName}-prev:hover,\n.${blockName}-next:hover {\n  background: #fff;\n  transform: scale(1.1);\n}\n\n/* Indicators */\n.${blockName}-indicators {\n  position: absolute;\n  bottom: 16px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  gap: 8px;\n  z-index: 10;\n}\n\n.${blockName}-indicator {\n  width: 12px;\n  height: 12px;\n  border: 2px solid #fff;\n  border-radius: 50%;\n  background: transparent;\n  cursor: pointer;\n  padding: 0;\n  transition: background 0.2s;\n}\n\n.${blockName}-indicator-active,\n.${blockName}-indicator:hover {\n  background: #fff;\n}\n\n@media (max-width: 600px) {\n  .${blockName}-slides {\n    min-height: 300px;\n  }\n\n  .${blockName}-slide picture,\n  .${blockName}-slide img {\n    min-height: 300px;\n  }\n\n  .${blockName}-slide h1,\n  .${blockName}-slide h2 {\n    font-size: var(--heading-font-size-l, 28px);\n    bottom: 60px;\n    left: 20px;\n    right: 20px;\n  }\n\n  .${blockName}-slide p {\n    bottom: 24px;\n    left: 20px;\n    right: 20px;\n  }\n\n  .${blockName}-prev,\n  .${blockName}-next {\n    width: 36px;\n    height: 36px;\n    font-size: 16px;\n  }\n}\n`;\n}\n\nfunction generateDefaultCSS(blockName: string, styles: ExtractedStyles, designTokens?: DesignTokens): string {\n  return `/* ${blockName} Block */\n.${blockName} {\n  padding: 40px 0;\n}\n\n.${blockName}-row {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  margin-bottom: 24px;\n}\n\n.${blockName}-col {\n  flex: 1;\n}\n\n@media (min-width: 900px) {\n  .${blockName}-row {\n    flex-direction: row;\n  }\n}\n`;\n}\n\n/**\n * Escape HTML special characters\n */\nfunction escapeHtml(str: string): string {\n  return str\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n", "import puppeteer, { Browser, Page } from '@cloudflare/puppeteer';\n\nexport interface ScreenshotResult {\n  screenshot: string; // base64 encoded\n  width: number;\n  height: number;\n}\n\nexport interface ExtractedImage {\n  src: string;\n  alt: string;\n  role: 'photo' | 'background' | 'icon';\n}\n\n/**\n * Extract actual image URLs from a live page element\n * This captures images that are loaded via JavaScript, CSS backgrounds, etc.\n */\nexport async function extractLiveImages(\n  page: Page,\n  selector: string,\n  baseUrl: string\n): Promise<ExtractedImage[]> {\n  return page.evaluate((params: { selector: string; baseUrl: string }) => {\n    const { selector, baseUrl } = params;\n    const images: Array<{ src: string; alt: string; role: 'photo' | 'background' | 'icon' }> = [];\n    const seenUrls = new Set<string>();\n\n    function isPlaceholder(url: string): boolean {\n      if (!url) return true;\n      const lower = url.toLowerCase();\n      return lower.includes('clear.gif') ||\n             lower.includes('spacer.gif') ||\n             lower.includes('blank.gif') ||\n             lower.includes('pixel.gif') ||\n             lower.includes('1x1') ||\n             lower.includes('placeholder') ||\n             (lower.startsWith('data:') && lower.length < 100);\n    }\n\n    function resolveUrl(src: string): string {\n      if (!src) return '';\n      if (src.startsWith('http')) return src;\n      if (src.startsWith('data:') && src.length > 100) return src;\n      if (src.startsWith('//')) return 'https:' + src;\n      try {\n        return new URL(src, baseUrl).href;\n      } catch {\n        return '';\n      }\n    }\n\n    function addImage(src: string, alt: string, role: 'photo' | 'background' | 'icon') {\n      const resolved = resolveUrl(src);\n      if (resolved && !isPlaceholder(resolved) && !seenUrls.has(resolved)) {\n        seenUrls.add(resolved);\n        images.push({ src: resolved, alt, role });\n      }\n    }\n\n    const container = document.querySelector(selector);\n    if (!container) return images;\n\n    // Extract from img elements\n    container.querySelectorAll('img').forEach(img => {\n      // Try various attributes for lazy-loaded images\n      const lazyAttrs = ['data-src', 'data-lazy-src', 'data-original', 'data-lazy', 'data-image'];\n      let src = '';\n\n      for (const attr of lazyAttrs) {\n        const val = img.getAttribute(attr);\n        if (val && !isPlaceholder(val)) {\n          src = val;\n          break;\n        }\n      }\n\n      // Try srcset\n      if (!src) {\n        const srcset = img.getAttribute('srcset') || img.getAttribute('data-srcset');\n        if (srcset) {\n          const parts = srcset.split(',');\n          for (const part of parts) {\n            const url = part.trim().split(/\\s+/)[0];\n            if (url && !isPlaceholder(url)) {\n              src = url;\n              break;\n            }\n          }\n        }\n      }\n\n      // Finally try src\n      if (!src) {\n        const imgSrc = img.getAttribute('src');\n        if (imgSrc && !isPlaceholder(imgSrc)) {\n          src = imgSrc;\n        }\n      }\n\n      // Check currentSrc (the actually displayed image)\n      if (!src && img.currentSrc && !isPlaceholder(img.currentSrc)) {\n        src = img.currentSrc;\n      }\n\n      if (src) {\n        const alt = img.getAttribute('alt') || '';\n        const parentClass = (img.parentElement?.className || '').toLowerCase();\n        let role: 'photo' | 'background' | 'icon' = 'photo';\n        if (parentClass.includes('background') || parentClass.includes('hero')) {\n          role = 'background';\n        } else if (img.width < 100 && img.height < 100) {\n          role = 'icon';\n        }\n        addImage(src, alt, role);\n      }\n    });\n\n    // Extract from picture source elements\n    container.querySelectorAll('picture source').forEach(source => {\n      const srcset = source.getAttribute('srcset');\n      if (srcset) {\n        const url = srcset.split(',')[0]?.trim().split(/\\s+/)[0];\n        if (url) addImage(url, '', 'photo');\n      }\n    });\n\n    // Extract CSS background images (computed styles)\n    container.querySelectorAll('*').forEach(el => {\n      const computed = window.getComputedStyle(el);\n      const bgImage = computed.backgroundImage;\n\n      if (bgImage && bgImage !== 'none') {\n        // Extract all URLs from background-image (might have multiple)\n        const urlMatches = bgImage.matchAll(/url\\(['\"]?([^'\")\\s]+)['\"]?\\)/g);\n        for (const match of urlMatches) {\n          const url = match[1];\n          if (url) addImage(url, 'Background', 'background');\n        }\n      }\n\n      // Also check data attributes for background images\n      const bgAttrs = ['data-background', 'data-bg', 'data-background-image', 'data-image-src'];\n      for (const attr of bgAttrs) {\n        const val = el.getAttribute(attr);\n        if (val) addImage(val, 'Background', 'background');\n      }\n    });\n\n    return images;\n  }, { selector, baseUrl });\n}\n\n/**\n * Capture a screenshot of a specific element on a page\n */\nexport async function captureElementScreenshot(\n  browser: Browser,\n  url: string,\n  selector: string\n): Promise<ScreenshotResult> {\n  const page = await browser.newPage();\n\n  try {\n    // Set viewport to a reasonable desktop size\n    await page.setViewport({ width: 1440, height: 900 });\n\n    // Navigate to the page\n    await page.goto(url, {\n      waitUntil: 'networkidle0',\n      timeout: 30000,\n    });\n\n    // Wait for the element to be visible\n    await page.waitForSelector(selector, { timeout: 10000 });\n\n    // Get the element\n    const element = await page.$(selector);\n    if (!element) {\n      throw new Error(`Element not found: ${selector}`);\n    }\n\n    // Get element bounding box\n    const boundingBox = await element.boundingBox();\n    if (!boundingBox) {\n      throw new Error(`Could not get bounding box for: ${selector}`);\n    }\n\n    // Capture screenshot of the element\n    const screenshotBuffer = await element.screenshot({\n      type: 'png',\n      encoding: 'base64',\n    });\n\n    return {\n      screenshot: screenshotBuffer as string,\n      width: Math.round(boundingBox.width),\n      height: Math.round(boundingBox.height),\n    };\n  } finally {\n    await page.close();\n  }\n}\n\n/**\n * Capture a full page screenshot with element highlighted\n */\nexport async function capturePageWithElement(\n  browser: Browser,\n  url: string,\n  selector: string\n): Promise<ScreenshotResult> {\n  const page = await browser.newPage();\n\n  try {\n    await page.setViewport({ width: 1440, height: 900 });\n\n    await page.goto(url, {\n      waitUntil: 'networkidle0',\n      timeout: 30000,\n    });\n\n    // Scroll element into view\n    await page.evaluate((sel) => {\n      const el = document.querySelector(sel);\n      if (el) {\n        el.scrollIntoView({ behavior: 'instant', block: 'center' });\n      }\n    }, selector);\n\n    // Wait a bit for any animations\n    await new Promise(resolve => setTimeout(resolve, 500));\n\n    // Get element bounds for reference\n    const element = await page.$(selector);\n    const boundingBox = element ? await element.boundingBox() : null;\n\n    // Capture full viewport screenshot\n    const screenshotBuffer = await page.screenshot({\n      type: 'png',\n      encoding: 'base64',\n      fullPage: false,\n    });\n\n    return {\n      screenshot: screenshotBuffer as string,\n      width: boundingBox?.width || 1440,\n      height: boundingBox?.height || 900,\n    };\n  } finally {\n    await page.close();\n  }\n}\n", "import { ExtractedBlock } from './content-extractor';\n\n/**\n * Identified content block from page analysis\n */\nexport interface IdentifiedBlock {\n  name: string;\n  selector: string;\n  description: string;\n  type: 'hero' | 'carousel' | 'cards' | 'columns' | 'tabs' | 'accordion' | 'form' | 'navigation' | 'footer' | 'content' | 'other';\n  priority: 'high' | 'medium' | 'low';\n}\n\n/**\n * Result from page analysis\n */\nexport interface PageAnalysisResult {\n  url: string;\n  title: string;\n  blocks: IdentifiedBlock[];\n}\n\nconst PAGE_ANALYSIS_PROMPT = `Analyze this HTML page and identify the main content blocks that should be converted to AEM Edge Delivery Services (EDS) blocks.\n\nFor each content block, provide:\n1. A descriptive name\n2. A CSS selector that uniquely targets it\n3. A brief description of its purpose/content\n4. The type of block (hero, carousel, cards, columns, tabs, accordion, form, navigation, footer, content, other)\n5. Priority (high = main content, medium = supporting content, low = minor elements)\n\nFocus on:\n- Hero sections with images and CTAs\n- Carousels/sliders\n- Card grids or product listings\n- Multi-column layouts\n- Tabbed content\n- Accordions/FAQ sections\n- Key content sections\n\nIgnore:\n- Header navigation (unless it's a mega menu worth converting)\n- Simple footers with just links\n- Cookie banners, modals, popups\n- Script-only elements\n- Empty containers\n\nReturn a JSON object:\n{\n  \"title\": \"Page title\",\n  \"blocks\": [\n    {\n      \"name\": \"Hero Carousel\",\n      \"selector\": \".cmp-carousel\",\n      \"description\": \"Full-width image carousel with text overlays and CTAs\",\n      \"type\": \"carousel\",\n      \"priority\": \"high\"\n    },\n    ...\n  ]\n}\n\nOnly return the JSON object, no other text. Order blocks by their position on the page (top to bottom).`;\n\n/**\n * Analyze a page and identify content blocks using Claude\n */\nexport async function analyzePageBlocks(\n  html: string,\n  url: string,\n  config: AnthropicConfig\n): Promise<PageAnalysisResult> {\n  // Simplify HTML to reduce tokens - remove scripts, styles, comments, and excessive whitespace\n  const simplifiedHtml = simplifyHtml(html);\n\n  const prompt = `${PAGE_ANALYSIS_PROMPT}\n\nURL: ${url}\n\nHTML:\n\\`\\`\\`html\n${simplifiedHtml}\n\\`\\`\\``;\n\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: 4096,\n        messages: [\n          {\n            role: 'user',\n            content: prompt,\n          },\n        ],\n      }),\n    });\n  } else if (config.apiKey) {\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: 4096,\n        messages: [\n          {\n            role: 'user',\n            content: prompt,\n          },\n        ],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  try {\n    const jsonMatch = textContent.text.match(/\\{[\\s\\S]*\\}/);\n    if (!jsonMatch) {\n      throw new Error('No JSON found in response');\n    }\n    const parsed = JSON.parse(jsonMatch[0]) as { title: string; blocks: IdentifiedBlock[] };\n\n    return {\n      url,\n      title: parsed.title || 'Untitled',\n      blocks: parsed.blocks || [],\n    };\n  } catch (parseError) {\n    console.error('Failed to parse page analysis:', textContent.text);\n    throw new Error('Failed to parse Claude response');\n  }\n}\n\n/**\n * Detected block from browser - to be named by Claude\n */\nexport interface DetectedBlockInput {\n  selector: string;\n  htmlSnippet: string;\n  textContent: string;\n  hasImages: boolean;\n  hasHeadings: boolean;\n  hasLinks: boolean;\n}\n\n/**\n * Named block output from Claude\n */\nexport interface NamedBlock {\n  selector: string;\n  name: string;\n  description: string;\n  type: 'hero' | 'carousel' | 'cards' | 'columns' | 'tabs' | 'accordion' | 'form' | 'navigation' | 'footer' | 'content' | 'other';\n  priority: 'high' | 'medium' | 'low';\n  /** Additional sibling selectors to merge content from (for split card grids, etc.) */\n  siblingSelectors?: string[];\n}\n\nconst BLOCK_NAMING_PROMPT = `You are given a list of content blocks detected from a webpage. Each block has a verified CSS selector and a snippet of its HTML/text content.\n\nYour task is to name and describe each block. DO NOT modify the selectors - they are verified to work.\n\nFor each block, provide:\n- name: A descriptive human-readable name (e.g., \"Hero Banner\", \"Product Cards Grid\")\n- description: Brief description of what the block contains/does\n- type: One of: hero, carousel, cards, columns, tabs, accordion, form, navigation, footer, content, other\n- priority: high (main content), medium (supporting), low (minor)\n\nReturn a JSON array with the same order as the input:\n[\n  {\n    \"selector\": \"(copy from input)\",\n    \"name\": \"Hero Banner\",\n    \"description\": \"Full-width hero section with background image and CTA\",\n    \"type\": \"hero\",\n    \"priority\": \"high\"\n  },\n  ...\n]\n\nOnly return the JSON array, no other text.`;\n\n/**\n * Name and describe pre-detected blocks using Claude\n * This is more reliable because selectors are already verified\n */\nexport async function nameDetectedBlocks(\n  blocks: DetectedBlockInput[],\n  config: AnthropicConfig\n): Promise<NamedBlock[]> {\n  if (blocks.length === 0) return [];\n\n  // Build a summary of each block for Claude\n  const blockSummaries = blocks.map((b, i) => ({\n    index: i,\n    selector: b.selector,\n    htmlSnippet: b.htmlSnippet.substring(0, 300),\n    textPreview: b.textContent.substring(0, 100),\n    hasImages: b.hasImages,\n    hasHeadings: b.hasHeadings,\n    hasLinks: b.hasLinks,\n  }));\n\n  const prompt = `${BLOCK_NAMING_PROMPT}\n\nInput blocks:\n${JSON.stringify(blockSummaries, null, 2)}`;\n\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: 4096,\n        messages: [{ role: 'user', content: prompt }],\n      }),\n    });\n  } else if (config.apiKey) {\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: 4096,\n        messages: [{ role: 'user', content: prompt }],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  try {\n    // Extract JSON array from response\n    const jsonMatch = textContent.text.match(/\\[[\\s\\S]*\\]/);\n    if (!jsonMatch) {\n      throw new Error('No JSON array found in response');\n    }\n    const parsed = JSON.parse(jsonMatch[0]) as NamedBlock[];\n    return parsed;\n  } catch (parseError) {\n    console.error('Failed to parse block naming response:', textContent.text);\n\n    // Fall back to basic naming based on content\n    return blocks.map((b, i) => ({\n      selector: b.selector,\n      name: b.hasImages && b.hasHeadings ? 'Content Section' :\n            b.hasImages ? 'Image Section' :\n            b.hasHeadings ? 'Text Section' : 'Content Block',\n      description: b.textContent.substring(0, 100),\n      type: 'content' as const,\n      priority: i === 0 ? 'high' as const : 'medium' as const,\n    }));\n  }\n}\n\n/**\n * Simplify HTML to reduce token count for Claude\n */\nfunction simplifyHtml(html: string): string {\n  return html\n    // Remove scripts\n    .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\n    // Remove styles\n    .replace(/<style\\b[^<]*(?:(?!<\\/style>)<[^<]*)*<\\/style>/gi, '')\n    // Remove comments\n    .replace(/<!--[\\s\\S]*?-->/g, '')\n    // Remove SVG content (keep the tag for structure)\n    .replace(/<svg[^>]*>[\\s\\S]*?<\\/svg>/gi, '<svg></svg>')\n    // Remove data attributes\n    .replace(/\\s+data-[a-z-]+=\"[^\"]*\"/gi, '')\n    // Remove inline styles (keep class for selectors)\n    .replace(/\\s+style=\"[^\"]*\"/gi, '')\n    // Remove event handlers\n    .replace(/\\s+on[a-z]+=\"[^\"]*\"/gi, '')\n    // Collapse whitespace\n    .replace(/\\s+/g, ' ')\n    // Remove empty attributes\n    .replace(/\\s+[a-z-]+=\"\"/gi, '')\n    // Limit to ~100k chars to stay within token limits\n    .slice(0, 100000);\n}\n\n/**\n * Design tokens extracted from visual analysis (legacy)\n */\nexport interface DesignTokens {\n  colors: {\n    primary?: string;\n    secondary?: string;\n    background?: string;\n    text?: string;\n    heading?: string;\n    link?: string;\n    accent?: string;\n  };\n  typography: {\n    headingFontFamily?: string;\n    bodyFontFamily?: string;\n    headingFontSize?: string;\n    bodyFontSize?: string;\n    headingFontWeight?: string;\n    lineHeight?: string;\n  };\n  spacing: {\n    padding?: string;\n    gap?: string;\n    margin?: string;\n  };\n  layout: {\n    borderRadius?: string;\n    boxShadow?: string;\n    border?: string;\n  };\n  effects: {\n    overlay?: string;\n    gradient?: string;\n    textShadow?: string;\n  };\n}\n\n/**\n * Generated block code from visual analysis\n */\nexport interface GeneratedBlockCode {\n  blockName: string;\n  html: string;\n  css: string;\n  js: string;\n}\n\n/**\n * Build the prompt for full block code generation\n */\nfunction buildCodeGenerationPrompt(extracted: ExtractedBlock): string {\n  // Serialize the extracted content for Claude\n  const contentSummary = extracted.columns.map((col, i) => {\n    const parts: string[] = [];\n    if (col.image) parts.push(`image: \"${col.image.src}\"`);\n    if (col.heading) parts.push(`heading: \"${col.heading}\"`);\n    if (col.description) parts.push(`description: \"${col.description}\"`);\n    if (col.cta) parts.push(`cta: { text: \"${col.cta.text}\", href: \"${col.cta.href}\" }`);\n    return `Item ${i + 1}: { ${parts.join(', ')} }`;\n  }).join('\\n');\n\n  return `Analyze this screenshot of a web component and generate code to reproduce its EXACT visual design as an AEM Edge Delivery Services (EDS) block.\n\n## Extracted Content\nThe following content was extracted from the DOM:\n${contentSummary}\n\n## Component Type Detected: ${extracted.type}\n${extracted.title ? `Title: \"${extracted.title}\"` : ''}\n\n## Your Task\nGenerate a complete EDS block that visually matches the screenshot. Pay close attention to:\n- Layout positioning (where text overlays appear, left/right/center/bottom)\n- Background treatments (overlays, gradients, semi-transparent boxes)\n- Typography (sizes, weights, colors, shadows)\n- Spacing and padding\n- Button/CTA styling\n- Navigation elements (arrows, dots) and their styling\n- Any animations or transitions\n\n## EDS Block Structure Requirements\nEDS blocks follow this HTML pattern:\n\\`\\`\\`html\n<div class=\"{block-name} block\">\n  <div><!-- row 1 -->\n    <div><!-- cell 1 --></div>\n    <div><!-- cell 2 --></div>\n  </div>\n  <div><!-- row 2 -->\n    <div><!-- cell --></div>\n  </div>\n</div>\n\\`\\`\\`\n\nThe JS decoration function transforms this into the final rendered structure.\n\n## Return Format\nReturn a JSON object with this exact structure:\n{\n  \"blockName\": \"descriptive-block-name\",\n  \"html\": \"<!-- The EDS block HTML markup with actual content substituted -->\",\n  \"css\": \"/* Complete CSS to reproduce the visual design */\",\n  \"js\": \"/* ES module: export default function decorate(block) { ... } */\"\n}\n\n## Important Guidelines\n1. Use the ACTUAL content from the extracted data above (real text, real image URLs)\n2. The CSS must precisely match the visual appearance in the screenshot\n3. The JS should import createOptimizedPicture from '../../scripts/aem.js' if transforming images\n4. For carousels: include slide transitions, navigation, and auto-play if visible\n5. Match colors exactly - use the hex values you see\n6. Position text overlays exactly as shown (e.g., left side with semi-transparent background)\n7. Include hover states if buttons/links are present\n\n## CRITICAL - Image Handling\n- NEVER include base64 image data in your response\n- NEVER embed data:image URLs\n- NEVER use localhost URLs\n- NEVER make up or invent image URLs\n- Use ONLY the EXACT image URLs provided in the \"Extracted Content\" section above\n- These URLs start with https:// and point to the actual source website (e.g., https://example.com/images/photo.jpg)\n- Copy these URLs exactly as provided - do not modify them\n- The screenshot is for visual reference only - do not try to extract image data from it\n\nReturn ONLY the JSON object, no additional text.`;\n}\n\nconst DESIGN_ANALYSIS_PROMPT = `Analyze this screenshot of a web component and extract precise design tokens.\n\nReturn a JSON object with the following structure (use exact CSS values where possible):\n\n{\n  \"colors\": {\n    \"primary\": \"#hex or rgb() - main brand/accent color\",\n    \"secondary\": \"#hex or rgb() - secondary color if present\",\n    \"background\": \"#hex or rgb() - background color\",\n    \"text\": \"#hex or rgb() - main text color\",\n    \"heading\": \"#hex or rgb() - heading text color\",\n    \"link\": \"#hex or rgb() - link color\",\n    \"accent\": \"#hex or rgb() - any accent/highlight color\"\n  },\n  \"typography\": {\n    \"headingFontFamily\": \"font family name or generic (sans-serif, serif)\",\n    \"bodyFontFamily\": \"font family name or generic\",\n    \"headingFontSize\": \"size in px (e.g., '48px', '32px')\",\n    \"bodyFontSize\": \"size in px (e.g., '16px', '18px')\",\n    \"headingFontWeight\": \"weight (e.g., '300', '400', '600', '700')\",\n    \"lineHeight\": \"line height (e.g., '1.5', '1.6')\"\n  },\n  \"spacing\": {\n    \"padding\": \"padding value (e.g., '40px', '24px 32px')\",\n    \"gap\": \"gap between items (e.g., '24px', '40px')\",\n    \"margin\": \"margins if notable\"\n  },\n  \"layout\": {\n    \"borderRadius\": \"border radius (e.g., '8px', '12px', '0')\",\n    \"boxShadow\": \"box shadow if present (e.g., '0 2px 8px rgba(0,0,0,0.1)')\",\n    \"border\": \"border if present (e.g., '1px solid #ddd')\"\n  },\n  \"effects\": {\n    \"overlay\": \"overlay color if image has overlay (e.g., 'rgba(0,0,0,0.4)')\",\n    \"gradient\": \"gradient if present (e.g., 'linear-gradient(to bottom, transparent, rgba(0,0,0,0.6))')\",\n    \"textShadow\": \"text shadow if present\"\n  }\n}\n\nBe precise with color values - try to identify exact hex codes. If you can't determine a value, omit that field.\nOnly return the JSON object, no other text.`;\n\nexport interface AnthropicConfig {\n  useBedrock?: boolean;\n  bedrockToken?: string;\n  bedrockRegion?: string;\n  bedrockModel?: string;\n  apiKey?: string; // Direct Anthropic API key (fallback)\n}\n\n/**\n * Analyze a screenshot using Claude Vision API to extract design tokens\n */\nexport async function analyzeDesign(\n  screenshotBase64: string,\n  config: AnthropicConfig\n): Promise<DesignTokens> {\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    // Use AWS Bedrock\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: 1024,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              {\n                type: 'image',\n                source: {\n                  type: 'base64',\n                  media_type: 'image/png',\n                  data: screenshotBase64,\n                },\n              },\n              {\n                type: 'text',\n                text: DESIGN_ANALYSIS_PROMPT,\n              },\n            ],\n          },\n        ],\n      }),\n    });\n  } else if (config.apiKey) {\n    // Use direct Anthropic API\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: 1024,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              {\n                type: 'image',\n                source: {\n                  type: 'base64',\n                  media_type: 'image/png',\n                  data: screenshotBase64,\n                },\n              },\n              {\n                type: 'text',\n                text: DESIGN_ANALYSIS_PROMPT,\n              },\n            ],\n          },\n        ],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  // Extract the text response\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  // Parse the JSON response\n  try {\n    // Try to extract JSON from the response (in case there's extra text)\n    const jsonMatch = textContent.text.match(/\\{[\\s\\S]*\\}/);\n    if (!jsonMatch) {\n      throw new Error('No JSON found in response');\n    }\n    return JSON.parse(jsonMatch[0]) as DesignTokens;\n  } catch (parseError) {\n    console.error('Failed to parse design tokens:', textContent.text);\n    // Return empty tokens on parse failure\n    return {\n      colors: {},\n      typography: {},\n      spacing: {},\n      layout: {},\n      effects: {},\n    };\n  }\n}\n\n/**\n * Merge design tokens with extracted styles, preferring vision-based tokens\n */\nexport function mergeDesignTokens(\n  visionTokens: DesignTokens,\n  extractedStyles: Record<string, string | undefined>\n): DesignTokens {\n  return {\n    colors: {\n      primary: visionTokens.colors.primary || extractedStyles.headingColor,\n      secondary: visionTokens.colors.secondary,\n      background: visionTokens.colors.background || extractedStyles.backgroundColor,\n      text: visionTokens.colors.text || extractedStyles.textColor,\n      heading: visionTokens.colors.heading || extractedStyles.headingColor,\n      link: visionTokens.colors.link || extractedStyles.linkColor,\n      accent: visionTokens.colors.accent,\n    },\n    typography: {\n      ...visionTokens.typography,\n    },\n    spacing: {\n      padding: visionTokens.spacing.padding || extractedStyles.padding,\n      gap: visionTokens.spacing.gap || extractedStyles.gap,\n      margin: visionTokens.spacing.margin,\n    },\n    layout: {\n      borderRadius: visionTokens.layout.borderRadius || extractedStyles.borderRadius,\n      boxShadow: visionTokens.layout.boxShadow || extractedStyles.boxShadow,\n      border: visionTokens.layout.border,\n    },\n    effects: {\n      ...visionTokens.effects,\n    },\n  };\n}\n\n/**\n * Generate complete block code by having Claude analyze the screenshot\n * and generate HTML, CSS, and JS to reproduce the design\n */\nexport async function generateBlockCode(\n  screenshotBase64: string,\n  extracted: ExtractedBlock,\n  config: AnthropicConfig\n): Promise<GeneratedBlockCode> {\n  const prompt = buildCodeGenerationPrompt(extracted);\n\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: 8192,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              {\n                type: 'image',\n                source: {\n                  type: 'base64',\n                  media_type: 'image/png',\n                  data: screenshotBase64,\n                },\n              },\n              {\n                type: 'text',\n                text: prompt,\n              },\n            ],\n          },\n        ],\n      }),\n    });\n  } else if (config.apiKey) {\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: 8192,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              {\n                type: 'image',\n                source: {\n                  type: 'base64',\n                  media_type: 'image/png',\n                  data: screenshotBase64,\n                },\n              },\n              {\n                type: 'text',\n                text: prompt,\n              },\n            ],\n          },\n        ],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  // Parse the JSON response\n  try {\n    // First try to find JSON in a code block\n    let jsonStr: string | null = null;\n    const codeBlockMatch = textContent.text.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n    if (codeBlockMatch) {\n      jsonStr = codeBlockMatch[1].trim();\n    } else {\n      // Fall back to finding raw JSON object\n      const jsonMatch = textContent.text.match(/\\{[\\s\\S]*\"blockName\"[\\s\\S]*\"html\"[\\s\\S]*\"css\"[\\s\\S]*\"js\"[\\s\\S]*\\}/);\n      if (jsonMatch) {\n        jsonStr = jsonMatch[0];\n      }\n    }\n\n    if (!jsonStr) {\n      console.error('No valid JSON found. Response excerpt:', textContent.text.substring(0, 1000));\n      throw new Error('No JSON found in response');\n    }\n\n    const parsed = JSON.parse(jsonStr) as GeneratedBlockCode;\n\n    // Validate required fields\n    if (!parsed.blockName || !parsed.html || !parsed.css || !parsed.js) {\n      console.error('Missing fields in parsed JSON:', Object.keys(parsed));\n      throw new Error('Missing required fields in generated code');\n    }\n\n    return parsed;\n  } catch (parseError) {\n    console.error('Failed to parse generated code. Response length:', textContent.text.length);\n    console.error('Response starts with:', textContent.text.substring(0, 200));\n    throw new Error('Failed to parse Claude response as valid block code');\n  }\n}\n", "import { parseHTML } from 'linkedom';\nimport { AnthropicConfig } from './design-analyzer';\n\n/**\n * Detailed component description from Claude\n */\nexport interface ComponentDescription {\n  componentType: string;  // e.g., \"hero-with-overlay\", \"card-grid\", \"feature-columns\"\n  structure: {\n    layout: string;       // e.g., \"full-width image with left-aligned text overlay\"\n    layers?: string[];    // e.g., [\"background-image\", \"overlay\", \"text-content\"]\n    contentHierarchy: string[];  // e.g., [\"heading\", \"subheading\", \"paragraph\", \"cta\"]\n    gridInfo?: {\n      columns: number;\n      rows: number;\n      itemStructure: string[];  // e.g., [\"image\", \"title\", \"description\"]\n    };\n  };\n  design: {\n    colorScheme: string;      // e.g., \"dark overlay on light image\"\n    backgroundTreatment?: string;  // e.g., \"full-bleed image with gradient overlay\"\n    textStyle: string;        // e.g., \"white text on dark, large bold heading\"\n    spacing: string;          // e.g., \"generous padding, tight line height\"\n    effects?: string[];       // e.g., [\"box-shadow\", \"rounded-corners\", \"hover-scale\"]\n  };\n  contentElements: {\n    headings: string[];\n    paragraphs: string[];\n    images: Array<{ description: string; role: string }>;  // role: \"background\", \"icon\", \"photo\"\n    ctas: Array<{ text: string; style: string }>;  // style: \"primary-button\", \"text-link\"\n  };\n}\n\n/**\n * Enhanced generated block with richer metadata\n */\nexport interface EnhancedBlockCode {\n  blockName: string;\n  componentType: string;\n  html: string;\n  css: string;\n  js: string;\n  description: ComponentDescription;\n}\n\n/**\n * Step 1: Describe the component in detail\n */\nexport async function describeComponent(\n  screenshotBase64: string,\n  config: AnthropicConfig\n): Promise<ComponentDescription> {\n  const prompt = `Analyze this web component screenshot in detail.\n\nDescribe:\n1. **Component Type**: What kind of component is this? (e.g., hero-banner, card-grid, feature-section, testimonial-carousel)\n\n2. **Structure**:\n   - Layout: How is content arranged? (e.g., \"full-width with centered content\", \"2-column with image left\")\n   - Layers: What visual layers exist? (e.g., background image, overlay, content box)\n   - Content Hierarchy: What content elements exist in order? (e.g., eyebrow, heading, paragraph, CTA)\n   - If it's a grid/cards: How many columns/rows? What's in each item?\n\n3. **Design**:\n   - Color scheme: Describe the colors and contrast\n   - Background treatment: How is the background styled?\n   - Text style: Typography choices (size, weight, color)\n   - Spacing: Padding, margins, gaps\n   - Effects: Any shadows, rounded corners, gradients, hover states?\n\n4. **Content Elements**: List the actual content visible:\n   - Headings (exact text)\n   - Paragraphs (first few words)\n   - Images (describe each, note if background/icon/photo)\n   - CTAs (button/link text and style)\n\nReturn as JSON:\n{\n  \"componentType\": \"hero-with-overlay\",\n  \"structure\": {\n    \"layout\": \"full-width background image with text content in semi-transparent box on left\",\n    \"layers\": [\"full-bleed-background-image\", \"left-aligned-overlay-box\", \"text-content\"],\n    \"contentHierarchy\": [\"main-heading\", \"paragraph\", \"expand-link\"]\n  },\n  \"design\": {\n    \"colorScheme\": \"colorful image background, dark semi-transparent overlay, white text\",\n    \"backgroundTreatment\": \"full-bleed industrial image with colorful pipes\",\n    \"textStyle\": \"large serif heading (48px+), regular sans-serif body, all white\",\n    \"spacing\": \"large padding in overlay box (40px+), comfortable line-height\",\n    \"effects\": [\"semi-transparent-background rgba(0,0,0,0.7)\"]\n  },\n  \"contentElements\": {\n    \"headings\": [\"Sherwin-Williams Industrial Coatings\"],\n    \"paragraphs\": [\"Operating in more than 120 countries...\"],\n    \"images\": [{\"description\": \"Colorful industrial pipes\", \"role\": \"background\"}],\n    \"ctas\": [{\"text\": \"Expand to read more\", \"style\": \"text-link-with-icon\"}]\n  }\n}\n\nReturn ONLY the JSON object.`;\n\n  const response = await callClaude(screenshotBase64, prompt, config);\n\n  try {\n    const match = response.match(/\\{[\\s\\S]*\\}/);\n    if (!match) throw new Error('No JSON found');\n    return JSON.parse(match[0]) as ComponentDescription;\n  } catch (e) {\n    console.error('Failed to parse component description:', response);\n    throw new Error('Failed to parse component description');\n  }\n}\n\n/**\n * Step 2: Extract content guided by the description\n */\nexport function extractContentGuided(\n  elementHtml: string,\n  description: ComponentDescription,\n  baseUrl: string\n): ExtractedContent {\n  // Parse the HTML using linkedom\n  const { document } = parseHTML(`<!DOCTYPE html><html><body>${elementHtml}</body></html>`);\n  const root = document.body.firstElementChild || document.body;\n\n  const content: ExtractedContent = {\n    headings: [],\n    paragraphs: [],\n    images: [],\n    ctas: [],\n    structure: description.structure,\n  };\n\n  // Extract headings in hierarchy order\n  root.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((h: any) => {\n    const text = (h.textContent || '').trim();\n    if (text) {\n      content.headings.push({\n        level: parseInt(h.tagName[1]),\n        text,\n      });\n    }\n  });\n\n  // Extract paragraphs\n  root.querySelectorAll('p').forEach((p: any) => {\n    const text = (p.textContent || '').trim();\n    if (text && text.length > 10) {\n      content.paragraphs.push(text);\n    }\n  });\n\n  // Extract images with role hints from description\n  // Helper to check if URL is a placeholder/spacer image\n  function isPlaceholderImage(url: string): boolean {\n    if (!url) return true;\n    const lowerUrl = url.toLowerCase();\n    return lowerUrl.includes('clear.gif') ||\n           lowerUrl.includes('spacer.gif') ||\n           lowerUrl.includes('blank.gif') ||\n           lowerUrl.includes('pixel.gif') ||\n           lowerUrl.includes('1x1') ||\n           lowerUrl.includes('placeholder') ||\n           lowerUrl.startsWith('data:image/gif;base64,R0lGOD') || // 1x1 transparent GIF\n           (lowerUrl.startsWith('data:') && lowerUrl.length < 100); // Very small data URI\n  }\n\n  // Helper to resolve URL\n  function resolveUrl(src: string): string {\n    if (!src) return '';\n    if (src.startsWith('http')) return src;\n    if (src.startsWith('data:')) return src;\n    if (src.startsWith('//')) return 'https:' + src;\n    try {\n      return new URL(src, baseUrl).href;\n    } catch {\n      return '';\n    }\n  }\n\n  // Helper to find best image source from an img element\n  function getBestImageSrc(img: any): string {\n    // Priority order for finding real image URL:\n    // 1. data-src, data-lazy-src, data-original (lazy loading patterns)\n    // 2. srcset (responsive images) - extract first/largest URL\n    // 3. data-srcset\n    // 4. src (only if not a placeholder)\n\n    const lazyAttrs = ['data-src', 'data-lazy-src', 'data-original', 'data-lazy', 'data-image'];\n    for (const attr of lazyAttrs) {\n      const val = img.getAttribute(attr);\n      if (val && !isPlaceholderImage(val)) {\n        return resolveUrl(val);\n      }\n    }\n\n    // Check srcset - extract highest resolution image\n    const srcset = img.getAttribute('srcset') || img.getAttribute('data-srcset');\n    if (srcset) {\n      const srcsetParts = srcset.split(',').map((s: string) => s.trim().split(/\\s+/)[0]);\n      for (const srcPart of srcsetParts) {\n        if (srcPart && !isPlaceholderImage(srcPart)) {\n          return resolveUrl(srcPart);\n        }\n      }\n    }\n\n    // Finally try src, but skip if it's a placeholder\n    const src = img.getAttribute('src');\n    if (src && !isPlaceholderImage(src)) {\n      return resolveUrl(src);\n    }\n\n    return '';\n  }\n\n  root.querySelectorAll('img').forEach((img: any) => {\n    const src = getBestImageSrc(img);\n\n    if (src && !isPlaceholderImage(src)) {\n      const alt = img.getAttribute('alt') || '';\n      const parentClasses = (img.parentElement?.className || '').toLowerCase();\n      let role = 'photo';\n\n      // Determine role from context\n      if (parentClasses.includes('background') || parentClasses.includes('hero') || parentClasses.includes('banner')) {\n        role = 'background';\n      } else if (parentClasses.includes('icon') || (img.getAttribute('width') && parseInt(img.getAttribute('width')) < 100)) {\n        role = 'icon';\n      }\n\n      content.images.push({ src, alt, role });\n    }\n  });\n\n  // Also check picture elements for source tags\n  root.querySelectorAll('picture source').forEach((source: any) => {\n    const srcset = source.getAttribute('srcset');\n    if (srcset) {\n      const srcPart = srcset.split(',')[0]?.trim().split(/\\s+/)[0];\n      if (srcPart && !isPlaceholderImage(srcPart)) {\n        const src = resolveUrl(srcPart);\n        if (src && !content.images.some(i => i.src === src)) {\n          content.images.push({ src, alt: '', role: 'photo' });\n        }\n      }\n    }\n  });\n\n  // Also check for background images in style attributes and data attributes\n  root.querySelectorAll('*').forEach((el: any) => {\n    // Check inline style for background-image\n    const style = el.getAttribute('style') || '';\n    if (style.includes('background')) {\n      const urlMatch = style.match(/url\\(['\"]?([^'\")\\s]+)['\"]?\\)/);\n      if (urlMatch) {\n        const src = resolveUrl(urlMatch[1]);\n        if (src && !isPlaceholderImage(src) && !content.images.some(i => i.src === src)) {\n          content.images.push({ src, alt: 'Background', role: 'background' });\n        }\n      }\n    }\n\n    // Check data-background attributes (common lazy-loading pattern)\n    const bgAttrs = ['data-background', 'data-bg', 'data-background-image', 'data-image-src'];\n    for (const attr of bgAttrs) {\n      const bgSrc = el.getAttribute(attr);\n      if (bgSrc) {\n        const src = resolveUrl(bgSrc);\n        if (src && !isPlaceholderImage(src) && !content.images.some(i => i.src === src)) {\n          content.images.push({ src, alt: 'Background', role: 'background' });\n        }\n      }\n    }\n  });\n\n  // Extract CTAs (buttons and prominent links)\n  root.querySelectorAll('a, button').forEach((el: any) => {\n    const text = (el.textContent || '').trim();\n    if (text && text.length > 1 && text.length < 50) {\n      const href = el.getAttribute('href') || '';\n      const className = (el.className || '').toLowerCase();\n      const isButton = el.tagName === 'BUTTON' || className.includes('btn') || className.includes('button');\n\n      let fullHref = '';\n      if (href && href !== '#') {\n        try {\n          fullHref = href.startsWith('http') ? href : new URL(href, baseUrl).href;\n        } catch {}\n      }\n\n      content.ctas.push({\n        text,\n        href: fullHref,\n        style: isButton ? 'button' : 'link',\n      });\n    }\n  });\n\n  return content;\n}\n\ninterface ExtractedContent {\n  headings: Array<{ level: number; text: string }>;\n  paragraphs: string[];\n  images: Array<{ src: string; alt: string; role: string }>;\n  ctas: Array<{ text: string; href: string; style: string }>;\n  structure: ComponentDescription['structure'];\n}\n\n/**\n * Step 3: Generate code with full context\n */\nexport async function generateCodeEnhanced(\n  screenshotBase64: string,\n  description: ComponentDescription,\n  extractedContent: ExtractedContent,\n  config: AnthropicConfig,\n  extractedCssStyles?: string\n): Promise<EnhancedBlockCode> {\n  // Build a rich prompt with all context\n  const contentSummary = `\nEXTRACTED CONTENT:\n- Headings: ${extractedContent.headings.map(h => `H${h.level}: \"${h.text}\"`).join(', ')}\n- Paragraphs: ${extractedContent.paragraphs.map(p => `\"${p.substring(0, 50)}...\"`).join(', ')}\n- Images: ${extractedContent.images.map(i => `${i.role}: ${i.src}`).join('\\n  ')}\n- CTAs: ${extractedContent.ctas.map(c => `\"${c.text}\" (${c.style}) -> ${c.href}`).join(', ')}\n`;\n\n  const structureSummary = `\nCOMPONENT ANALYSIS:\n- Type: ${description.componentType}\n- Layout: ${description.structure.layout}\n- Layers: ${description.structure.layers?.join(' \u2192 ') || 'N/A'}\n- Content hierarchy: ${description.structure.contentHierarchy.join(' \u2192 ')}\n${description.structure.gridInfo ? `- Grid: ${description.structure.gridInfo.columns} columns, items have: ${description.structure.gridInfo.itemStructure.join(', ')}` : ''}\n\nDESIGN NOTES:\n- Colors: ${description.design.colorScheme}\n- Background: ${description.design.backgroundTreatment || 'N/A'}\n- Typography: ${description.design.textStyle}\n- Spacing: ${description.design.spacing}\n- Effects: ${description.design.effects?.join(', ') || 'none'}\n`;\n\n  // Include extracted CSS if available\n  const cssSection = extractedCssStyles ? `\n${extractedCssStyles}\n\nIMPORTANT: Use the EXACT CSS values above. These are the actual computed styles from the original page.\nDo not guess colors, fonts, or spacing - use these values directly in your CSS.\n` : '';\n\n  const prompt = `Generate an AEM Edge Delivery Services (EDS) block that recreates this component.\n\n${structureSummary}\n\n${contentSummary}\n${cssSection}\n## EDS Block Requirements\n\nHTML structure:\n\\`\\`\\`html\n<div class=\"{block-name} block\">\n  <div><!-- row 1 -->\n    <div><!-- cell 1 --></div>\n    <div><!-- cell 2 --></div>\n  </div>\n</div>\n\\`\\`\\`\n\nThe JS decoration function transforms this into the final rendered structure.\n\n## Critical Instructions\n\n1. **Match the visual design EXACTLY** - use the screenshot AND the extracted CSS values\n2. **Use the EXACT content** from EXTRACTED CONTENT above - real URLs, real text\n3. **Follow the structure** described in COMPONENT ANALYSIS\n4. **Use the EXACT CSS values** from EXTRACTED CSS STYLES - do not guess colors or fonts\n5. **Key visual elements to match**:\n   - Is the image ABOVE the text (card layout) or BEHIND the text (overlay layout)?\n   - What is the exact heading color? Use it.\n   - What is the exact font-size? Use it.\n   - Is there a card background or is content directly on the page?\n6. **NEVER invent image URLs** - only use URLs from EXTRACTED CONTENT\n7. **NEVER use base64 or localhost URLs**\n\n## Return Format\n\nReturn JSON:\n{\n  \"blockName\": \"descriptive-block-name\",\n  \"html\": \"<!-- EDS block markup with actual content -->\",\n  \"css\": \"/* Complete CSS using the EXACT extracted values */\",\n  \"js\": \"/* ES module: export default function decorate(block) { ... } */\"\n}\n\nReturn ONLY the JSON object.`;\n\n  const response = await callClaude(screenshotBase64, prompt, config, 8192);\n\n  try {\n    // Try code block first\n    let jsonStr: string | null = null;\n    const codeBlockMatch = response.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n    if (codeBlockMatch) {\n      jsonStr = codeBlockMatch[1].trim();\n    } else {\n      const jsonMatch = response.match(/\\{[\\s\\S]*\"blockName\"[\\s\\S]*\\}/);\n      if (jsonMatch) jsonStr = jsonMatch[0];\n    }\n\n    if (!jsonStr) throw new Error('No JSON found in response');\n\n    const parsed = JSON.parse(jsonStr);\n\n    return {\n      blockName: parsed.blockName,\n      componentType: description.componentType,\n      html: parsed.html,\n      css: parsed.css,\n      js: parsed.js,\n      description,\n    };\n  } catch (e) {\n    console.error('Failed to parse generated code:', response.substring(0, 500));\n    throw new Error('Failed to parse generated code');\n  }\n}\n\n/**\n * Live image extracted from rendered page\n */\nexport interface LiveImage {\n  src: string;\n  alt: string;\n  role: 'photo' | 'background' | 'icon';\n}\n\n/**\n * Full enhanced generation pipeline\n */\nexport async function generateBlockEnhanced(\n  screenshotBase64: string,\n  elementHtml: string,\n  baseUrl: string,\n  config: AnthropicConfig,\n  extractedCssStyles?: string,\n  liveImages?: LiveImage[]\n): Promise<EnhancedBlockCode> {\n  console.log('Step 1: Describing component...');\n  const description = await describeComponent(screenshotBase64, config);\n  console.log(`  Component type: ${description.componentType}`);\n  console.log(`  Layout: ${description.structure.layout}`);\n\n  console.log('Step 2: Extracting content with guidance...');\n  const content = extractContentGuided(elementHtml, description, baseUrl);\n\n  // Merge live images with extracted images (live images take priority - they're the real URLs)\n  if (liveImages && liveImages.length > 0) {\n    console.log(`  Merging ${liveImages.length} live images with extracted content`);\n    const seenUrls = new Set(liveImages.map(i => i.src));\n\n    // Replace extracted images with live images (which have the real URLs, not placeholders)\n    content.images = liveImages.map(img => ({\n      src: img.src,\n      alt: img.alt,\n      role: img.role,\n    }));\n\n    // Add any additional images from extraction that weren't found live (unlikely but possible)\n    // This is commented out because live images should be the authoritative source\n    // for (const img of extractedImages) {\n    //   if (!seenUrls.has(img.src)) {\n    //     content.images.push(img);\n    //   }\n    // }\n  }\n\n  console.log(`  Found: ${content.headings.length} headings, ${content.images.length} images, ${content.ctas.length} CTAs`);\n\n  console.log('Step 3: Generating code...');\n  if (extractedCssStyles) {\n    console.log('  Including extracted CSS styles in generation');\n  }\n  const block = await generateCodeEnhanced(screenshotBase64, description, content, config, extractedCssStyles);\n  console.log(`  Generated block: ${block.blockName}`);\n\n  return block;\n}\n\n/**\n * Helper to call Claude API\n */\nasync function callClaude(\n  imageBase64: string,\n  prompt: string,\n  config: AnthropicConfig,\n  maxTokens: number = 4096\n): Promise<string> {\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: maxTokens,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'image', source: { type: 'base64', media_type: 'image/png', data: imageBase64 } },\n              { type: 'text', text: prompt },\n            ],\n          },\n        ],\n      }),\n    });\n  } else if (config.apiKey) {\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: maxTokens,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'image', source: { type: 'base64', media_type: 'image/png', data: imageBase64 } },\n              { type: 'text', text: prompt },\n            ],\n          },\n        ],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  return textContent.text;\n}\n", "import { Browser } from '@cloudflare/puppeteer';\n\n/**\n * Curated list of CSS properties to extract\n */\nconst LAYOUT_PROPERTIES = [\n  'display', 'flex-direction', 'flex-wrap', 'justify-content', 'align-items',\n  'grid-template-columns', 'grid-template-rows', 'gap', 'row-gap', 'column-gap',\n];\n\nconst SPACING_PROPERTIES = [\n  'padding', 'padding-top', 'padding-right', 'padding-bottom', 'padding-left',\n  'margin', 'margin-top', 'margin-right', 'margin-bottom', 'margin-left',\n];\n\nconst TYPOGRAPHY_PROPERTIES = [\n  'font-family', 'font-size', 'font-weight', 'line-height', 'letter-spacing',\n  'color', 'text-align', 'text-transform', 'text-decoration',\n];\n\nconst VISUAL_PROPERTIES = [\n  'background-color', 'background-image', 'background-size', 'background-position',\n  'border', 'border-radius', 'box-shadow', 'opacity',\n];\n\nconst SIZE_PROPERTIES = [\n  'width', 'height', 'min-width', 'max-width', 'min-height', 'max-height',\n];\n\nconst ALL_PROPERTIES = [\n  ...LAYOUT_PROPERTIES,\n  ...SPACING_PROPERTIES,\n  ...TYPOGRAPHY_PROPERTIES,\n  ...VISUAL_PROPERTIES,\n  ...SIZE_PROPERTIES,\n];\n\n/**\n * Extracted styles for an element\n */\nexport interface ElementStyles {\n  selector: string;\n  role: 'container' | 'card' | 'image' | 'heading' | 'text' | 'link';\n  styles: Record<string, string>;\n}\n\n/**\n * Complete extracted styles for a block\n */\nexport interface ExtractedStyles {\n  container: ElementStyles;\n  cards: ElementStyles[];\n  headings: ElementStyles[];\n  images: ElementStyles[];\n  texts: ElementStyles[];\n  links: ElementStyles[];\n}\n\n/**\n * Extract computed styles from a block element and its children\n */\nexport async function extractComputedStyles(\n  browser: Browser,\n  url: string,\n  selector: string\n): Promise<ExtractedStyles> {\n  const page = await browser.newPage();\n\n  try {\n    await page.setViewport({ width: 1440, height: 900 });\n\n    await page.goto(url, {\n      waitUntil: 'networkidle0',\n      timeout: 30000,\n    });\n\n    await page.waitForSelector(selector, { timeout: 10000 });\n\n    const styles = await page.evaluate((sel: string, props: string[]) => {\n      /**\n       * Get computed styles for an element\n       */\n      function getStyles(el: Element): Record<string, string> {\n        const computed = window.getComputedStyle(el);\n        const result: Record<string, string> = {};\n\n        for (const prop of props) {\n          const value = computed.getPropertyValue(prop);\n          // Only include non-default, meaningful values\n          if (value && value !== 'none' && value !== 'normal' && value !== 'auto' && value !== '0px') {\n            result[prop] = value;\n          }\n        }\n\n        return result;\n      }\n\n      /**\n       * Determine if element looks like a card/item in a grid\n       */\n      function isCardLike(el: Element, containerRect: DOMRect): boolean {\n        const rect = el.getBoundingClientRect();\n        // Card should be smaller than container but reasonably sized\n        return rect.width > 100 && rect.height > 100 &&\n               rect.width < containerRect.width * 0.6 &&\n               rect.height < containerRect.height * 0.8;\n      }\n\n      const container = document.querySelector(sel);\n      if (!container) {\n        throw new Error(`Element not found: ${sel}`);\n      }\n\n      const containerRect = container.getBoundingClientRect();\n\n      // Extract container styles\n      const containerStyles: ElementStyles = {\n        selector: sel,\n        role: 'container',\n        styles: getStyles(container),\n      };\n\n      // Find and extract card-like children\n      const cards: ElementStyles[] = [];\n      const seenCards = new Set<Element>();\n\n      // Look for common card patterns\n      const cardSelectors = [\n        ':scope > div', ':scope > article', ':scope > li',\n        ':scope > a', '[class*=\"card\"]', '[class*=\"item\"]', '[class*=\"tile\"]'\n      ];\n\n      for (const cardSel of cardSelectors) {\n        try {\n          container.querySelectorAll(cardSel).forEach((el, idx) => {\n            if (!seenCards.has(el) && isCardLike(el, containerRect)) {\n              seenCards.add(el);\n              if (cards.length < 4) { // Only sample first few cards\n                cards.push({\n                  selector: `card-${idx}`,\n                  role: 'card',\n                  styles: getStyles(el),\n                });\n              }\n            }\n          });\n        } catch (e) {\n          // Invalid selector, skip\n        }\n      }\n\n      // Extract heading styles\n      const headings: ElementStyles[] = [];\n      container.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((el, idx) => {\n        if (headings.length < 3) {\n          headings.push({\n            selector: `heading-${idx}`,\n            role: 'heading',\n            styles: getStyles(el),\n          });\n        }\n      });\n\n      // Extract image styles\n      const images: ElementStyles[] = [];\n      container.querySelectorAll('img, picture').forEach((el, idx) => {\n        if (images.length < 3) {\n          images.push({\n            selector: `image-${idx}`,\n            role: 'image',\n            styles: getStyles(el),\n          });\n        }\n      });\n\n      // Extract text/paragraph styles\n      const texts: ElementStyles[] = [];\n      container.querySelectorAll('p, span:not(:empty)').forEach((el, idx) => {\n        const text = el.textContent?.trim() || '';\n        if (text.length > 20 && texts.length < 3) {\n          texts.push({\n            selector: `text-${idx}`,\n            role: 'text',\n            styles: getStyles(el),\n          });\n        }\n      });\n\n      // Extract link/button styles\n      const links: ElementStyles[] = [];\n      container.querySelectorAll('a, button').forEach((el, idx) => {\n        if (links.length < 3) {\n          links.push({\n            selector: `link-${idx}`,\n            role: 'link',\n            styles: getStyles(el),\n          });\n        }\n      });\n\n      return {\n        container: containerStyles,\n        cards,\n        headings,\n        images,\n        texts,\n        links,\n      };\n    }, selector, ALL_PROPERTIES);\n\n    return styles;\n  } finally {\n    await page.close();\n  }\n}\n\n/**\n * Format extracted styles as a readable string for the prompt\n */\nexport function formatStylesForPrompt(styles: ExtractedStyles): string {\n  const lines: string[] = [];\n\n  lines.push('## Extracted CSS Styles from Original\\n');\n\n  // Container styles\n  lines.push('### Container Layout');\n  lines.push(formatStyleObject(styles.container.styles, ['display', 'flex-direction', 'grid-template-columns', 'gap', 'padding']));\n\n  // Card styles\n  if (styles.cards.length > 0) {\n    lines.push('\\n### Card/Item Styles');\n    lines.push(formatStyleObject(styles.cards[0].styles, ['background-color', 'border-radius', 'box-shadow', 'padding']));\n  }\n\n  // Heading styles\n  if (styles.headings.length > 0) {\n    lines.push('\\n### Heading Styles');\n    lines.push(formatStyleObject(styles.headings[0].styles, ['font-family', 'font-size', 'font-weight', 'color', 'text-align']));\n  }\n\n  // Image styles\n  if (styles.images.length > 0) {\n    lines.push('\\n### Image Styles');\n    lines.push(formatStyleObject(styles.images[0].styles, ['width', 'height', 'border-radius', 'object-fit']));\n  }\n\n  // Text styles\n  if (styles.texts.length > 0) {\n    lines.push('\\n### Body Text Styles');\n    lines.push(formatStyleObject(styles.texts[0].styles, ['font-family', 'font-size', 'color', 'line-height', 'text-align']));\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Format a style object, prioritizing certain properties\n */\nfunction formatStyleObject(styles: Record<string, string>, priorityProps: string[]): string {\n  const lines: string[] = [];\n\n  // Add priority properties first\n  for (const prop of priorityProps) {\n    if (styles[prop]) {\n      lines.push(`  ${prop}: ${styles[prop]}`);\n    }\n  }\n\n  // Add remaining properties\n  for (const [prop, value] of Object.entries(styles)) {\n    if (!priorityProps.includes(prop)) {\n      lines.push(`  ${prop}: ${value}`);\n    }\n  }\n\n  return lines.length > 0 ? lines.join('\\n') : '  (no significant styles detected)';\n}\n", "import { Page } from '@cloudflare/puppeteer';\nimport { AnthropicConfig } from './design-analyzer';\n\n/**\n * Identified section from visual analysis\n * Just descriptions - Claude will use these to locate sections when generating\n */\nexport interface IdentifiedSection {\n  index: number;\n  name: string;\n  description: string;\n  type: 'hero' | 'cards' | 'columns' | 'content' | 'cta' | 'news' | 'footer' | 'tabs' | 'carousel' | 'other';\n  priority: 'high' | 'medium' | 'low';\n  style: string; // e.g., \"light\", \"dark\", \"grey\", \"accent\"\n}\n\n/**\n * Result of page analysis\n */\nexport interface PageAnalysisResult {\n  url: string;\n  title: string;\n  sections: IdentifiedSection[];\n  screenshot: string; // base64 full page screenshot\n  pageWidth: number;\n  pageHeight: number;\n}\n\n/**\n * Analyze a page to identify sections visually\n * No CSS selectors - just descriptions that can be used to locate sections later\n *\n * Flow:\n * 1. Navigate and take full-page screenshot\n * 2. Claude analyzes screenshot to identify visual sections with descriptions\n */\nexport async function analyzePage(\n  page: Page,\n  url: string,\n  config: AnthropicConfig\n): Promise<PageAnalysisResult> {\n  // Navigate and wait for page load\n  await page.setViewport({ width: 1440, height: 900 });\n  await page.goto(url, { waitUntil: 'networkidle0', timeout: 30000 });\n\n  const title = await page.title();\n\n  // Get page dimensions\n  const dimensions = await page.evaluate(() => ({\n    width: document.documentElement.scrollWidth,\n    height: document.documentElement.scrollHeight,\n  }));\n\n  // Take full page screenshot (limit height for very long pages)\n  const maxHeight = Math.min(dimensions.height, 8000);\n  console.log(`Page dimensions: ${dimensions.width}x${dimensions.height}, capturing up to ${maxHeight}px`);\n\n  let screenshot: string;\n  try {\n    const screenshotBuffer = await page.screenshot({\n      clip: { x: 0, y: 0, width: dimensions.width, height: maxHeight },\n      type: 'png',\n    }) as Buffer;\n    screenshot = screenshotBuffer.toString('base64');\n  } catch (e) {\n    console.error('Failed to capture full screenshot:', e);\n    const viewportBuffer = await page.screenshot({ type: 'png' }) as Buffer;\n    screenshot = viewportBuffer.toString('base64');\n  }\n\n  // Claude identifies visual sections from screenshot\n  console.log('Claude identifying visual sections...');\n  const sections = await identifyVisualSections(screenshot, dimensions.height, config);\n  console.log(`Identified ${sections.length} visual sections`);\n\n  return {\n    url,\n    title,\n    sections,\n    screenshot,\n    pageWidth: dimensions.width,\n    pageHeight: dimensions.height,\n  };\n}\n\n/**\n * Have Claude identify visual sections by analyzing the screenshot\n * Returns detailed descriptions that can be used to locate sections when generating\n */\nasync function identifyVisualSections(\n  screenshotBase64: string,\n  pageHeight: number,\n  config: AnthropicConfig\n): Promise<IdentifiedSection[]> {\n  const prompt = `Analyze this webpage screenshot to identify distinct visual SECTIONS.\n\nLook for visual cues that indicate section boundaries:\n- Background color changes (white \u2192 grey \u2192 dark \u2192 accent colors)\n- Clear horizontal visual breaks\n- Spacing/padding changes\n- Thematic content shifts\n\nFor EACH section you identify, provide:\n1. name: Short descriptive name (e.g., \"Hero Carousel\", \"Product Cards\", \"Latest News\")\n2. description: DETAILED description including visual elements, colors, content visible, layout structure\n3. type: One of: hero, carousel, cards, columns, content, cta, news, footer, tabs, other\n4. priority: high (above fold, key content), medium (secondary), low (footer)\n5. style: Visual style (e.g., \"light\", \"dark\", \"grey\", \"accent/red\")\n\n## CAROUSEL VS HERO - CRITICAL!\n\nFor the FIRST large full-width banner section at the top of the page:\n- **DEFAULT to \"carousel\"** for corporate/business websites\n- Only use \"hero\" if it's clearly a STATIC image with no possibility of rotation\n\nWhy: Most corporate websites use rotating carousels for their main banner, even if the navigation controls (dots, arrows, numbers) are too small to see clearly in a screenshot.\n\nSigns it's definitely a carousel:\n- Any dots, numbers, arrows, or navigation at bottom/sides\n- Multiple messages or CTAs that seem to rotate\n- Corporate/business website (airlines, cargo, financial, etc.)\n\nSigns it might be a static hero:\n- Personal blog or simple landing page\n- Single clear message with no navigation hints\n- Marketing campaign with one focused message\n\nIMPORTANT:\n- Identify TOP-LEVEL sections only (not individual cards within a section)\n- Skip navigation/header at the very top\n- Include footer if visible\n- Make descriptions DETAILED enough to uniquely identify each section visually\n- ALWAYS mention carousel indicators in description if present (dots, arrows, etc.)\n\nReturn JSON array:\n[\n  {\n    \"index\": 1,\n    \"name\": \"Hero Carousel\",\n    \"description\": \"Full-width rotating banner with navigation dots at bottom center (5 dots, first active), left/right arrow buttons on sides, currently showing red/burgundy background with Christmas sleigh illustration\",\n    \"type\": \"carousel\",\n    \"priority\": \"high\",\n    \"style\": \"accent/red\"\n  },\n  {\n    \"index\": 2,\n    \"name\": \"Quick Actions\",\n    \"description\": \"Horizontal row of 4 action buttons with icons - Book online, Track cargo, Contact us, Flight schedules - on white background\",\n    \"type\": \"cta\",\n    \"priority\": \"high\",\n    \"style\": \"light\"\n  }\n]\n\nReturn ONLY the JSON array.`;\n\n  const response = await callClaude(screenshotBase64, prompt, config);\n\n  try {\n    const jsonMatch = response.match(/\\[[\\s\\S]*\\]/);\n    if (!jsonMatch) {\n      console.error('No JSON array found in Claude response');\n      return [];\n    }\n\n    const sections = JSON.parse(jsonMatch[0]) as IdentifiedSection[];\n\n    // Validate and clean up\n    return sections.map((s, i) => ({\n      index: i + 1,\n      name: s.name || `Section ${i + 1}`,\n      description: s.description || '',\n      type: s.type || 'content',\n      priority: s.priority || 'medium',\n      style: s.style || 'light',\n    }));\n  } catch (e) {\n    console.error('Failed to parse visual sections:', e);\n    return [];\n  }\n}\n\n/**\n * Call Claude API with image\n */\nasync function callClaude(\n  imageBase64: string,\n  prompt: string,\n  config: AnthropicConfig,\n  maxTokens: number = 4096\n): Promise<string> {\n  let response: Response;\n\n  if (config.useBedrock && config.bedrockToken) {\n    const region = config.bedrockRegion || 'us-east-1';\n    const model = config.bedrockModel || 'anthropic.claude-sonnet-4-20250514-v1:0';\n    const bedrockUrl = `https://bedrock-runtime.${region}.amazonaws.com/model/${encodeURIComponent(model)}/invoke`;\n\n    response = await fetch(bedrockUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${config.bedrockToken}`,\n      },\n      body: JSON.stringify({\n        anthropic_version: 'bedrock-2023-05-31',\n        max_tokens: maxTokens,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'image', source: { type: 'base64', media_type: 'image/png', data: imageBase64 } },\n              { type: 'text', text: prompt },\n            ],\n          },\n        ],\n      }),\n    });\n  } else if (config.apiKey) {\n    response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': config.apiKey,\n        'anthropic-version': '2023-06-01',\n      },\n      body: JSON.stringify({\n        model: 'claude-sonnet-4-20250514',\n        max_tokens: maxTokens,\n        messages: [\n          {\n            role: 'user',\n            content: [\n              { type: 'image', source: { type: 'base64', media_type: 'image/png', data: imageBase64 } },\n              { type: 'text', text: prompt },\n            ],\n          },\n        ],\n      }),\n    });\n  } else {\n    throw new Error('No Anthropic API configuration provided');\n  }\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Claude API error: ${response.status} - ${error}`);\n  }\n\n  const result = await response.json() as {\n    content: Array<{ type: string; text?: string }>;\n  };\n\n  const textContent = result.content.find(c => c.type === 'text');\n  if (!textContent?.text) {\n    throw new Error('No text response from Claude');\n  }\n\n  return textContent.text;\n}\n", "/**\n * @license\n * Copyright 2025 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport {PuppeteerWorkers} from './cloudflare/PuppeteerWorkers.js';\nexport * from './api/api.js';\nexport * from './common/common.js';\nexport * from './revisions.js';\nexport * from './util/util.js';\nexport * from './cloudflare/BrowserWorker.js';\n\nconst puppeteer = new PuppeteerWorkers();\n\nexport const {connect, history, launch, limits, sessions, acquire} = puppeteer;\n\nexport * from './cloudflare/PuppeteerWorkers.js';\n\nexport default puppeteer;\n", "/**\n * @license\n * Copyright 2025 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport './globalPatcher.js';\n\nimport type {Browser} from '../api/Browser.js';\nimport type {ConnectionTransport} from '../common/ConnectionTransport.js';\nimport type {ConnectOptions} from '../common/ConnectOptions.js';\nimport {Puppeteer} from '../common/Puppeteer.js';\n\nimport type {BrowserWorker} from './BrowserWorker.js';\nimport {connectToCDPBrowser, type Locations} from './utils.js';\nimport {WorkersWebSocketTransport} from './WorkersWebSocketTransport.js';\n\nconst FAKE_HOST = 'https://fake.host';\n\n// We can't include both workers-types and dom because they conflict\ndeclare global {\n  interface Response {\n    readonly webSocket: WebSocket | null;\n  }\n  interface WebSocket {\n    accept(): void;\n  }\n}\n/**\n * @public\n */\nexport interface AcquireResponse {\n  sessionId: string;\n}\n/**\n * @public\n */\nexport interface ActiveSession {\n  sessionId: string;\n  startTime: number; // timestamp\n  // connection info, if present means there's a connection established\n  // from a worker to that session\n  connectionId?: string;\n  connectionStartTime?: string;\n}\n/**\n * @public\n */\nexport interface ClosedSession extends ActiveSession {\n  endTime: number; // timestamp\n  closeReason: number; // close reason code\n  closeReasonText: string; // close reason description\n}\n/**\n * @public\n */\nexport interface SessionsResponse {\n  sessions: ActiveSession[];\n}\n/**\n * @public\n */\nexport interface HistoryResponse {\n  history: ClosedSession[];\n}\n/**\n * @public\n */\nexport interface LimitsResponse {\n  activeSessions: Array<{id: string}>;\n  maxConcurrentSessions: number;\n  allowedBrowserAcquisitions: number; // 1 if allowed, 0 otherwise\n  timeUntilNextAllowedBrowserAcquisition: number;\n}\n/**\n * @public\n */\nexport interface WorkersLaunchOptions {\n  keep_alive?: number; // milliseconds to keep browser alive even if it has no activity (from 10_000ms to 600_000ms, default is 60_000)\n  location?: Locations;\n}\n/**\n * @public\n */\nexport class PuppeteerWorkers extends Puppeteer {\n  public constructor() {\n    super({isPuppeteerCore: false});\n    this.acquire = this.acquire.bind(this);\n    this.connect = this.connect.bind(this);\n    this.launch = this.launch.bind(this);\n    this.sessions = this.sessions.bind(this);\n    this.history = this.history.bind(this);\n    this.limits = this.limits.bind(this);\n  }\n\n  /**\n   * Launch a browser session.\n   *\n   * @param endpoint - Cloudflare worker binding\n   * @returns a browser session or throws\n   */\n  public async launch(\n    endpoint: BrowserWorker,\n    options?: WorkersLaunchOptions\n  ): Promise<Browser> {\n    const response: AcquireResponse = await this.acquire(endpoint, options);\n    return await this.connect(endpoint, response.sessionId);\n  }\n\n  /**\n   * Returns active sessions\n   *\n   * @remarks\n   * Sessions with a connnectionId already have a worker connection established\n   *\n   * @param endpoint - Cloudflare worker binding\n   * @returns List of active sessions\n   */\n  public async sessions(endpoint: BrowserWorker): Promise<ActiveSession[]> {\n    const res = await endpoint.fetch(`${FAKE_HOST}/v1/sessions`);\n    const status = res.status;\n    const text = await res.text();\n    if (status !== 200) {\n      throw new Error(\n        `Unable to fetch new sessions: code: ${status}: message: ${text}`\n      );\n    }\n    const data: SessionsResponse = JSON.parse(text);\n    return data.sessions;\n  }\n\n  /**\n   * Returns recent sessions (active and closed)\n   *\n   * @param endpoint - Cloudflare worker binding\n   * @returns List of recent sessions (active and closed)\n   */\n  public async history(endpoint: BrowserWorker): Promise<ClosedSession[]> {\n    const res = await endpoint.fetch(`${FAKE_HOST}/v1/history`);\n    const status = res.status;\n    const text = await res.text();\n    if (status !== 200) {\n      throw new Error(\n        `Unable to fetch account history: code: ${status}: message: ${text}`\n      );\n    }\n    const data: HistoryResponse = JSON.parse(text);\n    return data.history;\n  }\n\n  /**\n   * Returns current limits\n   *\n   * @param endpoint - Cloudflare worker binding\n   * @returns current limits\n   */\n  public async limits(endpoint: BrowserWorker): Promise<LimitsResponse> {\n    const res = await endpoint.fetch(`${FAKE_HOST}/v1/limits`);\n    const status = res.status;\n    const text = await res.text();\n    if (status !== 200) {\n      throw new Error(\n        `Unable to fetch account limits: code: ${status}: message: ${text}`\n      );\n    }\n    const data: LimitsResponse = JSON.parse(text);\n    return data;\n  }\n\n  /**\n   * Establish a devtools connection to an existing session\n   *\n   * @param endpoint - Cloudflare worker binding\n   * @param sessionId - sessionId obtained from a .sessions() call\n   * @returns a browser instance\n   */\n  public override async connect(\n    endpoint: BrowserWorker | ConnectOptions,\n    sessionId?: string\n  ): Promise<Browser>;\n\n  /**\n   * Establish a devtools connection to an existing session\n   *\n   * @param borwserWorker - BrowserWorker\n   * @returns a browser instance\n   */\n  public override async connect(\n    endpoint: BrowserWorker | ConnectOptions,\n    sessionId?: string\n  ): Promise<Browser> {\n    try {\n      if (!sessionId) {\n        return await super.connect(endpoint as ConnectOptions);\n      }\n      const connectionTransport: ConnectionTransport =\n        await WorkersWebSocketTransport.create(\n          endpoint as BrowserWorker,\n          sessionId\n        );\n      return await connectToCDPBrowser(connectionTransport, {sessionId});\n    } catch (e) {\n      throw new Error(\n        `Unable to connect to existing session ${sessionId} (it may still be in use or not ready yet) - retry or launch a new browser: ${e}`\n      );\n    }\n  }\n\n  /**\n   * Acquire a new browser session.\n   *\n   * @param borwserWorker - BrowserWorker\n   * @returns a new browser session\n   */\n  public async acquire(\n    endpoint: BrowserWorker,\n    options?: WorkersLaunchOptions\n  ): Promise<AcquireResponse> {\n    const searchParams = new URLSearchParams();\n    if (options?.keep_alive) {\n      searchParams.set('keep_alive', `${options.keep_alive}`);\n    }\n    if (options?.location) {\n      searchParams.set('location', options.location);\n    }\n\n    const acquireUrl = `${FAKE_HOST}/v1/acquire?${searchParams.toString()}`;\n    const res = await endpoint.fetch(acquireUrl);\n    const status = res.status;\n    const text = await res.text();\n    if (status !== 200) {\n      throw new Error(\n        `Unable to create new browser: code: ${status}: message: ${text}`\n      );\n    }\n    // Got a 200, so response text is actually an AcquireResponse\n    const response: AcquireResponse = JSON.parse(text);\n    return response;\n  }\n}\n", "/**\n * @license\n * Copyright 2025 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport {Buffer} from 'node:buffer';\n\nglobalThis.Buffer = Buffer;\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Browser} from '../api/Browser.js';\n\nimport {_connectToBrowser} from './BrowserConnector.js';\nimport type {ConnectOptions} from './ConnectOptions.js';\nimport {\n  type CustomQueryHandler,\n  customQueryHandlers,\n} from './CustomQueryHandler.js';\n\n/**\n * Settings that are common to the Puppeteer class, regardless of environment.\n *\n * @internal\n */\nexport interface CommonPuppeteerSettings {\n  isPuppeteerCore: boolean;\n}\n\n/**\n * The main Puppeteer class.\n *\n * IMPORTANT: if you are using Puppeteer in a Node environment, you will get an\n * instance of {@link PuppeteerNode} when you import or require `puppeteer`.\n * That class extends `Puppeteer`, so has all the methods documented below as\n * well as all that are defined on {@link PuppeteerNode}.\n *\n * @public\n */\nexport class Puppeteer {\n  /**\n   * Operations for {@link CustomQueryHandler | custom query handlers}. See\n   * {@link CustomQueryHandlerRegistry}.\n   *\n   * @internal\n   */\n  static customQueryHandlers = customQueryHandlers;\n\n  /**\n   * Registers a {@link CustomQueryHandler | custom query handler}.\n   *\n   * @remarks\n   * After registration, the handler can be used everywhere where a selector is\n   * expected by prepending the selection string with `<name>/`. The name is only\n   * allowed to consist of lower- and upper case latin letters.\n   *\n   * @example\n   *\n   * ```\n   * puppeteer.registerCustomQueryHandler('text', { \u2026 });\n   * const aHandle = await page.$('text/\u2026');\n   * ```\n   *\n   * @param name - The name that the custom query handler will be registered\n   * under.\n   * @param queryHandler - The {@link CustomQueryHandler | custom query handler}\n   * to register.\n   *\n   * @public\n   */\n  static registerCustomQueryHandler(\n    name: string,\n    queryHandler: CustomQueryHandler\n  ): void {\n    return this.customQueryHandlers.register(name, queryHandler);\n  }\n\n  /**\n   * Unregisters a custom query handler for a given name.\n   */\n  static unregisterCustomQueryHandler(name: string): void {\n    return this.customQueryHandlers.unregister(name);\n  }\n\n  /**\n   * Gets the names of all custom query handlers.\n   */\n  static customQueryHandlerNames(): string[] {\n    return this.customQueryHandlers.names();\n  }\n\n  /**\n   * Unregisters all custom query handlers.\n   */\n  static clearCustomQueryHandlers(): void {\n    return this.customQueryHandlers.clear();\n  }\n\n  /**\n   * @internal\n   */\n  _isPuppeteerCore: boolean;\n  /**\n   * @internal\n   */\n  protected _changedProduct = false;\n\n  /**\n   * @internal\n   */\n  constructor(settings: CommonPuppeteerSettings) {\n    this._isPuppeteerCore = settings.isPuppeteerCore;\n\n    this.connect = this.connect.bind(this);\n  }\n\n  /**\n   * This method attaches Puppeteer to an existing browser instance.\n   *\n   * @remarks\n   *\n   * @param options - Set of configurable options to set on the browser.\n   * @returns Promise which resolves to browser instance.\n   */\n  connect(options: ConnectOptions): Promise<Browser> {\n    return _connectToBrowser(options);\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Browser} from '../api/Browser.js';\nimport {_connectToCdpBrowser} from '../cdp/BrowserConnector.js';\nimport {isNode} from '../environment.js';\nimport {assert} from '../util/assert.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\nimport type {ConnectionTransport} from './ConnectionTransport.js';\nimport type {ConnectOptions} from './ConnectOptions.js';\nimport type {BrowserConnectOptions} from './ConnectOptions.js';\n\nconst getWebSocketTransportClass = async () => {\n  return isNode\n    ? (await import('../node/NodeWebSocketTransport.js')).NodeWebSocketTransport\n    : (await import('../common/BrowserWebSocketTransport.js'))\n        .BrowserWebSocketTransport;\n};\n\n/**\n * Users should never call this directly; it's called when calling\n * `puppeteer.connect`. This method attaches Puppeteer to an existing browser instance.\n *\n * @internal\n */\nexport async function _connectToBrowser(\n  options: ConnectOptions\n): Promise<Browser> {\n  const {connectionTransport, endpointUrl} =\n    await getConnectionTransport(options);\n\n  const cdpBrowser = await _connectToCdpBrowser(\n    connectionTransport,\n    endpointUrl,\n    options\n  );\n  return cdpBrowser;\n}\n\n/**\n * Establishes a websocket connection by given options and returns both transport and\n * endpoint url the transport is connected to.\n */\nasync function getConnectionTransport(\n  options: BrowserConnectOptions & ConnectOptions\n): Promise<{connectionTransport: ConnectionTransport; endpointUrl: string}> {\n  const {browserWSEndpoint, browserURL, transport, headers = {}} = options;\n\n  assert(\n    Number(!!browserWSEndpoint) + Number(!!browserURL) + Number(!!transport) ===\n      1,\n    'Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect'\n  );\n\n  if (transport) {\n    return {connectionTransport: transport, endpointUrl: ''};\n  } else if (browserWSEndpoint) {\n    const WebSocketClass = await getWebSocketTransportClass();\n    const connectionTransport: ConnectionTransport =\n      await WebSocketClass.create(browserWSEndpoint, headers);\n    return {\n      connectionTransport: connectionTransport,\n      endpointUrl: browserWSEndpoint,\n    };\n  } else if (browserURL) {\n    const connectionURL = await getWSEndpoint(browserURL);\n    const WebSocketClass = await getWebSocketTransportClass();\n    const connectionTransport: ConnectionTransport =\n      await WebSocketClass.create(connectionURL);\n    return {\n      connectionTransport: connectionTransport,\n      endpointUrl: connectionURL,\n    };\n  }\n  throw new Error('Invalid connection options');\n}\n\nasync function getWSEndpoint(browserURL: string): Promise<string> {\n  const endpointURL = new URL('/json/version', browserURL);\n\n  try {\n    const result = await globalThis.fetch(endpointURL.toString(), {\n      method: 'GET',\n    });\n    if (!result.ok) {\n      throw new Error(`HTTP ${result.statusText}`);\n    }\n    const data = await result.json();\n    return data.webSocketDebuggerUrl;\n  } catch (error) {\n    if (isErrorLike(error)) {\n      error.message =\n        `Failed to fetch browser webSocket URL from ${endpointURL}: ` +\n        error.message;\n    }\n    throw error;\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ConnectionTransport} from '../common/ConnectionTransport.js';\nimport type {\n  BrowserConnectOptions,\n  ConnectOptions,\n} from '../common/ConnectOptions.js';\nimport {debugError, DEFAULT_VIEWPORT} from '../common/util.js';\n\nimport {CdpBrowser} from './Browser.js';\nimport {Connection} from './Connection.js';\n\n/**\n * Users should never call this directly; it's called when calling\n * `puppeteer.connect` with `protocol: 'cdp'`.\n *\n * @internal\n */\nexport async function _connectToCdpBrowser(\n  connectionTransport: ConnectionTransport,\n  url: string,\n  options: BrowserConnectOptions & ConnectOptions\n): Promise<CdpBrowser> {\n  const {\n    ignoreHTTPSErrors = false,\n    defaultViewport = DEFAULT_VIEWPORT,\n    targetFilter,\n    _isPageTarget: isPageTarget,\n    slowMo = 0,\n    protocolTimeout,\n  } = options;\n\n  const connection = new Connection(\n    url,\n    connectionTransport,\n    slowMo,\n    protocolTimeout\n  );\n\n  const version = await connection.send('Browser.getVersion');\n  const product = version.product.toLowerCase().includes('firefox')\n    ? 'firefox'\n    : 'chrome';\n\n  const {browserContextIds} = await connection.send(\n    'Target.getBrowserContexts'\n  );\n  const browser = await CdpBrowser._create(\n    product || 'chrome',\n    connection,\n    browserContextIds,\n    ignoreHTTPSErrors,\n    defaultViewport,\n    undefined,\n    () => {\n      return connection.send('Browser.close').catch(debugError);\n    },\n    targetFilter,\n    isPageTarget\n  );\n  return browser;\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type FS from 'fs/promises';\nimport {Buffer} from 'node:buffer';\n\nimport type {OperatorFunction} from '../../third_party/rxjs/rxjs.js';\nimport {\n  filter,\n  from,\n  fromEvent,\n  map,\n  mergeMap,\n  NEVER,\n  Observable,\n  timer,\n} from '../../third_party/rxjs/rxjs.js';\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {packageVersion} from '../generated/version.js';\n// import {isNode} from '../environment.js';\nimport {assert} from '../util/assert.js';\n\nimport {debug} from './Debug.js';\nimport {TimeoutError} from './Errors.js';\nimport type {EventEmitter, EventType} from './EventEmitter.js';\nimport type {\n  LowerCasePaperFormat,\n  ParsedPDFOptions,\n  PDFOptions,\n} from './PDFOptions.js';\nimport {paperFormats} from './PDFOptions.js';\n\n/**\n * @internal\n */\nexport const debugError = debug('puppeteer:error');\n\n/**\n * @internal\n */\nexport const DEFAULT_VIEWPORT = Object.freeze({width: 800, height: 600});\n\n/**\n * @internal\n */\nconst SOURCE_URL = Symbol('Source URL for Puppeteer evaluation scripts');\n\n/**\n * @internal\n */\nexport class PuppeteerURL {\n  static INTERNAL_URL = 'pptr:internal';\n\n  static fromCallSite(\n    functionName: string,\n    site: NodeJS.CallSite\n  ): PuppeteerURL {\n    const url = new PuppeteerURL();\n    url.#functionName = functionName;\n    url.#siteString = site.toString();\n    return url;\n  }\n\n  static parse = (url: string): PuppeteerURL => {\n    url = url.slice('pptr:'.length);\n    const [functionName = '', siteString = ''] = url.split(';');\n    const puppeteerUrl = new PuppeteerURL();\n    puppeteerUrl.#functionName = functionName;\n    puppeteerUrl.#siteString = decodeURIComponent(siteString);\n    return puppeteerUrl;\n  };\n\n  static isPuppeteerURL = (url: string): boolean => {\n    return url.startsWith('pptr:');\n  };\n\n  #functionName!: string;\n  #siteString!: string;\n\n  get functionName(): string {\n    return this.#functionName;\n  }\n\n  get siteString(): string {\n    return this.#siteString;\n  }\n\n  toString(): string {\n    return `pptr:${[\n      this.#functionName,\n      encodeURIComponent(this.#siteString),\n    ].join(';')}`;\n  }\n}\n\n/**\n * @internal\n */\nexport const withSourcePuppeteerURLIfNone = <T extends NonNullable<unknown>>(\n  functionName: string,\n  object: T\n): T => {\n  if (Object.prototype.hasOwnProperty.call(object, SOURCE_URL)) {\n    return object;\n  }\n  const original = Error.prepareStackTrace;\n  Error.prepareStackTrace = (_, stack) => {\n    // First element is the function.\n    // Second element is the caller of this function.\n    // Third element is the caller of the caller of this function\n    // which is precisely what we want.\n    return stack[2];\n  };\n  const site = new Error().stack as unknown as NodeJS.CallSite;\n  Error.prepareStackTrace = original;\n  return Object.assign(object, {\n    [SOURCE_URL]: PuppeteerURL.fromCallSite(functionName, site),\n  });\n};\n\n/**\n * @internal\n */\nexport const getSourcePuppeteerURLIfAvailable = <\n  T extends NonNullable<unknown>,\n>(\n  object: T\n): PuppeteerURL | undefined => {\n  if (Object.prototype.hasOwnProperty.call(object, SOURCE_URL)) {\n    return object[SOURCE_URL as keyof T] as PuppeteerURL;\n  }\n  return undefined;\n};\n\n/**\n * @internal\n */\nexport const isString = (obj: unknown): obj is string => {\n  return typeof obj === 'string' || obj instanceof String;\n};\n\n/**\n * @internal\n */\nexport const isNumber = (obj: unknown): obj is number => {\n  return typeof obj === 'number' || obj instanceof Number;\n};\n\n/**\n * @internal\n */\nexport const isPlainObject = (obj: unknown): obj is Record<any, unknown> => {\n  return typeof obj === 'object' && obj?.constructor === Object;\n};\n\n/**\n * @internal\n */\nexport const isRegExp = (obj: unknown): obj is RegExp => {\n  return typeof obj === 'object' && obj?.constructor === RegExp;\n};\n\n/**\n * @internal\n */\nexport const isDate = (obj: unknown): obj is Date => {\n  return typeof obj === 'object' && obj?.constructor === Date;\n};\n\n/**\n * @internal\n */\nexport function evaluationString(\n  fun: Function | string,\n  ...args: unknown[]\n): string {\n  if (isString(fun)) {\n    assert(args.length === 0, 'Cannot evaluate a string with arguments');\n    return fun;\n  }\n\n  function serializeArgument(arg: unknown): string {\n    if (Object.is(arg, undefined)) {\n      return 'undefined';\n    }\n    return JSON.stringify(arg);\n  }\n  // function is most likely bundled with wrangler,\n  // which uses esbuild with keepNames enabled.\n  // See: https://github.com/cloudflare/workers-sdk/issues/7107\n  const script = `(${fun})(${args.map(serializeArgument).join(',')})`;\n  return globalThis.navigator?.userAgent === 'Cloudflare-Workers'\n    ? `((__name => (${script}))(t => t))`\n    : script;\n}\n\n/**\n * @internal\n */\nlet fs: typeof FS | null = null;\n/**\n * @internal\n */\nexport async function importFSPromises(): Promise<typeof FS> {\n  if (!fs) {\n    try {\n      fs = await import('fs/promises');\n    } catch (error) {\n      if (error instanceof TypeError) {\n        throw new Error(\n          'Cannot write to a path outside of a Node-like environment. fs'\n        );\n      }\n      throw error;\n    }\n  }\n  return fs;\n}\n\n/**\n * @internal\n */\nexport async function getReadableAsBuffer(\n  readable: ReadableStream<Uint8Array>,\n  path?: string\n): Promise<Buffer | null> {\n  const buffers: Uint8Array[] = [];\n  const reader = readable.getReader();\n  if (path) {\n    throw new Error(\n      'Cannot write to a path outside of a Node-like environment.'\n    );\n  } else {\n    while (true) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      buffers.push(value);\n    }\n  }\n  try {\n    return Buffer.concat(buffers);\n  } catch (error) {\n    debugError(error);\n    return null;\n  }\n}\n\n/**\n * @internal\n */\n\n/**\n * @internal\n */\nexport async function getReadableFromProtocolStream(\n  client: CDPSession,\n  handle: string\n): Promise<ReadableStream<Uint8Array>> {\n  return new ReadableStream({\n    async pull(controller) {\n      function getUnit8Array(data: string, isBase64: boolean): Uint8Array {\n        if (isBase64) {\n          return Uint8Array.from(atob(data), m => {\n            return m.codePointAt(0)!;\n          });\n        }\n        const encoder = new TextEncoder();\n        return encoder.encode(data);\n      }\n\n      const {data, base64Encoded, eof} = await client.send('IO.read', {\n        handle,\n      });\n\n      controller.enqueue(getUnit8Array(data, base64Encoded ?? false));\n      if (eof) {\n        await client.send('IO.close', {handle});\n        controller.close();\n      }\n    },\n  });\n}\n\n/**\n * @internal\n */\nexport function validateDialogType(\n  type: string\n): 'alert' | 'confirm' | 'prompt' | 'beforeunload' {\n  let dialogType = null;\n  const validDialogTypes = new Set([\n    'alert',\n    'confirm',\n    'prompt',\n    'beforeunload',\n  ]);\n\n  if (validDialogTypes.has(type)) {\n    dialogType = type;\n  }\n  assert(dialogType, `Unknown javascript dialog type: ${type}`);\n  return dialogType as 'alert' | 'confirm' | 'prompt' | 'beforeunload';\n}\n\n/**\n * @internal\n */\nexport function timeout(ms: number, cause?: Error): Observable<never> {\n  return ms === 0\n    ? NEVER\n    : timer(ms).pipe(\n        map(() => {\n          throw new TimeoutError(`Timed out after waiting ${ms}ms`, {cause});\n        })\n      );\n}\n\n/**\n * @internal\n */\nexport const UTILITY_WORLD_NAME =\n  '__puppeteer_utility_world__' + packageVersion;\n\n/**\n * @internal\n */\nexport const SOURCE_URL_REGEX = /^[\\040\\t]*\\/\\/[@#] sourceURL=\\s*(\\S*?)\\s*$/m;\n/**\n * @internal\n */\nexport function getSourceUrlComment(url: string): string {\n  return `//# sourceURL=${url}`;\n}\n\n/**\n * @internal\n */\nexport const NETWORK_IDLE_TIME = 500;\n\n/**\n * @internal\n */\nexport function parsePDFOptions(\n  options: PDFOptions = {},\n  lengthUnit: 'in' | 'cm' = 'in'\n): ParsedPDFOptions {\n  const defaults: Omit<ParsedPDFOptions, 'width' | 'height' | 'margin'> = {\n    scale: 1,\n    displayHeaderFooter: false,\n    headerTemplate: '',\n    footerTemplate: '',\n    printBackground: false,\n    landscape: false,\n    pageRanges: '',\n    preferCSSPageSize: false,\n    omitBackground: false,\n    outline: false,\n    tagged: true,\n    waitForFonts: true,\n  };\n\n  let width = 8.5;\n  let height = 11;\n  if (options.format) {\n    const format =\n      paperFormats[options.format.toLowerCase() as LowerCasePaperFormat];\n    assert(format, 'Unknown paper format: ' + options.format);\n    width = format.width;\n    height = format.height;\n  } else {\n    width = convertPrintParameterToInches(options.width, lengthUnit) ?? width;\n    height =\n      convertPrintParameterToInches(options.height, lengthUnit) ?? height;\n  }\n\n  const margin = {\n    top: convertPrintParameterToInches(options.margin?.top, lengthUnit) || 0,\n    left: convertPrintParameterToInches(options.margin?.left, lengthUnit) || 0,\n    bottom:\n      convertPrintParameterToInches(options.margin?.bottom, lengthUnit) || 0,\n    right:\n      convertPrintParameterToInches(options.margin?.right, lengthUnit) || 0,\n  };\n\n  // Quirk https://bugs.chromium.org/p/chromium/issues/detail?id=840455#c44\n  if (options.outline) {\n    options.tagged = true;\n  }\n\n  return {\n    ...defaults,\n    ...options,\n    width,\n    height,\n    margin,\n  };\n}\n\n/**\n * @internal\n */\nexport const unitToPixels = {\n  px: 1,\n  in: 96,\n  cm: 37.8,\n  mm: 3.78,\n};\n\nfunction convertPrintParameterToInches(\n  parameter?: string | number,\n  lengthUnit: 'in' | 'cm' = 'in'\n): number | undefined {\n  if (typeof parameter === 'undefined') {\n    return undefined;\n  }\n  let pixels;\n  if (isNumber(parameter)) {\n    // Treat numbers as pixel values to be aligned with phantom's paperSize.\n    pixels = parameter;\n  } else if (isString(parameter)) {\n    const text = parameter;\n    let unit = text.substring(text.length - 2).toLowerCase();\n    let valueText = '';\n    if (unit in unitToPixels) {\n      valueText = text.substring(0, text.length - 2);\n    } else {\n      // In case of unknown unit try to parse the whole parameter as number of pixels.\n      // This is consistent with phantom's paperSize behavior.\n      unit = 'px';\n      valueText = text;\n    }\n    const value = Number(valueText);\n    assert(!isNaN(value), 'Failed to parse parameter value: ' + text);\n    pixels = value * unitToPixels[unit as keyof typeof unitToPixels];\n  } else {\n    throw new Error(\n      'page.pdf() Cannot handle parameter type: ' + typeof parameter\n    );\n  }\n  return pixels / unitToPixels[lengthUnit];\n}\n\n/**\n * @internal\n */\nexport function fromEmitterEvent<\n  Events extends Record<EventType, unknown>,\n  Event extends keyof Events,\n>(emitter: EventEmitter<Events>, eventName: Event): Observable<Events[Event]> {\n  return new Observable(subscriber => {\n    const listener = (event: Events[Event]) => {\n      subscriber.next(event);\n    };\n    emitter.on(eventName, listener);\n    return () => {\n      emitter.off(eventName, listener);\n    };\n  });\n}\n\n/**\n * @internal\n */\nexport function fromAbortSignal(\n  signal?: AbortSignal,\n  cause?: Error\n): Observable<never> {\n  return signal\n    ? fromEvent(signal, 'abort').pipe(\n        map(() => {\n          if (signal.reason instanceof Error) {\n            signal.reason.cause = cause;\n            throw signal.reason;\n          }\n\n          throw new Error(signal.reason, {cause});\n        })\n      )\n    : NEVER;\n}\n\n/**\n * @internal\n */\nexport function filterAsync<T>(\n  predicate: (value: T) => boolean | PromiseLike<boolean>\n): OperatorFunction<T, T> {\n  return mergeMap<T, Observable<T>>((value): Observable<T> => {\n    return from(Promise.resolve(predicate(value))).pipe(\n      filter(isMatch => {\n        return isMatch;\n      }),\n      map(() => {\n        return value;\n      })\n    );\n  });\n}\n", "/**\n                               Apache License\n                         Version 2.0, January 2004\n                      http://www.apache.org/licenses/\n\n TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n 1. Definitions.\n\n    \"License\" shall mean the terms and conditions for use, reproduction,\n    and distribution as defined by Sections 1 through 9 of this document.\n\n    \"Licensor\" shall mean the copyright owner or entity authorized by\n    the copyright owner that is granting the License.\n\n    \"Legal Entity\" shall mean the union of the acting entity and all\n    other entities that control, are controlled by, or are under common\n    control with that entity. For the purposes of this definition,\n    \"control\" means (i) the power, direct or indirect, to cause the\n    direction or management of such entity, whether by contract or\n    otherwise, or (ii) ownership of fifty percent (50%) or more of the\n    outstanding shares, or (iii) beneficial ownership of such entity.\n\n    \"You\" (or \"Your\") shall mean an individual or Legal Entity\n    exercising permissions granted by this License.\n\n    \"Source\" form shall mean the preferred form for making modifications,\n    including but not limited to software source code, documentation\n    source, and configuration files.\n\n    \"Object\" form shall mean any form resulting from mechanical\n    transformation or translation of a Source form, including but\n    not limited to compiled object code, generated documentation,\n    and conversions to other media types.\n\n    \"Work\" shall mean the work of authorship, whether in Source or\n    Object form, made available under the License, as indicated by a\n    copyright notice that is included in or attached to the work\n    (an example is provided in the Appendix below).\n\n    \"Derivative Works\" shall mean any work, whether in Source or Object\n    form, that is based on (or derived from) the Work and for which the\n    editorial revisions, annotations, elaborations, or other modifications\n    represent, as a whole, an original work of authorship. For the purposes\n    of this License, Derivative Works shall not include works that remain\n    separable from, or merely link (or bind by name) to the interfaces of,\n    the Work and Derivative Works thereof.\n\n    \"Contribution\" shall mean any work of authorship, including\n    the original version of the Work and any modifications or additions\n    to that Work or Derivative Works thereof, that is intentionally\n    submitted to Licensor for inclusion in the Work by the copyright owner\n    or by an individual or Legal Entity authorized to submit on behalf of\n    the copyright owner. For the purposes of this definition, \"submitted\"\n    means any form of electronic, verbal, or written communication sent\n    to the Licensor or its representatives, including but not limited to\n    communication on electronic mailing lists, source code control systems,\n    and issue tracking systems that are managed by, or on behalf of, the\n    Licensor for the purpose of discussing and improving the Work, but\n    excluding communication that is conspicuously marked or otherwise\n    designated in writing by the copyright owner as \"Not a Contribution.\"\n\n    \"Contributor\" shall mean Licensor and any individual or Legal Entity\n    on behalf of whom a Contribution has been received by Licensor and\n    subsequently incorporated within the Work.\n\n 2. Grant of Copyright License. Subject to the terms and conditions of\n    this License, each Contributor hereby grants to You a perpetual,\n    worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n    copyright license to reproduce, prepare Derivative Works of,\n    publicly display, publicly perform, sublicense, and distribute the\n    Work and such Derivative Works in Source or Object form.\n\n 3. Grant of Patent License. Subject to the terms and conditions of\n    this License, each Contributor hereby grants to You a perpetual,\n    worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n    (except as stated in this section) patent license to make, have made,\n    use, offer to sell, sell, import, and otherwise transfer the Work,\n    where such license applies only to those patent claims licensable\n    by such Contributor that are necessarily infringed by their\n    Contribution(s) alone or by combination of their Contribution(s)\n    with the Work to which such Contribution(s) was submitted. If You\n    institute patent litigation against any entity (including a\n    cross-claim or counterclaim in a lawsuit) alleging that the Work\n    or a Contribution incorporated within the Work constitutes direct\n    or contributory patent infringement, then any patent licenses\n    granted to You under this License for that Work shall terminate\n    as of the date such litigation is filed.\n\n 4. Redistribution. You may reproduce and distribute copies of the\n    Work or Derivative Works thereof in any medium, with or without\n    modifications, and in Source or Object form, provided that You\n    meet the following conditions:\n\n    (a) You must give any other recipients of the Work or\n        Derivative Works a copy of this License; and\n\n    (b) You must cause any modified files to carry prominent notices\n        stating that You changed the files; and\n\n    (c) You must retain, in the Source form of any Derivative Works\n        that You distribute, all copyright, patent, trademark, and\n        attribution notices from the Source form of the Work,\n        excluding those notices that do not pertain to any part of\n        the Derivative Works; and\n\n    (d) If the Work includes a \"NOTICE\" text file as part of its\n        distribution, then any Derivative Works that You distribute must\n        include a readable copy of the attribution notices contained\n        within such NOTICE file, excluding those notices that do not\n        pertain to any part of the Derivative Works, in at least one\n        of the following places: within a NOTICE text file distributed\n        as part of the Derivative Works; within the Source form or\n        documentation, if provided along with the Derivative Works; or,\n        within a display generated by the Derivative Works, if and\n        wherever such third-party notices normally appear. The contents\n        of the NOTICE file are for informational purposes only and\n        do not modify the License. You may add Your own attribution\n        notices within Derivative Works that You distribute, alongside\n        or as an addendum to the NOTICE text from the Work, provided\n        that such additional attribution notices cannot be construed\n        as modifying the License.\n\n    You may add Your own copyright statement to Your modifications and\n    may provide additional or different license terms and conditions\n    for use, reproduction, or distribution of Your modifications, or\n    for any such Derivative Works as a whole, provided Your use,\n    reproduction, and distribution of the Work otherwise complies with\n    the conditions stated in this License.\n\n 5. Submission of Contributions. Unless You explicitly state otherwise,\n    any Contribution intentionally submitted for inclusion in the Work\n    by You to the Licensor shall be under the terms and conditions of\n    this License, without any additional terms or conditions.\n    Notwithstanding the above, nothing herein shall supersede or modify\n    the terms of any separate license agreement you may have executed\n    with Licensor regarding such Contributions.\n\n 6. Trademarks. This License does not grant permission to use the trade\n    names, trademarks, service marks, or product names of the Licensor,\n    except as required for reasonable and customary use in describing the\n    origin of the Work and reproducing the content of the NOTICE file.\n\n 7. Disclaimer of Warranty. Unless required by applicable law or\n    agreed to in writing, Licensor provides the Work (and each\n    Contributor provides its Contributions) on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n    implied, including, without limitation, any warranties or conditions\n    of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n    PARTICULAR PURPOSE. You are solely responsible for determining the\n    appropriateness of using or redistributing the Work and assume any\n    risks associated with Your exercise of permissions under this License.\n\n 8. Limitation of Liability. In no event and under no legal theory,\n    whether in tort (including negligence), contract, or otherwise,\n    unless required by applicable law (such as deliberate and grossly\n    negligent acts) or agreed to in writing, shall any Contributor be\n    liable to You for damages, including any direct, indirect, special,\n    incidental, or consequential damages of any character arising as a\n    result of this License or out of the use or inability to use the\n    Work (including but not limited to damages for loss of goodwill,\n    work stoppage, computer failure or malfunction, or any and all\n    other commercial damages or losses), even if such Contributor\n    has been advised of the possibility of such damages.\n\n 9. Accepting Warranty or Additional Liability. While redistributing\n    the Work or Derivative Works thereof, You may choose to offer,\n    and charge a fee for, acceptance of support, warranty, indemnity,\n    or other liability obligations and/or rights consistent with this\n    License. However, in accepting such obligations, You may act only\n    on Your own behalf and on Your sole responsibility, not on behalf\n    of any other Contributor, and only if You agree to indemnify,\n    defend, and hold each Contributor harmless for any liability\n    incurred by, or claims asserted against, such Contributor by reason\n    of your accepting any such warranty or additional liability.\n\n END OF TERMS AND CONDITIONS\n\n APPENDIX: How to apply the Apache License to your work.\n\n    To apply the Apache License to your work, attach the following\n    boilerplate notice, with the fields enclosed by brackets \"[]\"\n    replaced with your own identifying information. (Don't include\n    the brackets!)  The text should be enclosed in the appropriate\n    comment syntax for the file format. We also recommend that a\n    file or class name and description of purpose be included on the\n    same \"printed page\" as the copyright notice for easier\n    identification within third-party archives.\n\n Copyright (c) 2015-2018 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n \n\n*/\n// node_modules/tslib/tslib.es6.mjs\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {\n    d2.__proto__ = b2;\n  } || function(d2, b2) {\n    for (var p in b2) if (Object.prototype.hasOwnProperty.call(b2, p)) d2[p] = b2[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function(resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function(resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() {\n    if (t[0] & 1) throw t[1];\n    return t[1];\n  }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n    return this;\n  }), g;\n  function verb(n) {\n    return function(v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return { value: op[1], done: false };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function() {\n      if (o && i >= o.length) o = void 0;\n      return { value: o && o[i++], done: !o };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = { error };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spreadArray(to, from2, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from2.length, ar; i < l; i++) {\n    if (ar || !(i in from2)) {\n      if (!ar) ar = Array.prototype.slice.call(from2, 0, i);\n      ar[i] = from2[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from2));\n}\nfunction __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nfunction __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i;\n  function verb(n) {\n    if (g[n]) i[n] = function(v) {\n      return new Promise(function(a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nfunction __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i);\n  function verb(n) {\n    i[n] = o[n] && function(v) {\n      return new Promise(function(resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function(v2) {\n      resolve({ value: v2, done: d });\n    }, reject);\n  }\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/isFunction.js\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js\nfunction createErrorClass(createImpl) {\n  var _super = function(instance) {\n    Error.call(instance);\n    instance.stack = new Error().stack;\n  };\n  var ctorFunc = createImpl(_super);\n  ctorFunc.prototype = Object.create(Error.prototype);\n  ctorFunc.prototype.constructor = ctorFunc;\n  return ctorFunc;\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js\nvar UnsubscriptionError = createErrorClass(function(_super) {\n  return function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n    this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function(err, i) {\n      return i + 1 + \") \" + err.toString();\n    }).join(\"\\n  \") : \"\";\n    this.name = \"UnsubscriptionError\";\n    this.errors = errors;\n  };\n});\n\n// node_modules/rxjs/dist/esm5/internal/util/arrRemove.js\nfunction arrRemove(arr, item) {\n  if (arr) {\n    var index = arr.indexOf(item);\n    0 <= index && arr.splice(index, 1);\n  }\n}\n\n// node_modules/rxjs/dist/esm5/internal/Subscription.js\nvar Subscription = function() {\n  function Subscription2(initialTeardown) {\n    this.initialTeardown = initialTeardown;\n    this.closed = false;\n    this._parentage = null;\n    this._finalizers = null;\n  }\n  Subscription2.prototype.unsubscribe = function() {\n    var e_1, _a, e_2, _b;\n    var errors;\n    if (!this.closed) {\n      this.closed = true;\n      var _parentage = this._parentage;\n      if (_parentage) {\n        this._parentage = null;\n        if (Array.isArray(_parentage)) {\n          try {\n            for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n              var parent_1 = _parentage_1_1.value;\n              parent_1.remove(this);\n            }\n          } catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n          } finally {\n            try {\n              if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n        } else {\n          _parentage.remove(this);\n        }\n      }\n      var initialFinalizer = this.initialTeardown;\n      if (isFunction(initialFinalizer)) {\n        try {\n          initialFinalizer();\n        } catch (e) {\n          errors = e instanceof UnsubscriptionError ? e.errors : [e];\n        }\n      }\n      var _finalizers = this._finalizers;\n      if (_finalizers) {\n        this._finalizers = null;\n        try {\n          for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n            var finalizer = _finalizers_1_1.value;\n            try {\n              execFinalizer(finalizer);\n            } catch (err) {\n              errors = errors !== null && errors !== void 0 ? errors : [];\n              if (err instanceof UnsubscriptionError) {\n                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n              } else {\n                errors.push(err);\n              }\n            }\n          }\n        } catch (e_2_1) {\n          e_2 = { error: e_2_1 };\n        } finally {\n          try {\n            if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n      if (errors) {\n        throw new UnsubscriptionError(errors);\n      }\n    }\n  };\n  Subscription2.prototype.add = function(teardown) {\n    var _a;\n    if (teardown && teardown !== this) {\n      if (this.closed) {\n        execFinalizer(teardown);\n      } else {\n        if (teardown instanceof Subscription2) {\n          if (teardown.closed || teardown._hasParent(this)) {\n            return;\n          }\n          teardown._addParent(this);\n        }\n        (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n      }\n    }\n  };\n  Subscription2.prototype._hasParent = function(parent) {\n    var _parentage = this._parentage;\n    return _parentage === parent || Array.isArray(_parentage) && _parentage.includes(parent);\n  };\n  Subscription2.prototype._addParent = function(parent) {\n    var _parentage = this._parentage;\n    this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n  };\n  Subscription2.prototype._removeParent = function(parent) {\n    var _parentage = this._parentage;\n    if (_parentage === parent) {\n      this._parentage = null;\n    } else if (Array.isArray(_parentage)) {\n      arrRemove(_parentage, parent);\n    }\n  };\n  Subscription2.prototype.remove = function(teardown) {\n    var _finalizers = this._finalizers;\n    _finalizers && arrRemove(_finalizers, teardown);\n    if (teardown instanceof Subscription2) {\n      teardown._removeParent(this);\n    }\n  };\n  Subscription2.EMPTY = function() {\n    var empty = new Subscription2();\n    empty.closed = true;\n    return empty;\n  }();\n  return Subscription2;\n}();\nvar EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nfunction isSubscription(value) {\n  return value instanceof Subscription || value && \"closed\" in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe);\n}\nfunction execFinalizer(finalizer) {\n  if (isFunction(finalizer)) {\n    finalizer();\n  } else {\n    finalizer.unsubscribe();\n  }\n}\n\n// node_modules/rxjs/dist/esm5/internal/config.js\nvar config = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: void 0,\n  useDeprecatedSynchronousErrorHandling: false,\n  useDeprecatedNextContext: false\n};\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js\nvar timeoutProvider = {\n  setTimeout: function(handler, timeout) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n      args[_i - 2] = arguments[_i];\n    }\n    var delegate = timeoutProvider.delegate;\n    if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n      return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n    }\n    return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n  },\n  clearTimeout: function(handle) {\n    var delegate = timeoutProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n  },\n  delegate: void 0\n};\n\n// node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js\nfunction reportUnhandledError(err) {\n  timeoutProvider.setTimeout(function() {\n    var onUnhandledError = config.onUnhandledError;\n    if (onUnhandledError) {\n      onUnhandledError(err);\n    } else {\n      throw err;\n    }\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/noop.js\nfunction noop() {\n}\n\n// node_modules/rxjs/dist/esm5/internal/NotificationFactories.js\nvar COMPLETE_NOTIFICATION = function() {\n  return createNotification(\"C\", void 0, void 0);\n}();\nfunction errorNotification(error) {\n  return createNotification(\"E\", void 0, error);\n}\nfunction nextNotification(value) {\n  return createNotification(\"N\", value, void 0);\n}\nfunction createNotification(kind, value, error) {\n  return {\n    kind,\n    value,\n    error\n  };\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/errorContext.js\nvar context = null;\nfunction errorContext(cb) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    var isRoot = !context;\n    if (isRoot) {\n      context = { errorThrown: false, error: null };\n    }\n    cb();\n    if (isRoot) {\n      var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n      context = null;\n      if (errorThrown) {\n        throw error;\n      }\n    }\n  } else {\n    cb();\n  }\n}\nfunction captureError(err) {\n  if (config.useDeprecatedSynchronousErrorHandling && context) {\n    context.errorThrown = true;\n    context.error = err;\n  }\n}\n\n// node_modules/rxjs/dist/esm5/internal/Subscriber.js\nvar Subscriber = function(_super) {\n  __extends(Subscriber2, _super);\n  function Subscriber2(destination) {\n    var _this = _super.call(this) || this;\n    _this.isStopped = false;\n    if (destination) {\n      _this.destination = destination;\n      if (isSubscription(destination)) {\n        destination.add(_this);\n      }\n    } else {\n      _this.destination = EMPTY_OBSERVER;\n    }\n    return _this;\n  }\n  Subscriber2.create = function(next, error, complete) {\n    return new SafeSubscriber(next, error, complete);\n  };\n  Subscriber2.prototype.next = function(value) {\n    if (this.isStopped) {\n      handleStoppedNotification(nextNotification(value), this);\n    } else {\n      this._next(value);\n    }\n  };\n  Subscriber2.prototype.error = function(err) {\n    if (this.isStopped) {\n      handleStoppedNotification(errorNotification(err), this);\n    } else {\n      this.isStopped = true;\n      this._error(err);\n    }\n  };\n  Subscriber2.prototype.complete = function() {\n    if (this.isStopped) {\n      handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n    } else {\n      this.isStopped = true;\n      this._complete();\n    }\n  };\n  Subscriber2.prototype.unsubscribe = function() {\n    if (!this.closed) {\n      this.isStopped = true;\n      _super.prototype.unsubscribe.call(this);\n      this.destination = null;\n    }\n  };\n  Subscriber2.prototype._next = function(value) {\n    this.destination.next(value);\n  };\n  Subscriber2.prototype._error = function(err) {\n    try {\n      this.destination.error(err);\n    } finally {\n      this.unsubscribe();\n    }\n  };\n  Subscriber2.prototype._complete = function() {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  };\n  return Subscriber2;\n}(Subscription);\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n  return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = function() {\n  function ConsumerObserver2(partialObserver) {\n    this.partialObserver = partialObserver;\n  }\n  ConsumerObserver2.prototype.next = function(value) {\n    var partialObserver = this.partialObserver;\n    if (partialObserver.next) {\n      try {\n        partialObserver.next(value);\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    }\n  };\n  ConsumerObserver2.prototype.error = function(err) {\n    var partialObserver = this.partialObserver;\n    if (partialObserver.error) {\n      try {\n        partialObserver.error(err);\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    } else {\n      handleUnhandledError(err);\n    }\n  };\n  ConsumerObserver2.prototype.complete = function() {\n    var partialObserver = this.partialObserver;\n    if (partialObserver.complete) {\n      try {\n        partialObserver.complete();\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    }\n  };\n  return ConsumerObserver2;\n}();\nvar SafeSubscriber = function(_super) {\n  __extends(SafeSubscriber2, _super);\n  function SafeSubscriber2(observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n    var partialObserver;\n    if (isFunction(observerOrNext) || !observerOrNext) {\n      partialObserver = {\n        next: observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : void 0,\n        error: error !== null && error !== void 0 ? error : void 0,\n        complete: complete !== null && complete !== void 0 ? complete : void 0\n      };\n    } else {\n      var context_1;\n      if (_this && config.useDeprecatedNextContext) {\n        context_1 = Object.create(observerOrNext);\n        context_1.unsubscribe = function() {\n          return _this.unsubscribe();\n        };\n        partialObserver = {\n          next: observerOrNext.next && bind(observerOrNext.next, context_1),\n          error: observerOrNext.error && bind(observerOrNext.error, context_1),\n          complete: observerOrNext.complete && bind(observerOrNext.complete, context_1)\n        };\n      } else {\n        partialObserver = observerOrNext;\n      }\n    }\n    _this.destination = new ConsumerObserver(partialObserver);\n    return _this;\n  }\n  return SafeSubscriber2;\n}(Subscriber);\nfunction handleUnhandledError(error) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    captureError(error);\n  } else {\n    reportUnhandledError(error);\n  }\n}\nfunction defaultErrorHandler(err) {\n  throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n  var onStoppedNotification = config.onStoppedNotification;\n  onStoppedNotification && timeoutProvider.setTimeout(function() {\n    return onStoppedNotification(notification, subscriber);\n  });\n}\nvar EMPTY_OBSERVER = {\n  closed: true,\n  next: noop,\n  error: defaultErrorHandler,\n  complete: noop\n};\n\n// node_modules/rxjs/dist/esm5/internal/symbol/observable.js\nvar observable = function() {\n  return typeof Symbol === \"function\" && Symbol.observable || \"@@observable\";\n}();\n\n// node_modules/rxjs/dist/esm5/internal/util/identity.js\nfunction identity(x) {\n  return x;\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/pipe.js\nfunction pipe() {\n  var fns = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    fns[_i] = arguments[_i];\n  }\n  return pipeFromArray(fns);\n}\nfunction pipeFromArray(fns) {\n  if (fns.length === 0) {\n    return identity;\n  }\n  if (fns.length === 1) {\n    return fns[0];\n  }\n  return function piped(input) {\n    return fns.reduce(function(prev, fn) {\n      return fn(prev);\n    }, input);\n  };\n}\n\n// node_modules/rxjs/dist/esm5/internal/Observable.js\nvar Observable = function() {\n  function Observable2(subscribe) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n  Observable2.prototype.lift = function(operator) {\n    var observable2 = new Observable2();\n    observable2.source = this;\n    observable2.operator = operator;\n    return observable2;\n  };\n  Observable2.prototype.subscribe = function(observerOrNext, error, complete) {\n    var _this = this;\n    var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n    errorContext(function() {\n      var _a = _this, operator = _a.operator, source = _a.source;\n      subscriber.add(operator ? operator.call(subscriber, source) : source ? _this._subscribe(subscriber) : _this._trySubscribe(subscriber));\n    });\n    return subscriber;\n  };\n  Observable2.prototype._trySubscribe = function(sink) {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      sink.error(err);\n    }\n  };\n  Observable2.prototype.forEach = function(next, promiseCtor) {\n    var _this = this;\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function(resolve, reject) {\n      var subscriber = new SafeSubscriber({\n        next: function(value) {\n          try {\n            next(value);\n          } catch (err) {\n            reject(err);\n            subscriber.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n      _this.subscribe(subscriber);\n    });\n  };\n  Observable2.prototype._subscribe = function(subscriber) {\n    var _a;\n    return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n  };\n  Observable2.prototype[observable] = function() {\n    return this;\n  };\n  Observable2.prototype.pipe = function() {\n    var operations = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      operations[_i] = arguments[_i];\n    }\n    return pipeFromArray(operations)(this);\n  };\n  Observable2.prototype.toPromise = function(promiseCtor) {\n    var _this = this;\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function(resolve, reject) {\n      var value;\n      _this.subscribe(function(x) {\n        return value = x;\n      }, function(err) {\n        return reject(err);\n      }, function() {\n        return resolve(value);\n      });\n    });\n  };\n  Observable2.create = function(subscribe) {\n    return new Observable2(subscribe);\n  };\n  return Observable2;\n}();\nfunction getPromiseCtor(promiseCtor) {\n  var _a;\n  return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n  return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n  return value && value instanceof Subscriber || isObserver(value) && isSubscription(value);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/lift.js\nfunction hasLift(source) {\n  return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nfunction operate(init) {\n  return function(source) {\n    if (hasLift(source)) {\n      return source.lift(function(liftedSource) {\n        try {\n          return init(liftedSource, this);\n        } catch (err) {\n          this.error(err);\n        }\n      });\n    }\n    throw new TypeError(\"Unable to lift unknown Observable type\");\n  };\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js\nfunction createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n  return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = function(_super) {\n  __extends(OperatorSubscriber2, _super);\n  function OperatorSubscriber2(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n    var _this = _super.call(this, destination) || this;\n    _this.onFinalize = onFinalize;\n    _this.shouldUnsubscribe = shouldUnsubscribe;\n    _this._next = onNext ? function(value) {\n      try {\n        onNext(value);\n      } catch (err) {\n        destination.error(err);\n      }\n    } : _super.prototype._next;\n    _this._error = onError ? function(err) {\n      try {\n        onError(err);\n      } catch (err2) {\n        destination.error(err2);\n      } finally {\n        this.unsubscribe();\n      }\n    } : _super.prototype._error;\n    _this._complete = onComplete ? function() {\n      try {\n        onComplete();\n      } catch (err) {\n        destination.error(err);\n      } finally {\n        this.unsubscribe();\n      }\n    } : _super.prototype._complete;\n    return _this;\n  }\n  OperatorSubscriber2.prototype.unsubscribe = function() {\n    var _a;\n    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n      var closed_1 = this.closed;\n      _super.prototype.unsubscribe.call(this);\n      !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n    }\n  };\n  return OperatorSubscriber2;\n}(Subscriber);\n\n// node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js\nvar ObjectUnsubscribedError = createErrorClass(function(_super) {\n  return function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n    this.name = \"ObjectUnsubscribedError\";\n    this.message = \"object unsubscribed\";\n  };\n});\n\n// node_modules/rxjs/dist/esm5/internal/Subject.js\nvar Subject = function(_super) {\n  __extends(Subject2, _super);\n  function Subject2() {\n    var _this = _super.call(this) || this;\n    _this.closed = false;\n    _this.currentObservers = null;\n    _this.observers = [];\n    _this.isStopped = false;\n    _this.hasError = false;\n    _this.thrownError = null;\n    return _this;\n  }\n  Subject2.prototype.lift = function(operator) {\n    var subject = new AnonymousSubject(this, this);\n    subject.operator = operator;\n    return subject;\n  };\n  Subject2.prototype._throwIfClosed = function() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n  };\n  Subject2.prototype.next = function(value) {\n    var _this = this;\n    errorContext(function() {\n      var e_1, _a;\n      _this._throwIfClosed();\n      if (!_this.isStopped) {\n        if (!_this.currentObservers) {\n          _this.currentObservers = Array.from(_this.observers);\n        }\n        try {\n          for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var observer = _c.value;\n            observer.next(value);\n          }\n        } catch (e_1_1) {\n          e_1 = { error: e_1_1 };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    });\n  };\n  Subject2.prototype.error = function(err) {\n    var _this = this;\n    errorContext(function() {\n      _this._throwIfClosed();\n      if (!_this.isStopped) {\n        _this.hasError = _this.isStopped = true;\n        _this.thrownError = err;\n        var observers = _this.observers;\n        while (observers.length) {\n          observers.shift().error(err);\n        }\n      }\n    });\n  };\n  Subject2.prototype.complete = function() {\n    var _this = this;\n    errorContext(function() {\n      _this._throwIfClosed();\n      if (!_this.isStopped) {\n        _this.isStopped = true;\n        var observers = _this.observers;\n        while (observers.length) {\n          observers.shift().complete();\n        }\n      }\n    });\n  };\n  Subject2.prototype.unsubscribe = function() {\n    this.isStopped = this.closed = true;\n    this.observers = this.currentObservers = null;\n  };\n  Object.defineProperty(Subject2.prototype, \"observed\", {\n    get: function() {\n      var _a;\n      return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Subject2.prototype._trySubscribe = function(subscriber) {\n    this._throwIfClosed();\n    return _super.prototype._trySubscribe.call(this, subscriber);\n  };\n  Subject2.prototype._subscribe = function(subscriber) {\n    this._throwIfClosed();\n    this._checkFinalizedStatuses(subscriber);\n    return this._innerSubscribe(subscriber);\n  };\n  Subject2.prototype._innerSubscribe = function(subscriber) {\n    var _this = this;\n    var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n    if (hasError || isStopped) {\n      return EMPTY_SUBSCRIPTION;\n    }\n    this.currentObservers = null;\n    observers.push(subscriber);\n    return new Subscription(function() {\n      _this.currentObservers = null;\n      arrRemove(observers, subscriber);\n    });\n  };\n  Subject2.prototype._checkFinalizedStatuses = function(subscriber) {\n    var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n    if (hasError) {\n      subscriber.error(thrownError);\n    } else if (isStopped) {\n      subscriber.complete();\n    }\n  };\n  Subject2.prototype.asObservable = function() {\n    var observable2 = new Observable();\n    observable2.source = this;\n    return observable2;\n  };\n  Subject2.create = function(destination, source) {\n    return new AnonymousSubject(destination, source);\n  };\n  return Subject2;\n}(Observable);\nvar AnonymousSubject = function(_super) {\n  __extends(AnonymousSubject2, _super);\n  function AnonymousSubject2(destination, source) {\n    var _this = _super.call(this) || this;\n    _this.destination = destination;\n    _this.source = source;\n    return _this;\n  }\n  AnonymousSubject2.prototype.next = function(value) {\n    var _a, _b;\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  };\n  AnonymousSubject2.prototype.error = function(err) {\n    var _a, _b;\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n  };\n  AnonymousSubject2.prototype.complete = function() {\n    var _a, _b;\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n  AnonymousSubject2.prototype._subscribe = function(subscriber) {\n    var _a, _b;\n    return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n  };\n  return AnonymousSubject2;\n}(Subject);\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js\nvar dateTimestampProvider = {\n  now: function() {\n    return (dateTimestampProvider.delegate || Date).now();\n  },\n  delegate: void 0\n};\n\n// node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\nvar ReplaySubject = function(_super) {\n  __extends(ReplaySubject2, _super);\n  function ReplaySubject2(_bufferSize, _windowTime, _timestampProvider) {\n    if (_bufferSize === void 0) {\n      _bufferSize = Infinity;\n    }\n    if (_windowTime === void 0) {\n      _windowTime = Infinity;\n    }\n    if (_timestampProvider === void 0) {\n      _timestampProvider = dateTimestampProvider;\n    }\n    var _this = _super.call(this) || this;\n    _this._bufferSize = _bufferSize;\n    _this._windowTime = _windowTime;\n    _this._timestampProvider = _timestampProvider;\n    _this._buffer = [];\n    _this._infiniteTimeWindow = true;\n    _this._infiniteTimeWindow = _windowTime === Infinity;\n    _this._bufferSize = Math.max(1, _bufferSize);\n    _this._windowTime = Math.max(1, _windowTime);\n    return _this;\n  }\n  ReplaySubject2.prototype.next = function(value) {\n    var _a = this, isStopped = _a.isStopped, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow, _timestampProvider = _a._timestampProvider, _windowTime = _a._windowTime;\n    if (!isStopped) {\n      _buffer.push(value);\n      !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);\n    }\n    this._trimBuffer();\n    _super.prototype.next.call(this, value);\n  };\n  ReplaySubject2.prototype._subscribe = function(subscriber) {\n    this._throwIfClosed();\n    this._trimBuffer();\n    var subscription = this._innerSubscribe(subscriber);\n    var _a = this, _infiniteTimeWindow = _a._infiniteTimeWindow, _buffer = _a._buffer;\n    var copy = _buffer.slice();\n    for (var i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {\n      subscriber.next(copy[i]);\n    }\n    this._checkFinalizedStatuses(subscriber);\n    return subscription;\n  };\n  ReplaySubject2.prototype._trimBuffer = function() {\n    var _a = this, _bufferSize = _a._bufferSize, _timestampProvider = _a._timestampProvider, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow;\n    var adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;\n    _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);\n    if (!_infiniteTimeWindow) {\n      var now = _timestampProvider.now();\n      var last2 = 0;\n      for (var i = 1; i < _buffer.length && _buffer[i] <= now; i += 2) {\n        last2 = i;\n      }\n      last2 && _buffer.splice(0, last2 + 1);\n    }\n  };\n  return ReplaySubject2;\n}(Subject);\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/Action.js\nvar Action = function(_super) {\n  __extends(Action2, _super);\n  function Action2(scheduler, work) {\n    return _super.call(this) || this;\n  }\n  Action2.prototype.schedule = function(state, delay2) {\n    if (delay2 === void 0) {\n      delay2 = 0;\n    }\n    return this;\n  };\n  return Action2;\n}(Subscription);\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js\nvar intervalProvider = {\n  setInterval: function(handler, timeout) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n      args[_i - 2] = arguments[_i];\n    }\n    var delegate = intervalProvider.delegate;\n    if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n      return delegate.setInterval.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n    }\n    return setInterval.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n  },\n  clearInterval: function(handle) {\n    var delegate = intervalProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n  },\n  delegate: void 0\n};\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js\nvar AsyncAction = function(_super) {\n  __extends(AsyncAction2, _super);\n  function AsyncAction2(scheduler, work) {\n    var _this = _super.call(this, scheduler, work) || this;\n    _this.scheduler = scheduler;\n    _this.work = work;\n    _this.pending = false;\n    return _this;\n  }\n  AsyncAction2.prototype.schedule = function(state, delay2) {\n    var _a;\n    if (delay2 === void 0) {\n      delay2 = 0;\n    }\n    if (this.closed) {\n      return this;\n    }\n    this.state = state;\n    var id = this.id;\n    var scheduler = this.scheduler;\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay2);\n    }\n    this.pending = true;\n    this.delay = delay2;\n    this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay2);\n    return this;\n  };\n  AsyncAction2.prototype.requestAsyncId = function(scheduler, _id, delay2) {\n    if (delay2 === void 0) {\n      delay2 = 0;\n    }\n    return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay2);\n  };\n  AsyncAction2.prototype.recycleAsyncId = function(_scheduler, id, delay2) {\n    if (delay2 === void 0) {\n      delay2 = 0;\n    }\n    if (delay2 != null && this.delay === delay2 && this.pending === false) {\n      return id;\n    }\n    if (id != null) {\n      intervalProvider.clearInterval(id);\n    }\n    return void 0;\n  };\n  AsyncAction2.prototype.execute = function(state, delay2) {\n    if (this.closed) {\n      return new Error(\"executing a cancelled action\");\n    }\n    this.pending = false;\n    var error = this._execute(state, delay2);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  };\n  AsyncAction2.prototype._execute = function(state, _delay) {\n    var errored = false;\n    var errorValue;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = e ? e : new Error(\"Scheduled action threw falsy error\");\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  };\n  AsyncAction2.prototype.unsubscribe = function() {\n    if (!this.closed) {\n      var _a = this, id = _a.id, scheduler = _a.scheduler;\n      var actions = scheduler.actions;\n      this.work = this.state = this.scheduler = null;\n      this.pending = false;\n      arrRemove(actions, this);\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, null);\n      }\n      this.delay = null;\n      _super.prototype.unsubscribe.call(this);\n    }\n  };\n  return AsyncAction2;\n}(Action);\n\n// node_modules/rxjs/dist/esm5/internal/Scheduler.js\nvar Scheduler = function() {\n  function Scheduler2(schedulerActionCtor, now) {\n    if (now === void 0) {\n      now = Scheduler2.now;\n    }\n    this.schedulerActionCtor = schedulerActionCtor;\n    this.now = now;\n  }\n  Scheduler2.prototype.schedule = function(work, delay2, state) {\n    if (delay2 === void 0) {\n      delay2 = 0;\n    }\n    return new this.schedulerActionCtor(this, work).schedule(state, delay2);\n  };\n  Scheduler2.now = dateTimestampProvider.now;\n  return Scheduler2;\n}();\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js\nvar AsyncScheduler = function(_super) {\n  __extends(AsyncScheduler2, _super);\n  function AsyncScheduler2(SchedulerAction, now) {\n    if (now === void 0) {\n      now = Scheduler.now;\n    }\n    var _this = _super.call(this, SchedulerAction, now) || this;\n    _this.actions = [];\n    _this._active = false;\n    return _this;\n  }\n  AsyncScheduler2.prototype.flush = function(action) {\n    var actions = this.actions;\n    if (this._active) {\n      actions.push(action);\n      return;\n    }\n    var error;\n    this._active = true;\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift());\n    this._active = false;\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  };\n  return AsyncScheduler2;\n}(Scheduler);\n\n// node_modules/rxjs/dist/esm5/internal/scheduler/async.js\nvar asyncScheduler = new AsyncScheduler(AsyncAction);\nvar async = asyncScheduler;\n\n// node_modules/rxjs/dist/esm5/internal/observable/empty.js\nvar EMPTY = new Observable(function(subscriber) {\n  return subscriber.complete();\n});\n\n// node_modules/rxjs/dist/esm5/internal/util/isScheduler.js\nfunction isScheduler(value) {\n  return value && isFunction(value.schedule);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/args.js\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\nfunction popResultSelector(args) {\n  return isFunction(last(args)) ? args.pop() : void 0;\n}\nfunction popScheduler(args) {\n  return isScheduler(last(args)) ? args.pop() : void 0;\n}\nfunction popNumber(args, defaultValue) {\n  return typeof last(args) === \"number\" ? args.pop() : defaultValue;\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js\nvar isArrayLike = function(x) {\n  return x && typeof x.length === \"number\" && typeof x !== \"function\";\n};\n\n// node_modules/rxjs/dist/esm5/internal/util/isPromise.js\nfunction isPromise(value) {\n  return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js\nfunction isInteropObservable(input) {\n  return isFunction(input[observable]);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js\nfunction isAsyncIterable(obj) {\n  return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js\nfunction createInvalidObservableTypeError(input) {\n  return new TypeError(\"You provided \" + (input !== null && typeof input === \"object\" ? \"an invalid object\" : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n\n// node_modules/rxjs/dist/esm5/internal/symbol/iterator.js\nfunction getSymbolIterator() {\n  if (typeof Symbol !== \"function\" || !Symbol.iterator) {\n    return \"@@iterator\";\n  }\n  return Symbol.iterator;\n}\nvar iterator = getSymbolIterator();\n\n// node_modules/rxjs/dist/esm5/internal/util/isIterable.js\nfunction isIterable(input) {\n  return isFunction(input === null || input === void 0 ? void 0 : input[iterator]);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js\nfunction readableStreamLikeToAsyncGenerator(readableStream) {\n  return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n    var reader, _a, value, done;\n    return __generator(this, function(_b) {\n      switch (_b.label) {\n        case 0:\n          reader = readableStream.getReader();\n          _b.label = 1;\n        case 1:\n          _b.trys.push([1, , 9, 10]);\n          _b.label = 2;\n        case 2:\n          if (false) return [3, 8];\n          return [4, __await(reader.read())];\n        case 3:\n          _a = _b.sent(), value = _a.value, done = _a.done;\n          if (!done) return [3, 5];\n          return [4, __await(void 0)];\n        case 4:\n          return [2, _b.sent()];\n        case 5:\n          return [4, __await(value)];\n        case 6:\n          return [4, _b.sent()];\n        case 7:\n          _b.sent();\n          return [3, 2];\n        case 8:\n          return [3, 10];\n        case 9:\n          reader.releaseLock();\n          return [7];\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\nfunction isReadableStreamLike(obj) {\n  return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js\nfunction innerFrom(input) {\n  if (input instanceof Observable) {\n    return input;\n  }\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return fromInteropObservable(input);\n    }\n    if (isArrayLike(input)) {\n      return fromArrayLike(input);\n    }\n    if (isPromise(input)) {\n      return fromPromise(input);\n    }\n    if (isAsyncIterable(input)) {\n      return fromAsyncIterable(input);\n    }\n    if (isIterable(input)) {\n      return fromIterable(input);\n    }\n    if (isReadableStreamLike(input)) {\n      return fromReadableStreamLike(input);\n    }\n  }\n  throw createInvalidObservableTypeError(input);\n}\nfunction fromInteropObservable(obj) {\n  return new Observable(function(subscriber) {\n    var obs = obj[observable]();\n    if (isFunction(obs.subscribe)) {\n      return obs.subscribe(subscriber);\n    }\n    throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");\n  });\n}\nfunction fromArrayLike(array) {\n  return new Observable(function(subscriber) {\n    for (var i = 0; i < array.length && !subscriber.closed; i++) {\n      subscriber.next(array[i]);\n    }\n    subscriber.complete();\n  });\n}\nfunction fromPromise(promise) {\n  return new Observable(function(subscriber) {\n    promise.then(function(value) {\n      if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n      }\n    }, function(err) {\n      return subscriber.error(err);\n    }).then(null, reportUnhandledError);\n  });\n}\nfunction fromIterable(iterable) {\n  return new Observable(function(subscriber) {\n    var e_1, _a;\n    try {\n      for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n        var value = iterable_1_1.value;\n        subscriber.next(value);\n        if (subscriber.closed) {\n          return;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = { error: e_1_1 };\n    } finally {\n      try {\n        if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    subscriber.complete();\n  });\n}\nfunction fromAsyncIterable(asyncIterable) {\n  return new Observable(function(subscriber) {\n    process(asyncIterable, subscriber).catch(function(err) {\n      return subscriber.error(err);\n    });\n  });\n}\nfunction fromReadableStreamLike(readableStream) {\n  return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n  var asyncIterable_1, asyncIterable_1_1;\n  var e_2, _a;\n  return __awaiter(this, void 0, void 0, function() {\n    var value, e_2_1;\n    return __generator(this, function(_b) {\n      switch (_b.label) {\n        case 0:\n          _b.trys.push([0, 5, 6, 11]);\n          asyncIterable_1 = __asyncValues(asyncIterable);\n          _b.label = 1;\n        case 1:\n          return [4, asyncIterable_1.next()];\n        case 2:\n          if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n          value = asyncIterable_1_1.value;\n          subscriber.next(value);\n          if (subscriber.closed) {\n            return [2];\n          }\n          _b.label = 3;\n        case 3:\n          return [3, 1];\n        case 4:\n          return [3, 11];\n        case 5:\n          e_2_1 = _b.sent();\n          e_2 = { error: e_2_1 };\n          return [3, 11];\n        case 6:\n          _b.trys.push([6, , 9, 10]);\n          if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n          return [4, _a.call(asyncIterable_1)];\n        case 7:\n          _b.sent();\n          _b.label = 8;\n        case 8:\n          return [3, 10];\n        case 9:\n          if (e_2) throw e_2.error;\n          return [7];\n        case 10:\n          return [7];\n        case 11:\n          subscriber.complete();\n          return [2];\n      }\n    });\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js\nfunction executeSchedule(parentSubscription, scheduler, work, delay2, repeat) {\n  if (delay2 === void 0) {\n    delay2 = 0;\n  }\n  if (repeat === void 0) {\n    repeat = false;\n  }\n  var scheduleSubscription = scheduler.schedule(function() {\n    work();\n    if (repeat) {\n      parentSubscription.add(this.schedule(null, delay2));\n    } else {\n      this.unsubscribe();\n    }\n  }, delay2);\n  parentSubscription.add(scheduleSubscription);\n  if (!repeat) {\n    return scheduleSubscription;\n  }\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/observeOn.js\nfunction observeOn(scheduler, delay2) {\n  if (delay2 === void 0) {\n    delay2 = 0;\n  }\n  return operate(function(source, subscriber) {\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      return executeSchedule(subscriber, scheduler, function() {\n        return subscriber.next(value);\n      }, delay2);\n    }, function() {\n      return executeSchedule(subscriber, scheduler, function() {\n        return subscriber.complete();\n      }, delay2);\n    }, function(err) {\n      return executeSchedule(subscriber, scheduler, function() {\n        return subscriber.error(err);\n      }, delay2);\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/subscribeOn.js\nfunction subscribeOn(scheduler, delay2) {\n  if (delay2 === void 0) {\n    delay2 = 0;\n  }\n  return operate(function(source, subscriber) {\n    subscriber.add(scheduler.schedule(function() {\n      return source.subscribe(subscriber);\n    }, delay2));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/scheduleObservable.js\nfunction scheduleObservable(input, scheduler) {\n  return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/schedulePromise.js\nfunction schedulePromise(input, scheduler) {\n  return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/scheduleArray.js\nfunction scheduleArray(input, scheduler) {\n  return new Observable(function(subscriber) {\n    var i = 0;\n    return scheduler.schedule(function() {\n      if (i === input.length) {\n        subscriber.complete();\n      } else {\n        subscriber.next(input[i++]);\n        if (!subscriber.closed) {\n          this.schedule();\n        }\n      }\n    });\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/scheduleIterable.js\nfunction scheduleIterable(input, scheduler) {\n  return new Observable(function(subscriber) {\n    var iterator2;\n    executeSchedule(subscriber, scheduler, function() {\n      iterator2 = input[iterator]();\n      executeSchedule(subscriber, scheduler, function() {\n        var _a;\n        var value;\n        var done;\n        try {\n          _a = iterator2.next(), value = _a.value, done = _a.done;\n        } catch (err) {\n          subscriber.error(err);\n          return;\n        }\n        if (done) {\n          subscriber.complete();\n        } else {\n          subscriber.next(value);\n        }\n      }, 0, true);\n    });\n    return function() {\n      return isFunction(iterator2 === null || iterator2 === void 0 ? void 0 : iterator2.return) && iterator2.return();\n    };\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/scheduleAsyncIterable.js\nfunction scheduleAsyncIterable(input, scheduler) {\n  if (!input) {\n    throw new Error(\"Iterable cannot be null\");\n  }\n  return new Observable(function(subscriber) {\n    executeSchedule(subscriber, scheduler, function() {\n      var iterator2 = input[Symbol.asyncIterator]();\n      executeSchedule(subscriber, scheduler, function() {\n        iterator2.next().then(function(result) {\n          if (result.done) {\n            subscriber.complete();\n          } else {\n            subscriber.next(result.value);\n          }\n        });\n      }, 0, true);\n    });\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/scheduleReadableStreamLike.js\nfunction scheduleReadableStreamLike(input, scheduler) {\n  return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n\n// node_modules/rxjs/dist/esm5/internal/scheduled/scheduled.js\nfunction scheduled(input, scheduler) {\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return scheduleObservable(input, scheduler);\n    }\n    if (isArrayLike(input)) {\n      return scheduleArray(input, scheduler);\n    }\n    if (isPromise(input)) {\n      return schedulePromise(input, scheduler);\n    }\n    if (isAsyncIterable(input)) {\n      return scheduleAsyncIterable(input, scheduler);\n    }\n    if (isIterable(input)) {\n      return scheduleIterable(input, scheduler);\n    }\n    if (isReadableStreamLike(input)) {\n      return scheduleReadableStreamLike(input, scheduler);\n    }\n  }\n  throw createInvalidObservableTypeError(input);\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/from.js\nfunction from(input, scheduler) {\n  return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/of.js\nfunction of() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  var scheduler = popScheduler(args);\n  return from(args, scheduler);\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/EmptyError.js\nvar EmptyError = createErrorClass(function(_super) {\n  return function EmptyErrorImpl() {\n    _super(this);\n    this.name = \"EmptyError\";\n    this.message = \"no elements in sequence\";\n  };\n});\n\n// node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\nfunction lastValueFrom(source, config2) {\n  var hasConfig = typeof config2 === \"object\";\n  return new Promise(function(resolve, reject) {\n    var _hasValue = false;\n    var _value;\n    source.subscribe({\n      next: function(value) {\n        _value = value;\n        _hasValue = true;\n      },\n      error: reject,\n      complete: function() {\n        if (_hasValue) {\n          resolve(_value);\n        } else if (hasConfig) {\n          resolve(config2.defaultValue);\n        } else {\n          reject(new EmptyError());\n        }\n      }\n    });\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/firstValueFrom.js\nfunction firstValueFrom(source, config2) {\n  var hasConfig = typeof config2 === \"object\";\n  return new Promise(function(resolve, reject) {\n    var subscriber = new SafeSubscriber({\n      next: function(value) {\n        resolve(value);\n        subscriber.unsubscribe();\n      },\n      error: reject,\n      complete: function() {\n        if (hasConfig) {\n          resolve(config2.defaultValue);\n        } else {\n          reject(new EmptyError());\n        }\n      }\n    });\n    source.subscribe(subscriber);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/isDate.js\nfunction isValidDate(value) {\n  return value instanceof Date && !isNaN(value);\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/map.js\nfunction map(project, thisArg) {\n  return operate(function(source, subscriber) {\n    var index = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      subscriber.next(project.call(thisArg, value, index++));\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js\nvar isArray = Array.isArray;\nfunction callOrApply(fn, args) {\n  return isArray(args) ? fn.apply(void 0, __spreadArray([], __read(args))) : fn(args);\n}\nfunction mapOneOrManyArgs(fn) {\n  return map(function(args) {\n    return callOrApply(fn, args);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/argsArgArrayOrObject.js\nvar isArray2 = Array.isArray;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectProto = Object.prototype;\nvar getKeys = Object.keys;\nfunction argsArgArrayOrObject(args) {\n  if (args.length === 1) {\n    var first_1 = args[0];\n    if (isArray2(first_1)) {\n      return { args: first_1, keys: null };\n    }\n    if (isPOJO(first_1)) {\n      var keys = getKeys(first_1);\n      return {\n        args: keys.map(function(key) {\n          return first_1[key];\n        }),\n        keys\n      };\n    }\n  }\n  return { args, keys: null };\n}\nfunction isPOJO(obj) {\n  return obj && typeof obj === \"object\" && getPrototypeOf(obj) === objectProto;\n}\n\n// node_modules/rxjs/dist/esm5/internal/util/createObject.js\nfunction createObject(keys, values) {\n  return keys.reduce(function(result, key, i) {\n    return result[key] = values[i], result;\n  }, {});\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\nfunction combineLatest() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  var scheduler = popScheduler(args);\n  var resultSelector = popResultSelector(args);\n  var _a = argsArgArrayOrObject(args), observables = _a.args, keys = _a.keys;\n  if (observables.length === 0) {\n    return from([], scheduler);\n  }\n  var result = new Observable(combineLatestInit(observables, scheduler, keys ? function(values) {\n    return createObject(keys, values);\n  } : identity));\n  return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\nfunction combineLatestInit(observables, scheduler, valueTransform) {\n  if (valueTransform === void 0) {\n    valueTransform = identity;\n  }\n  return function(subscriber) {\n    maybeSchedule(scheduler, function() {\n      var length = observables.length;\n      var values = new Array(length);\n      var active = length;\n      var remainingFirstValues = length;\n      var _loop_1 = function(i2) {\n        maybeSchedule(scheduler, function() {\n          var source = from(observables[i2], scheduler);\n          var hasFirstValue = false;\n          source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n            values[i2] = value;\n            if (!hasFirstValue) {\n              hasFirstValue = true;\n              remainingFirstValues--;\n            }\n            if (!remainingFirstValues) {\n              subscriber.next(valueTransform(values.slice()));\n            }\n          }, function() {\n            if (!--active) {\n              subscriber.complete();\n            }\n          }));\n        }, subscriber);\n      };\n      for (var i = 0; i < length; i++) {\n        _loop_1(i);\n      }\n    }, subscriber);\n  };\n}\nfunction maybeSchedule(scheduler, execute, subscription) {\n  if (scheduler) {\n    executeSchedule(subscription, scheduler, execute);\n  } else {\n    execute();\n  }\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js\nfunction mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n  var buffer = [];\n  var active = 0;\n  var index = 0;\n  var isComplete = false;\n  var checkComplete = function() {\n    if (isComplete && !buffer.length && !active) {\n      subscriber.complete();\n    }\n  };\n  var outerNext = function(value) {\n    return active < concurrent ? doInnerSub(value) : buffer.push(value);\n  };\n  var doInnerSub = function(value) {\n    expand && subscriber.next(value);\n    active++;\n    var innerComplete = false;\n    innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, function(innerValue) {\n      onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n      if (expand) {\n        outerNext(innerValue);\n      } else {\n        subscriber.next(innerValue);\n      }\n    }, function() {\n      innerComplete = true;\n    }, void 0, function() {\n      if (innerComplete) {\n        try {\n          active--;\n          var _loop_1 = function() {\n            var bufferedValue = buffer.shift();\n            if (innerSubScheduler) {\n              executeSchedule(subscriber, innerSubScheduler, function() {\n                return doInnerSub(bufferedValue);\n              });\n            } else {\n              doInnerSub(bufferedValue);\n            }\n          };\n          while (buffer.length && active < concurrent) {\n            _loop_1();\n          }\n          checkComplete();\n        } catch (err) {\n          subscriber.error(err);\n        }\n      }\n    }));\n  };\n  source.subscribe(createOperatorSubscriber(subscriber, outerNext, function() {\n    isComplete = true;\n    checkComplete();\n  }));\n  return function() {\n    additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n  };\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\nfunction mergeMap(project, resultSelector, concurrent) {\n  if (concurrent === void 0) {\n    concurrent = Infinity;\n  }\n  if (isFunction(resultSelector)) {\n    return mergeMap(function(a, i) {\n      return map(function(b, ii) {\n        return resultSelector(a, b, i, ii);\n      })(innerFrom(project(a, i)));\n    }, concurrent);\n  } else if (typeof resultSelector === \"number\") {\n    concurrent = resultSelector;\n  }\n  return operate(function(source, subscriber) {\n    return mergeInternals(source, subscriber, project, concurrent);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js\nfunction mergeAll(concurrent) {\n  if (concurrent === void 0) {\n    concurrent = Infinity;\n  }\n  return mergeMap(identity, concurrent);\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/concatAll.js\nfunction concatAll() {\n  return mergeAll(1);\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/concat.js\nfunction concat() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  return concatAll()(from(args, popScheduler(args)));\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/defer.js\nfunction defer(observableFactory) {\n  return new Observable(function(subscriber) {\n    innerFrom(observableFactory()).subscribe(subscriber);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js\nfunction forkJoin() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  var resultSelector = popResultSelector(args);\n  var _a = argsArgArrayOrObject(args), sources = _a.args, keys = _a.keys;\n  var result = new Observable(function(subscriber) {\n    var length = sources.length;\n    if (!length) {\n      subscriber.complete();\n      return;\n    }\n    var values = new Array(length);\n    var remainingCompletions = length;\n    var remainingEmissions = length;\n    var _loop_1 = function(sourceIndex2) {\n      var hasValue = false;\n      innerFrom(sources[sourceIndex2]).subscribe(createOperatorSubscriber(subscriber, function(value) {\n        if (!hasValue) {\n          hasValue = true;\n          remainingEmissions--;\n        }\n        values[sourceIndex2] = value;\n      }, function() {\n        return remainingCompletions--;\n      }, void 0, function() {\n        if (!remainingCompletions || !hasValue) {\n          if (!remainingEmissions) {\n            subscriber.next(keys ? createObject(keys, values) : values);\n          }\n          subscriber.complete();\n        }\n      }));\n    };\n    for (var sourceIndex = 0; sourceIndex < length; sourceIndex++) {\n      _loop_1(sourceIndex);\n    }\n  });\n  return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\nvar nodeEventEmitterMethods = [\"addListener\", \"removeListener\"];\nvar eventTargetMethods = [\"addEventListener\", \"removeEventListener\"];\nvar jqueryMethods = [\"on\", \"off\"];\nfunction fromEvent(target, eventName, options, resultSelector) {\n  if (isFunction(options)) {\n    resultSelector = options;\n    options = void 0;\n  }\n  if (resultSelector) {\n    return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n  }\n  var _a = __read(isEventTarget(target) ? eventTargetMethods.map(function(methodName) {\n    return function(handler) {\n      return target[methodName](eventName, handler, options);\n    };\n  }) : isNodeStyleEventEmitter(target) ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName)) : isJQueryStyleEventEmitter(target) ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName)) : [], 2), add = _a[0], remove = _a[1];\n  if (!add) {\n    if (isArrayLike(target)) {\n      return mergeMap(function(subTarget) {\n        return fromEvent(subTarget, eventName, options);\n      })(innerFrom(target));\n    }\n  }\n  if (!add) {\n    throw new TypeError(\"Invalid event target\");\n  }\n  return new Observable(function(subscriber) {\n    var handler = function() {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return subscriber.next(1 < args.length ? args : args[0]);\n    };\n    add(handler);\n    return function() {\n      return remove(handler);\n    };\n  });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n  return function(methodName) {\n    return function(handler) {\n      return target[methodName](eventName, handler);\n    };\n  };\n}\nfunction isNodeStyleEventEmitter(target) {\n  return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n  return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n  return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/timer.js\nfunction timer(dueTime, intervalOrScheduler, scheduler) {\n  if (dueTime === void 0) {\n    dueTime = 0;\n  }\n  if (scheduler === void 0) {\n    scheduler = async;\n  }\n  var intervalDuration = -1;\n  if (intervalOrScheduler != null) {\n    if (isScheduler(intervalOrScheduler)) {\n      scheduler = intervalOrScheduler;\n    } else {\n      intervalDuration = intervalOrScheduler;\n    }\n  }\n  return new Observable(function(subscriber) {\n    var due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n    if (due < 0) {\n      due = 0;\n    }\n    var n = 0;\n    return scheduler.schedule(function() {\n      if (!subscriber.closed) {\n        subscriber.next(n++);\n        if (0 <= intervalDuration) {\n          this.schedule(void 0, intervalDuration);\n        } else {\n          subscriber.complete();\n        }\n      }\n    }, due);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/merge.js\nfunction merge() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  var scheduler = popScheduler(args);\n  var concurrent = popNumber(args, Infinity);\n  var sources = args;\n  return !sources.length ? EMPTY : sources.length === 1 ? innerFrom(sources[0]) : mergeAll(concurrent)(from(sources, scheduler));\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/never.js\nvar NEVER = new Observable(noop);\n\n// node_modules/rxjs/dist/esm5/internal/util/argsOrArgArray.js\nvar isArray3 = Array.isArray;\nfunction argsOrArgArray(args) {\n  return args.length === 1 && isArray3(args[0]) ? args[0] : args;\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/filter.js\nfunction filter(predicate, thisArg) {\n  return operate(function(source, subscriber) {\n    var index = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      return predicate.call(thisArg, value, index++) && subscriber.next(value);\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/race.js\nfunction race() {\n  var sources = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n  sources = argsOrArgArray(sources);\n  return sources.length === 1 ? innerFrom(sources[0]) : new Observable(raceInit(sources));\n}\nfunction raceInit(sources) {\n  return function(subscriber) {\n    var subscriptions = [];\n    var _loop_1 = function(i2) {\n      subscriptions.push(innerFrom(sources[i2]).subscribe(createOperatorSubscriber(subscriber, function(value) {\n        if (subscriptions) {\n          for (var s = 0; s < subscriptions.length; s++) {\n            s !== i2 && subscriptions[s].unsubscribe();\n          }\n          subscriptions = null;\n        }\n        subscriber.next(value);\n      })));\n    };\n    for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {\n      _loop_1(i);\n    }\n  };\n}\n\n// node_modules/rxjs/dist/esm5/internal/observable/zip.js\nfunction zip() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  var resultSelector = popResultSelector(args);\n  var sources = argsOrArgArray(args);\n  return sources.length ? new Observable(function(subscriber) {\n    var buffers = sources.map(function() {\n      return [];\n    });\n    var completed = sources.map(function() {\n      return false;\n    });\n    subscriber.add(function() {\n      buffers = completed = null;\n    });\n    var _loop_1 = function(sourceIndex2) {\n      innerFrom(sources[sourceIndex2]).subscribe(createOperatorSubscriber(subscriber, function(value) {\n        buffers[sourceIndex2].push(value);\n        if (buffers.every(function(buffer) {\n          return buffer.length;\n        })) {\n          var result = buffers.map(function(buffer) {\n            return buffer.shift();\n          });\n          subscriber.next(resultSelector ? resultSelector.apply(void 0, __spreadArray([], __read(result))) : result);\n          if (buffers.some(function(buffer, i) {\n            return !buffer.length && completed[i];\n          })) {\n            subscriber.complete();\n          }\n        }\n      }, function() {\n        completed[sourceIndex2] = true;\n        !buffers[sourceIndex2].length && subscriber.complete();\n      }));\n    };\n    for (var sourceIndex = 0; !subscriber.closed && sourceIndex < sources.length; sourceIndex++) {\n      _loop_1(sourceIndex);\n    }\n    return function() {\n      buffers = completed = null;\n    };\n  }) : EMPTY;\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/bufferCount.js\nfunction bufferCount(bufferSize, startBufferEvery) {\n  if (startBufferEvery === void 0) {\n    startBufferEvery = null;\n  }\n  startBufferEvery = startBufferEvery !== null && startBufferEvery !== void 0 ? startBufferEvery : bufferSize;\n  return operate(function(source, subscriber) {\n    var buffers = [];\n    var count = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      var e_1, _a, e_2, _b;\n      var toEmit = null;\n      if (count++ % startBufferEvery === 0) {\n        buffers.push([]);\n      }\n      try {\n        for (var buffers_1 = __values(buffers), buffers_1_1 = buffers_1.next(); !buffers_1_1.done; buffers_1_1 = buffers_1.next()) {\n          var buffer = buffers_1_1.value;\n          buffer.push(value);\n          if (bufferSize <= buffer.length) {\n            toEmit = toEmit !== null && toEmit !== void 0 ? toEmit : [];\n            toEmit.push(buffer);\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = { error: e_1_1 };\n      } finally {\n        try {\n          if (buffers_1_1 && !buffers_1_1.done && (_a = buffers_1.return)) _a.call(buffers_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n      if (toEmit) {\n        try {\n          for (var toEmit_1 = __values(toEmit), toEmit_1_1 = toEmit_1.next(); !toEmit_1_1.done; toEmit_1_1 = toEmit_1.next()) {\n            var buffer = toEmit_1_1.value;\n            arrRemove(buffers, buffer);\n            subscriber.next(buffer);\n          }\n        } catch (e_2_1) {\n          e_2 = { error: e_2_1 };\n        } finally {\n          try {\n            if (toEmit_1_1 && !toEmit_1_1.done && (_b = toEmit_1.return)) _b.call(toEmit_1);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n    }, function() {\n      var e_3, _a;\n      try {\n        for (var buffers_2 = __values(buffers), buffers_2_1 = buffers_2.next(); !buffers_2_1.done; buffers_2_1 = buffers_2.next()) {\n          var buffer = buffers_2_1.value;\n          subscriber.next(buffer);\n        }\n      } catch (e_3_1) {\n        e_3 = { error: e_3_1 };\n      } finally {\n        try {\n          if (buffers_2_1 && !buffers_2_1.done && (_a = buffers_2.return)) _a.call(buffers_2);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n      subscriber.complete();\n    }, void 0, function() {\n      buffers = null;\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/catchError.js\nfunction catchError(selector) {\n  return operate(function(source, subscriber) {\n    var innerSub = null;\n    var syncUnsub = false;\n    var handledResult;\n    innerSub = source.subscribe(createOperatorSubscriber(subscriber, void 0, void 0, function(err) {\n      handledResult = innerFrom(selector(err, catchError(selector)(source)));\n      if (innerSub) {\n        innerSub.unsubscribe();\n        innerSub = null;\n        handledResult.subscribe(subscriber);\n      } else {\n        syncUnsub = true;\n      }\n    }));\n    if (syncUnsub) {\n      innerSub.unsubscribe();\n      innerSub = null;\n      handledResult.subscribe(subscriber);\n    }\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\nfunction concatMap(project, resultSelector) {\n  return isFunction(resultSelector) ? mergeMap(project, resultSelector, 1) : mergeMap(project, 1);\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\nfunction debounceTime(dueTime, scheduler) {\n  if (scheduler === void 0) {\n    scheduler = asyncScheduler;\n  }\n  return operate(function(source, subscriber) {\n    var activeTask = null;\n    var lastValue = null;\n    var lastTime = null;\n    var emit = function() {\n      if (activeTask) {\n        activeTask.unsubscribe();\n        activeTask = null;\n        var value = lastValue;\n        lastValue = null;\n        subscriber.next(value);\n      }\n    };\n    function emitWhenIdle() {\n      var targetTime = lastTime + dueTime;\n      var now = scheduler.now();\n      if (now < targetTime) {\n        activeTask = this.schedule(void 0, targetTime - now);\n        subscriber.add(activeTask);\n        return;\n      }\n      emit();\n    }\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      lastValue = value;\n      lastTime = scheduler.now();\n      if (!activeTask) {\n        activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n        subscriber.add(activeTask);\n      }\n    }, function() {\n      emit();\n      subscriber.complete();\n    }, void 0, function() {\n      lastValue = activeTask = null;\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/defaultIfEmpty.js\nfunction defaultIfEmpty(defaultValue) {\n  return operate(function(source, subscriber) {\n    var hasValue = false;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      hasValue = true;\n      subscriber.next(value);\n    }, function() {\n      if (!hasValue) {\n        subscriber.next(defaultValue);\n      }\n      subscriber.complete();\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/take.js\nfunction take(count) {\n  return count <= 0 ? function() {\n    return EMPTY;\n  } : operate(function(source, subscriber) {\n    var seen = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      if (++seen <= count) {\n        subscriber.next(value);\n        if (count <= seen) {\n          subscriber.complete();\n        }\n      }\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/ignoreElements.js\nfunction ignoreElements() {\n  return operate(function(source, subscriber) {\n    source.subscribe(createOperatorSubscriber(subscriber, noop));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/mapTo.js\nfunction mapTo(value) {\n  return map(function() {\n    return value;\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/delayWhen.js\nfunction delayWhen(delayDurationSelector, subscriptionDelay) {\n  if (subscriptionDelay) {\n    return function(source) {\n      return concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    };\n  }\n  return mergeMap(function(value, index) {\n    return innerFrom(delayDurationSelector(value, index)).pipe(take(1), mapTo(value));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/delay.js\nfunction delay(due, scheduler) {\n  if (scheduler === void 0) {\n    scheduler = asyncScheduler;\n  }\n  var duration = timer(due, scheduler);\n  return delayWhen(function() {\n    return duration;\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/throwIfEmpty.js\nfunction throwIfEmpty(errorFactory) {\n  if (errorFactory === void 0) {\n    errorFactory = defaultErrorFactory;\n  }\n  return operate(function(source, subscriber) {\n    var hasValue = false;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      hasValue = true;\n      subscriber.next(value);\n    }, function() {\n      return hasValue ? subscriber.complete() : subscriber.error(errorFactory());\n    }));\n  });\n}\nfunction defaultErrorFactory() {\n  return new EmptyError();\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/first.js\nfunction first(predicate, defaultValue) {\n  var hasDefaultValue = arguments.length >= 2;\n  return function(source) {\n    return source.pipe(predicate ? filter(function(v, i) {\n      return predicate(v, i, source);\n    }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function() {\n      return new EmptyError();\n    }));\n  };\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/mergeScan.js\nfunction mergeScan(accumulator, seed, concurrent) {\n  if (concurrent === void 0) {\n    concurrent = Infinity;\n  }\n  return operate(function(source, subscriber) {\n    var state = seed;\n    return mergeInternals(source, subscriber, function(value, index) {\n      return accumulator(state, value, index);\n    }, concurrent, function(value) {\n      state = value;\n    }, false, void 0, function() {\n      return state = null;\n    });\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/raceWith.js\nfunction raceWith() {\n  var otherSources = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    otherSources[_i] = arguments[_i];\n  }\n  return !otherSources.length ? identity : operate(function(source, subscriber) {\n    raceInit(__spreadArray([source], __read(otherSources)))(subscriber);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/retry.js\nfunction retry(configOrCount) {\n  if (configOrCount === void 0) {\n    configOrCount = Infinity;\n  }\n  var config2;\n  if (configOrCount && typeof configOrCount === \"object\") {\n    config2 = configOrCount;\n  } else {\n    config2 = {\n      count: configOrCount\n    };\n  }\n  var _a = config2.count, count = _a === void 0 ? Infinity : _a, delay2 = config2.delay, _b = config2.resetOnSuccess, resetOnSuccess = _b === void 0 ? false : _b;\n  return count <= 0 ? identity : operate(function(source, subscriber) {\n    var soFar = 0;\n    var innerSub;\n    var subscribeForRetry = function() {\n      var syncUnsub = false;\n      innerSub = source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n        if (resetOnSuccess) {\n          soFar = 0;\n        }\n        subscriber.next(value);\n      }, void 0, function(err) {\n        if (soFar++ < count) {\n          var resub_1 = function() {\n            if (innerSub) {\n              innerSub.unsubscribe();\n              innerSub = null;\n              subscribeForRetry();\n            } else {\n              syncUnsub = true;\n            }\n          };\n          if (delay2 != null) {\n            var notifier = typeof delay2 === \"number\" ? timer(delay2) : innerFrom(delay2(err, soFar));\n            var notifierSubscriber_1 = createOperatorSubscriber(subscriber, function() {\n              notifierSubscriber_1.unsubscribe();\n              resub_1();\n            }, function() {\n              subscriber.complete();\n            });\n            notifier.subscribe(notifierSubscriber_1);\n          } else {\n            resub_1();\n          }\n        } else {\n          subscriber.error(err);\n        }\n      }));\n      if (syncUnsub) {\n        innerSub.unsubscribe();\n        innerSub = null;\n        subscribeForRetry();\n      }\n    };\n    subscribeForRetry();\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/startWith.js\nfunction startWith() {\n  var values = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    values[_i] = arguments[_i];\n  }\n  var scheduler = popScheduler(values);\n  return operate(function(source, subscriber) {\n    (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/switchMap.js\nfunction switchMap(project, resultSelector) {\n  return operate(function(source, subscriber) {\n    var innerSubscriber = null;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function() {\n      return isComplete && !innerSubscriber && subscriber.complete();\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n      var innerIndex = 0;\n      var outerIndex = index++;\n      innerFrom(project(value, outerIndex)).subscribe(innerSubscriber = createOperatorSubscriber(subscriber, function(innerValue) {\n        return subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue);\n      }, function() {\n        innerSubscriber = null;\n        checkComplete();\n      }));\n    }, function() {\n      isComplete = true;\n      checkComplete();\n    }));\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js\nfunction takeUntil(notifier) {\n  return operate(function(source, subscriber) {\n    innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, function() {\n      return subscriber.complete();\n    }, noop));\n    !subscriber.closed && source.subscribe(subscriber);\n  });\n}\n\n// node_modules/rxjs/dist/esm5/internal/operators/tap.js\nfunction tap(observerOrNext, error, complete) {\n  var tapObserver = isFunction(observerOrNext) || error || complete ? { next: observerOrNext, error, complete } : observerOrNext;\n  return tapObserver ? operate(function(source, subscriber) {\n    var _a;\n    (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n    var isUnsub = true;\n    source.subscribe(createOperatorSubscriber(subscriber, function(value) {\n      var _a2;\n      (_a2 = tapObserver.next) === null || _a2 === void 0 ? void 0 : _a2.call(tapObserver, value);\n      subscriber.next(value);\n    }, function() {\n      var _a2;\n      isUnsub = false;\n      (_a2 = tapObserver.complete) === null || _a2 === void 0 ? void 0 : _a2.call(tapObserver);\n      subscriber.complete();\n    }, function(err) {\n      var _a2;\n      isUnsub = false;\n      (_a2 = tapObserver.error) === null || _a2 === void 0 ? void 0 : _a2.call(tapObserver, err);\n      subscriber.error(err);\n    }, function() {\n      var _a2, _b;\n      if (isUnsub) {\n        (_a2 = tapObserver.unsubscribe) === null || _a2 === void 0 ? void 0 : _a2.call(tapObserver);\n      }\n      (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n    }));\n  }) : identity;\n}\nexport {\n  EMPTY,\n  NEVER,\n  Observable,\n  ReplaySubject,\n  bufferCount,\n  catchError,\n  combineLatest,\n  concat,\n  concatMap,\n  debounceTime,\n  defaultIfEmpty,\n  defer,\n  delay,\n  delayWhen,\n  filter,\n  first,\n  firstValueFrom,\n  forkJoin,\n  from,\n  fromEvent,\n  identity,\n  ignoreElements,\n  lastValueFrom,\n  map,\n  merge,\n  mergeMap,\n  mergeScan,\n  noop,\n  of,\n  pipe,\n  race,\n  raceWith,\n  retry,\n  startWith,\n  switchMap,\n  take,\n  takeUntil,\n  tap,\n  throwIfEmpty,\n  timer,\n  zip\n};\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Asserts that the given value is truthy.\n * @param value - some conditional statement\n * @param message - the error message to throw if the value is not truthy.\n *\n * @internal\n */\nexport const assert: (value: unknown, message?: string) => asserts value = (\n  value,\n  message\n) => {\n  if (!value) {\n    throw new Error(message);\n  }\n};\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Debug from 'debug';\n\nimport {isNode} from '../environment.js';\n\ndeclare global {\n  const __PUPPETEER_DEBUG: string;\n}\n\n/**\n * @internal\n */\nlet debugModule: typeof Debug | null = null;\n/**\n * @internal\n */\nexport async function importDebug(): Promise<typeof Debug> {\n  if (!debugModule) {\n    debugModule = (await import('debug')).default;\n  }\n  return debugModule;\n}\n\n/**\n * A debug function that can be used in any environment.\n *\n * @remarks\n * If used in Node, it falls back to the\n * {@link https://www.npmjs.com/package/debug | debug module}. In the browser it\n * uses `console.log`.\n *\n * In Node, use the `DEBUG` environment variable to control logging:\n *\n * ```\n * DEBUG=* // logs all channels\n * DEBUG=foo // logs the `foo` channel\n * DEBUG=foo* // logs any channels starting with `foo`\n * ```\n *\n * In the browser, set `window.__PUPPETEER_DEBUG` to a string:\n *\n * ```\n * window.__PUPPETEER_DEBUG='*'; // logs all channels\n * window.__PUPPETEER_DEBUG='foo'; // logs the `foo` channel\n * window.__PUPPETEER_DEBUG='foo*'; // logs any channels starting with `foo`\n * ```\n *\n * @example\n *\n * ```\n * const log = debug('Page');\n *\n * log('new page created')\n * // logs \"Page: new page created\"\n * ```\n *\n * @param prefix - this will be prefixed to each log.\n * @returns a function that can be called to log to that debug channel.\n *\n * @internal\n */\nexport const debug = (prefix: string): ((...args: unknown[]) => void) => {\n  if (isNode) {\n    return async (...logArgs: unknown[]) => {\n      if (captureLogs) {\n        capturedLogs.push(prefix + logArgs);\n      }\n      const debugLevel = process.env['DEBUG'] || '';\n      const everythingShouldBeLogged = debugLevel === '*';\n\n      const prefixMatchesDebugLevel =\n        everythingShouldBeLogged ||\n        (debugLevel.endsWith('*')\n          ? prefix.startsWith(debugLevel)\n          : prefix === debugLevel);\n\n      if (!prefixMatchesDebugLevel) {\n        return;\n      }\n      (await importDebug())(prefix)(logArgs);\n    };\n  }\n\n  return (...logArgs: unknown[]): void => {\n    const debugLevel = (globalThis as any).__PUPPETEER_DEBUG;\n    if (!debugLevel) {\n      return;\n    }\n\n    const everythingShouldBeLogged = debugLevel === '*';\n\n    const prefixMatchesDebugLevel =\n      everythingShouldBeLogged ||\n      /**\n       * If the debug level is `foo*`, that means we match any prefix that\n       * starts with `foo`. If the level is `foo`, we match only the prefix\n       * `foo`.\n       */\n      (debugLevel.endsWith('*')\n        ? prefix.startsWith(debugLevel)\n        : prefix === debugLevel);\n\n    if (!prefixMatchesDebugLevel) {\n      return;\n    }\n\n    // eslint-disable-next-line no-console\n    console.log(`${prefix}:`, ...logArgs);\n  };\n};\n\n/**\n * @internal\n */\nlet capturedLogs: string[] = [];\n/**\n * @internal\n */\nlet captureLogs = false;\n\n/**\n * @internal\n */\nexport function setLogCapture(value: boolean): void {\n  capturedLogs = [];\n  captureLogs = value;\n}\n\n/**\n * @internal\n */\nexport function getCapturedLogs(): string[] {\n  return capturedLogs;\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @internal\n */\nexport const isNode = !!(typeof process !== 'undefined' && process.version);\n", "/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * The base class for all Puppeteer-specific errors\n *\n * @public\n */\nexport class PuppeteerError extends Error {\n  /**\n   * @internal\n   */\n  constructor(message?: string, options?: ErrorOptions) {\n    super(message, options);\n    this.name = this.constructor.name;\n  }\n\n  /**\n   * @internal\n   */\n  get [Symbol.toStringTag](): string {\n    return this.constructor.name;\n  }\n}\n\n/**\n * TimeoutError is emitted whenever certain operations are terminated due to\n * timeout.\n *\n * @remarks\n * Example operations are {@link Page.waitForSelector | page.waitForSelector} or\n * {@link PuppeteerNode.launch | puppeteer.launch}.\n *\n * @public\n */\nexport class TimeoutError extends PuppeteerError {}\n\n/**\n * ProtocolError is emitted whenever there is an error from the protocol.\n *\n * @public\n */\nexport class ProtocolError extends PuppeteerError {\n  #code?: number;\n  #originalMessage = '';\n\n  set code(code: number | undefined) {\n    this.#code = code;\n  }\n  /**\n   * @readonly\n   * @public\n   */\n  get code(): number | undefined {\n    return this.#code;\n  }\n\n  set originalMessage(originalMessage: string) {\n    this.#originalMessage = originalMessage;\n  }\n  /**\n   * @readonly\n   * @public\n   */\n  get originalMessage(): string {\n    return this.#originalMessage;\n  }\n}\n\n/**\n * Puppeteer will throw this error if a method is not\n * supported by the currently used protocol\n *\n * @public\n */\nexport class UnsupportedOperation extends PuppeteerError {}\n\n/**\n * @internal\n */\nexport class TargetCloseError extends ProtocolError {}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @public\n */\nexport interface PDFMargin {\n  top?: string | number;\n  bottom?: string | number;\n  left?: string | number;\n  right?: string | number;\n}\n\n/**\n * @public\n */\nexport type LowerCasePaperFormat =\n  | 'letter'\n  | 'legal'\n  | 'tabloid'\n  | 'ledger'\n  | 'a0'\n  | 'a1'\n  | 'a2'\n  | 'a3'\n  | 'a4'\n  | 'a5'\n  | 'a6';\n\n/**\n * All the valid paper format types when printing a PDF.\n *\n * @remarks\n *\n * The sizes of each format are as follows:\n *\n * - `Letter`: 8.5in x 11in\n *\n * - `Legal`: 8.5in x 14in\n *\n * - `Tabloid`: 11in x 17in\n *\n * - `Ledger`: 17in x 11in\n *\n * - `A0`: 33.1in x 46.8in\n *\n * - `A1`: 23.4in x 33.1in\n *\n * - `A2`: 16.54in x 23.4in\n *\n * - `A3`: 11.7in x 16.54in\n *\n * - `A4`: 8.27in x 11.7in\n *\n * - `A5`: 5.83in x 8.27in\n *\n * - `A6`: 4.13in x 5.83in\n *\n * @public\n */\nexport type PaperFormat =\n  | Uppercase<LowerCasePaperFormat>\n  | Capitalize<LowerCasePaperFormat>\n  | LowerCasePaperFormat;\n\n/**\n * Valid options to configure PDF generation via {@link Page.pdf}.\n * @public\n */\nexport interface PDFOptions {\n  /**\n   * Scales the rendering of the web page. Amount must be between `0.1` and `2`.\n   * @defaultValue `1`\n   */\n  scale?: number;\n  /**\n   * Whether to show the header and footer.\n   * @defaultValue `false`\n   */\n  displayHeaderFooter?: boolean;\n  /**\n   * HTML template for the print header. Should be valid HTML with the following\n   * classes used to inject values into them:\n   *\n   * - `date` formatted print date\n   *\n   * - `title` document title\n   *\n   * - `url` document location\n   *\n   * - `pageNumber` current page number\n   *\n   * - `totalPages` total pages in the document\n   */\n  headerTemplate?: string;\n  /**\n   * HTML template for the print footer. Has the same constraints and support\n   * for special classes as {@link PDFOptions | PDFOptions.headerTemplate}.\n   */\n  footerTemplate?: string;\n  /**\n   * Set to `true` to print background graphics.\n   * @defaultValue `false`\n   */\n  printBackground?: boolean;\n  /**\n   * Whether to print in landscape orientation.\n   * @defaultValue `false`\n   */\n  landscape?: boolean;\n  /**\n   * Paper ranges to print, e.g. `1-5, 8, 11-13`.\n   * @defaultValue The empty string, which means all pages are printed.\n   */\n  pageRanges?: string;\n  /**\n   * @remarks\n   * If set, this takes priority over the `width` and `height` options.\n   * @defaultValue `letter`.\n   */\n  format?: PaperFormat;\n  /**\n   * Sets the width of paper. You can pass in a number or a string with a unit.\n   */\n  width?: string | number;\n  /**\n   * Sets the height of paper. You can pass in a number or a string with a unit.\n   */\n  height?: string | number;\n  /**\n   * Give any CSS `@page` size declared in the page priority over what is\n   * declared in the `width` or `height` or `format` option.\n   * @defaultValue `false`, which will scale the content to fit the paper size.\n   */\n  preferCSSPageSize?: boolean;\n  /**\n   * Set the PDF margins.\n   * @defaultValue `undefined` no margins are set.\n   */\n  margin?: PDFMargin;\n  /**\n   * The path to save the file to.\n   *\n   * @remarks\n   *\n   * If the path is relative, it's resolved relative to the current working directory.\n   *\n   * @defaultValue `undefined`, which means the PDF will not be written to disk.\n   */\n  path?: string;\n  /**\n   * Hides default white background and allows generating pdfs with transparency.\n   * @defaultValue `false`\n   */\n  omitBackground?: boolean;\n  /**\n   * Generate tagged (accessible) PDF.\n   *\n   * @defaultValue `true`\n   * @experimental\n   */\n  tagged?: boolean;\n  /**\n   * Generate document outline.\n   *\n   * @defaultValue `false`\n   * @experimental\n   */\n  outline?: boolean;\n  /**\n   * Timeout in milliseconds. Pass `0` to disable timeout.\n   *\n   * The default value can be changed by using {@link Page.setDefaultTimeout}\n   *\n   * @defaultValue `30_000`\n   */\n  timeout?: number;\n  /**\n   * If true, waits for `document.fonts.ready` to resolve. This might require\n   * activating the page using {@link Page.bringToFront} if the page is in the\n   * background.\n   *\n   * @defaultValue `true`\n   */\n  waitForFonts?: boolean;\n}\n\n/**\n * @internal\n */\nexport interface PaperFormatDimensions {\n  width: number;\n  height: number;\n}\n\n/**\n * @internal\n */\nexport interface ParsedPDFOptionsInterface {\n  width: number;\n  height: number;\n  margin: {\n    top: number;\n    bottom: number;\n    left: number;\n    right: number;\n  };\n}\n\n/**\n * @internal\n */\nexport type ParsedPDFOptions = Required<\n  Omit<PDFOptions, 'path' | 'format' | 'timeout'> & ParsedPDFOptionsInterface\n>;\n\n/**\n * @internal\n */\nexport const paperFormats: Record<LowerCasePaperFormat, PaperFormatDimensions> =\n  {\n    letter: {width: 8.5, height: 11},\n    legal: {width: 8.5, height: 14},\n    tabloid: {width: 11, height: 17},\n    ledger: {width: 17, height: 11},\n    a0: {width: 33.1, height: 46.8},\n    a1: {width: 23.4, height: 33.1},\n    a2: {width: 16.54, height: 23.4},\n    a3: {width: 11.7, height: 16.54},\n    a4: {width: 8.27, height: 11.7},\n    a5: {width: 5.83, height: 8.27},\n    a6: {width: 4.13, height: 5.83},\n  } as const;\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ChildProcess} from 'child_process';\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {DebugInfo} from '../api/Browser.js';\nimport {\n  Browser as BrowserBase,\n  BrowserEvent,\n  type BrowserCloseCallback,\n  type BrowserContextOptions,\n  type IsPageTargetCallback,\n  type TargetFilterCallback,\n} from '../api/Browser.js';\nimport {BrowserContextEvent} from '../api/BrowserContext.js';\nimport {CDPSessionEvent, type CDPSession} from '../api/CDPSession.js';\nimport type {Page} from '../api/Page.js';\nimport type {Target} from '../api/Target.js';\nimport type {Viewport} from '../common/Viewport.js';\n\nimport {CdpBrowserContext} from './BrowserContext.js';\nimport {ChromeTargetManager} from './ChromeTargetManager.js';\nimport type {Connection} from './Connection.js';\nimport {FirefoxTargetManager} from './FirefoxTargetManager.js';\nimport {\n  DevToolsTarget,\n  InitializationStatus,\n  OtherTarget,\n  PageTarget,\n  WorkerTarget,\n  type CdpTarget,\n} from './Target.js';\nimport {TargetManagerEvent, type TargetManager} from './TargetManager.js';\n\n/**\n * @internal\n */\nexport class CdpBrowser extends BrowserBase {\n  readonly protocol = 'cdp';\n\n  static async _create(\n    product: 'firefox' | 'chrome' | undefined,\n    connection: Connection,\n    contextIds: string[],\n    ignoreHTTPSErrors: boolean,\n    defaultViewport?: Viewport | null,\n    process?: ChildProcess,\n    closeCallback?: BrowserCloseCallback,\n    targetFilterCallback?: TargetFilterCallback,\n    isPageTargetCallback?: IsPageTargetCallback,\n    waitForInitiallyDiscoveredTargets = true,\n    sessionId?: string\n  ): Promise<CdpBrowser> {\n    const browser = new CdpBrowser(\n      product,\n      connection,\n      contextIds,\n      defaultViewport,\n      process,\n      closeCallback,\n      targetFilterCallback,\n      isPageTargetCallback,\n      waitForInitiallyDiscoveredTargets,\n      sessionId\n    );\n    if (ignoreHTTPSErrors) {\n      await connection.send('Security.setIgnoreCertificateErrors', {\n        ignore: true,\n      });\n    }\n    await browser._attach();\n    return browser;\n  }\n  #defaultViewport?: Viewport | null;\n  #process?: ChildProcess;\n  #connection: Connection;\n  #closeCallback: BrowserCloseCallback;\n  #targetFilterCallback: TargetFilterCallback;\n  #isPageTargetCallback!: IsPageTargetCallback;\n  #defaultContext: CdpBrowserContext;\n  #contexts = new Map<string, CdpBrowserContext>();\n  #targetManager: TargetManager;\n  #sessionId: string;\n\n  constructor(\n    product: 'chrome' | 'firefox' | undefined,\n    connection: Connection,\n    contextIds: string[],\n    defaultViewport?: Viewport | null,\n    process?: ChildProcess,\n    closeCallback?: BrowserCloseCallback,\n    targetFilterCallback?: TargetFilterCallback,\n    isPageTargetCallback?: IsPageTargetCallback,\n    waitForInitiallyDiscoveredTargets = true,\n    sessionId?: string\n  ) {\n    super();\n    product = product || 'chrome';\n    this.#defaultViewport = defaultViewport;\n    this.#process = process;\n    this.#connection = connection;\n    this.#closeCallback = closeCallback || (() => {});\n    this.#targetFilterCallback =\n      targetFilterCallback ||\n      (() => {\n        return true;\n      });\n    this.#setIsPageTargetCallback(isPageTargetCallback);\n    if (product === 'firefox') {\n      this.#targetManager = new FirefoxTargetManager(\n        connection,\n        this.#createTarget,\n        this.#targetFilterCallback\n      );\n    } else {\n      this.#targetManager = new ChromeTargetManager(\n        connection,\n        this.#createTarget,\n        this.#targetFilterCallback,\n        waitForInitiallyDiscoveredTargets\n      );\n    }\n    this.#defaultContext = new CdpBrowserContext(this.#connection, this);\n    for (const contextId of contextIds) {\n      this.#contexts.set(\n        contextId,\n        new CdpBrowserContext(this.#connection, this, contextId)\n      );\n    }\n    this.#sessionId = sessionId || 'unknown';\n  }\n\n  #emitDisconnected = () => {\n    this.emit(BrowserEvent.Disconnected, undefined);\n  };\n\n  async _attach(): Promise<void> {\n    this.#connection.on(CDPSessionEvent.Disconnected, this.#emitDisconnected);\n    this.#targetManager.on(\n      TargetManagerEvent.TargetAvailable,\n      this.#onAttachedToTarget\n    );\n    this.#targetManager.on(\n      TargetManagerEvent.TargetGone,\n      this.#onDetachedFromTarget\n    );\n    this.#targetManager.on(\n      TargetManagerEvent.TargetChanged,\n      this.#onTargetChanged\n    );\n    this.#targetManager.on(\n      TargetManagerEvent.TargetDiscovered,\n      this.#onTargetDiscovered\n    );\n    await this.#targetManager.initialize();\n  }\n\n  _detach(): void {\n    this.#connection.off(CDPSessionEvent.Disconnected, this.#emitDisconnected);\n    this.#targetManager.off(\n      TargetManagerEvent.TargetAvailable,\n      this.#onAttachedToTarget\n    );\n    this.#targetManager.off(\n      TargetManagerEvent.TargetGone,\n      this.#onDetachedFromTarget\n    );\n    this.#targetManager.off(\n      TargetManagerEvent.TargetChanged,\n      this.#onTargetChanged\n    );\n    this.#targetManager.off(\n      TargetManagerEvent.TargetDiscovered,\n      this.#onTargetDiscovered\n    );\n  }\n\n  override process(): ChildProcess | null {\n    return this.#process ?? null;\n  }\n\n  _targetManager(): TargetManager {\n    return this.#targetManager;\n  }\n\n  #setIsPageTargetCallback(isPageTargetCallback?: IsPageTargetCallback): void {\n    this.#isPageTargetCallback =\n      isPageTargetCallback ||\n      ((target: Target): boolean => {\n        return (\n          target.type() === 'page' ||\n          target.type() === 'background_page' ||\n          target.type() === 'webview'\n        );\n      });\n  }\n\n  _getIsPageTargetCallback(): IsPageTargetCallback | undefined {\n    return this.#isPageTargetCallback;\n  }\n\n  override async createBrowserContext(\n    options: BrowserContextOptions = {}\n  ): Promise<CdpBrowserContext> {\n    const {proxyServer, proxyBypassList} = options;\n\n    const {browserContextId} = await this.#connection.send(\n      'Target.createBrowserContext',\n      {\n        proxyServer,\n        proxyBypassList: proxyBypassList && proxyBypassList.join(','),\n      }\n    );\n    const context = new CdpBrowserContext(\n      this.#connection,\n      this,\n      browserContextId\n    );\n    this.#contexts.set(browserContextId, context);\n    return context;\n  }\n\n  override browserContexts(): CdpBrowserContext[] {\n    return [this.#defaultContext, ...Array.from(this.#contexts.values())];\n  }\n\n  override defaultBrowserContext(): CdpBrowserContext {\n    return this.#defaultContext;\n  }\n\n  async _disposeContext(contextId?: string): Promise<void> {\n    if (!contextId) {\n      return;\n    }\n    await this.#connection.send('Target.disposeBrowserContext', {\n      browserContextId: contextId,\n    });\n    this.#contexts.delete(contextId);\n  }\n\n  #createTarget = (\n    targetInfo: Protocol.Target.TargetInfo,\n    session?: CDPSession\n  ) => {\n    const {browserContextId} = targetInfo;\n    const context =\n      browserContextId && this.#contexts.has(browserContextId)\n        ? this.#contexts.get(browserContextId)\n        : this.#defaultContext;\n\n    if (!context) {\n      throw new Error('Missing browser context');\n    }\n\n    const createSession = (isAutoAttachEmulated: boolean) => {\n      return this.#connection._createSession(targetInfo, isAutoAttachEmulated);\n    };\n    const otherTarget = new OtherTarget(\n      targetInfo,\n      session,\n      context,\n      this.#targetManager,\n      createSession\n    );\n    if (targetInfo.url?.startsWith('devtools://')) {\n      return new DevToolsTarget(\n        targetInfo,\n        session,\n        context,\n        this.#targetManager,\n        createSession,\n        this.#defaultViewport ?? null\n      );\n    }\n    if (this.#isPageTargetCallback(otherTarget)) {\n      return new PageTarget(\n        targetInfo,\n        session,\n        context,\n        this.#targetManager,\n        createSession,\n        this.#defaultViewport ?? null\n      );\n    }\n    if (\n      targetInfo.type === 'service_worker' ||\n      targetInfo.type === 'shared_worker'\n    ) {\n      return new WorkerTarget(\n        targetInfo,\n        session,\n        context,\n        this.#targetManager,\n        createSession\n      );\n    }\n    return otherTarget;\n  };\n\n  #onAttachedToTarget = async (target: CdpTarget) => {\n    if (\n      target._isTargetExposed() &&\n      (await target._initializedDeferred.valueOrThrow()) ===\n        InitializationStatus.SUCCESS\n    ) {\n      this.emit(BrowserEvent.TargetCreated, target);\n      target.browserContext().emit(BrowserContextEvent.TargetCreated, target);\n    }\n  };\n\n  #onDetachedFromTarget = async (target: CdpTarget): Promise<void> => {\n    target._initializedDeferred.resolve(InitializationStatus.ABORTED);\n    target._isClosedDeferred.resolve();\n    if (\n      target._isTargetExposed() &&\n      (await target._initializedDeferred.valueOrThrow()) ===\n        InitializationStatus.SUCCESS\n    ) {\n      this.emit(BrowserEvent.TargetDestroyed, target);\n      target.browserContext().emit(BrowserContextEvent.TargetDestroyed, target);\n    }\n  };\n\n  #onTargetChanged = ({target}: {target: CdpTarget}): void => {\n    this.emit(BrowserEvent.TargetChanged, target);\n    target.browserContext().emit(BrowserContextEvent.TargetChanged, target);\n  };\n\n  #onTargetDiscovered = (targetInfo: Protocol.Target.TargetInfo): void => {\n    this.emit(BrowserEvent.TargetDiscovered, targetInfo);\n  };\n\n  override wsEndpoint(): string {\n    return this.#connection.url();\n  }\n\n  override async newPage(): Promise<Page> {\n    return await this.#defaultContext.newPage();\n  }\n\n  async _createPageInContext(contextId?: string): Promise<Page> {\n    const {targetId} = await this.#connection.send('Target.createTarget', {\n      url: 'about:blank',\n      browserContextId: contextId || undefined,\n    });\n    const target = (await this.waitForTarget(t => {\n      return (t as CdpTarget)._targetId === targetId;\n    })) as CdpTarget;\n    if (!target) {\n      throw new Error(`Missing target for page (id = ${targetId})`);\n    }\n    const initialized =\n      (await target._initializedDeferred.valueOrThrow()) ===\n      InitializationStatus.SUCCESS;\n    if (!initialized) {\n      throw new Error(`Failed to create target for page (id = ${targetId})`);\n    }\n    const page = await target.page();\n    if (!page) {\n      throw new Error(\n        `Failed to create a page for context (id = ${contextId})`\n      );\n    }\n    return page;\n  }\n\n  override targets(): CdpTarget[] {\n    return Array.from(\n      this.#targetManager.getAvailableTargets().values()\n    ).filter(target => {\n      return (\n        target._isTargetExposed() &&\n        target._initializedDeferred.value() === InitializationStatus.SUCCESS\n      );\n    });\n  }\n\n  override target(): CdpTarget {\n    const browserTarget = this.targets().find(target => {\n      return target.type() === 'browser';\n    });\n    if (!browserTarget) {\n      throw new Error('Browser target is not found');\n    }\n    return browserTarget;\n  }\n\n  override async version(): Promise<string> {\n    const version = await this.#getVersion();\n    return version.product;\n  }\n\n  override async userAgent(): Promise<string> {\n    const version = await this.#getVersion();\n    return version.userAgent;\n  }\n\n  override async close(): Promise<void> {\n    await this.#closeCallback.call(null);\n    await this.disconnect();\n  }\n\n  override disconnect(): Promise<void> {\n    this.#targetManager.dispose();\n    this.#connection.dispose();\n    this._detach();\n    return Promise.resolve();\n  }\n\n  override get connected(): boolean {\n    return !this.#connection._closed;\n  }\n\n  #getVersion(): Promise<Protocol.Browser.GetVersionResponse> {\n    return this.#connection.send('Browser.getVersion');\n  }\n\n  override get debugInfo(): DebugInfo {\n    return {\n      pendingProtocolErrors: this.#connection.getPendingProtocolErrors(),\n    };\n  }\n\n  /**\n   * Get the BISO session ID associated with this browser\n   * @public\n   */\n  override sessionId(): string {\n    return this.#sessionId;\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ChildProcess} from 'child_process';\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {\n  firstValueFrom,\n  from,\n  merge,\n  raceWith,\n} from '../../third_party/rxjs/rxjs.js';\nimport type {ProtocolType} from '../common/ConnectOptions.js';\nimport {EventEmitter, type EventType} from '../common/EventEmitter.js';\nimport {\n  debugError,\n  fromEmitterEvent,\n  filterAsync,\n  timeout,\n} from '../common/util.js';\nimport {asyncDisposeSymbol, disposeSymbol} from '../util/disposable.js';\n\nimport type {BrowserContext} from './BrowserContext.js';\nimport type {Page} from './Page.js';\nimport type {Target} from './Target.js';\n/**\n * @public\n */\nexport interface BrowserContextOptions {\n  /**\n   * Proxy server with optional port to use for all requests.\n   * Username and password can be set in `Page.authenticate`.\n   */\n  proxyServer?: string;\n  /**\n   * Bypass the proxy for the given list of hosts.\n   */\n  proxyBypassList?: string[];\n}\n\n/**\n * @internal\n */\nexport type BrowserCloseCallback = () => Promise<void> | void;\n\n/**\n * @public\n */\nexport type TargetFilterCallback = (target: Target) => boolean;\n\n/**\n * @internal\n */\nexport type IsPageTargetCallback = (target: Target) => boolean;\n\n/**\n * @internal\n */\nexport const WEB_PERMISSION_TO_PROTOCOL_PERMISSION = new Map<\n  Permission,\n  Protocol.Browser.PermissionType\n>([\n  ['geolocation', 'geolocation'],\n  ['midi', 'midi'],\n  ['notifications', 'notifications'],\n  // TODO: push isn't a valid type?\n  // ['push', 'push'],\n  ['camera', 'videoCapture'],\n  ['microphone', 'audioCapture'],\n  ['background-sync', 'backgroundSync'],\n  ['ambient-light-sensor', 'sensors'],\n  ['accelerometer', 'sensors'],\n  ['gyroscope', 'sensors'],\n  ['magnetometer', 'sensors'],\n  ['accessibility-events', 'accessibilityEvents'],\n  ['clipboard-read', 'clipboardReadWrite'],\n  ['clipboard-write', 'clipboardReadWrite'],\n  ['clipboard-sanitized-write', 'clipboardSanitizedWrite'],\n  ['payment-handler', 'paymentHandler'],\n  ['persistent-storage', 'durableStorage'],\n  ['idle-detection', 'idleDetection'],\n  // chrome-specific permissions we have.\n  ['midi-sysex', 'midiSysex'],\n]);\n\n/**\n * @public\n */\nexport type Permission =\n  | 'geolocation'\n  | 'midi'\n  | 'notifications'\n  | 'camera'\n  | 'microphone'\n  | 'background-sync'\n  | 'ambient-light-sensor'\n  | 'accelerometer'\n  | 'gyroscope'\n  | 'magnetometer'\n  | 'accessibility-events'\n  | 'clipboard-read'\n  | 'clipboard-write'\n  | 'clipboard-sanitized-write'\n  | 'payment-handler'\n  | 'persistent-storage'\n  | 'idle-detection'\n  | 'midi-sysex';\n\n/**\n * @public\n */\nexport interface WaitForTargetOptions {\n  /**\n   * Maximum wait time in milliseconds. Pass `0` to disable the timeout.\n   *\n   * @defaultValue `30_000`\n   */\n  timeout?: number;\n}\n\n/**\n * All the events a {@link Browser | browser instance} may emit.\n *\n * @public\n */\nexport const enum BrowserEvent {\n  /**\n   * Emitted when Puppeteer gets disconnected from the browser instance. This\n   * might happen because either:\n   *\n   * - The browser closes/crashes or\n   * - {@link Browser.disconnect} was called.\n   */\n  Disconnected = 'disconnected',\n  /**\n   * Emitted when the URL of a target changes. Contains a {@link Target}\n   * instance.\n   *\n   * @remarks Note that this includes target changes in all browser\n   * contexts.\n   */\n  TargetChanged = 'targetchanged',\n  /**\n   * Emitted when a target is created, for example when a new page is opened by\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/Window/open | window.open}\n   * or by {@link Browser.newPage | browser.newPage}\n   *\n   * Contains a {@link Target} instance.\n   *\n   * @remarks Note that this includes target creations in all browser\n   * contexts.\n   */\n  TargetCreated = 'targetcreated',\n  /**\n   * Emitted when a target is destroyed, for example when a page is closed.\n   * Contains a {@link Target} instance.\n   *\n   * @remarks Note that this includes target destructions in all browser\n   * contexts.\n   */\n  TargetDestroyed = 'targetdestroyed',\n  /**\n   * @internal\n   */\n  TargetDiscovered = 'targetdiscovered',\n}\n\n/**\n * @public\n */\nexport interface BrowserEvents extends Record<EventType, unknown> {\n  [BrowserEvent.Disconnected]: undefined;\n  [BrowserEvent.TargetCreated]: Target;\n  [BrowserEvent.TargetDestroyed]: Target;\n  [BrowserEvent.TargetChanged]: Target;\n  /**\n   * @internal\n   */\n  [BrowserEvent.TargetDiscovered]: Protocol.Target.TargetInfo;\n}\n\n/**\n * @public\n * @experimental\n */\nexport interface DebugInfo {\n  pendingProtocolErrors: Error[];\n}\n\n/**\n * {@link Browser} represents a browser instance that is either:\n *\n * - connected to via {@link Puppeteer.connect} or\n * - launched by {@link PuppeteerNode.launch}.\n *\n * {@link Browser} {@link EventEmitter.emit | emits} various events which are\n * documented in the {@link BrowserEvent} enum.\n *\n * @example Using a {@link Browser} to create a {@link Page}:\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * const browser = await puppeteer.launch();\n * const page = await browser.newPage();\n * await page.goto('https://example.com');\n * await browser.close();\n * ```\n *\n * @example Disconnecting from and reconnecting to a {@link Browser}:\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * const browser = await puppeteer.launch();\n * // Store the endpoint to be able to reconnect to the browser.\n * const browserWSEndpoint = browser.wsEndpoint();\n * // Disconnect puppeteer from the browser.\n * await browser.disconnect();\n *\n * // Use the endpoint to reestablish a connection\n * const browser2 = await puppeteer.connect({browserWSEndpoint});\n * // Close the browser.\n * await browser2.close();\n * ```\n *\n * @public\n */\nexport abstract class Browser extends EventEmitter<BrowserEvents> {\n  /**\n   * @internal\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Gets the associated\n   * {@link https://nodejs.org/api/child_process.html#class-childprocess | ChildProcess}.\n   *\n   * @returns `null` if this instance was connected to via\n   * {@link Puppeteer.connect}.\n   */\n  abstract process(): ChildProcess | null;\n\n  /**\n   * Creates a new {@link BrowserContext | browser context}.\n   *\n   * This won't share cookies/cache with other {@link BrowserContext | browser contexts}.\n   *\n   * @example\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   *\n   * const browser = await puppeteer.launch();\n   * // Create a new browser context.\n   * const context = await browser.createBrowserContext();\n   * // Create a new page in a pristine context.\n   * const page = await context.newPage();\n   * // Do stuff\n   * await page.goto('https://example.com');\n   * ```\n   */\n  abstract createBrowserContext(\n    options?: BrowserContextOptions\n  ): Promise<BrowserContext>;\n\n  /**\n   * Gets a list of open {@link BrowserContext | browser contexts}.\n   *\n   * In a newly-created {@link Browser | browser}, this will return a single\n   * instance of {@link BrowserContext}.\n   */\n  abstract browserContexts(): BrowserContext[];\n\n  /**\n   * Gets the default {@link BrowserContext | browser context}.\n   *\n   * @remarks The default {@link BrowserContext | browser context} cannot be\n   * closed.\n   */\n  abstract defaultBrowserContext(): BrowserContext;\n\n  /**\n   * Gets the WebSocket URL to connect to this {@link Browser | browser}.\n   *\n   * This is usually used with {@link Puppeteer.connect}.\n   *\n   * You can find the debugger URL (`webSocketDebuggerUrl`) from\n   * `http://HOST:PORT/json/version`.\n   *\n   * See {@link\n   * https://chromedevtools.github.io/devtools-protocol/#how-do-i-access-the-browser-target\n   * | browser endpoint} for more information.\n   *\n   * @remarks The format is always `ws://HOST:PORT/devtools/browser/<id>`.\n   */\n  abstract wsEndpoint(): string;\n\n  /**\n   * Creates a new {@link Page | page} in the\n   * {@link Browser.defaultBrowserContext | default browser context}.\n   */\n  abstract newPage(): Promise<Page>;\n\n  /**\n   * Gets all active {@link Target | targets}.\n   *\n   * In case of multiple {@link BrowserContext | browser contexts}, this returns\n   * all {@link Target | targets} in all\n   * {@link BrowserContext | browser contexts}.\n   */\n  abstract targets(): Target[];\n\n  /**\n   * Gets the {@link Target | target} associated with the\n   * {@link Browser.defaultBrowserContext | default browser context}).\n   */\n  abstract target(): Target;\n\n  /**\n   * Waits until a {@link Target | target} matching the given `predicate`\n   * appears and returns it.\n   *\n   * This will look all open {@link BrowserContext | browser contexts}.\n   *\n   * @example Finding a target for a page opened via `window.open`:\n   *\n   * ```ts\n   * await page.evaluate(() => window.open('https://www.example.com/'));\n   * const newWindowTarget = await browser.waitForTarget(\n   *   target => target.url() === 'https://www.example.com/'\n   * );\n   * ```\n   */\n  async waitForTarget(\n    predicate: (x: Target) => boolean | Promise<boolean>,\n    options: WaitForTargetOptions = {}\n  ): Promise<Target> {\n    const {timeout: ms = 30000} = options;\n    return await firstValueFrom(\n      merge(\n        fromEmitterEvent(this, BrowserEvent.TargetCreated),\n        fromEmitterEvent(this, BrowserEvent.TargetChanged),\n        from(this.targets())\n      ).pipe(filterAsync(predicate), raceWith(timeout(ms)))\n    );\n  }\n\n  /**\n   * Gets a list of all open {@link Page | pages} inside this {@link Browser}.\n   *\n   * If there ar multiple {@link BrowserContext | browser contexts}, this\n   * returns all {@link Page | pages} in all\n   * {@link BrowserContext | browser contexts}.\n   *\n   * @remarks Non-visible {@link Page | pages}, such as `\"background_page\"`,\n   * will not be listed here. You can find them using {@link Target.page}.\n   */\n  async pages(): Promise<Page[]> {\n    const contextPages = await Promise.all(\n      this.browserContexts().map(context => {\n        return context.pages();\n      })\n    );\n    // Flatten array.\n    return contextPages.reduce((acc, x) => {\n      return acc.concat(x);\n    }, []);\n  }\n\n  /**\n   * Gets a string representing this {@link Browser | browser's} name and\n   * version.\n   *\n   * For headless browser, this is similar to `\"HeadlessChrome/61.0.3153.0\"`. For\n   * non-headless or new-headless, this is similar to `\"Chrome/61.0.3153.0\"`. For\n   * Firefox, it is similar to `\"Firefox/116.0a1\"`.\n   *\n   * The format of {@link Browser.version} might change with future releases of\n   * browsers.\n   */\n  abstract version(): Promise<string>;\n\n  /**\n   * Gets this {@link Browser | browser's} original user agent.\n   *\n   * {@link Page | Pages} can override the user agent with\n   * {@link Page.setUserAgent}.\n   *\n   */\n  abstract userAgent(): Promise<string>;\n\n  /**\n   * Closes this {@link Browser | browser} and all associated\n   * {@link Page | pages}.\n   */\n  abstract close(): Promise<void>;\n\n  /**\n   * Disconnects Puppeteer from this {@link Browser | browser}, but leaves the\n   * process running.\n   */\n  abstract disconnect(): Promise<void>;\n\n  /**\n   * Whether Puppeteer is connected to this {@link Browser | browser}.\n   *\n   * @deprecated Use {@link Browser | Browser.connected}.\n   */\n  isConnected(): boolean {\n    return this.connected;\n  }\n\n  /**\n   * Whether Puppeteer is connected to this {@link Browser | browser}.\n   */\n  abstract get connected(): boolean;\n\n  /** @internal */\n  [disposeSymbol](): void {\n    if (this.process()) {\n      return void this.close().catch(debugError);\n    }\n    return void this.disconnect().catch(debugError);\n  }\n\n  /** @internal */\n  [asyncDisposeSymbol](): Promise<void> {\n    if (this.process()) {\n      return this.close();\n    }\n    return this.disconnect();\n  }\n\n  /**\n   * @internal\n   */\n  abstract get protocol(): ProtocolType;\n\n  /**\n   * Get debug information from Puppeteer.\n   *\n   * @remarks\n   *\n   * Currently, includes pending protocol calls. In the future, we might add more info.\n   *\n   * @public\n   * @experimental\n   */\n  abstract get debugInfo(): DebugInfo;\n\n  /**\n   * Get the BISO session ID associated with this browser\n   *\n   * @public\n   */\n  sessionId(): string {\n    throw new Error('Not implemented');\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport mitt, {type Emitter} from '../../third_party/mitt/mitt.js';\nimport {disposeSymbol} from '../util/disposable.js';\n\n/**\n * @public\n */\nexport type EventType = string | symbol;\n/**\n * @public\n */\nexport type Handler<T = unknown> = (event: T) => void;\n\n/**\n * @public\n */\nexport interface CommonEventEmitter<Events extends Record<EventType, unknown>> {\n  on<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): this;\n  off<Key extends keyof Events>(\n    type: Key,\n    handler?: Handler<Events[Key]>\n  ): this;\n  emit<Key extends keyof Events>(type: Key, event: Events[Key]): boolean;\n  once<Key extends keyof Events>(\n    type: Key,\n    handler: Handler<Events[Key]>\n  ): this;\n  listenerCount(event: keyof Events): number;\n\n  removeAllListeners(event?: keyof Events): this;\n}\n\n/**\n * @public\n */\nexport type EventsWithWildcard<Events extends Record<EventType, unknown>> =\n  Events & {\n    '*': Events[keyof Events];\n  };\n\n/**\n * The EventEmitter class that many Puppeteer classes extend.\n *\n * @remarks\n *\n * This allows you to listen to events that Puppeteer classes fire and act\n * accordingly. Therefore you'll mostly use {@link EventEmitter.on | on} and\n * {@link EventEmitter.off | off} to bind\n * and unbind to event listeners.\n *\n * @public\n */\nexport class EventEmitter<Events extends Record<EventType, unknown>>\n  implements CommonEventEmitter<EventsWithWildcard<Events>>\n{\n  #emitter: Emitter<EventsWithWildcard<Events>> | EventEmitter<Events>;\n  #handlers = new Map<keyof Events | '*', Array<Handler<any>>>();\n\n  /**\n   * If you pass an emitter, the returned emitter will wrap the passed emitter.\n   *\n   * @internal\n   */\n  constructor(\n    emitter: Emitter<EventsWithWildcard<Events>> | EventEmitter<Events> = mitt(\n      new Map()\n    )\n  ) {\n    this.#emitter = emitter;\n  }\n\n  /**\n   * Bind an event listener to fire when an event occurs.\n   * @param type - the event type you'd like to listen to. Can be a string or symbol.\n   * @param handler - the function to be called when the event occurs.\n   * @returns `this` to enable you to chain method calls.\n   */\n  on<Key extends keyof EventsWithWildcard<Events>>(\n    type: Key,\n    handler: Handler<EventsWithWildcard<Events>[Key]>\n  ): this {\n    const handlers = this.#handlers.get(type);\n    if (handlers === undefined) {\n      this.#handlers.set(type, [handler]);\n    } else {\n      handlers.push(handler);\n    }\n\n    this.#emitter.on(type, handler);\n    return this;\n  }\n\n  /**\n   * Remove an event listener from firing.\n   * @param type - the event type you'd like to stop listening to.\n   * @param handler - the function that should be removed.\n   * @returns `this` to enable you to chain method calls.\n   */\n  off<Key extends keyof EventsWithWildcard<Events>>(\n    type: Key,\n    handler?: Handler<EventsWithWildcard<Events>[Key]>\n  ): this {\n    const handlers = this.#handlers.get(type) ?? [];\n    if (handler === undefined) {\n      for (const handler of handlers) {\n        this.#emitter.off(type, handler);\n      }\n      this.#handlers.delete(type);\n      return this;\n    }\n    const index = handlers.lastIndexOf(handler);\n    if (index > -1) {\n      this.#emitter.off(type, ...handlers.splice(index, 1));\n    }\n    return this;\n  }\n\n  /**\n   * Emit an event and call any associated listeners.\n   *\n   * @param type - the event you'd like to emit\n   * @param eventData - any data you'd like to emit with the event\n   * @returns `true` if there are any listeners, `false` if there are not.\n   */\n  emit<Key extends keyof EventsWithWildcard<Events>>(\n    type: Key,\n    event: EventsWithWildcard<Events>[Key]\n  ): boolean {\n    this.#emitter.emit(type, event);\n    return this.listenerCount(type) > 0;\n  }\n\n  /**\n   * Like `on` but the listener will only be fired once and then it will be removed.\n   * @param type - the event you'd like to listen to\n   * @param handler - the handler function to run when the event occurs\n   * @returns `this` to enable you to chain method calls.\n   */\n  once<Key extends keyof EventsWithWildcard<Events>>(\n    type: Key,\n    handler: Handler<EventsWithWildcard<Events>[Key]>\n  ): this {\n    const onceHandler: Handler<EventsWithWildcard<Events>[Key]> = eventData => {\n      handler(eventData);\n      this.off(type, onceHandler);\n    };\n\n    return this.on(type, onceHandler);\n  }\n\n  /**\n   * Gets the number of listeners for a given event.\n   *\n   * @param type - the event to get the listener count for\n   * @returns the number of listeners bound to the given event\n   */\n  listenerCount(type: keyof EventsWithWildcard<Events>): number {\n    return this.#handlers.get(type)?.length || 0;\n  }\n\n  /**\n   * Removes all listeners. If given an event argument, it will remove only\n   * listeners for that event.\n   *\n   * @param type - the event to remove listeners for.\n   * @returns `this` to enable you to chain method calls.\n   */\n  removeAllListeners(type?: keyof EventsWithWildcard<Events>): this {\n    if (type !== undefined) {\n      return this.off(type);\n    }\n    this[disposeSymbol]();\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  [disposeSymbol](): void {\n    for (const [type, handlers] of this.#handlers) {\n      for (const handler of handlers) {\n        this.#emitter.off(type, handler);\n      }\n    }\n    this.#handlers.clear();\n  }\n}\n\n/**\n * @internal\n */\nexport class EventSubscription<\n  Target extends CommonEventEmitter<Record<Type, Event>>,\n  Type extends EventType = EventType,\n  Event = unknown,\n> {\n  #target: Target;\n  #type: Type;\n  #handler: Handler<Event>;\n\n  constructor(target: Target, type: Type, handler: Handler<Event>) {\n    this.#target = target;\n    this.#type = type;\n    this.#handler = handler;\n    this.#target.on(this.#type, this.#handler);\n  }\n\n  [disposeSymbol](): void {\n    this.#target.off(this.#type, this.#handler);\n  }\n}\n", "/**\nMIT License\n\nCopyright (c) 2021 Jason Miller\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n// ../../node_modules/mitt/dist/mitt.mjs\nfunction mitt_default(n) {\n  return { all: n = n || /* @__PURE__ */ new Map(), on: function(t, e) {\n    var i = n.get(t);\n    i ? i.push(e) : n.set(t, [e]);\n  }, off: function(t, e) {\n    var i = n.get(t);\n    i && (e ? i.splice(i.indexOf(e) >>> 0, 1) : n.set(t, []));\n  }, emit: function(t, e) {\n    var i = n.get(t);\n    i && i.slice().map(function(n2) {\n      n2(e);\n    }), (i = n.get(\"*\")) && i.slice().map(function(n2) {\n      n2(t, e);\n    });\n  } };\n}\nexport {\n  mitt_default as default\n};\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\ndeclare global {\n  interface SymbolConstructor {\n    /**\n     * A method that is used to release resources held by an object. Called by\n     * the semantics of the `using` statement.\n     */\n    readonly dispose: unique symbol;\n\n    /**\n     * A method that is used to asynchronously release resources held by an\n     * object. Called by the semantics of the `await using` statement.\n     */\n    readonly asyncDispose: unique symbol;\n  }\n\n  interface Disposable {\n    [Symbol.dispose](): void;\n  }\n\n  interface AsyncDisposable {\n    [Symbol.asyncDispose](): PromiseLike<void>;\n  }\n}\n\n(Symbol as any).dispose ??= Symbol('dispose');\n(Symbol as any).asyncDispose ??= Symbol('asyncDispose');\n\n/**\n * @internal\n */\nexport const disposeSymbol: typeof Symbol.dispose = Symbol.dispose;\n\n/**\n * @internal\n */\nexport const asyncDisposeSymbol: typeof Symbol.asyncDispose =\n  Symbol.asyncDispose;\n\n/**\n * @internal\n */\nexport class DisposableStack {\n  #disposed = false;\n  #stack: Disposable[] = [];\n\n  /**\n   * Returns a value indicating whether this stack has been disposed.\n   */\n  get disposed(): boolean {\n    return this.#disposed;\n  }\n\n  /**\n   * Disposes each resource in the stack in the reverse order that they were added.\n   */\n  dispose(): void {\n    if (this.#disposed) {\n      return;\n    }\n    this.#disposed = true;\n    for (const resource of this.#stack.reverse()) {\n      resource[disposeSymbol]();\n    }\n  }\n\n  /**\n   * Adds a disposable resource to the stack, returning the resource.\n   *\n   * @param value - The resource to add. `null` and `undefined` will not be added,\n   * but will be returned.\n   * @returns The provided `value`.\n   */\n  use<T extends Disposable | null | undefined>(value: T): T {\n    if (value) {\n      this.#stack.push(value);\n    }\n    return value;\n  }\n\n  /**\n   * Adds a value and associated disposal callback as a resource to the stack.\n   *\n   * @param value - The value to add.\n   * @param onDispose - The callback to use in place of a `[disposeSymbol]()`\n   * method. Will be invoked with `value` as the first parameter.\n   * @returns The provided `value`.\n   */\n  adopt<T>(value: T, onDispose: (value: T) => void): T {\n    this.#stack.push({\n      [disposeSymbol]() {\n        onDispose(value);\n      },\n    });\n    return value;\n  }\n\n  /**\n   * Adds a callback to be invoked when the stack is disposed.\n   */\n  defer(onDispose: () => void): void {\n    this.#stack.push({\n      [disposeSymbol]() {\n        onDispose();\n      },\n    });\n  }\n\n  /**\n   * Move all resources out of this stack and into a new `DisposableStack`, and\n   * marks this stack as disposed.\n   *\n   * @example\n   *\n   * ```ts\n   * class C {\n   *   #res1: Disposable;\n   *   #res2: Disposable;\n   *   #disposables: DisposableStack;\n   *   constructor() {\n   *     // stack will be disposed when exiting constructor for any reason\n   *     using stack = new DisposableStack();\n   *\n   *     // get first resource\n   *     this.#res1 = stack.use(getResource1());\n   *\n   *     // get second resource. If this fails, both `stack` and `#res1` will be disposed.\n   *     this.#res2 = stack.use(getResource2());\n   *\n   *     // all operations succeeded, move resources out of `stack` so that\n   *     // they aren't disposed when constructor exits\n   *     this.#disposables = stack.move();\n   *   }\n   *\n   *   [disposeSymbol]() {\n   *     this.#disposables.dispose();\n   *   }\n   * }\n   * ```\n   */\n  move(): DisposableStack {\n    if (this.#disposed) {\n      throw new ReferenceError('a disposed stack can not use anything new'); // step 3\n    }\n    const stack = new DisposableStack(); // step 4-5\n    stack.#stack = this.#stack;\n    this.#disposed = true;\n    return stack;\n  }\n\n  [disposeSymbol] = this.dispose;\n\n  readonly [Symbol.toStringTag] = 'DisposableStack';\n}\n\n/**\n * @internal\n */\nexport class AsyncDisposableStack {\n  #disposed = false;\n  #stack: AsyncDisposable[] = [];\n\n  /**\n   * Returns a value indicating whether this stack has been disposed.\n   */\n  get disposed(): boolean {\n    return this.#disposed;\n  }\n\n  /**\n   * Disposes each resource in the stack in the reverse order that they were added.\n   */\n  async dispose(): Promise<void> {\n    if (this.#disposed) {\n      return;\n    }\n    this.#disposed = true;\n    for (const resource of this.#stack.reverse()) {\n      await resource[asyncDisposeSymbol]();\n    }\n  }\n\n  /**\n   * Adds a disposable resource to the stack, returning the resource.\n   *\n   * @param value - The resource to add. `null` and `undefined` will not be added,\n   * but will be returned.\n   * @returns The provided `value`.\n   */\n  use<T extends AsyncDisposable | null | undefined>(value: T): T {\n    if (value) {\n      this.#stack.push(value);\n    }\n    return value;\n  }\n\n  /**\n   * Adds a value and associated disposal callback as a resource to the stack.\n   *\n   * @param value - The value to add.\n   * @param onDispose - The callback to use in place of a `[disposeSymbol]()`\n   * method. Will be invoked with `value` as the first parameter.\n   * @returns The provided `value`.\n   */\n  adopt<T>(value: T, onDispose: (value: T) => Promise<void>): T {\n    this.#stack.push({\n      [asyncDisposeSymbol]() {\n        return onDispose(value);\n      },\n    });\n    return value;\n  }\n\n  /**\n   * Adds a callback to be invoked when the stack is disposed.\n   */\n  defer(onDispose: () => Promise<void>): void {\n    this.#stack.push({\n      [asyncDisposeSymbol]() {\n        return onDispose();\n      },\n    });\n  }\n\n  /**\n   * Move all resources out of this stack and into a new `DisposableStack`, and\n   * marks this stack as disposed.\n   *\n   * @example\n   *\n   * ```ts\n   * class C {\n   *   #res1: Disposable;\n   *   #res2: Disposable;\n   *   #disposables: DisposableStack;\n   *   constructor() {\n   *     // stack will be disposed when exiting constructor for any reason\n   *     using stack = new DisposableStack();\n   *\n   *     // get first resource\n   *     this.#res1 = stack.use(getResource1());\n   *\n   *     // get second resource. If this fails, both `stack` and `#res1` will be disposed.\n   *     this.#res2 = stack.use(getResource2());\n   *\n   *     // all operations succeeded, move resources out of `stack` so that\n   *     // they aren't disposed when constructor exits\n   *     this.#disposables = stack.move();\n   *   }\n   *\n   *   [disposeSymbol]() {\n   *     this.#disposables.dispose();\n   *   }\n   * }\n   * ```\n   */\n  move(): AsyncDisposableStack {\n    if (this.#disposed) {\n      throw new ReferenceError('a disposed stack can not use anything new'); // step 3\n    }\n    const stack = new AsyncDisposableStack(); // step 4-5\n    stack.#stack = this.#stack;\n    this.#disposed = true;\n    return stack;\n  }\n\n  [asyncDisposeSymbol] = this.dispose;\n\n  readonly [Symbol.toStringTag] = 'AsyncDisposableStack';\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {ProtocolMapping} from 'devtools-protocol/types/protocol-mapping.js';\n\nimport type {Connection} from '../cdp/Connection.js';\nimport {EventEmitter, type EventType} from '../common/EventEmitter.js';\n\n/**\n * @public\n */\nexport type CDPEvents = {\n  [Property in keyof ProtocolMapping.Events]: ProtocolMapping.Events[Property][0];\n};\n\n/**\n * Events that the CDPSession class emits.\n *\n * @public\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace CDPSessionEvent {\n  /** @internal */\n  export const Disconnected = Symbol('CDPSession.Disconnected');\n  /** @internal */\n  export const Swapped = Symbol('CDPSession.Swapped');\n  /**\n   * Emitted when the session is ready to be configured during the auto-attach\n   * process. Right after the event is handled, the session will be resumed.\n   *\n   * @internal\n   */\n  export const Ready = Symbol('CDPSession.Ready');\n  export const SessionAttached = 'sessionattached' as const;\n  export const SessionDetached = 'sessiondetached' as const;\n}\n\n/**\n * @public\n */\nexport interface CDPSessionEvents\n  extends CDPEvents,\n    Record<EventType, unknown> {\n  /** @internal */\n  [CDPSessionEvent.Disconnected]: undefined;\n  /** @internal */\n  [CDPSessionEvent.Swapped]: CDPSession;\n  /** @internal */\n  [CDPSessionEvent.Ready]: CDPSession;\n  [CDPSessionEvent.SessionAttached]: CDPSession;\n  [CDPSessionEvent.SessionDetached]: CDPSession;\n}\n\n/**\n * @public\n */\nexport interface CommandOptions {\n  timeout: number;\n}\n\n/**\n * The `CDPSession` instances are used to talk raw Chrome Devtools Protocol.\n *\n * @remarks\n *\n * Protocol methods can be called with {@link CDPSession.send} method and protocol\n * events can be subscribed to with `CDPSession.on` method.\n *\n * Useful links: {@link https://chromedevtools.github.io/devtools-protocol/ | DevTools Protocol Viewer}\n * and {@link https://github.com/aslushnikov/getting-started-with-cdp/blob/HEAD/README.md | Getting Started with DevTools Protocol}.\n *\n * @example\n *\n * ```ts\n * const client = await page.createCDPSession();\n * await client.send('Animation.enable');\n * client.on('Animation.animationCreated', () =>\n *   console.log('Animation created!')\n * );\n * const response = await client.send('Animation.getPlaybackRate');\n * console.log('playback rate is ' + response.playbackRate);\n * await client.send('Animation.setPlaybackRate', {\n *   playbackRate: response.playbackRate / 2,\n * });\n * ```\n *\n * @public\n */\nexport abstract class CDPSession extends EventEmitter<CDPSessionEvents> {\n  /**\n   * @internal\n   */\n  constructor() {\n    super();\n  }\n\n  abstract connection(): Connection | undefined;\n\n  /**\n   * Parent session in terms of CDP's auto-attach mechanism.\n   *\n   * @internal\n   */\n  parentSession(): CDPSession | undefined {\n    return undefined;\n  }\n\n  abstract send<T extends keyof ProtocolMapping.Commands>(\n    method: T,\n    params?: ProtocolMapping.Commands[T]['paramsType'][0],\n    options?: CommandOptions\n  ): Promise<ProtocolMapping.Commands[T]['returnType']>;\n\n  /**\n   * Detaches the cdpSession from the target. Once detached, the cdpSession object\n   * won't emit any events and can't be used to send messages.\n   */\n  abstract detach(): Promise<void>;\n\n  /**\n   * Returns the session's id.\n   */\n  abstract id(): string;\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  WEB_PERMISSION_TO_PROTOCOL_PERMISSION,\n  type Permission,\n} from '../api/Browser.js';\nimport {BrowserContext} from '../api/BrowserContext.js';\nimport type {Page} from '../api/Page.js';\nimport {assert} from '../util/assert.js';\n\nimport type {CdpBrowser} from './Browser.js';\nimport type {Connection} from './Connection.js';\nimport type {CdpTarget} from './Target.js';\n\n/**\n * @internal\n */\nexport class CdpBrowserContext extends BrowserContext {\n  #connection: Connection;\n  #browser: CdpBrowser;\n  #id?: string;\n\n  constructor(connection: Connection, browser: CdpBrowser, contextId?: string) {\n    super();\n    this.#connection = connection;\n    this.#browser = browser;\n    this.#id = contextId;\n  }\n\n  override get id(): string | undefined {\n    return this.#id;\n  }\n\n  override targets(): CdpTarget[] {\n    return this.#browser.targets().filter(target => {\n      return target.browserContext() === this;\n    });\n  }\n\n  override async pages(): Promise<Page[]> {\n    const pages = await Promise.all(\n      this.targets()\n        .filter(target => {\n          return (\n            target.type() === 'page' ||\n            (target.type() === 'other' &&\n              this.#browser._getIsPageTargetCallback()?.(target))\n          );\n        })\n        .map(target => {\n          return target.page();\n        })\n    );\n    return pages.filter((page): page is Page => {\n      return !!page;\n    });\n  }\n\n  override isIncognito(): boolean {\n    return !!this.#id;\n  }\n\n  override async overridePermissions(\n    origin: string,\n    permissions: Permission[]\n  ): Promise<void> {\n    const protocolPermissions = permissions.map(permission => {\n      const protocolPermission =\n        WEB_PERMISSION_TO_PROTOCOL_PERMISSION.get(permission);\n      if (!protocolPermission) {\n        throw new Error('Unknown permission: ' + permission);\n      }\n      return protocolPermission;\n    });\n    await this.#connection.send('Browser.grantPermissions', {\n      origin,\n      browserContextId: this.#id || undefined,\n      permissions: protocolPermissions,\n    });\n  }\n\n  override async clearPermissionOverrides(): Promise<void> {\n    await this.#connection.send('Browser.resetPermissions', {\n      browserContextId: this.#id || undefined,\n    });\n  }\n\n  override async newPage(): Promise<Page> {\n    using _guard = await this.waitForScreenshotOperations();\n    return await this.#browser._createPageInContext(this.#id);\n  }\n\n  override browser(): CdpBrowser {\n    return this.#browser;\n  }\n\n  override async close(): Promise<void> {\n    assert(this.#id, 'Non-incognito profiles cannot be closed!');\n    await this.#browser._disposeContext(this.#id);\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  firstValueFrom,\n  from,\n  merge,\n  raceWith,\n} from '../../third_party/rxjs/rxjs.js';\nimport {EventEmitter, type EventType} from '../common/EventEmitter.js';\nimport {\n  debugError,\n  fromEmitterEvent,\n  filterAsync,\n  timeout,\n} from '../common/util.js';\nimport {asyncDisposeSymbol, disposeSymbol} from '../util/disposable.js';\nimport {Mutex} from '../util/Mutex.js';\n\nimport type {Browser, Permission, WaitForTargetOptions} from './Browser.js';\nimport type {Page} from './Page.js';\nimport type {Target} from './Target.js';\n\n/**\n * @public\n */\nexport const enum BrowserContextEvent {\n  /**\n   * Emitted when the url of a target inside the browser context changes.\n   * Contains a {@link Target} instance.\n   */\n  TargetChanged = 'targetchanged',\n\n  /**\n   * Emitted when a target is created within the browser context, for example\n   * when a new page is opened by\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/Window/open | window.open}\n   * or by {@link BrowserContext.newPage | browserContext.newPage}\n   *\n   * Contains a {@link Target} instance.\n   */\n  TargetCreated = 'targetcreated',\n  /**\n   * Emitted when a target is destroyed within the browser context, for example\n   * when a page is closed. Contains a {@link Target} instance.\n   */\n  TargetDestroyed = 'targetdestroyed',\n}\n\n/**\n * @public\n */\nexport interface BrowserContextEvents extends Record<EventType, unknown> {\n  [BrowserContextEvent.TargetChanged]: Target;\n  [BrowserContextEvent.TargetCreated]: Target;\n  [BrowserContextEvent.TargetDestroyed]: Target;\n}\n\n/**\n * {@link BrowserContext} represents individual user contexts within a\n * {@link Browser | browser}.\n *\n * When a {@link Browser | browser} is launched, it has a single\n * {@link BrowserContext | browser context} by default. Others can be created\n * using {@link Browser.createBrowserContext}. Each context has isolated storage\n * (cookies/localStorage/etc.)\n *\n * {@link BrowserContext} {@link EventEmitter | emits} various events which are\n * documented in the {@link BrowserContextEvent} enum.\n *\n * If a {@link Page | page} opens another {@link Page | page}, e.g. using\n * `window.open`, the popup will belong to the parent {@link Page.browserContext\n * | page's browser context}.\n *\n * @example Creating a new {@link BrowserContext | browser context}:\n *\n * ```ts\n * // Create a new browser context\n * const context = await browser.createBrowserContext();\n * // Create a new page inside context.\n * const page = await context.newPage();\n * // ... do stuff with page ...\n * await page.goto('https://example.com');\n * // Dispose context once it's no longer needed.\n * await context.close();\n * ```\n *\n * @public\n */\n\nexport abstract class BrowserContext extends EventEmitter<BrowserContextEvents> {\n  /**\n   * @internal\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Gets all active {@link Target | targets} inside this\n   * {@link BrowserContext | browser context}.\n   */\n  abstract targets(): Target[];\n\n  /**\n   * If defined, indicates an ongoing screenshot opereation.\n   */\n  #pageScreenshotMutex?: Mutex;\n  #screenshotOperationsCount = 0;\n\n  /**\n   * @internal\n   */\n  startScreenshot(): Promise<InstanceType<typeof Mutex.Guard>> {\n    const mutex = this.#pageScreenshotMutex || new Mutex();\n    this.#pageScreenshotMutex = mutex;\n    this.#screenshotOperationsCount++;\n    return mutex.acquire(() => {\n      this.#screenshotOperationsCount--;\n      if (this.#screenshotOperationsCount === 0) {\n        // Remove the mutex to indicate no ongoing screenshot operation.\n        this.#pageScreenshotMutex = undefined;\n      }\n    });\n  }\n\n  /**\n   * @internal\n   */\n  waitForScreenshotOperations():\n    | Promise<InstanceType<typeof Mutex.Guard>>\n    | undefined {\n    return this.#pageScreenshotMutex?.acquire();\n  }\n\n  /**\n   * Waits until a {@link Target | target} matching the given `predicate`\n   * appears and returns it.\n   *\n   * This will look all open {@link BrowserContext | browser contexts}.\n   *\n   * @example Finding a target for a page opened via `window.open`:\n   *\n   * ```ts\n   * await page.evaluate(() => window.open('https://www.example.com/'));\n   * const newWindowTarget = await browserContext.waitForTarget(\n   *   target => target.url() === 'https://www.example.com/'\n   * );\n   * ```\n   */\n  async waitForTarget(\n    predicate: (x: Target) => boolean | Promise<boolean>,\n    options: WaitForTargetOptions = {}\n  ): Promise<Target> {\n    const {timeout: ms = 30000} = options;\n    return await firstValueFrom(\n      merge(\n        fromEmitterEvent(this, BrowserContextEvent.TargetCreated),\n        fromEmitterEvent(this, BrowserContextEvent.TargetChanged),\n        from(this.targets())\n      ).pipe(filterAsync(predicate), raceWith(timeout(ms)))\n    );\n  }\n\n  /**\n   * Gets a list of all open {@link Page | pages} inside this\n   * {@link BrowserContext | browser context}.\n   *\n   * @remarks Non-visible {@link Page | pages}, such as `\"background_page\"`,\n   * will not be listed here. You can find them using {@link Target.page}.\n   */\n  abstract pages(): Promise<Page[]>;\n\n  /**\n   * Whether this {@link BrowserContext | browser context} is incognito.\n   *\n   * In Chrome, the\n   * {@link Browser.defaultBrowserContext | default browser context} is the only\n   * non-incognito browser context.\n   *\n   * @deprecated In Chrome, the\n   * {@link Browser.defaultBrowserContext | default browser context} can also be\n   * \"incognito\" if configured via the arguments and in such cases this getter\n   * returns wrong results (see\n   * https://github.com/puppeteer/puppeteer/issues/8836). Also, the term\n   * \"incognito\" is not applicable to other browsers. To migrate, check the\n   * {@link Browser.defaultBrowserContext | default browser context} instead: in\n   * Chrome all non-default contexts are incognito, and the default context\n   * might be incognito if you provide the `--incognito` argument when launching\n   * the browser.\n   */\n  abstract isIncognito(): boolean;\n\n  /**\n   * Grants this {@link BrowserContext | browser context} the given\n   * `permissions` within the given `origin`.\n   *\n   * @example Overriding permissions in the\n   * {@link Browser.defaultBrowserContext | default browser context}:\n   *\n   * ```ts\n   * const context = browser.defaultBrowserContext();\n   * await context.overridePermissions('https://html5demos.com', [\n   *   'geolocation',\n   * ]);\n   * ```\n   *\n   * @param origin - The origin to grant permissions to, e.g.\n   * \"https://example.com\".\n   * @param permissions - An array of permissions to grant. All permissions that\n   * are not listed here will be automatically denied.\n   */\n  abstract overridePermissions(\n    origin: string,\n    permissions: Permission[]\n  ): Promise<void>;\n\n  /**\n   * Clears all permission overrides for this\n   * {@link BrowserContext | browser context}.\n   *\n   * @example Clearing overridden permissions in the\n   * {@link Browser.defaultBrowserContext | default browser context}:\n   *\n   * ```ts\n   * const context = browser.defaultBrowserContext();\n   * context.overridePermissions('https://example.com', ['clipboard-read']);\n   * // do stuff ..\n   * context.clearPermissionOverrides();\n   * ```\n   */\n  abstract clearPermissionOverrides(): Promise<void>;\n\n  /**\n   * Creates a new {@link Page | page} in this\n   * {@link BrowserContext | browser context}.\n   */\n  abstract newPage(): Promise<Page>;\n\n  /**\n   * Gets the {@link Browser | browser} associated with this\n   * {@link BrowserContext | browser context}.\n   */\n  abstract browser(): Browser;\n\n  /**\n   * Closes this {@link BrowserContext | browser context} and all associated\n   * {@link Page | pages}.\n   *\n   * @remarks The\n   * {@link Browser.defaultBrowserContext | default browser context} cannot be\n   * closed.\n   */\n  abstract close(): Promise<void>;\n\n  /**\n   * Whether this {@link BrowserContext | browser context} is closed.\n   */\n  get closed(): boolean {\n    return !this.browser().browserContexts().includes(this);\n  }\n\n  /**\n   * Identifier for this {@link BrowserContext | browser context}.\n   */\n  get id(): string | undefined {\n    return undefined;\n  }\n\n  /** @internal */\n  [disposeSymbol](): void {\n    return void this.close().catch(debugError);\n  }\n\n  /** @internal */\n  [asyncDisposeSymbol](): Promise<void> {\n    return this.close();\n  }\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport {Deferred} from './Deferred.js';\nimport {disposeSymbol} from './disposable.js';\n\n/**\n * @internal\n */\nexport class Mutex {\n  static Guard = class Guard {\n    #mutex: Mutex;\n    #onRelease?: () => void;\n    constructor(mutex: Mutex, onRelease?: () => void) {\n      this.#mutex = mutex;\n      this.#onRelease = onRelease;\n    }\n    [disposeSymbol](): void {\n      this.#onRelease?.();\n      return this.#mutex.release();\n    }\n  };\n\n  #locked = false;\n  #acquirers: Array<() => void> = [];\n\n  // This is FIFO.\n  async acquire(\n    onRelease?: () => void\n  ): Promise<InstanceType<typeof Mutex.Guard>> {\n    if (!this.#locked) {\n      this.#locked = true;\n      return new Mutex.Guard(this);\n    }\n    const deferred = Deferred.create<void>();\n    this.#acquirers.push(deferred.resolve.bind(deferred));\n    await deferred.valueOrThrow();\n    return new Mutex.Guard(this, onRelease);\n  }\n\n  release(): void {\n    const resolve = this.#acquirers.shift();\n    if (!resolve) {\n      this.#locked = false;\n      return;\n    }\n    resolve();\n  }\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport {TimeoutError} from '../common/Errors.js';\n\n/**\n * @internal\n */\nexport interface DeferredOptions {\n  message: string;\n  timeout: number;\n}\n\n/**\n * Creates and returns a deferred object along with the resolve/reject functions.\n *\n * If the deferred has not been resolved/rejected within the `timeout` period,\n * the deferred gets resolves with a timeout error. `timeout` has to be greater than 0 or\n * it is ignored.\n *\n * @internal\n */\nexport class Deferred<T, V extends Error = Error> {\n  static create<R, X extends Error = Error>(\n    opts?: DeferredOptions\n  ): Deferred<R, X> {\n    return new Deferred<R, X>(opts);\n  }\n\n  static async race<R>(\n    awaitables: Array<Promise<R> | Deferred<R>>\n  ): Promise<R> {\n    const deferredWithTimeout = new Set<Deferred<R>>();\n    try {\n      const promises = awaitables.map(value => {\n        if (value instanceof Deferred) {\n          if (value.#timeoutId) {\n            deferredWithTimeout.add(value);\n          }\n\n          return value.valueOrThrow();\n        }\n\n        return value;\n      });\n      // eslint-disable-next-line no-restricted-syntax\n      return await Promise.race(promises);\n    } finally {\n      for (const deferred of deferredWithTimeout) {\n        // We need to stop the timeout else\n        // Node.JS will keep running the event loop till the\n        // timer executes\n        deferred.reject(new Error('Timeout cleared'));\n      }\n    }\n  }\n\n  #isResolved = false;\n  #isRejected = false;\n  #value: T | V | TimeoutError | undefined;\n  // SAFETY: This is ensured by #taskPromise.\n  #resolve!: (value: void) => void;\n  #taskPromise = new Promise<void>(resolve => {\n    this.#resolve = resolve;\n  });\n  #timeoutId: ReturnType<typeof setTimeout> | undefined;\n  #timeoutError: TimeoutError | undefined;\n\n  constructor(opts?: DeferredOptions) {\n    if (opts && opts.timeout > 0) {\n      this.#timeoutError = new TimeoutError(opts.message);\n      this.#timeoutId = setTimeout(() => {\n        this.reject(this.#timeoutError!);\n      }, opts.timeout);\n    }\n  }\n\n  #finish(value: T | V | TimeoutError) {\n    clearTimeout(this.#timeoutId);\n    this.#value = value;\n    this.#resolve();\n  }\n\n  resolve(value: T): void {\n    if (this.#isRejected || this.#isResolved) {\n      return;\n    }\n    this.#isResolved = true;\n    this.#finish(value);\n  }\n\n  reject(error: V | TimeoutError): void {\n    if (this.#isRejected || this.#isResolved) {\n      return;\n    }\n    this.#isRejected = true;\n    this.#finish(error);\n  }\n\n  resolved(): boolean {\n    return this.#isResolved;\n  }\n\n  finished(): boolean {\n    return this.#isResolved || this.#isRejected;\n  }\n\n  value(): T | V | TimeoutError | undefined {\n    return this.#value;\n  }\n\n  #promise: Promise<T> | undefined;\n  valueOrThrow(): Promise<T> {\n    if (!this.#promise) {\n      this.#promise = (async () => {\n        await this.#taskPromise;\n        if (this.#isRejected) {\n          throw this.#value;\n        }\n        return this.#value as T;\n      })();\n    }\n    return this.#promise;\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {TargetFilterCallback} from '../api/Browser.js';\nimport {CDPSession, CDPSessionEvent} from '../api/CDPSession.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {debugError} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\n\nimport type {CdpCDPSession} from './CDPSession.js';\nimport type {Connection} from './Connection.js';\nimport {CdpTarget, InitializationStatus} from './Target.js';\nimport {\n  type TargetFactory,\n  type TargetManager,\n  TargetManagerEvent,\n  type TargetManagerEvents,\n} from './TargetManager.js';\n\nfunction isPageTargetBecomingPrimary(\n  target: CdpTarget,\n  newTargetInfo: Protocol.Target.TargetInfo\n): boolean {\n  return Boolean(target._subtype()) && !newTargetInfo.subtype;\n}\n\n/**\n * ChromeTargetManager uses the CDP's auto-attach mechanism to intercept\n * new targets and allow the rest of Puppeteer to configure listeners while\n * the target is paused.\n *\n * @internal\n */\nexport class ChromeTargetManager\n  extends EventEmitter<TargetManagerEvents>\n  implements TargetManager\n{\n  #connection: Connection;\n  /**\n   * Keeps track of the following events: 'Target.targetCreated',\n   * 'Target.targetDestroyed', 'Target.targetInfoChanged'.\n   *\n   * A target becomes discovered when 'Target.targetCreated' is received.\n   * A target is removed from this map once 'Target.targetDestroyed' is\n   * received.\n   *\n   * `targetFilterCallback` has no effect on this map.\n   */\n  #discoveredTargetsByTargetId = new Map<string, Protocol.Target.TargetInfo>();\n  /**\n   * A target is added to this map once ChromeTargetManager has created\n   * a Target and attached at least once to it.\n   */\n  #attachedTargetsByTargetId = new Map<string, CdpTarget>();\n  /**\n   * Tracks which sessions attach to which target.\n   */\n  #attachedTargetsBySessionId = new Map<string, CdpTarget>();\n  /**\n   * If a target was filtered out by `targetFilterCallback`, we still receive\n   * events about it from CDP, but we don't forward them to the rest of Puppeteer.\n   */\n  #ignoredTargets = new Set<string>();\n  #targetFilterCallback: TargetFilterCallback | undefined;\n  #targetFactory: TargetFactory;\n\n  #attachedToTargetListenersBySession = new WeakMap<\n    CDPSession | Connection,\n    (event: Protocol.Target.AttachedToTargetEvent) => void\n  >();\n  #detachedFromTargetListenersBySession = new WeakMap<\n    CDPSession | Connection,\n    (event: Protocol.Target.DetachedFromTargetEvent) => void\n  >();\n\n  #initializeDeferred = Deferred.create<void>();\n  #targetsIdsForInit = new Set<string>();\n  #waitForInitiallyDiscoveredTargets = true;\n\n  #discoveryFilter: Protocol.Target.FilterEntry[] = [{}];\n\n  constructor(\n    connection: Connection,\n    targetFactory: TargetFactory,\n    targetFilterCallback?: TargetFilterCallback,\n    waitForInitiallyDiscoveredTargets = true\n  ) {\n    super();\n    this.#connection = connection;\n    this.#targetFilterCallback = targetFilterCallback;\n    this.#targetFactory = targetFactory;\n    this.#waitForInitiallyDiscoveredTargets = waitForInitiallyDiscoveredTargets;\n\n    this.#connection.on('Target.targetCreated', this.#onTargetCreated);\n    this.#connection.on('Target.targetDestroyed', this.#onTargetDestroyed);\n    this.#connection.on('Target.targetInfoChanged', this.#onTargetInfoChanged);\n    this.#connection.on(\n      CDPSessionEvent.SessionDetached,\n      this.#onSessionDetached\n    );\n    this.#setupAttachmentListeners(this.#connection);\n  }\n\n  #storeExistingTargetsForInit = () => {\n    if (!this.#waitForInitiallyDiscoveredTargets) {\n      return;\n    }\n    for (const [\n      targetId,\n      targetInfo,\n    ] of this.#discoveredTargetsByTargetId.entries()) {\n      const targetForFilter = new CdpTarget(\n        targetInfo,\n        undefined,\n        undefined,\n        this,\n        undefined\n      );\n      // Targets from extensions and the browser that will not be\n      // auto-attached. Therefore, we should not add them to\n      // #targetsIdsForInit.\n      const skipTarget =\n        targetInfo.type === 'browser' ||\n        targetInfo.url.startsWith('chrome-extension://');\n      if (\n        (!this.#targetFilterCallback ||\n          this.#targetFilterCallback(targetForFilter)) &&\n        !skipTarget\n      ) {\n        this.#targetsIdsForInit.add(targetId);\n      }\n    }\n  };\n\n  async initialize(): Promise<void> {\n    await this.#connection.send('Target.setDiscoverTargets', {\n      discover: true,\n      filter: this.#discoveryFilter,\n    });\n\n    this.#storeExistingTargetsForInit();\n\n    await this.#connection.send('Target.setAutoAttach', {\n      waitForDebuggerOnStart: true,\n      flatten: true,\n      autoAttach: true,\n      filter: [\n        {\n          type: 'page',\n          exclude: true,\n        },\n        ...this.#discoveryFilter,\n      ],\n    });\n    this.#finishInitializationIfReady();\n    await this.#initializeDeferred.valueOrThrow();\n  }\n\n  getChildTargets(target: CdpTarget): ReadonlySet<CdpTarget> {\n    return target._childTargets();\n  }\n\n  dispose(): void {\n    this.#connection.off('Target.targetCreated', this.#onTargetCreated);\n    this.#connection.off('Target.targetDestroyed', this.#onTargetDestroyed);\n    this.#connection.off('Target.targetInfoChanged', this.#onTargetInfoChanged);\n    this.#connection.off(\n      CDPSessionEvent.SessionDetached,\n      this.#onSessionDetached\n    );\n\n    this.#removeAttachmentListeners(this.#connection);\n  }\n\n  getAvailableTargets(): ReadonlyMap<string, CdpTarget> {\n    return this.#attachedTargetsByTargetId;\n  }\n\n  #setupAttachmentListeners(session: CDPSession | Connection): void {\n    const listener = (event: Protocol.Target.AttachedToTargetEvent) => {\n      void this.#onAttachedToTarget(session, event);\n    };\n    assert(!this.#attachedToTargetListenersBySession.has(session));\n    this.#attachedToTargetListenersBySession.set(session, listener);\n    session.on('Target.attachedToTarget', listener);\n\n    const detachedListener = (\n      event: Protocol.Target.DetachedFromTargetEvent\n    ) => {\n      return this.#onDetachedFromTarget(session, event);\n    };\n    assert(!this.#detachedFromTargetListenersBySession.has(session));\n    this.#detachedFromTargetListenersBySession.set(session, detachedListener);\n    session.on('Target.detachedFromTarget', detachedListener);\n  }\n\n  #removeAttachmentListeners(session: CDPSession | Connection): void {\n    const listener = this.#attachedToTargetListenersBySession.get(session);\n    if (listener) {\n      session.off('Target.attachedToTarget', listener);\n      this.#attachedToTargetListenersBySession.delete(session);\n    }\n\n    if (this.#detachedFromTargetListenersBySession.has(session)) {\n      session.off(\n        'Target.detachedFromTarget',\n        this.#detachedFromTargetListenersBySession.get(session)!\n      );\n      this.#detachedFromTargetListenersBySession.delete(session);\n    }\n  }\n\n  #onSessionDetached = (session: CDPSession) => {\n    this.#removeAttachmentListeners(session);\n  };\n\n  #onTargetCreated = async (event: Protocol.Target.TargetCreatedEvent) => {\n    this.#discoveredTargetsByTargetId.set(\n      event.targetInfo.targetId,\n      event.targetInfo\n    );\n\n    this.emit(TargetManagerEvent.TargetDiscovered, event.targetInfo);\n\n    // The connection is already attached to the browser target implicitly,\n    // therefore, no new CDPSession is created and we have special handling\n    // here.\n    if (event.targetInfo.type === 'browser' && event.targetInfo.attached) {\n      if (this.#attachedTargetsByTargetId.has(event.targetInfo.targetId)) {\n        return;\n      }\n      const target = this.#targetFactory(event.targetInfo, undefined);\n      target._initialize();\n      this.#attachedTargetsByTargetId.set(event.targetInfo.targetId, target);\n    }\n  };\n\n  #onTargetDestroyed = (event: Protocol.Target.TargetDestroyedEvent) => {\n    const targetInfo = this.#discoveredTargetsByTargetId.get(event.targetId);\n    this.#discoveredTargetsByTargetId.delete(event.targetId);\n    this.#finishInitializationIfReady(event.targetId);\n    if (\n      targetInfo?.type === 'service_worker' &&\n      this.#attachedTargetsByTargetId.has(event.targetId)\n    ) {\n      // Special case for service workers: report TargetGone event when\n      // the worker is destroyed.\n      const target = this.#attachedTargetsByTargetId.get(event.targetId);\n      if (target) {\n        this.emit(TargetManagerEvent.TargetGone, target);\n        this.#attachedTargetsByTargetId.delete(event.targetId);\n      }\n    }\n  };\n\n  #onTargetInfoChanged = (event: Protocol.Target.TargetInfoChangedEvent) => {\n    this.#discoveredTargetsByTargetId.set(\n      event.targetInfo.targetId,\n      event.targetInfo\n    );\n\n    if (\n      this.#ignoredTargets.has(event.targetInfo.targetId) ||\n      !this.#attachedTargetsByTargetId.has(event.targetInfo.targetId) ||\n      !event.targetInfo.attached\n    ) {\n      return;\n    }\n\n    const target = this.#attachedTargetsByTargetId.get(\n      event.targetInfo.targetId\n    );\n    if (!target) {\n      return;\n    }\n    const previousURL = target.url();\n    const wasInitialized =\n      target._initializedDeferred.value() === InitializationStatus.SUCCESS;\n\n    if (isPageTargetBecomingPrimary(target, event.targetInfo)) {\n      const session = target?._session();\n      assert(\n        session,\n        'Target that is being activated is missing a CDPSession.'\n      );\n      session.parentSession()?.emit(CDPSessionEvent.Swapped, session);\n    }\n\n    target._targetInfoChanged(event.targetInfo);\n\n    if (wasInitialized && previousURL !== target.url()) {\n      this.emit(TargetManagerEvent.TargetChanged, {\n        target,\n        wasInitialized,\n        previousURL,\n      });\n    }\n  };\n\n  #onAttachedToTarget = async (\n    parentSession: Connection | CDPSession,\n    event: Protocol.Target.AttachedToTargetEvent\n  ) => {\n    const targetInfo = event.targetInfo;\n    const session = this.#connection.session(event.sessionId);\n    if (!session) {\n      throw new Error(`Session ${event.sessionId} was not created.`);\n    }\n\n    const silentDetach = async () => {\n      await session.send('Runtime.runIfWaitingForDebugger').catch(debugError);\n      // We don't use `session.detach()` because that dispatches all commands on\n      // the connection instead of the parent session.\n      await parentSession\n        .send('Target.detachFromTarget', {\n          sessionId: session.id(),\n        })\n        .catch(debugError);\n    };\n\n    if (!this.#connection.isAutoAttached(targetInfo.targetId)) {\n      return;\n    }\n\n    // Special case for service workers: being attached to service workers will\n    // prevent them from ever being destroyed. Therefore, we silently detach\n    // from service workers unless the connection was manually created via\n    // `page.worker()`. To determine this, we use\n    // `this.#connection.isAutoAttached(targetInfo.targetId)`. In the future, we\n    // should determine if a target is auto-attached or not with the help of\n    // CDP.\n    if (targetInfo.type === 'service_worker') {\n      this.#finishInitializationIfReady(targetInfo.targetId);\n      await silentDetach();\n      if (this.#attachedTargetsByTargetId.has(targetInfo.targetId)) {\n        return;\n      }\n      const target = this.#targetFactory(targetInfo);\n      target._initialize();\n      this.#attachedTargetsByTargetId.set(targetInfo.targetId, target);\n      this.emit(TargetManagerEvent.TargetAvailable, target);\n      return;\n    }\n\n    const isExistingTarget = this.#attachedTargetsByTargetId.has(\n      targetInfo.targetId\n    );\n\n    const target = isExistingTarget\n      ? this.#attachedTargetsByTargetId.get(targetInfo.targetId)!\n      : this.#targetFactory(\n          targetInfo,\n          session,\n          parentSession instanceof CDPSession ? parentSession : undefined\n        );\n\n    if (this.#targetFilterCallback && !this.#targetFilterCallback(target)) {\n      this.#ignoredTargets.add(targetInfo.targetId);\n      this.#finishInitializationIfReady(targetInfo.targetId);\n      await silentDetach();\n      return;\n    }\n\n    this.#setupAttachmentListeners(session);\n\n    if (isExistingTarget) {\n      (session as CdpCDPSession)._setTarget(target);\n      this.#attachedTargetsBySessionId.set(\n        session.id(),\n        this.#attachedTargetsByTargetId.get(targetInfo.targetId)!\n      );\n    } else {\n      target._initialize();\n      this.#attachedTargetsByTargetId.set(targetInfo.targetId, target);\n      this.#attachedTargetsBySessionId.set(session.id(), target);\n    }\n\n    const parentTarget =\n      parentSession instanceof CDPSession\n        ? (parentSession as CdpCDPSession)._target()\n        : null;\n    parentTarget?._addChildTarget(target);\n\n    parentSession.emit(CDPSessionEvent.Ready, session);\n\n    this.#targetsIdsForInit.delete(target._targetId);\n    if (!isExistingTarget) {\n      this.emit(TargetManagerEvent.TargetAvailable, target);\n    }\n    this.#finishInitializationIfReady();\n\n    // TODO: the browser might be shutting down here. What do we do with the\n    // error?\n    await Promise.all([\n      session.send('Target.setAutoAttach', {\n        waitForDebuggerOnStart: true,\n        flatten: true,\n        autoAttach: true,\n        filter: this.#discoveryFilter,\n      }),\n      session.send('Runtime.runIfWaitingForDebugger'),\n    ]).catch(debugError);\n  };\n\n  #finishInitializationIfReady(targetId?: string): void {\n    targetId !== undefined && this.#targetsIdsForInit.delete(targetId);\n    if (this.#targetsIdsForInit.size === 0) {\n      this.#initializeDeferred.resolve();\n    }\n  }\n\n  #onDetachedFromTarget = (\n    parentSession: Connection | CDPSession,\n    event: Protocol.Target.DetachedFromTargetEvent\n  ) => {\n    const target = this.#attachedTargetsBySessionId.get(event.sessionId);\n\n    this.#attachedTargetsBySessionId.delete(event.sessionId);\n\n    if (!target) {\n      return;\n    }\n\n    if (parentSession instanceof CDPSession) {\n      (parentSession as CdpCDPSession)._target()._removeChildTarget(target);\n    }\n    this.#attachedTargetsByTargetId.delete(target._targetId);\n    this.emit(TargetManagerEvent.TargetGone, target);\n  };\n}\n", "/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {Browser} from '../api/Browser.js';\nimport type {BrowserContext} from '../api/BrowserContext.js';\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {PageEvent, type Page} from '../api/Page.js';\nimport {Target, TargetType} from '../api/Target.js';\nimport {debugError} from '../common/util.js';\nimport type {Viewport} from '../common/Viewport.js';\nimport {Deferred} from '../util/Deferred.js';\n\nimport {CdpCDPSession} from './CDPSession.js';\nimport {CdpPage} from './Page.js';\nimport type {TargetManager} from './TargetManager.js';\nimport {CdpWebWorker} from './WebWorker.js';\n\n/**\n * @internal\n */\nexport enum InitializationStatus {\n  SUCCESS = 'success',\n  ABORTED = 'aborted',\n}\n\n/**\n * @internal\n */\nexport class CdpTarget extends Target {\n  #browserContext?: BrowserContext;\n  #session?: CDPSession;\n  #targetInfo: Protocol.Target.TargetInfo;\n  #targetManager?: TargetManager;\n  #sessionFactory:\n    | ((isAutoAttachEmulated: boolean) => Promise<CDPSession>)\n    | undefined;\n  #childTargets = new Set<CdpTarget>();\n  _initializedDeferred = Deferred.create<InitializationStatus>();\n  _isClosedDeferred = Deferred.create<void>();\n  _targetId: string;\n\n  /**\n   * To initialize the target for use, call initialize.\n   *\n   * @internal\n   */\n  constructor(\n    targetInfo: Protocol.Target.TargetInfo,\n    session: CDPSession | undefined,\n    browserContext: BrowserContext | undefined,\n    targetManager: TargetManager | undefined,\n    sessionFactory:\n      | ((isAutoAttachEmulated: boolean) => Promise<CDPSession>)\n      | undefined\n  ) {\n    super();\n    this.#session = session;\n    this.#targetManager = targetManager;\n    this.#targetInfo = targetInfo;\n    this.#browserContext = browserContext;\n    this._targetId = targetInfo.targetId;\n    this.#sessionFactory = sessionFactory;\n    if (this.#session && this.#session instanceof CdpCDPSession) {\n      this.#session._setTarget(this);\n    }\n  }\n\n  override async asPage(): Promise<Page> {\n    const session = this._session();\n    if (!session) {\n      return await this.createCDPSession().then(client => {\n        return CdpPage._create(client, this, null);\n      });\n    }\n    return await CdpPage._create(session, this, null);\n  }\n\n  _subtype(): string | undefined {\n    return this.#targetInfo.subtype;\n  }\n\n  _session(): CDPSession | undefined {\n    return this.#session;\n  }\n\n  _addChildTarget(target: CdpTarget): void {\n    this.#childTargets.add(target);\n  }\n\n  _removeChildTarget(target: CdpTarget): void {\n    this.#childTargets.delete(target);\n  }\n\n  _childTargets(): ReadonlySet<CdpTarget> {\n    return this.#childTargets;\n  }\n\n  protected _sessionFactory(): (\n    isAutoAttachEmulated: boolean\n  ) => Promise<CDPSession> {\n    if (!this.#sessionFactory) {\n      throw new Error('sessionFactory is not initialized');\n    }\n    return this.#sessionFactory;\n  }\n\n  override createCDPSession(): Promise<CDPSession> {\n    if (!this.#sessionFactory) {\n      throw new Error('sessionFactory is not initialized');\n    }\n    return this.#sessionFactory(false).then(session => {\n      (session as CdpCDPSession)._setTarget(this);\n      return session;\n    });\n  }\n\n  override url(): string {\n    return this.#targetInfo.url;\n  }\n\n  override type(): TargetType {\n    const type = this.#targetInfo.type;\n    switch (type) {\n      case 'page':\n        return TargetType.PAGE;\n      case 'background_page':\n        return TargetType.BACKGROUND_PAGE;\n      case 'service_worker':\n        return TargetType.SERVICE_WORKER;\n      case 'shared_worker':\n        return TargetType.SHARED_WORKER;\n      case 'browser':\n        return TargetType.BROWSER;\n      case 'webview':\n        return TargetType.WEBVIEW;\n      case 'tab':\n        return TargetType.TAB;\n      default:\n        return TargetType.OTHER;\n    }\n  }\n\n  _targetManager(): TargetManager {\n    if (!this.#targetManager) {\n      throw new Error('targetManager is not initialized');\n    }\n    return this.#targetManager;\n  }\n\n  _getTargetInfo(): Protocol.Target.TargetInfo {\n    return this.#targetInfo;\n  }\n\n  override browser(): Browser {\n    if (!this.#browserContext) {\n      throw new Error('browserContext is not initialized');\n    }\n    return this.#browserContext.browser();\n  }\n\n  override browserContext(): BrowserContext {\n    if (!this.#browserContext) {\n      throw new Error('browserContext is not initialized');\n    }\n    return this.#browserContext;\n  }\n\n  override opener(): Target | undefined {\n    const {openerId} = this.#targetInfo;\n    if (!openerId) {\n      return;\n    }\n    return this.browser()\n      .targets()\n      .find(target => {\n        return (target as CdpTarget)._targetId === openerId;\n      });\n  }\n\n  _targetInfoChanged(targetInfo: Protocol.Target.TargetInfo): void {\n    this.#targetInfo = targetInfo;\n    this._checkIfInitialized();\n  }\n\n  _initialize(): void {\n    this._initializedDeferred.resolve(InitializationStatus.SUCCESS);\n  }\n\n  _isTargetExposed(): boolean {\n    return this.type() !== TargetType.TAB && !this._subtype();\n  }\n\n  protected _checkIfInitialized(): void {\n    if (!this._initializedDeferred.resolved()) {\n      this._initializedDeferred.resolve(InitializationStatus.SUCCESS);\n    }\n  }\n}\n\n/**\n * @internal\n */\nexport class PageTarget extends CdpTarget {\n  #defaultViewport?: Viewport;\n  protected pagePromise?: Promise<Page>;\n\n  constructor(\n    targetInfo: Protocol.Target.TargetInfo,\n    session: CDPSession | undefined,\n    browserContext: BrowserContext,\n    targetManager: TargetManager,\n    sessionFactory: (isAutoAttachEmulated: boolean) => Promise<CDPSession>,\n    defaultViewport: Viewport | null\n  ) {\n    super(targetInfo, session, browserContext, targetManager, sessionFactory);\n    this.#defaultViewport = defaultViewport ?? undefined;\n  }\n\n  override _initialize(): void {\n    this._initializedDeferred\n      .valueOrThrow()\n      .then(async result => {\n        if (result === InitializationStatus.ABORTED) {\n          return;\n        }\n        const opener = this.opener();\n        if (!(opener instanceof PageTarget)) {\n          return;\n        }\n        if (!opener || !opener.pagePromise || this.type() !== 'page') {\n          return true;\n        }\n        const openerPage = await opener.pagePromise;\n        if (!openerPage.listenerCount(PageEvent.Popup)) {\n          return true;\n        }\n        const popupPage = await this.page();\n        openerPage.emit(PageEvent.Popup, popupPage);\n        return true;\n      })\n      .catch(debugError);\n    this._checkIfInitialized();\n  }\n\n  override async page(): Promise<Page | null> {\n    if (!this.pagePromise) {\n      const session = this._session();\n      this.pagePromise = (\n        session\n          ? Promise.resolve(session)\n          : this._sessionFactory()(/* isAutoAttachEmulated=*/ false)\n      ).then(client => {\n        return CdpPage._create(client, this, this.#defaultViewport ?? null);\n      });\n    }\n    return (await this.pagePromise) ?? null;\n  }\n\n  override _checkIfInitialized(): void {\n    if (this._initializedDeferred.resolved()) {\n      return;\n    }\n    if (this._getTargetInfo().url !== '') {\n      this._initializedDeferred.resolve(InitializationStatus.SUCCESS);\n    }\n  }\n}\n\n/**\n * @internal\n */\nexport class DevToolsTarget extends PageTarget {}\n\n/**\n * @internal\n */\nexport class WorkerTarget extends CdpTarget {\n  #workerPromise?: Promise<CdpWebWorker>;\n\n  override async worker(): Promise<CdpWebWorker | null> {\n    if (!this.#workerPromise) {\n      const session = this._session();\n      // TODO(einbinder): Make workers send their console logs.\n      this.#workerPromise = (\n        session\n          ? Promise.resolve(session)\n          : this._sessionFactory()(/* isAutoAttachEmulated=*/ false)\n      ).then(client => {\n        return new CdpWebWorker(\n          client,\n          this._getTargetInfo().url,\n          this._targetId,\n          this.type(),\n          () => {} /* consoleAPICalled */,\n          () => {} /* exceptionThrown */\n        );\n      });\n    }\n    return await this.#workerPromise;\n  }\n}\n\n/**\n * @internal\n */\nexport class OtherTarget extends CdpTarget {}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Browser} from './Browser.js';\nimport type {BrowserContext} from './BrowserContext.js';\nimport type {CDPSession} from './CDPSession.js';\nimport type {Page} from './Page.js';\nimport type {WebWorker} from './WebWorker.js';\n\n/**\n * @public\n */\nexport enum TargetType {\n  PAGE = 'page',\n  BACKGROUND_PAGE = 'background_page',\n  SERVICE_WORKER = 'service_worker',\n  SHARED_WORKER = 'shared_worker',\n  BROWSER = 'browser',\n  WEBVIEW = 'webview',\n  OTHER = 'other',\n  /**\n   * @internal\n   */\n  TAB = 'tab',\n}\n\n/**\n * Target represents a\n * {@link https://chromedevtools.github.io/devtools-protocol/tot/Target/ | CDP target}.\n * In CDP a target is something that can be debugged such a frame, a page or a\n * worker.\n * @public\n */\nexport abstract class Target {\n  /**\n   * @internal\n   */\n  protected constructor() {}\n\n  /**\n   * If the target is not of type `\"service_worker\"` or `\"shared_worker\"`, returns `null`.\n   */\n  async worker(): Promise<WebWorker | null> {\n    return null;\n  }\n\n  /**\n   * If the target is not of type `\"page\"`, `\"webview\"` or `\"background_page\"`,\n   * returns `null`.\n   */\n  async page(): Promise<Page | null> {\n    return null;\n  }\n\n  /**\n   * Forcefully creates a page for a target of any type. It is useful if you\n   * want to handle a CDP target of type `other` as a page. If you deal with a\n   * regular page target, use {@link Target.page}.\n   */\n  abstract asPage(): Promise<Page>;\n\n  abstract url(): string;\n\n  /**\n   * Creates a Chrome Devtools Protocol session attached to the target.\n   */\n  abstract createCDPSession(): Promise<CDPSession>;\n\n  /**\n   * Identifies what kind of target this is.\n   *\n   * @remarks\n   *\n   * See {@link https://developer.chrome.com/extensions/background_pages | docs} for more info about background pages.\n   */\n  abstract type(): TargetType;\n\n  /**\n   * Get the browser the target belongs to.\n   */\n  abstract browser(): Browser;\n\n  /**\n   * Get the browser context the target belongs to.\n   */\n  abstract browserContext(): BrowserContext;\n\n  /**\n   * Get the target that opened this target. Top-level targets return `null`.\n   */\n  abstract opener(): Target | undefined;\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ProtocolMapping} from 'devtools-protocol/types/protocol-mapping.js';\n\nimport {\n  type CDPEvents,\n  CDPSession,\n  CDPSessionEvent,\n  type CommandOptions,\n} from '../api/CDPSession.js';\nimport {CallbackRegistry} from '../common/CallbackRegistry.js';\nimport {TargetCloseError} from '../common/Errors.js';\nimport {assert} from '../util/assert.js';\nimport {createProtocolErrorMessage} from '../util/ErrorLike.js';\n\nimport type {Connection} from './Connection.js';\nimport type {CdpTarget} from './Target.js';\n\n/**\n * @internal\n */\n\nexport class CdpCDPSession extends CDPSession {\n  #sessionId: string;\n  #targetType: string;\n  #callbacks = new CallbackRegistry();\n  #connection?: Connection;\n  #parentSessionId?: string;\n  #target?: CdpTarget;\n\n  /**\n   * @internal\n   */\n  constructor(\n    connection: Connection,\n    targetType: string,\n    sessionId: string,\n    parentSessionId: string | undefined\n  ) {\n    super();\n    this.#connection = connection;\n    this.#targetType = targetType;\n    this.#sessionId = sessionId;\n    this.#parentSessionId = parentSessionId;\n  }\n\n  /**\n   * Sets the {@link CdpTarget} associated with the session instance.\n   *\n   * @internal\n   */\n  _setTarget(target: CdpTarget): void {\n    this.#target = target;\n  }\n\n  /**\n   * Gets the {@link CdpTarget} associated with the session instance.\n   *\n   * @internal\n   */\n  _target(): CdpTarget {\n    assert(this.#target, 'Target must exist');\n    return this.#target;\n  }\n\n  override connection(): Connection | undefined {\n    return this.#connection;\n  }\n\n  override parentSession(): CDPSession | undefined {\n    if (!this.#parentSessionId) {\n      // To make it work in Firefox that does not have parent (tab) sessions.\n      return this;\n    }\n    const parent = this.#connection?.session(this.#parentSessionId);\n    return parent ?? undefined;\n  }\n\n  override send<T extends keyof ProtocolMapping.Commands>(\n    method: T,\n    params?: ProtocolMapping.Commands[T]['paramsType'][0],\n    options?: CommandOptions\n  ): Promise<ProtocolMapping.Commands[T]['returnType']> {\n    if (!this.#connection) {\n      return Promise.reject(\n        new TargetCloseError(\n          `Protocol error (${method}): Session closed. Most likely the ${this.#targetType} has been closed.`\n        )\n      );\n    }\n    return this.#connection._rawSend(\n      this.#callbacks,\n      method,\n      params,\n      this.#sessionId,\n      options\n    );\n  }\n\n  /**\n   * @internal\n   */\n  _onMessage(object: {\n    id?: number;\n    method: keyof CDPEvents;\n    params: CDPEvents[keyof CDPEvents];\n    error: {message: string; data: any; code: number};\n    result?: any;\n  }): void {\n    if (object.id) {\n      if (object.error) {\n        this.#callbacks.reject(\n          object.id,\n          createProtocolErrorMessage(object),\n          object.error.message\n        );\n      } else {\n        this.#callbacks.resolve(object.id, object.result);\n      }\n    } else {\n      assert(!object.id);\n      this.emit(object.method, object.params);\n    }\n  }\n\n  /**\n   * Detaches the cdpSession from the target. Once detached, the cdpSession object\n   * won't emit any events and can't be used to send messages.\n   */\n  override async detach(): Promise<void> {\n    if (!this.#connection) {\n      throw new Error(\n        `Session already detached. Most likely the ${this.#targetType} has been closed.`\n      );\n    }\n    await this.#connection.send('Target.detachFromTarget', {\n      sessionId: this.#sessionId,\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _onClosed(): void {\n    this.#callbacks.clear();\n    this.#connection = undefined;\n    this.emit(CDPSessionEvent.Disconnected, undefined);\n  }\n\n  /**\n   * Returns the session's id.\n   */\n  override id(): string {\n    return this.#sessionId;\n  }\n\n  /**\n   * @internal\n   */\n  getPendingProtocolErrors(): Error[] {\n    return this.#callbacks.getPendingProtocolErrors();\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {Deferred} from '../util/Deferred.js';\nimport {rewriteError} from '../util/ErrorLike.js';\n\nimport {ProtocolError, TargetCloseError} from './Errors.js';\nimport {debugError} from './util.js';\n\n/**\n * Manages callbacks and their IDs for the protocol request/response communication.\n *\n * @internal\n */\nexport class CallbackRegistry {\n  #callbacks = new Map<number, Callback>();\n  #idGenerator = createIncrementalIdGenerator();\n\n  create(\n    label: string,\n    timeout: number | undefined,\n    request: (id: number) => void\n  ): Promise<unknown> {\n    const callback = new Callback(this.#idGenerator(), label, timeout);\n    this.#callbacks.set(callback.id, callback);\n    try {\n      request(callback.id);\n    } catch (error) {\n      // We still throw sync errors synchronously and clean up the scheduled\n      // callback.\n      callback.promise.catch(debugError).finally(() => {\n        this.#callbacks.delete(callback.id);\n      });\n      callback.reject(error as Error);\n      throw error;\n    }\n    // Must only have sync code up until here.\n    return callback.promise.finally(() => {\n      this.#callbacks.delete(callback.id);\n    });\n  }\n\n  reject(id: number, message: string, originalMessage?: string): void {\n    const callback = this.#callbacks.get(id);\n    if (!callback) {\n      return;\n    }\n    this._reject(callback, message, originalMessage);\n  }\n\n  _reject(\n    callback: Callback,\n    errorMessage: string | ProtocolError,\n    originalMessage?: string\n  ): void {\n    let error: ProtocolError;\n    let message: string;\n    if (errorMessage instanceof ProtocolError) {\n      error = errorMessage;\n      error.cause = callback.error;\n      message = errorMessage.message;\n    } else {\n      error = callback.error;\n      message = errorMessage;\n    }\n\n    callback.reject(\n      rewriteError(\n        error,\n        `Protocol error (${callback.label}): ${message}`,\n        originalMessage\n      )\n    );\n  }\n\n  resolve(id: number, value: unknown): void {\n    const callback = this.#callbacks.get(id);\n    if (!callback) {\n      return;\n    }\n    callback.resolve(value);\n  }\n\n  clear(): void {\n    for (const callback of this.#callbacks.values()) {\n      // TODO: probably we can accept error messages as params.\n      this._reject(callback, new TargetCloseError('Target closed'));\n    }\n    this.#callbacks.clear();\n  }\n\n  /**\n   * @internal\n   */\n  getPendingProtocolErrors(): Error[] {\n    const result: Error[] = [];\n    for (const callback of this.#callbacks.values()) {\n      result.push(\n        new Error(`${callback.label} timed out. Trace: ${callback.error.stack}`)\n      );\n    }\n    return result;\n  }\n}\n/**\n * @internal\n */\n\nexport class Callback {\n  #id: number;\n  #error = new ProtocolError();\n  #deferred = Deferred.create<unknown>();\n  #timer?: ReturnType<typeof setTimeout>;\n  #label: string;\n\n  constructor(id: number, label: string, timeout?: number) {\n    this.#id = id;\n    this.#label = label;\n    if (timeout) {\n      this.#timer = setTimeout(() => {\n        this.#deferred.reject(\n          rewriteError(\n            this.#error,\n            `${label} timed out. Increase the 'protocolTimeout' setting in launch/connect calls for a higher timeout if needed.`\n          )\n        );\n      }, timeout);\n    }\n  }\n\n  resolve(value: unknown): void {\n    clearTimeout(this.#timer);\n    this.#deferred.resolve(value);\n  }\n\n  reject(error: Error): void {\n    clearTimeout(this.#timer);\n    this.#deferred.reject(error);\n  }\n\n  get id(): number {\n    return this.#id;\n  }\n\n  get promise(): Promise<unknown> {\n    return this.#deferred.valueOrThrow();\n  }\n\n  get error(): ProtocolError {\n    return this.#error;\n  }\n\n  get label(): string {\n    return this.#label;\n  }\n}\n\n/**\n * @internal\n */\nexport function createIncrementalIdGenerator(): GetIdFn {\n  let id = 0;\n  return (): number => {\n    return ++id;\n  };\n}\n\n/**\n * @internal\n */\nexport type GetIdFn = () => number;\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ProtocolError} from '../common/Errors.js';\n\n/**\n * @internal\n */\nexport interface ErrorLike extends Error {\n  name: string;\n  message: string;\n}\n\n/**\n * @internal\n */\nexport function isErrorLike(obj: unknown): obj is ErrorLike {\n  return (\n    typeof obj === 'object' && obj !== null && 'name' in obj && 'message' in obj\n  );\n}\n\n/**\n * @internal\n */\nexport function isErrnoException(obj: unknown): obj is NodeJS.ErrnoException {\n  return (\n    isErrorLike(obj) &&\n    ('errno' in obj || 'code' in obj || 'path' in obj || 'syscall' in obj)\n  );\n}\n\n/**\n * @internal\n */\nexport function rewriteError(\n  error: ProtocolError,\n  message: string,\n  originalMessage?: string\n): Error {\n  error.message = message;\n  error.originalMessage = originalMessage ?? error.originalMessage;\n  return error;\n}\n\n/**\n * @internal\n */\nexport function createProtocolErrorMessage(object: {\n  error: {message: string; data: any; code: number};\n}): string {\n  let message = object.error.message;\n  // TODO: remove the type checks when we stop connecting to BiDi with a CDP\n  // client.\n  if (\n    object.error &&\n    typeof object.error === 'object' &&\n    'data' in object.error\n  ) {\n    message += ` ${object.error.data}`;\n  }\n  return message;\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {firstValueFrom, from, raceWith} from '../../third_party/rxjs/rxjs.js';\nimport type {Browser} from '../api/Browser.js';\nimport type {BrowserContext} from '../api/BrowserContext.js';\nimport {CDPSessionEvent, type CDPSession} from '../api/CDPSession.js';\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport type {Frame, WaitForOptions} from '../api/Frame.js';\nimport type {HTTPRequest} from '../api/HTTPRequest.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\nimport type {JSHandle} from '../api/JSHandle.js';\nimport type {Credentials} from '../api/Page.js';\nimport {\n  Page,\n  PageEvent,\n  type GeolocationOptions,\n  type MediaFeature,\n  type Metrics,\n  type NewDocumentScriptEvaluation,\n  type ScreenshotClip,\n  type ScreenshotOptions,\n  type WaitTimeoutOptions,\n} from '../api/Page.js';\nimport {\n  ConsoleMessage,\n  type ConsoleMessageType,\n} from '../common/ConsoleMessage.js';\nimport type {\n  Cookie,\n  DeleteCookiesRequest,\n  CookieParam,\n} from '../common/Cookie.js';\nimport {TargetCloseError} from '../common/Errors.js';\nimport {FileChooser} from '../common/FileChooser.js';\nimport {NetworkManagerEvent} from '../common/NetworkManagerEvents.js';\nimport type {PDFOptions} from '../common/PDFOptions.js';\nimport type {BindingPayload, HandleFor} from '../common/types.js';\nimport {\n  debugError,\n  evaluationString,\n  getReadableAsBuffer,\n  getReadableFromProtocolStream,\n  parsePDFOptions,\n  timeout,\n  validateDialogType,\n} from '../common/util.js';\nimport type {Viewport} from '../common/Viewport.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {AsyncDisposableStack} from '../util/disposable.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\nimport {Binding} from './Binding.js';\nimport {CdpCDPSession} from './CDPSession.js';\nimport {isTargetClosedError} from './Connection.js';\nimport {Coverage} from './Coverage.js';\nimport type {DeviceRequestPrompt} from './DeviceRequestPrompt.js';\nimport {CdpDialog} from './Dialog.js';\nimport {EmulationManager} from './EmulationManager.js';\nimport {FirefoxTargetManager} from './FirefoxTargetManager.js';\nimport type {CdpFrame} from './Frame.js';\nimport {FrameManager} from './FrameManager.js';\nimport {FrameManagerEvent} from './FrameManagerEvents.js';\nimport {CdpKeyboard, CdpMouse, CdpTouchscreen} from './Input.js';\nimport type {IsolatedWorld} from './IsolatedWorld.js';\nimport {MAIN_WORLD} from './IsolatedWorlds.js';\nimport {releaseObject} from './JSHandle.js';\nimport type {NetworkConditions} from './NetworkManager.js';\nimport type {CdpTarget} from './Target.js';\nimport type {TargetManager} from './TargetManager.js';\nimport {TargetManagerEvent} from './TargetManager.js';\nimport {Tracing} from './Tracing.js';\nimport {\n  createClientError,\n  pageBindingInitString,\n  valueFromRemoteObject,\n} from './utils.js';\nimport {CdpWebWorker} from './WebWorker.js';\n\nfunction convertConsoleMessageLevel(method: string): ConsoleMessageType {\n  switch (method) {\n    case 'warning':\n      return 'warn';\n    default:\n      return method as ConsoleMessageType;\n  }\n}\n\n/**\n * @internal\n */\nexport class CdpPage extends Page {\n  static async _create(\n    client: CDPSession,\n    target: CdpTarget,\n    defaultViewport: Viewport | null\n  ): Promise<CdpPage> {\n    const page = new CdpPage(client, target);\n    await page.#initialize();\n    if (defaultViewport) {\n      try {\n        await page.setViewport(defaultViewport);\n      } catch (err) {\n        if (isErrorLike(err) && isTargetClosedError(err)) {\n          debugError(err);\n        } else {\n          throw err;\n        }\n      }\n    }\n    return page;\n  }\n\n  #closed = false;\n  readonly #targetManager: TargetManager;\n\n  #primaryTargetClient: CDPSession;\n  #primaryTarget: CdpTarget;\n  #tabTargetClient: CDPSession;\n  #tabTarget: CdpTarget;\n  #keyboard: CdpKeyboard;\n  #mouse: CdpMouse;\n  #touchscreen: CdpTouchscreen;\n  #frameManager: FrameManager;\n  #emulationManager: EmulationManager;\n  #tracing: Tracing;\n  #bindings = new Map<string, Binding>();\n  #exposedFunctions = new Map<string, string>();\n  #coverage: Coverage;\n  #viewport: Viewport | null;\n  #workers = new Map<string, CdpWebWorker>();\n  #fileChooserDeferreds = new Set<Deferred<FileChooser>>();\n  #sessionCloseDeferred = Deferred.create<never, TargetCloseError>();\n  #serviceWorkerBypassed = false;\n  #userDragInterceptionEnabled = false;\n\n  readonly #frameManagerHandlers = [\n    [\n      FrameManagerEvent.FrameAttached,\n      (frame: CdpFrame) => {\n        this.emit(PageEvent.FrameAttached, frame);\n      },\n    ],\n    [\n      FrameManagerEvent.FrameDetached,\n      (frame: CdpFrame) => {\n        this.emit(PageEvent.FrameDetached, frame);\n      },\n    ],\n    [\n      FrameManagerEvent.FrameNavigated,\n      (frame: CdpFrame) => {\n        this.emit(PageEvent.FrameNavigated, frame);\n      },\n    ],\n  ] as const;\n\n  readonly #networkManagerHandlers = [\n    [\n      NetworkManagerEvent.Request,\n      (request: HTTPRequest) => {\n        this.emit(PageEvent.Request, request);\n      },\n    ],\n    [\n      NetworkManagerEvent.RequestServedFromCache,\n      (request: HTTPRequest) => {\n        this.emit(PageEvent.RequestServedFromCache, request);\n      },\n    ],\n    [\n      NetworkManagerEvent.Response,\n      (response: HTTPResponse) => {\n        this.emit(PageEvent.Response, response);\n      },\n    ],\n    [\n      NetworkManagerEvent.RequestFailed,\n      (request: HTTPRequest) => {\n        this.emit(PageEvent.RequestFailed, request);\n      },\n    ],\n    [\n      NetworkManagerEvent.RequestFinished,\n      (request: HTTPRequest) => {\n        this.emit(PageEvent.RequestFinished, request);\n      },\n    ],\n  ] as const;\n\n  readonly #sessionHandlers = [\n    [\n      CDPSessionEvent.Disconnected,\n      () => {\n        this.#sessionCloseDeferred.reject(\n          new TargetCloseError('Target closed')\n        );\n      },\n    ],\n    [\n      'Page.domContentEventFired',\n      () => {\n        return this.emit(PageEvent.DOMContentLoaded, undefined);\n      },\n    ],\n    [\n      'Page.loadEventFired',\n      () => {\n        return this.emit(PageEvent.Load, undefined);\n      },\n    ],\n    ['Page.javascriptDialogOpening', this.#onDialog.bind(this)],\n    ['Runtime.exceptionThrown', this.#handleException.bind(this)],\n    ['Inspector.targetCrashed', this.#onTargetCrashed.bind(this)],\n    ['Performance.metrics', this.#emitMetrics.bind(this)],\n    ['Log.entryAdded', this.#onLogEntryAdded.bind(this)],\n    ['Page.fileChooserOpened', this.#onFileChooser.bind(this)],\n  ] as const;\n\n  constructor(client: CDPSession, target: CdpTarget) {\n    super();\n    this.#primaryTargetClient = client;\n    this.#tabTargetClient = client.parentSession()!;\n    assert(this.#tabTargetClient, 'Tab target session is not defined.');\n    this.#tabTarget = (this.#tabTargetClient as CdpCDPSession)._target();\n    assert(this.#tabTarget, 'Tab target is not defined.');\n    this.#primaryTarget = target;\n    this.#targetManager = target._targetManager();\n    this.#keyboard = new CdpKeyboard(client);\n    this.#mouse = new CdpMouse(client, this.#keyboard);\n    this.#touchscreen = new CdpTouchscreen(client, this.#keyboard);\n    this.#frameManager = new FrameManager(client, this, this._timeoutSettings);\n    this.#emulationManager = new EmulationManager(client);\n    this.#tracing = new Tracing(client);\n    this.#coverage = new Coverage(client);\n    this.#viewport = null;\n\n    for (const [eventName, handler] of this.#frameManagerHandlers) {\n      this.#frameManager.on(eventName, handler);\n    }\n\n    this.#frameManager.on(\n      FrameManagerEvent.ConsoleApiCalled,\n      ([world, event]: [\n        IsolatedWorld,\n        Protocol.Runtime.ConsoleAPICalledEvent,\n      ]) => {\n        this.#onConsoleAPI(world, event);\n      }\n    );\n\n    this.#frameManager.on(\n      FrameManagerEvent.BindingCalled,\n      ([world, event]: [\n        IsolatedWorld,\n        Protocol.Runtime.BindingCalledEvent,\n      ]) => {\n        void this.#onBindingCalled(world, event);\n      }\n    );\n\n    for (const [eventName, handler] of this.#networkManagerHandlers) {\n      // TODO: Remove any.\n      this.#frameManager.networkManager.on(eventName, handler as any);\n    }\n\n    this.#tabTargetClient.on(\n      CDPSessionEvent.Swapped,\n      this.#onActivation.bind(this)\n    );\n\n    this.#tabTargetClient.on(\n      CDPSessionEvent.Ready,\n      this.#onSecondaryTarget.bind(this)\n    );\n\n    this.#targetManager.on(\n      TargetManagerEvent.TargetGone,\n      this.#onDetachedFromTarget\n    );\n\n    this.#tabTarget._isClosedDeferred\n      .valueOrThrow()\n      .then(() => {\n        this.#targetManager.off(\n          TargetManagerEvent.TargetGone,\n          this.#onDetachedFromTarget\n        );\n\n        this.emit(PageEvent.Close, undefined);\n        this.#closed = true;\n      })\n      .catch(debugError);\n\n    this.#setupPrimaryTargetListeners();\n    this.#attachExistingTargets();\n  }\n\n  #attachExistingTargets(): void {\n    const queue = [];\n    for (const childTarget of this.#targetManager.getChildTargets(\n      this.#primaryTarget\n    )) {\n      queue.push(childTarget);\n    }\n    let idx = 0;\n    while (idx < queue.length) {\n      const next = queue[idx] as CdpTarget;\n      idx++;\n      const session = next._session();\n      if (session) {\n        this.#onAttachedToTarget(session);\n      }\n      for (const childTarget of this.#targetManager.getChildTargets(next)) {\n        queue.push(childTarget);\n      }\n    }\n  }\n\n  async #onActivation(newSession: CDPSession): Promise<void> {\n    this.#primaryTargetClient = newSession;\n    assert(\n      this.#primaryTargetClient instanceof CdpCDPSession,\n      'CDPSession is not instance of CDPSessionImpl'\n    );\n    this.#primaryTarget = this.#primaryTargetClient._target();\n    assert(this.#primaryTarget, 'Missing target on swap');\n    this.#keyboard.updateClient(newSession);\n    this.#mouse.updateClient(newSession);\n    this.#touchscreen.updateClient(newSession);\n    this.#emulationManager.updateClient(newSession);\n    this.#tracing.updateClient(newSession);\n    this.#coverage.updateClient(newSession);\n    await this.#frameManager.swapFrameTree(newSession);\n    this.#setupPrimaryTargetListeners();\n  }\n\n  async #onSecondaryTarget(session: CDPSession): Promise<void> {\n    assert(session instanceof CdpCDPSession);\n    if (session._target()._subtype() !== 'prerender') {\n      return;\n    }\n    this.#frameManager.registerSpeculativeSession(session).catch(debugError);\n    this.#emulationManager\n      .registerSpeculativeSession(session)\n      .catch(debugError);\n  }\n\n  /**\n   * Sets up listeners for the primary target. The primary target can change\n   * during a navigation to a prerended page.\n   */\n  #setupPrimaryTargetListeners() {\n    this.#primaryTargetClient.on(\n      CDPSessionEvent.Ready,\n      this.#onAttachedToTarget\n    );\n\n    for (const [eventName, handler] of this.#sessionHandlers) {\n      // TODO: Remove any.\n      this.#primaryTargetClient.on(eventName, handler as any);\n    }\n  }\n\n  #onDetachedFromTarget = (target: CdpTarget) => {\n    const sessionId = target._session()?.id();\n    const worker = this.#workers.get(sessionId!);\n    if (!worker) {\n      return;\n    }\n    this.#workers.delete(sessionId!);\n    this.emit(PageEvent.WorkerDestroyed, worker);\n  };\n\n  #onAttachedToTarget = (session: CDPSession) => {\n    assert(session instanceof CdpCDPSession);\n    this.#frameManager.onAttachedToTarget(session._target());\n    if (session._target()._getTargetInfo().type === 'worker') {\n      const worker = new CdpWebWorker(\n        session,\n        session._target().url(),\n        session._target()._targetId,\n        session._target().type(),\n        this.#addConsoleMessage.bind(this),\n        this.#handleException.bind(this)\n      );\n      this.#workers.set(session.id(), worker);\n      this.emit(PageEvent.WorkerCreated, worker);\n    }\n    session.on(CDPSessionEvent.Ready, this.#onAttachedToTarget);\n  };\n\n  async #initialize(): Promise<void> {\n    try {\n      await Promise.all([\n        this.#frameManager.initialize(this.#primaryTargetClient),\n        this.#primaryTargetClient.send('Performance.enable'),\n        this.#primaryTargetClient.send('Log.enable'),\n      ]);\n    } catch (err) {\n      if (isErrorLike(err) && isTargetClosedError(err)) {\n        debugError(err);\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  async #onFileChooser(\n    event: Protocol.Page.FileChooserOpenedEvent\n  ): Promise<void> {\n    if (!this.#fileChooserDeferreds.size) {\n      return;\n    }\n\n    const frame = this.#frameManager.frame(event.frameId);\n    assert(frame, 'This should never happen.');\n\n    // This is guaranteed to be an HTMLInputElement handle by the event.\n    using handle = (await frame.worlds[MAIN_WORLD].adoptBackendNode(\n      event.backendNodeId\n    )) as ElementHandle<HTMLInputElement>;\n\n    const fileChooser = new FileChooser(handle.move(), event);\n    for (const promise of this.#fileChooserDeferreds) {\n      promise.resolve(fileChooser);\n    }\n    this.#fileChooserDeferreds.clear();\n  }\n\n  _client(): CDPSession {\n    return this.#primaryTargetClient;\n  }\n\n  override isServiceWorkerBypassed(): boolean {\n    return this.#serviceWorkerBypassed;\n  }\n\n  override isDragInterceptionEnabled(): boolean {\n    return this.#userDragInterceptionEnabled;\n  }\n\n  override isJavaScriptEnabled(): boolean {\n    return this.#emulationManager.javascriptEnabled;\n  }\n\n  override async waitForFileChooser(\n    options: WaitTimeoutOptions = {}\n  ): Promise<FileChooser> {\n    const needsEnable = this.#fileChooserDeferreds.size === 0;\n    const {timeout = this._timeoutSettings.timeout()} = options;\n    const deferred = Deferred.create<FileChooser>({\n      message: `Waiting for \\`FileChooser\\` failed: ${timeout}ms exceeded`,\n      timeout,\n    });\n    this.#fileChooserDeferreds.add(deferred);\n    let enablePromise: Promise<void> | undefined;\n    if (needsEnable) {\n      enablePromise = this.#primaryTargetClient.send(\n        'Page.setInterceptFileChooserDialog',\n        {\n          enabled: true,\n        }\n      );\n    }\n    try {\n      const [result] = await Promise.all([\n        deferred.valueOrThrow(),\n        enablePromise,\n      ]);\n      return result;\n    } catch (error) {\n      this.#fileChooserDeferreds.delete(deferred);\n      throw error;\n    }\n  }\n\n  override async setGeolocation(options: GeolocationOptions): Promise<void> {\n    return await this.#emulationManager.setGeolocation(options);\n  }\n\n  override target(): CdpTarget {\n    return this.#primaryTarget;\n  }\n\n  override browser(): Browser {\n    return this.#primaryTarget.browser();\n  }\n\n  override browserContext(): BrowserContext {\n    return this.#primaryTarget.browserContext();\n  }\n\n  #onTargetCrashed(): void {\n    this.emit(PageEvent.Error, new Error('Page crashed!'));\n  }\n\n  #onLogEntryAdded(event: Protocol.Log.EntryAddedEvent): void {\n    const {level, text, args, source, url, lineNumber} = event.entry;\n    if (args) {\n      args.map(arg => {\n        void releaseObject(this.#primaryTargetClient, arg);\n      });\n    }\n    if (source !== 'worker') {\n      this.emit(\n        PageEvent.Console,\n        new ConsoleMessage(\n          convertConsoleMessageLevel(level),\n          text,\n          [],\n          [{url, lineNumber}]\n        )\n      );\n    }\n  }\n\n  override mainFrame(): CdpFrame {\n    return this.#frameManager.mainFrame();\n  }\n\n  override get keyboard(): CdpKeyboard {\n    return this.#keyboard;\n  }\n\n  override get touchscreen(): CdpTouchscreen {\n    return this.#touchscreen;\n  }\n\n  override get coverage(): Coverage {\n    return this.#coverage;\n  }\n\n  override get tracing(): Tracing {\n    return this.#tracing;\n  }\n\n  override frames(): Frame[] {\n    return this.#frameManager.frames();\n  }\n\n  override workers(): CdpWebWorker[] {\n    return Array.from(this.#workers.values());\n  }\n\n  override async setRequestInterception(value: boolean): Promise<void> {\n    return await this.#frameManager.networkManager.setRequestInterception(\n      value\n    );\n  }\n\n  override async setBypassServiceWorker(bypass: boolean): Promise<void> {\n    this.#serviceWorkerBypassed = bypass;\n    return await this.#primaryTargetClient.send(\n      'Network.setBypassServiceWorker',\n      {bypass}\n    );\n  }\n\n  override async setDragInterception(enabled: boolean): Promise<void> {\n    this.#userDragInterceptionEnabled = enabled;\n    return await this.#primaryTargetClient.send('Input.setInterceptDrags', {\n      enabled,\n    });\n  }\n\n  override async setOfflineMode(enabled: boolean): Promise<void> {\n    return await this.#frameManager.networkManager.setOfflineMode(enabled);\n  }\n\n  override async emulateNetworkConditions(\n    networkConditions: NetworkConditions | null\n  ): Promise<void> {\n    return await this.#frameManager.networkManager.emulateNetworkConditions(\n      networkConditions\n    );\n  }\n\n  override setDefaultNavigationTimeout(timeout: number): void {\n    this._timeoutSettings.setDefaultNavigationTimeout(timeout);\n  }\n\n  override setDefaultTimeout(timeout: number): void {\n    this._timeoutSettings.setDefaultTimeout(timeout);\n  }\n\n  override getDefaultTimeout(): number {\n    return this._timeoutSettings.timeout();\n  }\n\n  override async queryObjects<Prototype>(\n    prototypeHandle: JSHandle<Prototype>\n  ): Promise<JSHandle<Prototype[]>> {\n    assert(!prototypeHandle.disposed, 'Prototype JSHandle is disposed!');\n    assert(\n      prototypeHandle.id,\n      'Prototype JSHandle must not be referencing primitive value'\n    );\n    const response = await this.mainFrame().client.send(\n      'Runtime.queryObjects',\n      {\n        prototypeObjectId: prototypeHandle.id,\n      }\n    );\n    return this.mainFrame()\n      .mainRealm()\n      .createCdpHandle(response.objects) as HandleFor<Prototype[]>;\n  }\n\n  override async cookies(...urls: string[]): Promise<Cookie[]> {\n    const originalCookies = (\n      await this.#primaryTargetClient.send('Network.getCookies', {\n        urls: urls.length ? urls : [this.url()],\n      })\n    ).cookies;\n\n    const unsupportedCookieAttributes = ['sourcePort'];\n    const filterUnsupportedAttributes = (\n      cookie: Protocol.Network.Cookie\n    ): Protocol.Network.Cookie => {\n      for (const attr of unsupportedCookieAttributes) {\n        delete (cookie as unknown as Record<string, unknown>)[attr];\n      }\n      return cookie;\n    };\n    return originalCookies.map(filterUnsupportedAttributes);\n  }\n\n  override async deleteCookie(\n    ...cookies: DeleteCookiesRequest[]\n  ): Promise<void> {\n    const pageURL = this.url();\n    for (const cookie of cookies) {\n      const item = Object.assign({}, cookie);\n      if (!cookie.url && pageURL.startsWith('http')) {\n        item.url = pageURL;\n      }\n      await this.#primaryTargetClient.send('Network.deleteCookies', item);\n    }\n  }\n\n  override async setCookie(...cookies: CookieParam[]): Promise<void> {\n    const pageURL = this.url();\n    const startsWithHTTP = pageURL.startsWith('http');\n    const items = cookies.map(cookie => {\n      const item = Object.assign({}, cookie);\n      if (!item.url && startsWithHTTP) {\n        item.url = pageURL;\n      }\n      assert(\n        item.url !== 'about:blank',\n        `Blank page can not have cookie \"${item.name}\"`\n      );\n      assert(\n        !String.prototype.startsWith.call(item.url || '', 'data:'),\n        `Data URL page can not have cookie \"${item.name}\"`\n      );\n      return item;\n    });\n    await this.deleteCookie(...items);\n    if (items.length) {\n      await this.#primaryTargetClient.send('Network.setCookies', {\n        cookies: items,\n      });\n    }\n  }\n\n  override async exposeFunction(\n    name: string,\n    pptrFunction: Function | {default: Function}\n  ): Promise<void> {\n    if (this.#bindings.has(name)) {\n      throw new Error(\n        `Failed to add page binding with name ${name}: window['${name}'] already exists!`\n      );\n    }\n    const source = pageBindingInitString('exposedFun', name);\n    let binding: Binding;\n    switch (typeof pptrFunction) {\n      case 'function':\n        binding = new Binding(\n          name,\n          pptrFunction as (...args: unknown[]) => unknown,\n          source\n        );\n        break;\n      default:\n        binding = new Binding(\n          name,\n          pptrFunction.default as (...args: unknown[]) => unknown,\n          source\n        );\n        break;\n    }\n    this.#bindings.set(name, binding);\n    const [{identifier}] = await Promise.all([\n      this.#frameManager.evaluateOnNewDocument(source),\n      this.#frameManager.addExposedFunctionBinding(binding),\n    ]);\n    this.#exposedFunctions.set(name, identifier);\n  }\n\n  override async removeExposedFunction(name: string): Promise<void> {\n    const exposedFunctionId = this.#exposedFunctions.get(name);\n    if (!exposedFunctionId) {\n      throw new Error(`Function with name \"${name}\" does not exist`);\n    }\n    // #bindings must be updated together with #exposedFunctions.\n    const binding = this.#bindings.get(name)!;\n    this.#exposedFunctions.delete(name);\n    this.#bindings.delete(name);\n    await Promise.all([\n      this.#frameManager.removeScriptToEvaluateOnNewDocument(exposedFunctionId),\n      this.#frameManager.removeExposedFunctionBinding(binding),\n    ]);\n  }\n\n  override async authenticate(credentials: Credentials | null): Promise<void> {\n    return await this.#frameManager.networkManager.authenticate(credentials);\n  }\n\n  override async setExtraHTTPHeaders(\n    headers: Record<string, string>\n  ): Promise<void> {\n    return await this.#frameManager.networkManager.setExtraHTTPHeaders(headers);\n  }\n\n  override async setUserAgent(\n    userAgent: string,\n    userAgentMetadata?: Protocol.Emulation.UserAgentMetadata\n  ): Promise<void> {\n    return await this.#frameManager.networkManager.setUserAgent(\n      userAgent,\n      userAgentMetadata\n    );\n  }\n\n  override async metrics(): Promise<Metrics> {\n    const response = await this.#primaryTargetClient.send(\n      'Performance.getMetrics'\n    );\n    return this.#buildMetricsObject(response.metrics);\n  }\n\n  #emitMetrics(event: Protocol.Performance.MetricsEvent): void {\n    this.emit(PageEvent.Metrics, {\n      title: event.title,\n      metrics: this.#buildMetricsObject(event.metrics),\n    });\n  }\n\n  #buildMetricsObject(metrics?: Protocol.Performance.Metric[]): Metrics {\n    const result: Record<\n      Protocol.Performance.Metric['name'],\n      Protocol.Performance.Metric['value']\n    > = {};\n    for (const metric of metrics || []) {\n      if (supportedMetrics.has(metric.name)) {\n        result[metric.name] = metric.value;\n      }\n    }\n    return result;\n  }\n\n  #handleException(exception: Protocol.Runtime.ExceptionThrownEvent): void {\n    this.emit(\n      PageEvent.PageError,\n      createClientError(exception.exceptionDetails)\n    );\n  }\n\n  #onConsoleAPI(\n    world: IsolatedWorld,\n    event: Protocol.Runtime.ConsoleAPICalledEvent\n  ): void {\n    const values = event.args.map(arg => {\n      return world.createCdpHandle(arg);\n    });\n    this.#addConsoleMessage(\n      convertConsoleMessageLevel(event.type),\n      values,\n      event.stackTrace\n    );\n  }\n\n  async #onBindingCalled(\n    world: IsolatedWorld,\n    event: Protocol.Runtime.BindingCalledEvent\n  ): Promise<void> {\n    let payload: BindingPayload;\n    try {\n      payload = JSON.parse(event.payload);\n    } catch {\n      // The binding was either called by something in the page or it was\n      // called before our wrapper was initialized.\n      return;\n    }\n    const {type, name, seq, args, isTrivial} = payload;\n    if (type !== 'exposedFun') {\n      return;\n    }\n\n    const context = world.context;\n    if (!context) {\n      return;\n    }\n\n    const binding = this.#bindings.get(name);\n    await binding?.run(context, seq, args, isTrivial);\n  }\n\n  #addConsoleMessage(\n    eventType: string,\n    args: JSHandle[],\n    stackTrace?: Protocol.Runtime.StackTrace\n  ): void {\n    if (!this.listenerCount(PageEvent.Console)) {\n      args.forEach(arg => {\n        return arg.dispose();\n      });\n      return;\n    }\n    const textTokens = [];\n    // eslint-disable-next-line max-len -- The comment is long.\n    // eslint-disable-next-line rulesdir/use-using -- These are not owned by this function.\n    for (const arg of args) {\n      const remoteObject = arg.remoteObject();\n      if (remoteObject.objectId) {\n        textTokens.push(arg.toString());\n      } else {\n        textTokens.push(valueFromRemoteObject(remoteObject));\n      }\n    }\n    const stackTraceLocations = [];\n    if (stackTrace) {\n      for (const callFrame of stackTrace.callFrames) {\n        stackTraceLocations.push({\n          url: callFrame.url,\n          lineNumber: callFrame.lineNumber,\n          columnNumber: callFrame.columnNumber,\n        });\n      }\n    }\n    const message = new ConsoleMessage(\n      convertConsoleMessageLevel(eventType),\n      textTokens.join(' '),\n      args,\n      stackTraceLocations\n    );\n    this.emit(PageEvent.Console, message);\n  }\n\n  #onDialog(event: Protocol.Page.JavascriptDialogOpeningEvent): void {\n    const type = validateDialogType(event.type);\n    const dialog = new CdpDialog(\n      this.#primaryTargetClient,\n      type,\n      event.message,\n      event.defaultPrompt\n    );\n    this.emit(PageEvent.Dialog, dialog);\n  }\n\n  override async reload(\n    options?: WaitForOptions\n  ): Promise<HTTPResponse | null> {\n    const [result] = await Promise.all([\n      this.waitForNavigation({\n        ...options,\n        ignoreSameDocumentNavigation: true,\n      }),\n      this.#primaryTargetClient.send('Page.reload'),\n    ]);\n\n    return result;\n  }\n\n  override async createCDPSession(): Promise<CDPSession> {\n    return await this.target().createCDPSession();\n  }\n\n  override async goBack(\n    options: WaitForOptions = {}\n  ): Promise<HTTPResponse | null> {\n    return await this.#go(-1, options);\n  }\n\n  override async goForward(\n    options: WaitForOptions = {}\n  ): Promise<HTTPResponse | null> {\n    return await this.#go(+1, options);\n  }\n\n  async #go(\n    delta: number,\n    options: WaitForOptions\n  ): Promise<HTTPResponse | null> {\n    const history = await this.#primaryTargetClient.send(\n      'Page.getNavigationHistory'\n    );\n    const entry = history.entries[history.currentIndex + delta];\n    if (!entry) {\n      return null;\n    }\n    const result = await Promise.all([\n      this.waitForNavigation(options),\n      this.#primaryTargetClient.send('Page.navigateToHistoryEntry', {\n        entryId: entry.id,\n      }),\n    ]);\n    return result[0];\n  }\n\n  override async bringToFront(): Promise<void> {\n    await this.#primaryTargetClient.send('Page.bringToFront');\n  }\n\n  override async setJavaScriptEnabled(enabled: boolean): Promise<void> {\n    return await this.#emulationManager.setJavaScriptEnabled(enabled);\n  }\n\n  override async setBypassCSP(enabled: boolean): Promise<void> {\n    await this.#primaryTargetClient.send('Page.setBypassCSP', {enabled});\n  }\n\n  override async emulateMediaType(type?: string): Promise<void> {\n    return await this.#emulationManager.emulateMediaType(type);\n  }\n\n  override async emulateCPUThrottling(factor: number | null): Promise<void> {\n    return await this.#emulationManager.emulateCPUThrottling(factor);\n  }\n\n  override async emulateMediaFeatures(\n    features?: MediaFeature[]\n  ): Promise<void> {\n    return await this.#emulationManager.emulateMediaFeatures(features);\n  }\n\n  override async emulateTimezone(timezoneId?: string): Promise<void> {\n    return await this.#emulationManager.emulateTimezone(timezoneId);\n  }\n\n  override async emulateIdleState(overrides?: {\n    isUserActive: boolean;\n    isScreenUnlocked: boolean;\n  }): Promise<void> {\n    return await this.#emulationManager.emulateIdleState(overrides);\n  }\n\n  override async emulateVisionDeficiency(\n    type?: Protocol.Emulation.SetEmulatedVisionDeficiencyRequest['type']\n  ): Promise<void> {\n    return await this.#emulationManager.emulateVisionDeficiency(type);\n  }\n\n  override async setViewport(viewport: Viewport | null): Promise<void> {\n    const needsReload = await this.#emulationManager.emulateViewport(viewport);\n    this.#viewport = viewport;\n    if (needsReload) {\n      await this.reload();\n    }\n  }\n\n  override viewport(): Viewport | null {\n    return this.#viewport;\n  }\n\n  override async evaluateOnNewDocument<\n    Params extends unknown[],\n    Func extends (...args: Params) => unknown = (...args: Params) => unknown,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<NewDocumentScriptEvaluation> {\n    const source = evaluationString(pageFunction, ...args);\n    return await this.#frameManager.evaluateOnNewDocument(source);\n  }\n\n  override async removeScriptToEvaluateOnNewDocument(\n    identifier: string\n  ): Promise<void> {\n    return await this.#frameManager.removeScriptToEvaluateOnNewDocument(\n      identifier\n    );\n  }\n\n  override async setCacheEnabled(enabled = true): Promise<void> {\n    await this.#frameManager.networkManager.setCacheEnabled(enabled);\n  }\n\n  override async _screenshot(\n    options: Readonly<ScreenshotOptions>\n  ): Promise<string> {\n    const {\n      fromSurface,\n      omitBackground,\n      optimizeForSpeed,\n      quality,\n      clip: userClip,\n      type,\n      captureBeyondViewport,\n    } = options;\n\n    const isFirefox =\n      this.target()._targetManager() instanceof FirefoxTargetManager;\n\n    await using stack = new AsyncDisposableStack();\n    // Firefox omits background by default; it's not configurable.\n    if (!isFirefox && omitBackground && (type === 'png' || type === 'webp')) {\n      await this.#emulationManager.setTransparentBackgroundColor();\n      stack.defer(async () => {\n        await this.#emulationManager\n          .resetDefaultBackgroundColor()\n          .catch(debugError);\n      });\n    }\n\n    let clip = userClip;\n    if (clip && !captureBeyondViewport) {\n      const viewport = await this.mainFrame()\n        .isolatedRealm()\n        .evaluate(() => {\n          const {\n            height,\n            pageLeft: x,\n            pageTop: y,\n            width,\n          } = window.visualViewport!;\n          return {x, y, height, width};\n        });\n      clip = getIntersectionRect(clip, viewport);\n    }\n\n    // We need to do these spreads because Firefox doesn't allow unknown options.\n    const {data} = await this.#primaryTargetClient.send(\n      'Page.captureScreenshot',\n      {\n        format: type,\n        ...(optimizeForSpeed ? {optimizeForSpeed} : {}),\n        ...(quality !== undefined ? {quality: Math.round(quality)} : {}),\n        ...(clip ? {clip: {...clip, scale: clip.scale ?? 1}} : {}),\n        ...(!fromSurface ? {fromSurface} : {}),\n        captureBeyondViewport,\n      }\n    );\n    return data;\n  }\n\n  override async createPDFStream(\n    options: PDFOptions = {}\n  ): Promise<ReadableStream<Uint8Array>> {\n    const {timeout: ms = this._timeoutSettings.timeout()} = options;\n    const {\n      landscape,\n      displayHeaderFooter,\n      headerTemplate,\n      footerTemplate,\n      printBackground,\n      scale,\n      width: paperWidth,\n      height: paperHeight,\n      margin,\n      pageRanges,\n      preferCSSPageSize,\n      omitBackground,\n      tagged: generateTaggedPDF,\n      outline: generateDocumentOutline,\n      waitForFonts,\n    } = parsePDFOptions(options);\n\n    if (omitBackground) {\n      await this.#emulationManager.setTransparentBackgroundColor();\n    }\n\n    if (waitForFonts) {\n      await firstValueFrom(\n        from(\n          this.mainFrame()\n            .isolatedRealm()\n            .evaluate(() => {\n              return document.fonts.ready;\n            })\n        ).pipe(raceWith(timeout(ms)))\n      );\n    }\n\n    const printCommandPromise = this.#primaryTargetClient.send(\n      'Page.printToPDF',\n      {\n        transferMode: 'ReturnAsStream',\n        landscape,\n        displayHeaderFooter,\n        headerTemplate,\n        footerTemplate,\n        printBackground,\n        scale,\n        paperWidth,\n        paperHeight,\n        marginTop: margin.top,\n        marginBottom: margin.bottom,\n        marginLeft: margin.left,\n        marginRight: margin.right,\n        pageRanges,\n        preferCSSPageSize,\n        generateTaggedPDF,\n        generateDocumentOutline,\n      }\n    );\n\n    const result = await firstValueFrom(\n      from(printCommandPromise).pipe(raceWith(timeout(ms)))\n    );\n\n    if (omitBackground) {\n      await this.#emulationManager.resetDefaultBackgroundColor();\n    }\n\n    assert(result.stream, '`stream` is missing from `Page.printToPDF');\n    return await getReadableFromProtocolStream(\n      this.#primaryTargetClient,\n      result.stream\n    );\n  }\n\n  override async pdf(options: PDFOptions = {}): Promise<Buffer> {\n    const {path = undefined} = options;\n    const readable = await this.createPDFStream(options);\n    const buffer = await getReadableAsBuffer(readable, path);\n    assert(buffer, 'Could not create buffer');\n    return buffer;\n  }\n\n  override async close(\n    options: {runBeforeUnload?: boolean} = {runBeforeUnload: undefined}\n  ): Promise<void> {\n    using _guard = await this.browserContext().waitForScreenshotOperations();\n    const connection = this.#primaryTargetClient.connection();\n    assert(\n      connection,\n      'Protocol error: Connection closed. Most likely the page has been closed.'\n    );\n    const runBeforeUnload = !!options.runBeforeUnload;\n    if (runBeforeUnload) {\n      await this.#primaryTargetClient.send('Page.close');\n    } else {\n      await connection.send('Target.closeTarget', {\n        targetId: this.#primaryTarget._targetId,\n      });\n      await this.#tabTarget._isClosedDeferred.valueOrThrow();\n    }\n  }\n\n  override isClosed(): boolean {\n    return this.#closed;\n  }\n\n  override get mouse(): CdpMouse {\n    return this.#mouse;\n  }\n\n  /**\n   * This method is typically coupled with an action that triggers a device\n   * request from an api such as WebBluetooth.\n   *\n   * :::caution\n   *\n   * This must be called before the device request is made. It will not return a\n   * currently active device prompt.\n   *\n   * :::\n   *\n   * @example\n   *\n   * ```ts\n   * const [devicePrompt] = Promise.all([\n   *   page.waitForDevicePrompt(),\n   *   page.click('#connect-bluetooth'),\n   * ]);\n   * await devicePrompt.select(\n   *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n   * );\n   * ```\n   */\n  override async waitForDevicePrompt(\n    options: WaitTimeoutOptions = {}\n  ): Promise<DeviceRequestPrompt> {\n    return await this.mainFrame().waitForDevicePrompt(options);\n  }\n}\n\nconst supportedMetrics = new Set<string>([\n  'Timestamp',\n  'Documents',\n  'Frames',\n  'JSEventListeners',\n  'Nodes',\n  'LayoutCount',\n  'RecalcStyleCount',\n  'LayoutDuration',\n  'RecalcStyleDuration',\n  'ScriptDuration',\n  'TaskDuration',\n  'JSHeapUsedSize',\n  'JSHeapTotalSize',\n]);\n\n/** @see https://w3c.github.io/webdriver-bidi/#rectangle-intersection */\nfunction getIntersectionRect(\n  clip: Readonly<ScreenshotClip>,\n  viewport: Readonly<Protocol.DOM.Rect>\n): ScreenshotClip {\n  // Note these will already be normalized.\n  const x = Math.max(clip.x, viewport.x);\n  const y = Math.max(clip.y, viewport.y);\n  return {\n    x,\n    y,\n    width: Math.max(\n      Math.min(clip.x + clip.width, viewport.x + viewport.width) - x,\n      0\n    ),\n    height: Math.max(\n      Math.min(clip.y + clip.height, viewport.y + viewport.height) - y,\n      0\n    ),\n  };\n}\n", "/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst DEFAULT_TIMEOUT = 30000;\n\n/**\n * @internal\n */\nexport class TimeoutSettings {\n  #defaultTimeout: number | null;\n  #defaultNavigationTimeout: number | null;\n\n  constructor() {\n    this.#defaultTimeout = null;\n    this.#defaultNavigationTimeout = null;\n  }\n\n  setDefaultTimeout(timeout: number): void {\n    this.#defaultTimeout = timeout;\n  }\n\n  setDefaultNavigationTimeout(timeout: number): void {\n    this.#defaultNavigationTimeout = timeout;\n  }\n\n  navigationTimeout(): number {\n    if (this.#defaultNavigationTimeout !== null) {\n      return this.#defaultNavigationTimeout;\n    }\n    if (this.#defaultTimeout !== null) {\n      return this.#defaultTimeout;\n    }\n    return DEFAULT_TIMEOUT;\n  }\n\n  timeout(): number {\n    if (this.#defaultTimeout !== null) {\n      return this.#defaultTimeout;\n    }\n    return DEFAULT_TIMEOUT;\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {EventType} from '../common/EventEmitter.js';\nimport type {EventEmitter} from '../common/EventEmitter.js';\nimport type {Disposed, Moveable} from '../common/types.js';\n\nimport {asyncDisposeSymbol, disposeSymbol} from './disposable.js';\nimport {Mutex} from './Mutex.js';\n\nconst instances = new WeakSet<object>();\n\nexport function moveable<\n  Class extends abstract new (...args: never[]) => Moveable,\n>(Class: Class, _: ClassDecoratorContext<Class>): Class {\n  let hasDispose = false;\n  if (Class.prototype[disposeSymbol]) {\n    const dispose = Class.prototype[disposeSymbol];\n    Class.prototype[disposeSymbol] = function (this: InstanceType<Class>) {\n      if (instances.has(this)) {\n        instances.delete(this);\n        return;\n      }\n      return dispose.call(this);\n    };\n    hasDispose = true;\n  }\n  if (Class.prototype[asyncDisposeSymbol]) {\n    const asyncDispose = Class.prototype[asyncDisposeSymbol];\n    Class.prototype[asyncDisposeSymbol] = function (this: InstanceType<Class>) {\n      if (instances.has(this)) {\n        instances.delete(this);\n        return;\n      }\n      return asyncDispose.call(this);\n    };\n    hasDispose = true;\n  }\n  if (hasDispose) {\n    Class.prototype.move = function (\n      this: InstanceType<Class>\n    ): InstanceType<Class> {\n      instances.add(this);\n      return this;\n    };\n  }\n  return Class;\n}\n\nexport function throwIfDisposed<This extends Disposed>(\n  message: (value: This) => string = value => {\n    return `Attempted to use disposed ${value.constructor.name}.`;\n  }\n) {\n  return (target: (this: This, ...args: any[]) => any, _: unknown) => {\n    return function (this: This, ...args: any[]): any {\n      if (this.disposed) {\n        throw new Error(message(this));\n      }\n      return target.call(this, ...args);\n    };\n  };\n}\n\nexport function inertIfDisposed<This extends Disposed>(\n  target: (this: This, ...args: any[]) => any,\n  _: unknown\n) {\n  return function (this: This, ...args: any[]): any {\n    if (this.disposed) {\n      return;\n    }\n    return target.call(this, ...args);\n  };\n}\n\n/**\n * The decorator only invokes the target if the target has not been invoked with\n * the same arguments before. The decorated method throws an error if it's\n * invoked with a different number of elements: if you decorate a method, it\n * should have the same number of arguments\n *\n * @internal\n */\nexport function invokeAtMostOnceForArguments(\n  target: (this: unknown, ...args: any[]) => any,\n  _: unknown\n): typeof target {\n  const cache = new WeakMap();\n  let cacheDepth = -1;\n  return function (this: unknown, ...args: unknown[]) {\n    if (cacheDepth === -1) {\n      cacheDepth = args.length;\n    }\n    if (cacheDepth !== args.length) {\n      throw new Error(\n        'Memoized method was called with the wrong number of arguments'\n      );\n    }\n    let freshArguments = false;\n    let cacheIterator = cache;\n    for (const arg of args) {\n      if (cacheIterator.has(arg as object)) {\n        cacheIterator = cacheIterator.get(arg as object)!;\n      } else {\n        freshArguments = true;\n        cacheIterator.set(arg as object, new WeakMap());\n        cacheIterator = cacheIterator.get(arg as object)!;\n      }\n    }\n    if (!freshArguments) {\n      return;\n    }\n    return target.call(this, ...args);\n  };\n}\n\nexport function guarded<T extends object>(\n  getKey = function (this: T): object {\n    return this;\n  }\n) {\n  return (\n    target: (this: T, ...args: any[]) => Promise<any>,\n    _: ClassMethodDecoratorContext<T>\n  ): typeof target => {\n    const mutexes = new WeakMap<object, Mutex>();\n    return async function (...args) {\n      const key = getKey.call(this);\n      let mutex = mutexes.get(key);\n      if (!mutex) {\n        mutex = new Mutex();\n        mutexes.set(key, mutex);\n      }\n      await using _ = await mutex.acquire();\n      return await target.call(this, ...args);\n    };\n  };\n}\n\nconst bubbleHandlers = new WeakMap<object, Map<any, any>>();\nconst bubbleInitializer = function <\n  T extends EventType[],\n  This extends EventEmitter<any>,\n>(this: This, events?: T) {\n  const handlers = bubbleHandlers.get(this) ?? new Map();\n  if (handlers.has(events)) {\n    return;\n  }\n\n  const handler =\n    events !== undefined\n      ? (type: EventType, event: unknown) => {\n          if (events.includes(type)) {\n            this.emit(type, event);\n          }\n        }\n      : (type: EventType, event: unknown) => {\n          this.emit(type, event);\n        };\n\n  handlers.set(events, handler);\n  bubbleHandlers.set(this, handlers);\n};\n/**\n * Event emitter fields marked with `bubble` will have their events bubble up\n * the field owner.\n */\n// The type is too complicated to type.\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function bubble<T extends EventType[]>(events?: T) {\n  return <This extends EventEmitter<any>, Value extends EventEmitter<any>>(\n    {set, get}: ClassAccessorDecoratorTarget<This, Value>,\n    context: ClassAccessorDecoratorContext<This, Value>\n  ): ClassAccessorDecoratorResult<This, Value> => {\n    context.addInitializer(function () {\n      return bubbleInitializer.apply(this, [events]);\n    });\n    return {\n      set(emitter) {\n        const handler = bubbleHandlers.get(this)!.get(events)!;\n\n        // In case we are re-setting.\n        const oldEmitter = get.call(this);\n        if (oldEmitter !== undefined) {\n          oldEmitter.off('*', handler);\n        }\n\n        if (emitter === undefined) {\n          return;\n        }\n        emitter.on('*', handler);\n        set.call(this, emitter);\n      },\n      init(emitter) {\n        if (emitter === undefined) {\n          return emitter;\n        }\n\n        bubbleInitializer.apply(this, [events]);\n\n        const handler = bubbleHandlers.get(this)!.get(events)!;\n        emitter.on('*', handler as any);\n        return emitter;\n      },\n    };\n  };\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {\n  Observable,\n  OperatorFunction,\n} from '../../../third_party/rxjs/rxjs.js';\nimport {\n  EMPTY,\n  catchError,\n  defaultIfEmpty,\n  defer,\n  filter,\n  first,\n  firstValueFrom,\n  from,\n  identity,\n  ignoreElements,\n  map,\n  merge,\n  mergeMap,\n  noop,\n  pipe,\n  race,\n  raceWith,\n  retry,\n  tap,\n  throwIfEmpty,\n} from '../../../third_party/rxjs/rxjs.js';\nimport type {EventType} from '../../common/EventEmitter.js';\nimport {EventEmitter} from '../../common/EventEmitter.js';\nimport type {Awaitable, HandleFor, NodeFor} from '../../common/types.js';\nimport {debugError, fromAbortSignal, timeout} from '../../common/util.js';\nimport type {\n  BoundingBox,\n  ClickOptions,\n  ElementHandle,\n} from '../ElementHandle.js';\nimport type {Frame} from '../Frame.js';\nimport type {Page} from '../Page.js';\n\n/**\n * Whether to wait for the element to be\n * {@link ElementHandle.isVisible | visible} or\n * {@link ElementHandle.isHidden | hidden}.\n * `null` to disable visibility checks.\n *\n * @public\n */\nexport type VisibilityOption = 'hidden' | 'visible' | null;\n\n/**\n * @public\n */\nexport interface ActionOptions {\n  /**\n   * A signal to abort the locator action.\n   */\n  signal?: AbortSignal;\n}\n/**\n * @public\n */\nexport type LocatorClickOptions = ClickOptions & ActionOptions;\n/**\n * @public\n */\nexport interface LocatorScrollOptions extends ActionOptions {\n  scrollTop?: number;\n  scrollLeft?: number;\n}\n/**\n * All the events that a locator instance may emit.\n *\n * @public\n */\nexport enum LocatorEvent {\n  /**\n   * Emitted every time before the locator performs an action on the located element(s).\n   */\n  Action = 'action',\n}\n\n/**\n * @public\n */\nexport interface LocatorEvents extends Record<EventType, unknown> {\n  [LocatorEvent.Action]: undefined;\n}\n\n/**\n * Locators describe a strategy of locating objects and performing an action on\n * them. If the action fails because the object is not ready for the action, the\n * whole operation is retried. Various preconditions for a successful action are\n * checked automatically.\n *\n * See {@link https://pptr.dev/guides/page-interactions#locators} for details.\n *\n * @public\n */\nexport abstract class Locator<T> extends EventEmitter<LocatorEvents> {\n  /**\n   * Creates a race between multiple locators trying to locate elements in\n   * parallel but ensures that only a single element receives the action.\n   *\n   * @public\n   */\n  static race<Locators extends readonly unknown[] | []>(\n    locators: Locators\n  ): Locator<AwaitedLocator<Locators[number]>> {\n    return RaceLocator.create(locators);\n  }\n\n  /**\n   * Used for nominally typing {@link Locator}.\n   */\n  declare _?: T;\n\n  /**\n   * @internal\n   */\n  protected visibility: VisibilityOption = null;\n  /**\n   * @internal\n   */\n  protected _timeout = 30000;\n  #ensureElementIsInTheViewport = true;\n  #waitForEnabled = true;\n  #waitForStableBoundingBox = true;\n\n  /**\n   * @internal\n   */\n  protected operators = {\n    conditions: (\n      conditions: Array<Action<T, never>>,\n      signal?: AbortSignal\n    ): OperatorFunction<HandleFor<T>, HandleFor<T>> => {\n      return mergeMap((handle: HandleFor<T>) => {\n        return merge(\n          ...conditions.map(condition => {\n            return condition(handle, signal);\n          })\n        ).pipe(defaultIfEmpty(handle));\n      });\n    },\n    retryAndRaceWithSignalAndTimer: <T>(\n      signal?: AbortSignal,\n      cause?: Error\n    ): OperatorFunction<T, T> => {\n      const candidates = [];\n      if (signal) {\n        candidates.push(fromAbortSignal(signal, cause));\n      }\n      candidates.push(timeout(this._timeout, cause));\n      return pipe(\n        retry({delay: RETRY_DELAY}),\n        raceWith<T, never[]>(...candidates)\n      );\n    },\n  };\n\n  // Determines when the locator will timeout for actions.\n  get timeout(): number {\n    return this._timeout;\n  }\n\n  /**\n   * Creates a new locator instance by cloning the current locator and setting\n   * the total timeout for the locator actions.\n   *\n   * Pass `0` to disable timeout.\n   *\n   * @defaultValue `Page.getDefaultTimeout()`\n   */\n  setTimeout(timeout: number): Locator<T> {\n    const locator = this._clone();\n    locator._timeout = timeout;\n    return locator;\n  }\n\n  /**\n   * Creates a new locator instance by cloning the current locator with the\n   * visibility property changed to the specified value.\n   */\n  setVisibility<NodeType extends Node>(\n    this: Locator<NodeType>,\n    visibility: VisibilityOption\n  ): Locator<NodeType> {\n    const locator = this._clone();\n    locator.visibility = visibility;\n    return locator;\n  }\n\n  /**\n   * Creates a new locator instance by cloning the current locator and\n   * specifying whether to wait for input elements to become enabled before the\n   * action. Applicable to `click` and `fill` actions.\n   *\n   * @defaultValue `true`\n   */\n  setWaitForEnabled<NodeType extends Node>(\n    this: Locator<NodeType>,\n    value: boolean\n  ): Locator<NodeType> {\n    const locator = this._clone();\n    locator.#waitForEnabled = value;\n    return locator;\n  }\n\n  /**\n   * Creates a new locator instance by cloning the current locator and\n   * specifying whether the locator should scroll the element into viewport if\n   * it is not in the viewport already.\n   *\n   * @defaultValue `true`\n   */\n  setEnsureElementIsInTheViewport<ElementType extends Element>(\n    this: Locator<ElementType>,\n    value: boolean\n  ): Locator<ElementType> {\n    const locator = this._clone();\n    locator.#ensureElementIsInTheViewport = value;\n    return locator;\n  }\n\n  /**\n   * Creates a new locator instance by cloning the current locator and\n   * specifying whether the locator has to wait for the element's bounding box\n   * to be same between two consecutive animation frames.\n   *\n   * @defaultValue `true`\n   */\n  setWaitForStableBoundingBox<ElementType extends Element>(\n    this: Locator<ElementType>,\n    value: boolean\n  ): Locator<ElementType> {\n    const locator = this._clone();\n    locator.#waitForStableBoundingBox = value;\n    return locator;\n  }\n\n  /**\n   * @internal\n   */\n  copyOptions<T>(locator: Locator<T>): this {\n    this._timeout = locator._timeout;\n    this.visibility = locator.visibility;\n    this.#waitForEnabled = locator.#waitForEnabled;\n    this.#ensureElementIsInTheViewport = locator.#ensureElementIsInTheViewport;\n    this.#waitForStableBoundingBox = locator.#waitForStableBoundingBox;\n    return this;\n  }\n\n  /**\n   * If the element has a \"disabled\" property, wait for the element to be\n   * enabled.\n   */\n  #waitForEnabledIfNeeded = <ElementType extends Node>(\n    handle: HandleFor<ElementType>,\n    signal?: AbortSignal\n  ): Observable<never> => {\n    if (!this.#waitForEnabled) {\n      return EMPTY;\n    }\n    return from(\n      handle.frame.waitForFunction(\n        element => {\n          if (!(element instanceof HTMLElement)) {\n            return true;\n          }\n          const isNativeFormControl = [\n            'BUTTON',\n            'INPUT',\n            'SELECT',\n            'TEXTAREA',\n            'OPTION',\n            'OPTGROUP',\n          ].includes(element.nodeName);\n          return !isNativeFormControl || !element.hasAttribute('disabled');\n        },\n        {\n          timeout: this._timeout,\n          signal,\n        },\n        handle\n      )\n    ).pipe(ignoreElements());\n  };\n\n  /**\n   * Compares the bounding box of the element for two consecutive animation\n   * frames and waits till they are the same.\n   */\n  #waitForStableBoundingBoxIfNeeded = <ElementType extends Element>(\n    handle: HandleFor<ElementType>\n  ): Observable<never> => {\n    if (!this.#waitForStableBoundingBox) {\n      return EMPTY;\n    }\n    return defer(() => {\n      // Note we don't use waitForFunction because that relies on RAF.\n      return from(\n        handle.evaluate(element => {\n          return new Promise<[BoundingBox, BoundingBox]>(resolve => {\n            window.requestAnimationFrame(() => {\n              const rect1 = element.getBoundingClientRect();\n              window.requestAnimationFrame(() => {\n                const rect2 = element.getBoundingClientRect();\n                resolve([\n                  {\n                    x: rect1.x,\n                    y: rect1.y,\n                    width: rect1.width,\n                    height: rect1.height,\n                  },\n                  {\n                    x: rect2.x,\n                    y: rect2.y,\n                    width: rect2.width,\n                    height: rect2.height,\n                  },\n                ]);\n              });\n            });\n          });\n        })\n      );\n    }).pipe(\n      first(([rect1, rect2]) => {\n        return (\n          rect1.x === rect2.x &&\n          rect1.y === rect2.y &&\n          rect1.width === rect2.width &&\n          rect1.height === rect2.height\n        );\n      }),\n      retry({delay: RETRY_DELAY}),\n      ignoreElements()\n    );\n  };\n\n  /**\n   * Checks if the element is in the viewport and auto-scrolls it if it is not.\n   */\n  #ensureElementIsInTheViewportIfNeeded = <ElementType extends Element>(\n    handle: HandleFor<ElementType>\n  ): Observable<never> => {\n    if (!this.#ensureElementIsInTheViewport) {\n      return EMPTY;\n    }\n    return from(handle.isIntersectingViewport({threshold: 0})).pipe(\n      filter(isIntersectingViewport => {\n        return !isIntersectingViewport;\n      }),\n      mergeMap(() => {\n        return from(handle.scrollIntoView());\n      }),\n      mergeMap(() => {\n        return defer(() => {\n          return from(handle.isIntersectingViewport({threshold: 0}));\n        }).pipe(first(identity), retry({delay: RETRY_DELAY}), ignoreElements());\n      })\n    );\n  };\n\n  #click<ElementType extends Element>(\n    this: Locator<ElementType>,\n    options?: Readonly<LocatorClickOptions>\n  ): Observable<void> {\n    const signal = options?.signal;\n    const cause = new Error('Locator.click');\n    return this._wait(options).pipe(\n      this.operators.conditions(\n        [\n          this.#ensureElementIsInTheViewportIfNeeded,\n          this.#waitForStableBoundingBoxIfNeeded,\n          this.#waitForEnabledIfNeeded,\n        ],\n        signal\n      ),\n      tap(() => {\n        return this.emit(LocatorEvent.Action, undefined);\n      }),\n      mergeMap(handle => {\n        return from(handle.click(options)).pipe(\n          catchError(err => {\n            void handle.dispose().catch(debugError);\n            throw err;\n          })\n        );\n      }),\n      this.operators.retryAndRaceWithSignalAndTimer(signal, cause)\n    );\n  }\n\n  #fill<ElementType extends Element>(\n    this: Locator<ElementType>,\n    value: string,\n    options?: Readonly<ActionOptions>\n  ): Observable<void> {\n    const signal = options?.signal;\n    const cause = new Error('Locator.fill');\n    return this._wait(options).pipe(\n      this.operators.conditions(\n        [\n          this.#ensureElementIsInTheViewportIfNeeded,\n          this.#waitForStableBoundingBoxIfNeeded,\n          this.#waitForEnabledIfNeeded,\n        ],\n        signal\n      ),\n      tap(() => {\n        return this.emit(LocatorEvent.Action, undefined);\n      }),\n      mergeMap(handle => {\n        return from(\n          (handle as unknown as ElementHandle<HTMLElement>).evaluate(el => {\n            if (el instanceof HTMLSelectElement) {\n              return 'select';\n            }\n            if (el instanceof HTMLTextAreaElement) {\n              return 'typeable-input';\n            }\n            if (el instanceof HTMLInputElement) {\n              if (\n                new Set([\n                  'textarea',\n                  'text',\n                  'url',\n                  'tel',\n                  'search',\n                  'password',\n                  'number',\n                  'email',\n                ]).has(el.type)\n              ) {\n                return 'typeable-input';\n              } else {\n                return 'other-input';\n              }\n            }\n\n            if (el.isContentEditable) {\n              return 'contenteditable';\n            }\n\n            return 'unknown';\n          })\n        )\n          .pipe(\n            mergeMap(inputType => {\n              switch (inputType) {\n                case 'select':\n                  return from(handle.select(value).then(noop));\n                case 'contenteditable':\n                case 'typeable-input':\n                  return from(\n                    (\n                      handle as unknown as ElementHandle<HTMLInputElement>\n                    ).evaluate((input, newValue) => {\n                      const currentValue = input.isContentEditable\n                        ? input.innerText\n                        : input.value;\n\n                      // Clear the input if the current value does not match the filled\n                      // out value.\n                      if (\n                        newValue.length <= currentValue.length ||\n                        !newValue.startsWith(input.value)\n                      ) {\n                        if (input.isContentEditable) {\n                          input.innerText = '';\n                        } else {\n                          input.value = '';\n                        }\n                        return newValue;\n                      }\n                      const originalValue = input.isContentEditable\n                        ? input.innerText\n                        : input.value;\n\n                      // If the value is partially filled out, only type the rest. Move\n                      // cursor to the end of the common prefix.\n                      if (input.isContentEditable) {\n                        input.innerText = '';\n                        input.innerText = originalValue;\n                      } else {\n                        input.value = '';\n                        input.value = originalValue;\n                      }\n                      return newValue.substring(originalValue.length);\n                    }, value)\n                  ).pipe(\n                    mergeMap(textToType => {\n                      return from(handle.type(textToType));\n                    })\n                  );\n                case 'other-input':\n                  return from(handle.focus()).pipe(\n                    mergeMap(() => {\n                      return from(\n                        handle.evaluate((input, value) => {\n                          (input as HTMLInputElement).value = value;\n                          input.dispatchEvent(\n                            new Event('input', {bubbles: true})\n                          );\n                          input.dispatchEvent(\n                            new Event('change', {bubbles: true})\n                          );\n                        }, value)\n                      );\n                    })\n                  );\n                case 'unknown':\n                  throw new Error(`Element cannot be filled out.`);\n              }\n            })\n          )\n          .pipe(\n            catchError(err => {\n              void handle.dispose().catch(debugError);\n              throw err;\n            })\n          );\n      }),\n      this.operators.retryAndRaceWithSignalAndTimer(signal, cause)\n    );\n  }\n\n  #hover<ElementType extends Element>(\n    this: Locator<ElementType>,\n    options?: Readonly<ActionOptions>\n  ): Observable<void> {\n    const signal = options?.signal;\n    const cause = new Error('Locator.hover');\n    return this._wait(options).pipe(\n      this.operators.conditions(\n        [\n          this.#ensureElementIsInTheViewportIfNeeded,\n          this.#waitForStableBoundingBoxIfNeeded,\n        ],\n        signal\n      ),\n      tap(() => {\n        return this.emit(LocatorEvent.Action, undefined);\n      }),\n      mergeMap(handle => {\n        return from(handle.hover()).pipe(\n          catchError(err => {\n            void handle.dispose().catch(debugError);\n            throw err;\n          })\n        );\n      }),\n      this.operators.retryAndRaceWithSignalAndTimer(signal, cause)\n    );\n  }\n\n  #scroll<ElementType extends Element>(\n    this: Locator<ElementType>,\n    options?: Readonly<LocatorScrollOptions>\n  ): Observable<void> {\n    const signal = options?.signal;\n    const cause = new Error('Locator.scroll');\n    return this._wait(options).pipe(\n      this.operators.conditions(\n        [\n          this.#ensureElementIsInTheViewportIfNeeded,\n          this.#waitForStableBoundingBoxIfNeeded,\n        ],\n        signal\n      ),\n      tap(() => {\n        return this.emit(LocatorEvent.Action, undefined);\n      }),\n      mergeMap(handle => {\n        return from(\n          handle.evaluate(\n            (el, scrollTop, scrollLeft) => {\n              if (scrollTop !== undefined) {\n                el.scrollTop = scrollTop;\n              }\n              if (scrollLeft !== undefined) {\n                el.scrollLeft = scrollLeft;\n              }\n            },\n            options?.scrollTop,\n            options?.scrollLeft\n          )\n        ).pipe(\n          catchError(err => {\n            void handle.dispose().catch(debugError);\n            throw err;\n          })\n        );\n      }),\n      this.operators.retryAndRaceWithSignalAndTimer(signal, cause)\n    );\n  }\n\n  /**\n   * @internal\n   */\n  abstract _clone(): Locator<T>;\n\n  /**\n   * @internal\n   */\n  abstract _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<T>>;\n\n  /**\n   * Clones the locator.\n   */\n  clone(): Locator<T> {\n    return this._clone();\n  }\n\n  /**\n   * Waits for the locator to get a handle from the page.\n   *\n   * @public\n   */\n  async waitHandle(options?: Readonly<ActionOptions>): Promise<HandleFor<T>> {\n    const cause = new Error('Locator.waitHandle');\n    return await firstValueFrom(\n      this._wait(options).pipe(\n        this.operators.retryAndRaceWithSignalAndTimer(options?.signal, cause)\n      )\n    );\n  }\n\n  /**\n   * Waits for the locator to get the serialized value from the page.\n   *\n   * Note this requires the value to be JSON-serializable.\n   *\n   * @public\n   */\n  async wait(options?: Readonly<ActionOptions>): Promise<T> {\n    using handle = await this.waitHandle(options);\n    return await handle.jsonValue();\n  }\n\n  /**\n   * Maps the locator using the provided mapper.\n   *\n   * @public\n   */\n  map<To>(mapper: Mapper<T, To>): Locator<To> {\n    return new MappedLocator(this._clone(), handle => {\n      // SAFETY: TypeScript cannot deduce the type.\n      return (handle as any).evaluateHandle(mapper);\n    });\n  }\n\n  /**\n   * Creates an expectation that is evaluated against located values.\n   *\n   * If the expectations do not match, then the locator will retry.\n   *\n   * @public\n   */\n  filter<S extends T>(predicate: Predicate<T, S>): Locator<S> {\n    return new FilteredLocator(this._clone(), async (handle, signal) => {\n      await (handle as ElementHandle<Node>).frame.waitForFunction(\n        predicate,\n        {signal, timeout: this._timeout},\n        handle\n      );\n      return true;\n    });\n  }\n\n  /**\n   * Creates an expectation that is evaluated against located handles.\n   *\n   * If the expectations do not match, then the locator will retry.\n   *\n   * @internal\n   */\n  filterHandle<S extends T>(\n    predicate: Predicate<HandleFor<T>, HandleFor<S>>\n  ): Locator<S> {\n    return new FilteredLocator(this._clone(), predicate);\n  }\n\n  /**\n   * Maps the locator using the provided mapper.\n   *\n   * @internal\n   */\n  mapHandle<To>(mapper: HandleMapper<T, To>): Locator<To> {\n    return new MappedLocator(this._clone(), mapper);\n  }\n\n  /**\n   * Clicks the located element.\n   */\n  click<ElementType extends Element>(\n    this: Locator<ElementType>,\n    options?: Readonly<LocatorClickOptions>\n  ): Promise<void> {\n    return firstValueFrom(this.#click(options));\n  }\n\n  /**\n   * Fills out the input identified by the locator using the provided value. The\n   * type of the input is determined at runtime and the appropriate fill-out\n   * method is chosen based on the type. `contenteditable`, select, textarea and\n   * input elements are supported.\n   */\n  fill<ElementType extends Element>(\n    this: Locator<ElementType>,\n    value: string,\n    options?: Readonly<ActionOptions>\n  ): Promise<void> {\n    return firstValueFrom(this.#fill(value, options));\n  }\n\n  /**\n   * Hovers over the located element.\n   */\n  hover<ElementType extends Element>(\n    this: Locator<ElementType>,\n    options?: Readonly<ActionOptions>\n  ): Promise<void> {\n    return firstValueFrom(this.#hover(options));\n  }\n\n  /**\n   * Scrolls the located element.\n   */\n  scroll<ElementType extends Element>(\n    this: Locator<ElementType>,\n    options?: Readonly<LocatorScrollOptions>\n  ): Promise<void> {\n    return firstValueFrom(this.#scroll(options));\n  }\n}\n\n/**\n * @internal\n */\nexport class FunctionLocator<T> extends Locator<T> {\n  static create<Ret>(\n    pageOrFrame: Page | Frame,\n    func: () => Awaitable<Ret>\n  ): Locator<Ret> {\n    return new FunctionLocator<Ret>(pageOrFrame, func).setTimeout(\n      'getDefaultTimeout' in pageOrFrame\n        ? pageOrFrame.getDefaultTimeout()\n        : pageOrFrame.page().getDefaultTimeout()\n    );\n  }\n\n  #pageOrFrame: Page | Frame;\n  #func: () => Awaitable<T>;\n\n  private constructor(pageOrFrame: Page | Frame, func: () => Awaitable<T>) {\n    super();\n\n    this.#pageOrFrame = pageOrFrame;\n    this.#func = func;\n  }\n\n  override _clone(): FunctionLocator<T> {\n    return new FunctionLocator(this.#pageOrFrame, this.#func);\n  }\n\n  _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<T>> {\n    const signal = options?.signal;\n    return defer(() => {\n      return from(\n        this.#pageOrFrame.waitForFunction(this.#func, {\n          timeout: this.timeout,\n          signal,\n        })\n      );\n    }).pipe(throwIfEmpty());\n  }\n}\n\n/**\n * @public\n */\nexport type Predicate<From, To extends From = From> =\n  | ((value: From) => value is To)\n  | ((value: From) => Awaitable<boolean>);\n/**\n * @internal\n */\nexport type HandlePredicate<From, To extends From = From> =\n  | ((value: HandleFor<From>, signal?: AbortSignal) => value is HandleFor<To>)\n  | ((value: HandleFor<From>, signal?: AbortSignal) => Awaitable<boolean>);\n\n/**\n * @internal\n */\nexport abstract class DelegatedLocator<T, U> extends Locator<U> {\n  #delegate: Locator<T>;\n\n  constructor(delegate: Locator<T>) {\n    super();\n\n    this.#delegate = delegate;\n    this.copyOptions(this.#delegate);\n  }\n\n  protected get delegate(): Locator<T> {\n    return this.#delegate;\n  }\n\n  override setTimeout(timeout: number): DelegatedLocator<T, U> {\n    const locator = super.setTimeout(timeout) as DelegatedLocator<T, U>;\n    locator.#delegate = this.#delegate.setTimeout(timeout);\n    return locator;\n  }\n\n  override setVisibility<ValueType extends Node, NodeType extends Node>(\n    this: DelegatedLocator<ValueType, NodeType>,\n    visibility: VisibilityOption\n  ): DelegatedLocator<ValueType, NodeType> {\n    const locator = super.setVisibility<NodeType>(\n      visibility\n    ) as DelegatedLocator<ValueType, NodeType>;\n    locator.#delegate = locator.#delegate.setVisibility<ValueType>(visibility);\n    return locator;\n  }\n\n  override setWaitForEnabled<ValueType extends Node, NodeType extends Node>(\n    this: DelegatedLocator<ValueType, NodeType>,\n    value: boolean\n  ): DelegatedLocator<ValueType, NodeType> {\n    const locator = super.setWaitForEnabled<NodeType>(\n      value\n    ) as DelegatedLocator<ValueType, NodeType>;\n    locator.#delegate = this.#delegate.setWaitForEnabled(value);\n    return locator;\n  }\n\n  override setEnsureElementIsInTheViewport<\n    ValueType extends Element,\n    ElementType extends Element,\n  >(\n    this: DelegatedLocator<ValueType, ElementType>,\n    value: boolean\n  ): DelegatedLocator<ValueType, ElementType> {\n    const locator = super.setEnsureElementIsInTheViewport<ElementType>(\n      value\n    ) as DelegatedLocator<ValueType, ElementType>;\n    locator.#delegate = this.#delegate.setEnsureElementIsInTheViewport(value);\n    return locator;\n  }\n\n  override setWaitForStableBoundingBox<\n    ValueType extends Element,\n    ElementType extends Element,\n  >(\n    this: DelegatedLocator<ValueType, ElementType>,\n    value: boolean\n  ): DelegatedLocator<ValueType, ElementType> {\n    const locator = super.setWaitForStableBoundingBox<ElementType>(\n      value\n    ) as DelegatedLocator<ValueType, ElementType>;\n    locator.#delegate = this.#delegate.setWaitForStableBoundingBox(value);\n    return locator;\n  }\n\n  abstract override _clone(): DelegatedLocator<T, U>;\n  abstract override _wait(): Observable<HandleFor<U>>;\n}\n\n/**\n * @internal\n */\nexport class FilteredLocator<From, To extends From> extends DelegatedLocator<\n  From,\n  To\n> {\n  #predicate: HandlePredicate<From, To>;\n\n  constructor(base: Locator<From>, predicate: HandlePredicate<From, To>) {\n    super(base);\n    this.#predicate = predicate;\n  }\n\n  override _clone(): FilteredLocator<From, To> {\n    return new FilteredLocator(\n      this.delegate.clone(),\n      this.#predicate\n    ).copyOptions(this);\n  }\n\n  override _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<To>> {\n    return this.delegate._wait(options).pipe(\n      mergeMap(handle => {\n        return from(\n          Promise.resolve(this.#predicate(handle, options?.signal))\n        ).pipe(\n          filter(value => {\n            return value;\n          }),\n          map(() => {\n            // SAFETY: It passed the predicate, so this is correct.\n            return handle as HandleFor<To>;\n          })\n        );\n      }),\n      throwIfEmpty()\n    );\n  }\n}\n\n/**\n * @public\n */\nexport type Mapper<From, To> = (value: From) => Awaitable<To>;\n/**\n * @internal\n */\nexport type HandleMapper<From, To> = (\n  value: HandleFor<From>,\n  signal?: AbortSignal\n) => Awaitable<HandleFor<To>>;\n/**\n * @internal\n */\nexport class MappedLocator<From, To> extends DelegatedLocator<From, To> {\n  #mapper: HandleMapper<From, To>;\n\n  constructor(base: Locator<From>, mapper: HandleMapper<From, To>) {\n    super(base);\n    this.#mapper = mapper;\n  }\n\n  override _clone(): MappedLocator<From, To> {\n    return new MappedLocator(this.delegate.clone(), this.#mapper).copyOptions(\n      this\n    );\n  }\n\n  override _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<To>> {\n    return this.delegate._wait(options).pipe(\n      mergeMap(handle => {\n        return from(Promise.resolve(this.#mapper(handle, options?.signal)));\n      })\n    );\n  }\n}\n\n/**\n * @internal\n */\nexport type Action<T, U> = (\n  element: HandleFor<T>,\n  signal?: AbortSignal\n) => Observable<U>;\n/**\n * @internal\n */\nexport class NodeLocator<T extends Node> extends Locator<T> {\n  static create<Selector extends string>(\n    pageOrFrame: Page | Frame,\n    selector: Selector\n  ): Locator<NodeFor<Selector>> {\n    return new NodeLocator<NodeFor<Selector>>(pageOrFrame, selector).setTimeout(\n      'getDefaultTimeout' in pageOrFrame\n        ? pageOrFrame.getDefaultTimeout()\n        : pageOrFrame.page().getDefaultTimeout()\n    );\n  }\n\n  #pageOrFrame: Page | Frame;\n  #selector: string;\n\n  private constructor(pageOrFrame: Page | Frame, selector: string) {\n    super();\n\n    this.#pageOrFrame = pageOrFrame;\n    this.#selector = selector;\n  }\n\n  /**\n   * Waits for the element to become visible or hidden. visibility === 'visible'\n   * means that the element has a computed style, the visibility property other\n   * than 'hidden' or 'collapse' and non-empty bounding box. visibility ===\n   * 'hidden' means the opposite of that.\n   */\n  #waitForVisibilityIfNeeded = (handle: HandleFor<T>): Observable<never> => {\n    if (!this.visibility) {\n      return EMPTY;\n    }\n\n    return (() => {\n      switch (this.visibility) {\n        case 'hidden':\n          return defer(() => {\n            return from(handle.isHidden());\n          });\n        case 'visible':\n          return defer(() => {\n            return from(handle.isVisible());\n          });\n      }\n    })().pipe(first(identity), retry({delay: RETRY_DELAY}), ignoreElements());\n  };\n\n  override _clone(): NodeLocator<T> {\n    return new NodeLocator<T>(this.#pageOrFrame, this.#selector).copyOptions(\n      this\n    );\n  }\n\n  override _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<T>> {\n    const signal = options?.signal;\n    return defer(() => {\n      return from(\n        this.#pageOrFrame.waitForSelector(this.#selector, {\n          visible: false,\n          timeout: this._timeout,\n          signal,\n        }) as Promise<HandleFor<T> | null>\n      );\n    }).pipe(\n      filter((value): value is NonNullable<typeof value> => {\n        return value !== null;\n      }),\n      throwIfEmpty(),\n      this.operators.conditions([this.#waitForVisibilityIfNeeded], signal)\n    );\n  }\n}\n\n/**\n * @public\n */\nexport type AwaitedLocator<T> = T extends Locator<infer S> ? S : never;\nfunction checkLocatorArray<T extends readonly unknown[] | []>(\n  locators: T\n): ReadonlyArray<Locator<AwaitedLocator<T[number]>>> {\n  for (const locator of locators) {\n    if (!(locator instanceof Locator)) {\n      throw new Error('Unknown locator for race candidate');\n    }\n  }\n  return locators as ReadonlyArray<Locator<AwaitedLocator<T[number]>>>;\n}\n/**\n * @internal\n */\nexport class RaceLocator<T> extends Locator<T> {\n  static create<T extends readonly unknown[]>(\n    locators: T\n  ): Locator<AwaitedLocator<T[number]>> {\n    const array = checkLocatorArray(locators);\n    return new RaceLocator(array);\n  }\n\n  #locators: ReadonlyArray<Locator<T>>;\n\n  constructor(locators: ReadonlyArray<Locator<T>>) {\n    super();\n    this.#locators = locators;\n  }\n\n  override _clone(): RaceLocator<T> {\n    return new RaceLocator<T>(\n      this.#locators.map(locator => {\n        return locator.clone();\n      })\n    ).copyOptions(this);\n  }\n\n  override _wait(options?: Readonly<ActionOptions>): Observable<HandleFor<T>> {\n    return race(\n      ...this.#locators.map(locator => {\n        return locator._wait(options);\n      })\n    );\n  }\n}\n\n/**\n * For observables coming from promises, a delay is needed, otherwise RxJS will\n * never yield in a permanent failure for a promise.\n *\n * We also don't want RxJS to do promise operations to often, so we bump the\n * delay up to 100ms.\n *\n * @internal\n */\nexport const RETRY_DELAY = 100;\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {Protocol} from 'devtools-protocol';\n\nimport {\n  concat,\n  EMPTY,\n  filter,\n  first,\n  firstValueFrom,\n  from,\n  map,\n  merge,\n  mergeMap,\n  mergeScan,\n  of,\n  raceWith,\n  ReplaySubject,\n  startWith,\n  switchMap,\n  take,\n  takeUntil,\n  timer,\n  type Observable,\n} from '../../third_party/rxjs/rxjs.js';\nimport type {HTTPRequest} from '../api/HTTPRequest.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\nimport type {Accessibility} from '../cdp/Accessibility.js';\nimport type {Coverage} from '../cdp/Coverage.js';\nimport type {DeviceRequestPrompt} from '../cdp/DeviceRequestPrompt.js';\nimport type {NetworkConditions} from '../cdp/NetworkManager.js';\nimport type {Tracing} from '../cdp/Tracing.js';\nimport type {ConsoleMessage} from '../common/ConsoleMessage.js';\nimport type {\n  Cookie,\n  CookieParam,\n  DeleteCookiesRequest,\n} from '../common/Cookie.js';\nimport type {Device} from '../common/Device.js';\nimport {TargetCloseError} from '../common/Errors.js';\nimport {\n  EventEmitter,\n  type EventsWithWildcard,\n  type EventType,\n  type Handler,\n} from '../common/EventEmitter.js';\nimport type {FileChooser} from '../common/FileChooser.js';\nimport type {PDFOptions} from '../common/PDFOptions.js';\nimport {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport type {\n  Awaitable,\n  AwaitablePredicate,\n  EvaluateFunc,\n  EvaluateFuncWith,\n  HandleFor,\n  NodeFor,\n} from '../common/types.js';\nimport {\n  debugError,\n  fromEmitterEvent,\n  filterAsync,\n  isString,\n  NETWORK_IDLE_TIME,\n  timeout,\n  withSourcePuppeteerURLIfNone,\n  fromAbortSignal,\n} from '../common/util.js';\nimport type {Viewport} from '../common/Viewport.js';\n// import type {ScreenRecorder} from '../node/ScreenRecorder.js';\nimport {guarded} from '../util/decorators.js';\nimport {\n  AsyncDisposableStack,\n  asyncDisposeSymbol,\n  disposeSymbol,\n} from '../util/disposable.js';\n\nimport type {Browser} from './Browser.js';\nimport type {BrowserContext} from './BrowserContext.js';\nimport type {CDPSession} from './CDPSession.js';\nimport type {Dialog} from './Dialog.js';\nimport type {\n  BoundingBox,\n  ClickOptions,\n  ElementHandle,\n} from './ElementHandle.js';\nimport type {\n  Frame,\n  FrameAddScriptTagOptions,\n  FrameAddStyleTagOptions,\n  FrameWaitForFunctionOptions,\n  GoToOptions,\n  WaitForOptions,\n} from './Frame.js';\nimport type {\n  Keyboard,\n  KeyboardTypeOptions,\n  Mouse,\n  Touchscreen,\n} from './Input.js';\nimport type {JSHandle} from './JSHandle.js';\nimport {\n  FunctionLocator,\n  Locator,\n  NodeLocator,\n  type AwaitedLocator,\n} from './locators/locators.js';\nimport type {Target} from './Target.js';\nimport type {WebWorker} from './WebWorker.js';\n\n/**\n * @public\n */\nexport interface Metrics {\n  Timestamp?: number;\n  Documents?: number;\n  Frames?: number;\n  JSEventListeners?: number;\n  Nodes?: number;\n  LayoutCount?: number;\n  RecalcStyleCount?: number;\n  LayoutDuration?: number;\n  RecalcStyleDuration?: number;\n  ScriptDuration?: number;\n  TaskDuration?: number;\n  JSHeapUsedSize?: number;\n  JSHeapTotalSize?: number;\n}\n\n/**\n * @public\n */\nexport interface Credentials {\n  username: string;\n  password: string;\n}\n\n/**\n * @public\n */\nexport interface WaitForNetworkIdleOptions extends WaitTimeoutOptions {\n  /**\n   * Time (in milliseconds) the network should be idle.\n   *\n   * @defaultValue `500`\n   */\n  idleTime?: number;\n  /**\n   * Maximum number concurrent of network connections to be considered inactive.\n   *\n   * @defaultValue `0`\n   */\n  concurrency?: number;\n}\n\n/**\n * @public\n */\nexport interface WaitTimeoutOptions {\n  /**\n   * Maximum wait time in milliseconds. Pass 0 to disable the timeout.\n   *\n   * The default value can be changed by using the\n   * {@link Page.setDefaultTimeout} method.\n   *\n   * @defaultValue `30_000`\n   */\n  timeout?: number;\n  /**\n   * A signal object that allows you to cancel a waitFor call.\n   */\n  signal?: AbortSignal;\n}\n\n/**\n * @public\n */\nexport interface WaitForSelectorOptions {\n  /**\n   * Wait for the selected element to be present in DOM and to be visible. See\n   * {@link ElementHandle.isVisible} for the definition of element visibility.\n   *\n   * @defaultValue `false`\n   */\n  visible?: boolean;\n  /**\n   * Wait for the selected element to not be found in the DOM or to be hidden.\n   * See {@link ElementHandle.isHidden} for the definition of element\n   * invisibility.\n   *\n   * @defaultValue `false`\n   */\n  hidden?: boolean;\n  /**\n   * Maximum time to wait in milliseconds. Pass `0` to disable timeout.\n   *\n   * The default value can be changed by using {@link Page.setDefaultTimeout}\n   *\n   * @defaultValue `30_000` (30 seconds)\n   */\n  timeout?: number;\n  /**\n   * A signal object that allows you to cancel a waitForSelector call.\n   */\n  signal?: AbortSignal;\n}\n\n/**\n * @public\n */\nexport interface GeolocationOptions {\n  /**\n   * Latitude between `-90` and `90`.\n   */\n  longitude: number;\n  /**\n   * Longitude between `-180` and `180`.\n   */\n  latitude: number;\n  /**\n   * Optional non-negative accuracy value.\n   */\n  accuracy?: number;\n}\n\n/**\n * A media feature to emulate.\n *\n * @public\n */\nexport interface MediaFeature {\n  /**\n   * A name of the feature, for example, 'prefers-reduced-motion'.\n   */\n  name: string;\n  /**\n   * A value for the feature, for example, 'reduce'.\n   */\n  value: string;\n}\n\n/**\n * @public\n */\nexport interface ScreenshotClip extends BoundingBox {\n  /**\n   * @defaultValue `1`\n   */\n  scale?: number;\n}\n\n/**\n * @public\n */\nexport interface ScreenshotOptions {\n  /**\n   * @defaultValue `false`\n   */\n  optimizeForSpeed?: boolean;\n  /**\n   * @defaultValue `'png'`\n   */\n  type?: 'png' | 'jpeg' | 'webp';\n  /**\n   * Quality of the image, between 0-100. Not applicable to `png` images.\n   */\n  quality?: number;\n  /**\n   * Capture the screenshot from the surface, rather than the view.\n   *\n   * @defaultValue `true`\n   */\n  fromSurface?: boolean;\n  /**\n   * When `true`, takes a screenshot of the full page.\n   *\n   * @defaultValue `false`\n   */\n  fullPage?: boolean;\n  /**\n   * Hides default white background and allows capturing screenshots with transparency.\n   *\n   * @defaultValue `false`\n   */\n  omitBackground?: boolean;\n  /**\n   * The file path to save the image to. The screenshot type will be inferred\n   * from file extension. If path is a relative path, then it is resolved\n   * relative to current working directory. If no path is provided, the image\n   * won't be saved to the disk.\n   */\n  path?: string;\n  /**\n   * Specifies the region of the page/element to clip.\n   */\n  clip?: ScreenshotClip;\n  /**\n   * Encoding of the image.\n   *\n   * @defaultValue `'binary'`\n   */\n  encoding?: 'base64' | 'binary';\n  /**\n   * Capture the screenshot beyond the viewport.\n   *\n   * @defaultValue `false` if there is no `clip`. `true` otherwise.\n   */\n  captureBeyondViewport?: boolean;\n}\n\n/**\n * @public\n * @experimental\n */\nexport interface ScreencastOptions {\n  /**\n   * File path to save the screencast to.\n   */\n  path?: `${string}.webm`;\n  /**\n   * Specifies the region of the viewport to crop.\n   */\n  crop?: BoundingBox;\n  /**\n   * Scales the output video.\n   *\n   * For example, `0.5` will shrink the width and height of the output video by\n   * half. `2` will double the width and height of the output video.\n   *\n   * @defaultValue `1`\n   */\n  scale?: number;\n  /**\n   * Specifies the speed to record at.\n   *\n   * For example, `0.5` will slowdown the output video by 50%. `2` will double the\n   * speed of the output video.\n   *\n   * @defaultValue `1`\n   */\n  speed?: number;\n  /**\n   * Path to the {@link https://ffmpeg.org/ | ffmpeg}.\n   *\n   * Required if `ffmpeg` is not in your PATH.\n   */\n  ffmpegPath?: string;\n}\n\n/**\n * @public\n */\nexport interface QueryOptions {\n  /**\n   * Whether to run the query in isolation. When returning many elements\n   * from {@link Page.$$} or similar methods, it might be useful to turn\n   * off the isolation to improve performance. By default, the querying\n   * code will be executed in a separate sandbox realm.\n   *\n   * @defaultValue `true`\n   */\n  isolate: boolean;\n}\n\n/**\n * All the events that a page instance may emit.\n *\n * @public\n */\nexport const enum PageEvent {\n  /**\n   * Emitted when the page closes.\n   */\n  Close = 'close',\n  /**\n   * Emitted when JavaScript within the page calls one of console API methods,\n   * e.g. `console.log` or `console.dir`. Also emitted if the page throws an\n   * error or a warning.\n   *\n   * @remarks\n   * A `console` event provides a {@link ConsoleMessage} representing the\n   * console message that was logged.\n   *\n   * @example\n   * An example of handling `console` event:\n   *\n   * ```ts\n   * page.on('console', msg => {\n   *   for (let i = 0; i < msg.args().length; ++i)\n   *     console.log(`${i}: ${msg.args()[i]}`);\n   * });\n   * page.evaluate(() => console.log('hello', 5, {foo: 'bar'}));\n   * ```\n   */\n  Console = 'console',\n  /**\n   * Emitted when a JavaScript dialog appears, such as `alert`, `prompt`,\n   * `confirm` or `beforeunload`. Puppeteer can respond to the dialog via\n   * {@link Dialog.accept} or {@link Dialog.dismiss}.\n   */\n  Dialog = 'dialog',\n  /**\n   * Emitted when the JavaScript\n   * {@link https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded | DOMContentLoaded }\n   * event is dispatched.\n   */\n  DOMContentLoaded = 'domcontentloaded',\n  /**\n   * Emitted when the page crashes. Will contain an `Error`.\n   */\n  Error = 'error',\n  /** Emitted when a frame is attached. Will contain a {@link Frame}. */\n  FrameAttached = 'frameattached',\n  /** Emitted when a frame is detached. Will contain a {@link Frame}. */\n  FrameDetached = 'framedetached',\n  /**\n   * Emitted when a frame is navigated to a new URL. Will contain a\n   * {@link Frame}.\n   */\n  FrameNavigated = 'framenavigated',\n  /**\n   * Emitted when the JavaScript\n   * {@link https://developer.mozilla.org/en-US/docs/Web/Events/load | load}\n   * event is dispatched.\n   */\n  Load = 'load',\n  /**\n   * Emitted when the JavaScript code makes a call to `console.timeStamp`. For\n   * the list of metrics see {@link Page.metrics | page.metrics}.\n   *\n   * @remarks\n   * Contains an object with two properties:\n   *\n   * - `title`: the title passed to `console.timeStamp`\n   * - `metrics`: object containing metrics as key/value pairs. The values will\n   *   be `number`s.\n   */\n  Metrics = 'metrics',\n  /**\n   * Emitted when an uncaught exception happens within the page. Contains an\n   * `Error`.\n   */\n  PageError = 'pageerror',\n  /**\n   * Emitted when the page opens a new tab or window.\n   *\n   * Contains a {@link Page} corresponding to the popup window.\n   *\n   * @example\n   *\n   * ```ts\n   * const [popup] = await Promise.all([\n   *   new Promise(resolve => page.once('popup', resolve)),\n   *   page.click('a[target=_blank]'),\n   * ]);\n   * ```\n   *\n   * ```ts\n   * const [popup] = await Promise.all([\n   *   new Promise(resolve => page.once('popup', resolve)),\n   *   page.evaluate(() => window.open('https://example.com')),\n   * ]);\n   * ```\n   */\n  Popup = 'popup',\n  /**\n   * Emitted when a page issues a request and contains a {@link HTTPRequest}.\n   *\n   * @remarks\n   * The object is readonly. See {@link Page.setRequestInterception} for\n   * intercepting and mutating requests.\n   */\n  Request = 'request',\n  /**\n   * Emitted when a request ended up loading from cache. Contains a\n   * {@link HTTPRequest}.\n   *\n   * @remarks\n   * For certain requests, might contain undefined.\n   * {@link https://crbug.com/750469}\n   */\n  RequestServedFromCache = 'requestservedfromcache',\n  /**\n   * Emitted when a request fails, for example by timing out.\n   *\n   * Contains a {@link HTTPRequest}.\n   *\n   * @remarks\n   * HTTP Error responses, such as 404 or 503, are still successful responses\n   * from HTTP standpoint, so request will complete with `requestfinished` event\n   * and not with `requestfailed`.\n   */\n  RequestFailed = 'requestfailed',\n  /**\n   * Emitted when a request finishes successfully. Contains a\n   * {@link HTTPRequest}.\n   */\n  RequestFinished = 'requestfinished',\n  /**\n   * Emitted when a response is received. Contains a {@link HTTPResponse}.\n   */\n  Response = 'response',\n  /**\n   * Emitted when a dedicated\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API | WebWorker}\n   * is spawned by the page.\n   */\n  WorkerCreated = 'workercreated',\n  /**\n   * Emitted when a dedicated\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API | WebWorker}\n   * is destroyed by the page.\n   */\n  WorkerDestroyed = 'workerdestroyed',\n}\n\n/**\n * Denotes the objects received by callback functions for page events.\n *\n * See {@link PageEvent} for more detail on the events and when they are\n * emitted.\n *\n * @public\n */\nexport interface PageEvents extends Record<EventType, unknown> {\n  [PageEvent.Close]: undefined;\n  [PageEvent.Console]: ConsoleMessage;\n  [PageEvent.Dialog]: Dialog;\n  [PageEvent.DOMContentLoaded]: undefined;\n  [PageEvent.Error]: Error;\n  [PageEvent.FrameAttached]: Frame;\n  [PageEvent.FrameDetached]: Frame;\n  [PageEvent.FrameNavigated]: Frame;\n  [PageEvent.Load]: undefined;\n  [PageEvent.Metrics]: {title: string; metrics: Metrics};\n  [PageEvent.PageError]: Error;\n  [PageEvent.Popup]: Page | null;\n  [PageEvent.Request]: HTTPRequest;\n  [PageEvent.Response]: HTTPResponse;\n  [PageEvent.RequestFailed]: HTTPRequest;\n  [PageEvent.RequestFinished]: HTTPRequest;\n  [PageEvent.RequestServedFromCache]: HTTPRequest;\n  [PageEvent.WorkerCreated]: WebWorker;\n  [PageEvent.WorkerDestroyed]: WebWorker;\n}\n\n/**\n * @public\n */\nexport interface NewDocumentScriptEvaluation {\n  identifier: string;\n}\n\n/**\n * @internal\n */\nexport function setDefaultScreenshotOptions(options: ScreenshotOptions): void {\n  options.optimizeForSpeed ??= false;\n  options.type ??= 'png';\n  options.fromSurface ??= true;\n  options.fullPage ??= false;\n  options.omitBackground ??= false;\n  options.encoding ??= 'binary';\n  options.captureBeyondViewport ??= true;\n}\n\n/**\n * Page provides methods to interact with a single tab or\n * {@link https://developer.chrome.com/extensions/background_pages | extension background page}\n * in the browser.\n *\n * :::note\n *\n * One Browser instance might have multiple Page instances.\n *\n * :::\n *\n * @example\n * This example creates a page, navigates it to a URL, and then saves a screenshot:\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   await page.goto('https://example.com');\n *   await page.screenshot({path: 'screenshot.png'});\n *   await browser.close();\n * })();\n * ```\n *\n * The Page class extends from Puppeteer's {@link EventEmitter} class and will\n * emit various events which are documented in the {@link PageEvent} enum.\n *\n * @example\n * This example logs a message for a single page `load` event:\n *\n * ```ts\n * page.once('load', () => console.log('Page loaded!'));\n * ```\n *\n * To unsubscribe from events use the {@link EventEmitter.off} method:\n *\n * ```ts\n * function logRequest(interceptedRequest) {\n *   console.log('A request was made:', interceptedRequest.url());\n * }\n * page.on('request', logRequest);\n * // Sometime later...\n * page.off('request', logRequest);\n * ```\n *\n * @public\n */\nexport abstract class Page extends EventEmitter<PageEvents> {\n  /**\n   * @internal\n   */\n  _isDragging = false;\n  /**\n   * @internal\n   */\n  _timeoutSettings = new TimeoutSettings();\n\n  #requestHandlers = new WeakMap<Handler<HTTPRequest>, Handler<HTTPRequest>>();\n\n  #inflight$ = new ReplaySubject<number>(1);\n\n  /**\n   * @internal\n   */\n  constructor() {\n    super();\n\n    fromEmitterEvent(this, PageEvent.Request)\n      .pipe(\n        mergeMap(originalRequest => {\n          return concat(\n            of(1),\n            merge(\n              fromEmitterEvent(this, PageEvent.RequestFailed),\n              fromEmitterEvent(this, PageEvent.RequestFinished),\n              fromEmitterEvent(this, PageEvent.Response).pipe(\n                map(response => {\n                  return response.request();\n                })\n              )\n            ).pipe(\n              filter(request => {\n                return request.id === originalRequest.id;\n              }),\n              take(1),\n              map(() => {\n                return -1;\n              })\n            )\n          );\n        }),\n        mergeScan((acc, addend) => {\n          return of(acc + addend);\n        }, 0),\n        takeUntil(fromEmitterEvent(this, PageEvent.Close)),\n        startWith(0)\n      )\n      .subscribe(this.#inflight$);\n  }\n\n  /**\n   * `true` if the service worker are being bypassed, `false` otherwise.\n   */\n  abstract isServiceWorkerBypassed(): boolean;\n\n  /**\n   * `true` if drag events are being intercepted, `false` otherwise.\n   *\n   * @deprecated We no longer support intercepting drag payloads. Use the new\n   * drag APIs found on {@link ElementHandle} to drag (or just use the\n   * {@link Page.mouse}).\n   */\n  abstract isDragInterceptionEnabled(): boolean;\n\n  /**\n   * `true` if the page has JavaScript enabled, `false` otherwise.\n   */\n  abstract isJavaScriptEnabled(): boolean;\n\n  /**\n   * Listen to page events.\n   *\n   * @remarks\n   * This method exists to define event typings and handle proper wireup of\n   * cooperative request interception. Actual event listening and dispatching is\n   * delegated to {@link EventEmitter}.\n   *\n   * @internal\n   */\n  override on<K extends keyof EventsWithWildcard<PageEvents>>(\n    type: K,\n    handler: (event: EventsWithWildcard<PageEvents>[K]) => void\n  ): this {\n    if (type !== PageEvent.Request) {\n      return super.on(type, handler);\n    }\n    let wrapper = this.#requestHandlers.get(\n      handler as (event: PageEvents[PageEvent.Request]) => void\n    );\n    if (wrapper === undefined) {\n      wrapper = (event: HTTPRequest) => {\n        event.enqueueInterceptAction(() => {\n          return handler(event as EventsWithWildcard<PageEvents>[K]);\n        });\n      };\n      this.#requestHandlers.set(\n        handler as (event: PageEvents[PageEvent.Request]) => void,\n        wrapper\n      );\n    }\n    return super.on(\n      type,\n      wrapper as (event: EventsWithWildcard<PageEvents>[K]) => void\n    );\n  }\n\n  /**\n   * @internal\n   */\n  override off<K extends keyof EventsWithWildcard<PageEvents>>(\n    type: K,\n    handler: (event: EventsWithWildcard<PageEvents>[K]) => void\n  ): this {\n    if (type === PageEvent.Request) {\n      handler =\n        (this.#requestHandlers.get(\n          handler as (\n            event: EventsWithWildcard<PageEvents>[PageEvent.Request]\n          ) => void\n        ) as (event: EventsWithWildcard<PageEvents>[K]) => void) || handler;\n    }\n    return super.off(type, handler);\n  }\n\n  /**\n   * This method is typically coupled with an action that triggers file\n   * choosing.\n   *\n   * :::caution\n   *\n   * This must be called before the file chooser is launched. It will not return\n   * a currently active file chooser.\n   *\n   * :::\n   *\n   * :::caution\n   *\n   * Interception of file dialogs triggered via DOM APIs such as\n   * window.showOpenFilePicker is currently not supported.\n   *\n   * :::\n   *\n   * @remarks\n   * In the \"headful\" browser, this method results in the native file picker\n   * dialog `not showing up` for the user.\n   *\n   * @example\n   * The following example clicks a button that issues a file chooser\n   * and then responds with `/tmp/myfile.pdf` as if a user has selected this file.\n   *\n   * ```ts\n   * const [fileChooser] = await Promise.all([\n   *   page.waitForFileChooser(),\n   *   page.click('#upload-file-button'),\n   *   // some button that triggers file selection\n   * ]);\n   * await fileChooser.accept(['/tmp/myfile.pdf']);\n   * ```\n   */\n  abstract waitForFileChooser(\n    options?: WaitTimeoutOptions\n  ): Promise<FileChooser>;\n\n  /**\n   * Sets the page's geolocation.\n   *\n   * @remarks\n   * Consider using {@link BrowserContext.overridePermissions} to grant\n   * permissions for the page to read its geolocation.\n   *\n   * @example\n   *\n   * ```ts\n   * await page.setGeolocation({latitude: 59.95, longitude: 30.31667});\n   * ```\n   */\n  abstract setGeolocation(options: GeolocationOptions): Promise<void>;\n\n  /**\n   * A target this page was created from.\n   *\n   * @deprecated Use {@link Page.createCDPSession} directly.\n   */\n  abstract target(): Target;\n\n  /**\n   * Get the browser the page belongs to.\n   */\n  abstract browser(): Browser;\n\n  /**\n   * Get the browser context that the page belongs to.\n   */\n  abstract browserContext(): BrowserContext;\n\n  /**\n   * The page's main frame.\n   */\n  abstract mainFrame(): Frame;\n\n  /**\n   * Creates a Chrome Devtools Protocol session attached to the page.\n   */\n  abstract createCDPSession(): Promise<CDPSession>;\n\n  /**\n   * {@inheritDoc Keyboard}\n   */\n  abstract get keyboard(): Keyboard;\n\n  /**\n   * {@inheritDoc Touchscreen}\n   */\n  abstract get touchscreen(): Touchscreen;\n\n  /**\n   * {@inheritDoc Coverage}\n   */\n  abstract get coverage(): Coverage;\n\n  /**\n   * {@inheritDoc Tracing}\n   */\n  abstract get tracing(): Tracing;\n\n  /**\n   * {@inheritDoc Accessibility}\n   */\n  get accessibility(): Accessibility {\n    return this.mainFrame().accessibility;\n  }\n\n  /**\n   * An array of all frames attached to the page.\n   */\n  abstract frames(): Frame[];\n\n  /**\n   * All of the dedicated {@link\n   * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API |\n   * WebWorkers} associated with the page.\n   *\n   * @remarks\n   * This does not contain ServiceWorkers\n   */\n  abstract workers(): WebWorker[];\n\n  /**\n   * Activating request interception enables {@link HTTPRequest.abort},\n   * {@link HTTPRequest.continue} and {@link HTTPRequest.respond} methods. This\n   * provides the capability to modify network requests that are made by a page.\n   *\n   * Once request interception is enabled, every request will stall unless it's\n   * continued, responded or aborted; or completed using the browser cache.\n   *\n   * See the\n   * {@link https://pptr.dev/guides/network-interception|Request interception guide}\n   * for more details.\n   *\n   * @example\n   * An example of a na\u00EFve request interceptor that aborts all image requests:\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   await page.setRequestInterception(true);\n   *   page.on('request', interceptedRequest => {\n   *     if (\n   *       interceptedRequest.url().endsWith('.png') ||\n   *       interceptedRequest.url().endsWith('.jpg')\n   *     )\n   *       interceptedRequest.abort();\n   *     else interceptedRequest.continue();\n   *   });\n   *   await page.goto('https://example.com');\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param value - Whether to enable request interception.\n   */\n  abstract setRequestInterception(value: boolean): Promise<void>;\n\n  /**\n   * Toggles ignoring of service worker for each request.\n   *\n   * @param bypass - Whether to bypass service worker and load from network.\n   */\n  abstract setBypassServiceWorker(bypass: boolean): Promise<void>;\n\n  /**\n   * @param enabled - Whether to enable drag interception.\n   *\n   * @deprecated We no longer support intercepting drag payloads. Use the new\n   * drag APIs found on {@link ElementHandle} to drag (or just use the\n   * {@link Page.mouse}).\n   */\n  abstract setDragInterception(enabled: boolean): Promise<void>;\n\n  /**\n   * Sets the network connection to offline.\n   *\n   * It does not change the parameters used in {@link Page.emulateNetworkConditions}\n   *\n   * @param enabled - When `true`, enables offline mode for the page.\n   */\n  abstract setOfflineMode(enabled: boolean): Promise<void>;\n\n  /**\n   * This does not affect WebSockets and WebRTC PeerConnections (see\n   * https://crbug.com/563644). To set the page offline, you can use\n   * {@link Page.setOfflineMode}.\n   *\n   * A list of predefined network conditions can be used by importing\n   * {@link PredefinedNetworkConditions}.\n   *\n   * @example\n   *\n   * ```ts\n   * import {PredefinedNetworkConditions} from 'puppeteer';\n   * const slow3G = PredefinedNetworkConditions['Slow 3G'];\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   await page.emulateNetworkConditions(slow3G);\n   *   await page.goto('https://www.google.com');\n   *   // other actions...\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param networkConditions - Passing `null` disables network condition\n   * emulation.\n   */\n  abstract emulateNetworkConditions(\n    networkConditions: NetworkConditions | null\n  ): Promise<void>;\n\n  /**\n   * This setting will change the default maximum navigation time for the\n   * following methods and related shortcuts:\n   *\n   * - {@link Page.goBack | page.goBack(options)}\n   *\n   * - {@link Page.goForward | page.goForward(options)}\n   *\n   * - {@link Page.goto | page.goto(url,options)}\n   *\n   * - {@link Page.reload | page.reload(options)}\n   *\n   * - {@link Page.setContent | page.setContent(html,options)}\n   *\n   * - {@link Page.waitForNavigation | page.waitForNavigation(options)}\n   *   @param timeout - Maximum navigation time in milliseconds.\n   */\n  abstract setDefaultNavigationTimeout(timeout: number): void;\n\n  /**\n   * @param timeout - Maximum time in milliseconds.\n   */\n  abstract setDefaultTimeout(timeout: number): void;\n\n  /**\n   * Maximum time in milliseconds.\n   */\n  abstract getDefaultTimeout(): number;\n\n  /**\n   * Creates a locator for the provided selector. See {@link Locator} for\n   * details and supported actions.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   */\n  locator<Selector extends string>(\n    selector: Selector\n  ): Locator<NodeFor<Selector>>;\n\n  /**\n   * Creates a locator for the provided function. See {@link Locator} for\n   * details and supported actions.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   */\n  locator<Ret>(func: () => Awaitable<Ret>): Locator<Ret>;\n  locator<Selector extends string, Ret>(\n    selectorOrFunc: Selector | (() => Awaitable<Ret>)\n  ): Locator<NodeFor<Selector>> | Locator<Ret> {\n    if (typeof selectorOrFunc === 'string') {\n      return NodeLocator.create(this, selectorOrFunc);\n    } else {\n      return FunctionLocator.create(this, selectorOrFunc);\n    }\n  }\n\n  /**\n   * A shortcut for {@link Locator.race} that does not require static imports.\n   *\n   * @internal\n   */\n  locatorRace<Locators extends readonly unknown[] | []>(\n    locators: Locators\n  ): Locator<AwaitedLocator<Locators[number]>> {\n    return Locator.race(locators);\n  }\n\n  /**\n   * Finds the first element that matches the selector. If no element matches\n   * the selector, the return value resolves to `null`.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.$ | Page.mainFrame().$(selector) }.\n   */\n  async $<Selector extends string>(\n    selector: Selector\n  ): Promise<ElementHandle<NodeFor<Selector>> | null> {\n    return await this.mainFrame().$(selector);\n  }\n\n  /**\n   * Finds elements on the page that match the selector. If no elements\n   * match the selector, the return value resolves to `[]`.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.$$ | Page.mainFrame().$$(selector) }.\n   */\n  async $$<Selector extends string>(\n    selector: Selector,\n    options?: QueryOptions\n  ): Promise<Array<ElementHandle<NodeFor<Selector>>>> {\n    return await this.mainFrame().$$(selector, options);\n  }\n\n  /**\n   * @remarks\n   *\n   * The only difference between {@link Page.evaluate | page.evaluate} and\n   * `page.evaluateHandle` is that `evaluateHandle` will return the value\n   * wrapped in an in-page object.\n   *\n   * If the function passed to `page.evaluateHandle` returns a Promise, the\n   * function will wait for the promise to resolve and return its value.\n   *\n   * You can pass a string instead of a function (although functions are\n   * recommended as they are easier to debug and use with TypeScript):\n   *\n   * @example\n   *\n   * ```ts\n   * const aHandle = await page.evaluateHandle('document');\n   * ```\n   *\n   * @example\n   * {@link JSHandle} instances can be passed as arguments to the `pageFunction`:\n   *\n   * ```ts\n   * const aHandle = await page.evaluateHandle(() => document.body);\n   * const resultHandle = await page.evaluateHandle(\n   *   body => body.innerHTML,\n   *   aHandle\n   * );\n   * console.log(await resultHandle.jsonValue());\n   * await resultHandle.dispose();\n   * ```\n   *\n   * Most of the time this function returns a {@link JSHandle},\n   * but if `pageFunction` returns a reference to an element,\n   * you instead get an {@link ElementHandle} back:\n   *\n   * @example\n   *\n   * ```ts\n   * const button = await page.evaluateHandle(() =>\n   *   document.querySelector('button')\n   * );\n   * // can call `click` because `button` is an `ElementHandle`\n   * await button.click();\n   * ```\n   *\n   * The TypeScript definitions assume that `evaluateHandle` returns\n   * a `JSHandle`, but if you know it's going to return an\n   * `ElementHandle`, pass it as the generic argument:\n   *\n   * ```ts\n   * const button = await page.evaluateHandle<ElementHandle>(...);\n   * ```\n   *\n   * @param pageFunction - a function that is run within the page\n   * @param args - arguments to be passed to the pageFunction\n   */\n  async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluateHandle.name,\n      pageFunction\n    );\n    return await this.mainFrame().evaluateHandle(pageFunction, ...args);\n  }\n\n  /**\n   * This method iterates the JavaScript heap and finds all objects with the\n   * given prototype.\n   *\n   * @example\n   *\n   * ```ts\n   * // Create a Map object\n   * await page.evaluate(() => (window.map = new Map()));\n   * // Get a handle to the Map object prototype\n   * const mapPrototype = await page.evaluateHandle(() => Map.prototype);\n   * // Query all map instances into an array\n   * const mapInstances = await page.queryObjects(mapPrototype);\n   * // Count amount of map objects in heap\n   * const count = await page.evaluate(maps => maps.length, mapInstances);\n   * await mapInstances.dispose();\n   * await mapPrototype.dispose();\n   * ```\n   *\n   * @param prototypeHandle - a handle to the object prototype.\n   * @returns Promise which resolves to a handle to an array of objects with\n   * this prototype.\n   */\n  abstract queryObjects<Prototype>(\n    prototypeHandle: JSHandle<Prototype>\n  ): Promise<JSHandle<Prototype[]>>;\n\n  /**\n   * This method finds the first element within the page that matches the selector\n   * and passes the result as the first argument to the `pageFunction`.\n   *\n   * @remarks\n   *\n   * If no element is found matching `selector`, the method will throw an error.\n   *\n   * If `pageFunction` returns a promise `$eval` will wait for the promise to\n   * resolve and then return its value.\n   *\n   * @example\n   *\n   * ```ts\n   * const searchValue = await page.$eval('#search', el => el.value);\n   * const preloadHref = await page.$eval('link[rel=preload]', el => el.href);\n   * const html = await page.$eval('.main-container', el => el.outerHTML);\n   * ```\n   *\n   * If you are using TypeScript, you may have to provide an explicit type to the\n   * first argument of the `pageFunction`.\n   * By default it is typed as `Element`, but you may need to provide a more\n   * specific sub-type:\n   *\n   * @example\n   *\n   * ```ts\n   * // if you don't provide HTMLInputElement here, TS will error\n   * // as `value` is not on `Element`\n   * const searchValue = await page.$eval(\n   *   '#search',\n   *   (el: HTMLInputElement) => el.value\n   * );\n   * ```\n   *\n   * The compiler should be able to infer the return type\n   * from the `pageFunction` you provide. If it is unable to, you can use the generic\n   * type to tell the compiler what return type you expect from `$eval`:\n   *\n   * @example\n   *\n   * ```ts\n   * // The compiler can infer the return type in this case, but if it can't\n   * // or if you want to be more explicit, provide it as the generic type.\n   * const searchValue = await page.$eval<string>(\n   *   '#search',\n   *   (el: HTMLInputElement) => el.value\n   * );\n   * ```\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @param pageFunction - the function to be evaluated in the page context.\n   * Will be passed the result of the element matching the selector as its\n   * first argument.\n   * @param args - any additional arguments to pass through to `pageFunction`.\n   *\n   * @returns The result of calling `pageFunction`. If it returns an element it\n   * is wrapped in an {@link ElementHandle}, else the raw value itself is\n   * returned.\n   */\n  async $eval<\n    Selector extends string,\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<NodeFor<Selector>, Params> = EvaluateFuncWith<\n      NodeFor<Selector>,\n      Params\n    >,\n  >(\n    selector: Selector,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(this.$eval.name, pageFunction);\n    return await this.mainFrame().$eval(selector, pageFunction, ...args);\n  }\n\n  /**\n   * This method returns all elements matching the selector and passes the\n   * resulting array as the first argument to the `pageFunction`.\n   *\n   * @remarks\n   * If `pageFunction` returns a promise `$$eval` will wait for the promise to\n   * resolve and then return its value.\n   *\n   * @example\n   *\n   * ```ts\n   * // get the amount of divs on the page\n   * const divCount = await page.$$eval('div', divs => divs.length);\n   *\n   * // get the text content of all the `.options` elements:\n   * const options = await page.$$eval('div > span.options', options => {\n   *   return options.map(option => option.textContent);\n   * });\n   * ```\n   *\n   * If you are using TypeScript, you may have to provide an explicit type to the\n   * first argument of the `pageFunction`.\n   * By default it is typed as `Element[]`, but you may need to provide a more\n   * specific sub-type:\n   *\n   * @example\n   *\n   * ```ts\n   * await page.$$eval('input', elements => {\n   *   return elements.map(e => e.value);\n   * });\n   * ```\n   *\n   * The compiler should be able to infer the return type\n   * from the `pageFunction` you provide. If it is unable to, you can use the generic\n   * type to tell the compiler what return type you expect from `$$eval`:\n   *\n   * @example\n   *\n   * ```ts\n   * const allInputValues = await page.$$eval('input', elements =>\n   *   elements.map(e => e.textContent)\n   * );\n   * ```\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @param pageFunction - the function to be evaluated in the page context.\n   * Will be passed an array of matching elements as its first argument.\n   * @param args - any additional arguments to pass through to `pageFunction`.\n   *\n   * @returns The result of calling `pageFunction`. If it returns an element it\n   * is wrapped in an {@link ElementHandle}, else the raw value itself is\n   * returned.\n   */\n  async $$eval<\n    Selector extends string,\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<\n      Array<NodeFor<Selector>>,\n      Params\n    > = EvaluateFuncWith<Array<NodeFor<Selector>>, Params>,\n  >(\n    selector: Selector,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(this.$$eval.name, pageFunction);\n    return await this.mainFrame().$$eval(selector, pageFunction, ...args);\n  }\n\n  /**\n   * If no URLs are specified, this method returns cookies for the current page\n   * URL. If URLs are specified, only cookies for those URLs are returned.\n   */\n  abstract cookies(...urls: string[]): Promise<Cookie[]>;\n\n  abstract deleteCookie(...cookies: DeleteCookiesRequest[]): Promise<void>;\n\n  /**\n   * @example\n   *\n   * ```ts\n   * await page.setCookie(cookieObject1, cookieObject2);\n   * ```\n   */\n  abstract setCookie(...cookies: CookieParam[]): Promise<void>;\n\n  /**\n   * Adds a `<script>` tag into the page with the desired URL or content.\n   *\n   * @remarks\n   * Shortcut for\n   * {@link Frame.addScriptTag | page.mainFrame().addScriptTag(options)}.\n   *\n   * @param options - Options for the script.\n   * @returns An {@link ElementHandle | element handle} to the injected\n   * `<script>` element.\n   */\n  async addScriptTag(\n    options: FrameAddScriptTagOptions\n  ): Promise<ElementHandle<HTMLScriptElement>> {\n    return await this.mainFrame().addScriptTag(options);\n  }\n\n  /**\n   * Adds a `<link rel=\"stylesheet\">` tag into the page with the desired URL or\n   * a `<style type=\"text/css\">` tag with the content.\n   *\n   * Shortcut for\n   * {@link Frame.(addStyleTag:2) | page.mainFrame().addStyleTag(options)}.\n   *\n   * @returns An {@link ElementHandle | element handle} to the injected `<link>`\n   * or `<style>` element.\n   */\n  async addStyleTag(\n    options: Omit<FrameAddStyleTagOptions, 'url'>\n  ): Promise<ElementHandle<HTMLStyleElement>>;\n  async addStyleTag(\n    options: FrameAddStyleTagOptions\n  ): Promise<ElementHandle<HTMLLinkElement>>;\n  async addStyleTag(\n    options: FrameAddStyleTagOptions\n  ): Promise<ElementHandle<HTMLStyleElement | HTMLLinkElement>> {\n    return await this.mainFrame().addStyleTag(options);\n  }\n\n  /**\n   * The method adds a function called `name` on the page's `window` object.\n   * When called, the function executes `puppeteerFunction` in node.js and\n   * returns a `Promise` which resolves to the return value of\n   * `puppeteerFunction`.\n   *\n   * If the puppeteerFunction returns a `Promise`, it will be awaited.\n   *\n   * :::note\n   *\n   * Functions installed via `page.exposeFunction` survive navigations.\n   *\n   * :::\n   *\n   * @example\n   * An example of adding an `md5` function into the page:\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   * import crypto from 'crypto';\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   page.on('console', msg => console.log(msg.text()));\n   *   await page.exposeFunction('md5', text =>\n   *     crypto.createHash('md5').update(text).digest('hex')\n   *   );\n   *   await page.evaluate(async () => {\n   *     // use window.md5 to compute hashes\n   *     const myString = 'PUPPETEER';\n   *     const myHash = await window.md5(myString);\n   *     console.log(`md5 of ${myString} is ${myHash}`);\n   *   });\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @example\n   * An example of adding a `window.readfile` function into the page:\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   * import fs from 'fs';\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   page.on('console', msg => console.log(msg.text()));\n   *   await page.exposeFunction('readfile', async filePath => {\n   *     return new Promise((resolve, reject) => {\n   *       fs.readFile(filePath, 'utf8', (err, text) => {\n   *         if (err) reject(err);\n   *         else resolve(text);\n   *       });\n   *     });\n   *   });\n   *   await page.evaluate(async () => {\n   *     // use window.readfile to read contents of a file\n   *     const content = await window.readfile('/etc/hosts');\n   *     console.log(content);\n   *   });\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param name - Name of the function on the window object\n   * @param pptrFunction - Callback function which will be called in Puppeteer's\n   * context.\n   */\n  abstract exposeFunction(\n    name: string,\n    pptrFunction: Function | {default: Function}\n  ): Promise<void>;\n\n  /**\n   * The method removes a previously added function via ${@link Page.exposeFunction}\n   * called `name` from the page's `window` object.\n   */\n  abstract removeExposedFunction(name: string): Promise<void>;\n\n  /**\n   * Provide credentials for `HTTP authentication`.\n   *\n   * :::note\n   *\n   * Request interception will be turned on behind the scenes to\n   * implement authentication. This might affect performance.\n   *\n   * :::\n   *\n   * @remarks\n   * To disable authentication, pass `null`.\n   */\n  abstract authenticate(credentials: Credentials | null): Promise<void>;\n\n  /**\n   * The extra HTTP headers will be sent with every request the page initiates.\n   *\n   * :::tip\n   *\n   * All HTTP header names are lowercased. (HTTP headers are\n   * case-insensitive, so this shouldn\u2019t impact your server code.)\n   *\n   * :::\n   *\n   * :::note\n   *\n   * page.setExtraHTTPHeaders does not guarantee the order of headers in\n   * the outgoing requests.\n   *\n   * :::\n   *\n   * @param headers - An object containing additional HTTP headers to be sent\n   * with every request. All header values must be strings.\n   */\n  abstract setExtraHTTPHeaders(headers: Record<string, string>): Promise<void>;\n\n  /**\n   * @param userAgent - Specific user agent to use in this page\n   * @param userAgentData - Specific user agent client hint data to use in this\n   * page\n   * @returns Promise which resolves when the user agent is set.\n   */\n  abstract setUserAgent(\n    userAgent: string,\n    userAgentMetadata?: Protocol.Emulation.UserAgentMetadata\n  ): Promise<void>;\n\n  /**\n   * Object containing metrics as key/value pairs.\n   *\n   * @returns\n   *\n   * - `Timestamp` : The timestamp when the metrics sample was taken.\n   *\n   * - `Documents` : Number of documents in the page.\n   *\n   * - `Frames` : Number of frames in the page.\n   *\n   * - `JSEventListeners` : Number of events in the page.\n   *\n   * - `Nodes` : Number of DOM nodes in the page.\n   *\n   * - `LayoutCount` : Total number of full or partial page layout.\n   *\n   * - `RecalcStyleCount` : Total number of page style recalculations.\n   *\n   * - `LayoutDuration` : Combined durations of all page layouts.\n   *\n   * - `RecalcStyleDuration` : Combined duration of all page style\n   *   recalculations.\n   *\n   * - `ScriptDuration` : Combined duration of JavaScript execution.\n   *\n   * - `TaskDuration` : Combined duration of all tasks performed by the browser.\n   *\n   * - `JSHeapUsedSize` : Used JavaScript heap size.\n   *\n   * - `JSHeapTotalSize` : Total JavaScript heap size.\n   *\n   * @remarks\n   * All timestamps are in monotonic time: monotonically increasing time\n   * in seconds since an arbitrary point in the past.\n   */\n  abstract metrics(): Promise<Metrics>;\n\n  /**\n   * The page's URL.\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.url | page.mainFrame().url()}.\n   */\n  url(): string {\n    return this.mainFrame().url();\n  }\n\n  /**\n   * The full HTML contents of the page, including the DOCTYPE.\n   */\n  async content(): Promise<string> {\n    return await this.mainFrame().content();\n  }\n\n  /**\n   * Set the content of the page.\n   *\n   * @param html - HTML markup to assign to the page.\n   * @param options - Parameters that has some properties.\n   */\n  async setContent(html: string, options?: WaitForOptions): Promise<void> {\n    await this.mainFrame().setContent(html, options);\n  }\n\n  /**\n   * {@inheritDoc Frame.goto}\n   */\n  async goto(url: string, options?: GoToOptions): Promise<HTTPResponse | null> {\n    return await this.mainFrame().goto(url, options);\n  }\n\n  /**\n   * Reloads the page.\n   *\n   * @param options - Options to configure waiting behavior.\n   * @returns A promise which resolves to the main resource response. In case of\n   * multiple redirects, the navigation will resolve with the response of the\n   * last redirect.\n   */\n  abstract reload(options?: WaitForOptions): Promise<HTTPResponse | null>;\n\n  /**\n   * Waits for the page to navigate to a new URL or to reload. It is useful when\n   * you run code that will indirectly cause the page to navigate.\n   *\n   * @example\n   *\n   * ```ts\n   * const [response] = await Promise.all([\n   *   page.waitForNavigation(), // The promise resolves after navigation has finished\n   *   page.click('a.my-link'), // Clicking the link will indirectly cause a navigation\n   * ]);\n   * ```\n   *\n   * @remarks\n   *\n   * Usage of the\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/History_API | History API}\n   * to change the URL is considered a navigation.\n   *\n   * @param options - Navigation parameters which might have the following\n   * properties:\n   * @returns A `Promise` which resolves to the main resource response.\n   *\n   * - In case of multiple redirects, the navigation will resolve with the\n   *   response of the last redirect.\n   * - In case of navigation to a different anchor or navigation due to History\n   *   API usage, the navigation will resolve with `null`.\n   */\n  async waitForNavigation(\n    options: WaitForOptions = {}\n  ): Promise<HTTPResponse | null> {\n    return await this.mainFrame().waitForNavigation(options);\n  }\n\n  /**\n   * @param urlOrPredicate - A URL or predicate to wait for\n   * @param options - Optional waiting parameters\n   * @returns Promise which resolves to the matched request\n   * @example\n   *\n   * ```ts\n   * const firstRequest = await page.waitForRequest(\n   *   'https://example.com/resource'\n   * );\n   * const finalRequest = await page.waitForRequest(\n   *   request => request.url() === 'https://example.com'\n   * );\n   * return finalRequest.response()?.ok();\n   * ```\n   *\n   * @remarks\n   * Optional Waiting Parameters have:\n   *\n   * - `timeout`: Maximum wait time in milliseconds, defaults to `30` seconds, pass\n   *   `0` to disable the timeout. The default value can be changed by using the\n   *   {@link Page.setDefaultTimeout} method.\n   */\n  waitForRequest(\n    urlOrPredicate: string | AwaitablePredicate<HTTPRequest>,\n    options: WaitTimeoutOptions = {}\n  ): Promise<HTTPRequest> {\n    const {timeout: ms = this._timeoutSettings.timeout(), signal} = options;\n    if (typeof urlOrPredicate === 'string') {\n      const url = urlOrPredicate;\n      urlOrPredicate = (request: HTTPRequest) => {\n        return request.url() === url;\n      };\n    }\n    const observable$ = fromEmitterEvent(this, PageEvent.Request).pipe(\n      filterAsync(urlOrPredicate),\n      raceWith(\n        timeout(ms),\n        fromAbortSignal(signal),\n        fromEmitterEvent(this, PageEvent.Close).pipe(\n          map(() => {\n            throw new TargetCloseError('Page closed!');\n          })\n        )\n      )\n    );\n    return firstValueFrom(observable$);\n  }\n\n  /**\n   * @param urlOrPredicate - A URL or predicate to wait for.\n   * @param options - Optional waiting parameters\n   * @returns Promise which resolves to the matched response.\n   * @example\n   *\n   * ```ts\n   * const firstResponse = await page.waitForResponse(\n   *   'https://example.com/resource'\n   * );\n   * const finalResponse = await page.waitForResponse(\n   *   response =>\n   *     response.url() === 'https://example.com' && response.status() === 200\n   * );\n   * const finalResponse = await page.waitForResponse(async response => {\n   *   return (await response.text()).includes('<html>');\n   * });\n   * return finalResponse.ok();\n   * ```\n   *\n   * @remarks\n   * Optional Parameter have:\n   *\n   * - `timeout`: Maximum wait time in milliseconds, defaults to `30` seconds,\n   *   pass `0` to disable the timeout. The default value can be changed by using\n   *   the {@link Page.setDefaultTimeout} method.\n   */\n  waitForResponse(\n    urlOrPredicate: string | AwaitablePredicate<HTTPResponse>,\n    options: WaitTimeoutOptions = {}\n  ): Promise<HTTPResponse> {\n    const {timeout: ms = this._timeoutSettings.timeout(), signal} = options;\n    if (typeof urlOrPredicate === 'string') {\n      const url = urlOrPredicate;\n      urlOrPredicate = (response: HTTPResponse) => {\n        return response.url() === url;\n      };\n    }\n    const observable$ = fromEmitterEvent(this, PageEvent.Response).pipe(\n      filterAsync(urlOrPredicate),\n      raceWith(\n        timeout(ms),\n        fromAbortSignal(signal),\n        fromEmitterEvent(this, PageEvent.Close).pipe(\n          map(() => {\n            throw new TargetCloseError('Page closed!');\n          })\n        )\n      )\n    );\n    return firstValueFrom(observable$);\n  }\n\n  /**\n   * Waits for the network to be idle.\n   *\n   * @param options - Options to configure waiting behavior.\n   * @returns A promise which resolves once the network is idle.\n   */\n  waitForNetworkIdle(options: WaitForNetworkIdleOptions = {}): Promise<void> {\n    return firstValueFrom(this.waitForNetworkIdle$(options));\n  }\n\n  /**\n   * @internal\n   */\n  waitForNetworkIdle$(\n    options: WaitForNetworkIdleOptions = {}\n  ): Observable<void> {\n    const {\n      timeout: ms = this._timeoutSettings.timeout(),\n      idleTime = NETWORK_IDLE_TIME,\n      concurrency = 0,\n      signal,\n    } = options;\n\n    return this.#inflight$.pipe(\n      switchMap(inflight => {\n        if (inflight > concurrency) {\n          return EMPTY;\n        }\n        return timer(idleTime);\n      }),\n      map(() => {}),\n      raceWith(\n        timeout(ms),\n        fromAbortSignal(signal),\n        fromEmitterEvent(this, PageEvent.Close).pipe(\n          map(() => {\n            throw new TargetCloseError('Page closed!');\n          })\n        )\n      )\n    );\n  }\n\n  /**\n   * Waits for a frame matching the given conditions to appear.\n   *\n   * @example\n   *\n   * ```ts\n   * const frame = await page.waitForFrame(async frame => {\n   *   return frame.name() === 'Test';\n   * });\n   * ```\n   */\n  async waitForFrame(\n    urlOrPredicate: string | ((frame: Frame) => Awaitable<boolean>),\n    options: WaitTimeoutOptions = {}\n  ): Promise<Frame> {\n    const {timeout: ms = this.getDefaultTimeout(), signal} = options;\n\n    if (isString(urlOrPredicate)) {\n      urlOrPredicate = (frame: Frame) => {\n        return urlOrPredicate === frame.url();\n      };\n    }\n\n    return await firstValueFrom(\n      merge(\n        fromEmitterEvent(this, PageEvent.FrameAttached),\n        fromEmitterEvent(this, PageEvent.FrameNavigated),\n        from(this.frames())\n      ).pipe(\n        filterAsync(urlOrPredicate),\n        first(),\n        raceWith(\n          timeout(ms),\n          fromAbortSignal(signal),\n          fromEmitterEvent(this, PageEvent.Close).pipe(\n            map(() => {\n              throw new TargetCloseError('Page closed.');\n            })\n          )\n        )\n      )\n    );\n  }\n\n  /**\n   * This method navigate to the previous page in history.\n   * @param options - Navigation parameters\n   * @returns Promise which resolves to the main resource response. In case of\n   * multiple redirects, the navigation will resolve with the response of the\n   * last redirect. If can not go back, resolves to `null`.\n   */\n  abstract goBack(options?: WaitForOptions): Promise<HTTPResponse | null>;\n\n  /**\n   * This method navigate to the next page in history.\n   * @param options - Navigation Parameter\n   * @returns Promise which resolves to the main resource response. In case of\n   * multiple redirects, the navigation will resolve with the response of the\n   * last redirect. If can not go forward, resolves to `null`.\n   */\n  abstract goForward(options?: WaitForOptions): Promise<HTTPResponse | null>;\n\n  /**\n   * Brings page to front (activates tab).\n   */\n  abstract bringToFront(): Promise<void>;\n\n  /**\n   * Emulates a given device's metrics and user agent.\n   *\n   * To aid emulation, Puppeteer provides a list of known devices that can be\n   * via {@link KnownDevices}.\n   *\n   * @remarks\n   * This method is a shortcut for calling two methods:\n   * {@link Page.setUserAgent} and {@link Page.setViewport}.\n   *\n   * This method will resize the page. A lot of websites don't expect phones to\n   * change size, so you should emulate before navigating to the page.\n   *\n   * @example\n   *\n   * ```ts\n   * import {KnownDevices} from 'puppeteer';\n   * const iPhone = KnownDevices['iPhone 15 Pro'];\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   await page.emulate(iPhone);\n   *   await page.goto('https://www.google.com');\n   *   // other actions...\n   *   await browser.close();\n   * })();\n   * ```\n   */\n  async emulate(device: Device): Promise<void> {\n    await Promise.all([\n      this.setUserAgent(device.userAgent),\n      this.setViewport(device.viewport),\n    ]);\n  }\n\n  /**\n   * @param enabled - Whether or not to enable JavaScript on the page.\n   * @remarks\n   * NOTE: changing this value won't affect scripts that have already been run.\n   * It will take full effect on the next navigation.\n   */\n  abstract setJavaScriptEnabled(enabled: boolean): Promise<void>;\n\n  /**\n   * Toggles bypassing page's Content-Security-Policy.\n   * @param enabled - sets bypassing of page's Content-Security-Policy.\n   * @remarks\n   * NOTE: CSP bypassing happens at the moment of CSP initialization rather than\n   * evaluation. Usually, this means that `page.setBypassCSP` should be called\n   * before navigating to the domain.\n   */\n  abstract setBypassCSP(enabled: boolean): Promise<void>;\n\n  /**\n   * @param type - Changes the CSS media type of the page. The only allowed\n   * values are `screen`, `print` and `null`. Passing `null` disables CSS media\n   * emulation.\n   * @example\n   *\n   * ```ts\n   * await page.evaluate(() => matchMedia('screen').matches);\n   * // \u2192 true\n   * await page.evaluate(() => matchMedia('print').matches);\n   * // \u2192 false\n   *\n   * await page.emulateMediaType('print');\n   * await page.evaluate(() => matchMedia('screen').matches);\n   * // \u2192 false\n   * await page.evaluate(() => matchMedia('print').matches);\n   * // \u2192 true\n   *\n   * await page.emulateMediaType(null);\n   * await page.evaluate(() => matchMedia('screen').matches);\n   * // \u2192 true\n   * await page.evaluate(() => matchMedia('print').matches);\n   * // \u2192 false\n   * ```\n   */\n  abstract emulateMediaType(type?: string): Promise<void>;\n\n  /**\n   * Enables CPU throttling to emulate slow CPUs.\n   * @param factor - slowdown factor (1 is no throttle, 2 is 2x slowdown, etc).\n   */\n  abstract emulateCPUThrottling(factor: number | null): Promise<void>;\n\n  /**\n   * @param features - `<?Array<Object>>` Given an array of media feature\n   * objects, emulates CSS media features on the page. Each media feature object\n   * must have the following properties:\n   * @example\n   *\n   * ```ts\n   * await page.emulateMediaFeatures([\n   *   {name: 'prefers-color-scheme', value: 'dark'},\n   * ]);\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-color-scheme: dark)').matches\n   * );\n   * // \u2192 true\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-color-scheme: light)').matches\n   * );\n   * // \u2192 false\n   *\n   * await page.emulateMediaFeatures([\n   *   {name: 'prefers-reduced-motion', value: 'reduce'},\n   * ]);\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-reduced-motion: reduce)').matches\n   * );\n   * // \u2192 true\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-reduced-motion: no-preference)').matches\n   * );\n   * // \u2192 false\n   *\n   * await page.emulateMediaFeatures([\n   *   {name: 'prefers-color-scheme', value: 'dark'},\n   *   {name: 'prefers-reduced-motion', value: 'reduce'},\n   * ]);\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-color-scheme: dark)').matches\n   * );\n   * // \u2192 true\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-color-scheme: light)').matches\n   * );\n   * // \u2192 false\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-reduced-motion: reduce)').matches\n   * );\n   * // \u2192 true\n   * await page.evaluate(\n   *   () => matchMedia('(prefers-reduced-motion: no-preference)').matches\n   * );\n   * // \u2192 false\n   *\n   * await page.emulateMediaFeatures([{name: 'color-gamut', value: 'p3'}]);\n   * await page.evaluate(() => matchMedia('(color-gamut: srgb)').matches);\n   * // \u2192 true\n   * await page.evaluate(() => matchMedia('(color-gamut: p3)').matches);\n   * // \u2192 true\n   * await page.evaluate(() => matchMedia('(color-gamut: rec2020)').matches);\n   * // \u2192 false\n   * ```\n   */\n  abstract emulateMediaFeatures(features?: MediaFeature[]): Promise<void>;\n\n  /**\n   * @param timezoneId - Changes the timezone of the page. See\n   * {@link https://source.chromium.org/chromium/chromium/deps/icu.git/+/faee8bc70570192d82d2978a71e2a615788597d1:source/data/misc/metaZones.txt | ICU\u2019s metaZones.txt}\n   * for a list of supported timezone IDs. Passing\n   * `null` disables timezone emulation.\n   */\n  abstract emulateTimezone(timezoneId?: string): Promise<void>;\n\n  /**\n   * Emulates the idle state.\n   * If no arguments set, clears idle state emulation.\n   *\n   * @example\n   *\n   * ```ts\n   * // set idle emulation\n   * await page.emulateIdleState({isUserActive: true, isScreenUnlocked: false});\n   *\n   * // do some checks here\n   * ...\n   *\n   * // clear idle emulation\n   * await page.emulateIdleState();\n   * ```\n   *\n   * @param overrides - Mock idle state. If not set, clears idle overrides\n   */\n  abstract emulateIdleState(overrides?: {\n    isUserActive: boolean;\n    isScreenUnlocked: boolean;\n  }): Promise<void>;\n\n  /**\n   * Simulates the given vision deficiency on the page.\n   *\n   * @example\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   await page.goto('https://v8.dev/blog/10-years');\n   *\n   *   await page.emulateVisionDeficiency('achromatopsia');\n   *   await page.screenshot({path: 'achromatopsia.png'});\n   *\n   *   await page.emulateVisionDeficiency('deuteranopia');\n   *   await page.screenshot({path: 'deuteranopia.png'});\n   *\n   *   await page.emulateVisionDeficiency('blurredVision');\n   *   await page.screenshot({path: 'blurred-vision.png'});\n   *\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param type - the type of deficiency to simulate, or `'none'` to reset.\n   */\n  abstract emulateVisionDeficiency(\n    type?: Protocol.Emulation.SetEmulatedVisionDeficiencyRequest['type']\n  ): Promise<void>;\n\n  /**\n   * `page.setViewport` will resize the page. A lot of websites don't expect\n   * phones to change size, so you should set the viewport before navigating to\n   * the page.\n   *\n   * In the case of multiple pages in a single browser, each page can have its\n   * own viewport size. Setting the viewport to `null` resets the viewport to\n   * its default value.\n   *\n   * @example\n   *\n   * ```ts\n   * const page = await browser.newPage();\n   * await page.setViewport({\n   *   width: 640,\n   *   height: 480,\n   *   deviceScaleFactor: 1,\n   * });\n   * await page.goto('https://example.com');\n   * ```\n   *\n   * @param viewport -\n   * @remarks\n   * NOTE: in certain cases, setting viewport will reload the page in order to\n   * set the isMobile or hasTouch properties.\n   */\n  abstract setViewport(viewport: Viewport | null): Promise<void>;\n\n  /**\n   * Returns the current page viewport settings without checking the actual page\n   * viewport.\n   *\n   * This is either the viewport set with the previous {@link Page.setViewport}\n   * call or the default viewport set via\n   * {@link BrowserConnectOptions.defaultViewport |\n   * BrowserConnectOptions.defaultViewport}.\n   */\n  abstract viewport(): Viewport | null;\n\n  /**\n   * Evaluates a function in the page's context and returns the result.\n   *\n   * If the function passed to `page.evaluate` returns a Promise, the\n   * function will wait for the promise to resolve and return its value.\n   *\n   * @example\n   *\n   * ```ts\n   * const result = await frame.evaluate(() => {\n   *   return Promise.resolve(8 * 7);\n   * });\n   * console.log(result); // prints \"56\"\n   * ```\n   *\n   * You can pass a string instead of a function (although functions are\n   * recommended as they are easier to debug and use with TypeScript):\n   *\n   * @example\n   *\n   * ```ts\n   * const aHandle = await page.evaluate('1 + 2');\n   * ```\n   *\n   * To get the best TypeScript experience, you should pass in as the\n   * generic the type of `pageFunction`:\n   *\n   * ```ts\n   * const aHandle = await page.evaluate(() => 2);\n   * ```\n   *\n   * @example\n   *\n   * {@link ElementHandle} instances (including {@link JSHandle}s) can be passed\n   * as arguments to the `pageFunction`:\n   *\n   * ```ts\n   * const bodyHandle = await page.$('body');\n   * const html = await page.evaluate(body => body.innerHTML, bodyHandle);\n   * await bodyHandle.dispose();\n   * ```\n   *\n   * @param pageFunction - a function that is run within the page\n   * @param args - arguments to be passed to the pageFunction\n   *\n   * @returns the return value of `pageFunction`.\n   */\n  async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluate.name,\n      pageFunction\n    );\n    return await this.mainFrame().evaluate(pageFunction, ...args);\n  }\n\n  /**\n   * Adds a function which would be invoked in one of the following scenarios:\n   *\n   * - whenever the page is navigated\n   *\n   * - whenever the child frame is attached or navigated. In this case, the\n   *   function is invoked in the context of the newly attached frame.\n   *\n   * The function is invoked after the document was created but before any of\n   * its scripts were run. This is useful to amend the JavaScript environment,\n   * e.g. to seed `Math.random`.\n   * @param pageFunction - Function to be evaluated in browser context\n   * @param args - Arguments to pass to `pageFunction`\n   * @example\n   * An example of overriding the navigator.languages property before the page loads:\n   *\n   * ```ts\n   * // preload.js\n   *\n   * // overwrite the `languages` property to use a custom getter\n   * Object.defineProperty(navigator, 'languages', {\n   *   get: function () {\n   *     return ['en-US', 'en', 'bn'];\n   *   },\n   * });\n   *\n   * // In your puppeteer script, assuming the preload.js file is\n   * // in same folder of our script.\n   * const preloadFile = fs.readFileSync('./preload.js', 'utf8');\n   * await page.evaluateOnNewDocument(preloadFile);\n   * ```\n   */\n  abstract evaluateOnNewDocument<\n    Params extends unknown[],\n    Func extends (...args: Params) => unknown = (...args: Params) => unknown,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<NewDocumentScriptEvaluation>;\n\n  /**\n   * Removes script that injected into page by Page.evaluateOnNewDocument.\n   *\n   * @param identifier - script identifier\n   */\n  abstract removeScriptToEvaluateOnNewDocument(\n    identifier: string\n  ): Promise<void>;\n\n  /**\n   * Toggles ignoring cache for each request based on the enabled state. By\n   * default, caching is enabled.\n   * @param enabled - sets the `enabled` state of cache\n   * @defaultValue `true`\n   */\n  abstract setCacheEnabled(enabled?: boolean): Promise<void>;\n\n  /**\n   * @internal\n   */\n  async _maybeWriteBufferToFile(\n    path: string | undefined,\n    _: Buffer\n  ): Promise<void> {\n    if (!path) {\n      return;\n    }\n\n    throw new Error(\n      'Cannot write to a path outside of a Node-like environment.'\n    );\n  }\n\n  /**\n   * Captures a screencast of this {@link Page | page}.\n   *\n   * @example\n   * Recording a {@link Page | page}:\n   *\n   * ```\n   * import puppeteer from 'puppeteer';\n   *\n   * // Launch a browser\n   * const browser = await puppeteer.launch();\n   *\n   * // Create a new page\n   * const page = await browser.newPage();\n   *\n   * // Go to your site.\n   * await page.goto(\"https://www.example.com\");\n   *\n   * // Start recording.\n   * const recorder = await page.screencast({path: 'recording.webm'});\n   *\n   * // Do something.\n   *\n   * // Stop recording.\n   * await recorder.stop();\n   *\n   * browser.close();\n   * ```\n   *\n   * @param options - Configures screencast behavior.\n   *\n   * @experimental\n   *\n   * @remarks\n   *\n   * All recordings will be {@link https://www.webmproject.org/ | WebM} format using\n   * the {@link https://www.webmproject.org/vp9/ | VP9} video codec. The FPS is 30.\n   *\n   * You must have {@link https://ffmpeg.org/ | ffmpeg} installed on your system.\n   */\n  // async screencast(\n  //   options: Readonly<ScreencastOptions> = {}\n  // ): Promise<ScreenRecorder> {\n  //   const [{ScreenRecorder}, [width, height, devicePixelRatio]] =\n  //     await Promise.all([\n  //       import('../node/ScreenRecorder.js'),\n  //       this.#getNativePixelDimensions(),\n  //     ]);\n\n  //   let crop: BoundingBox | undefined;\n  //   if (options.crop) {\n  //     const {\n  //       x,\n  //       y,\n  //       width: cropWidth,\n  //       height: cropHeight,\n  //     } = roundRectangle(normalizeRectangle(options.crop));\n  //     if (x < 0 || y < 0) {\n  //       throw new Error(\n  //         `\\`crop.x\\` and \\`crop.y\\` must be greater than or equal to 0.`\n  //       );\n  //     }\n  //     if (cropWidth <= 0 || cropHeight <= 0) {\n  //       throw new Error(\n  //         `\\`crop.height\\` and \\`crop.width\\` must be greater than or equal to 0.`\n  //       );\n  //     }\n\n  //     const viewportWidth = width / devicePixelRatio;\n  //     const viewportHeight = height / devicePixelRatio;\n  //     if (x + cropWidth > viewportWidth) {\n  //       throw new Error(\n  //         `\\`crop.width\\` cannot be larger than the viewport width (${viewportWidth}).`\n  //       );\n  //     }\n  //     if (y + cropHeight > viewportHeight) {\n  //       throw new Error(\n  //      `\\`crop.height\\` cannot be larger than the viewport height (${viewportHeight}).`\n  //       );\n  //     }\n\n  //     crop = {\n  //       x: x * devicePixelRatio,\n  //       y: y * devicePixelRatio,\n  //       width: cropWidth * devicePixelRatio,\n  //       height: cropHeight * devicePixelRatio,\n  //     };\n  //   }\n  //   if (options.speed !== undefined && options.speed <= 0) {\n  //     throw new Error(`\\`speed\\` must be greater than 0.`);\n  //   }\n  //   if (options.scale !== undefined && options.scale <= 0) {\n  //     throw new Error(`\\`scale\\` must be greater than 0.`);\n  //   }\n\n  //   const recorder = new ScreenRecorder(this, width, height, {\n  //     ...options,\n  //     path: options.ffmpegPath,\n  //     crop,\n  //   });\n  //   try {\n  //     await this._startScreencast();\n  //   } catch (error) {\n  //     void recorder.stop();\n  //     throw error;\n  //   }\n  //   if (options.path) {\n  //     const {createWriteStream} = await import('fs');\n  //     const stream = createWriteStream(options.path, 'binary');\n  //     recorder.pipe(stream);\n  //   }\n  //   return recorder;\n  // }\n\n  #screencastSessionCount = 0;\n  #startScreencastPromise: Promise<void> | undefined;\n\n  /**\n   * @internal\n   */\n  async _startScreencast(): Promise<void> {\n    ++this.#screencastSessionCount;\n    if (!this.#startScreencastPromise) {\n      this.#startScreencastPromise = this.mainFrame()\n        .client.send('Page.startScreencast', {format: 'png'})\n        .then(() => {\n          // Wait for the first frame.\n          return new Promise(resolve => {\n            return this.mainFrame().client.once('Page.screencastFrame', () => {\n              return resolve();\n            });\n          });\n        });\n    }\n    await this.#startScreencastPromise;\n  }\n\n  /**\n   * @internal\n   */\n  async _stopScreencast(): Promise<void> {\n    --this.#screencastSessionCount;\n    if (!this.#startScreencastPromise) {\n      return;\n    }\n    this.#startScreencastPromise = undefined;\n    if (this.#screencastSessionCount === 0) {\n      await this.mainFrame().client.send('Page.stopScreencast');\n    }\n  }\n\n  /**\n   * Gets the native, non-emulated dimensions of the viewport.\n   */\n  // async #getNativePixelDimensions(): Promise<\n  //   readonly [width: number, height: number, devicePixelRatio: number]\n  // > {\n  //   const viewport = this.viewport();\n  //   using stack = new DisposableStack();\n  //   if (viewport && viewport.deviceScaleFactor !== 0) {\n  //     await this.setViewport({...viewport, deviceScaleFactor: 0});\n  //     stack.defer(() => {\n  //       void this.setViewport(viewport).catch(debugError);\n  //     });\n  //   }\n  //   return await this.mainFrame()\n  //     .isolatedRealm()\n  //     .evaluate(() => {\n  //       return [\n  //         window.visualViewport!.width * window.devicePixelRatio,\n  //         window.visualViewport!.height * window.devicePixelRatio,\n  //         window.devicePixelRatio,\n  //       ] as const;\n  //     });\n  // }\n\n  /**\n   * Captures a screenshot of this {@link Page | page}.\n   *\n   * @param options - Configures screenshot behavior.\n   *\n   * @remarks\n   *\n   * While a screenshot is being taken in a {@link BrowserContext}, the\n   * following methods will automatically wait for the screenshot to\n   * finish to prevent interference with the screenshot process:\n   * {@link BrowserContext.newPage}, {@link Browser.newPage},\n   * {@link Page.close}.\n   *\n   * Calling {@link Page.bringToFront} will not wait for existing\n   * screenshot operations.\n   *\n   */\n  async screenshot(\n    options: Readonly<ScreenshotOptions> & {encoding: 'base64'}\n  ): Promise<string>;\n  async screenshot(options?: Readonly<ScreenshotOptions>): Promise<Buffer>;\n  @guarded(function () {\n    return this.browser();\n  })\n  async screenshot(\n    userOptions: Readonly<ScreenshotOptions> = {}\n  ): Promise<Buffer | string> {\n    using _guard = await this.browserContext().startScreenshot();\n\n    await this.bringToFront();\n\n    // TODO: use structuredClone after Node 16 support is dropped.\n    const options = {\n      ...userOptions,\n      clip: userOptions.clip\n        ? {\n            ...userOptions.clip,\n          }\n        : undefined,\n    };\n    if (options.type === undefined && options.path !== undefined) {\n      const filePath = options.path;\n      // Note we cannot use Node.js here due to browser compatibility.\n      const extension = filePath\n        .slice(filePath.lastIndexOf('.') + 1)\n        .toLowerCase();\n      switch (extension) {\n        case 'png':\n          options.type = 'png';\n          break;\n        case 'jpeg':\n        case 'jpg':\n          options.type = 'jpeg';\n          break;\n        case 'webp':\n          options.type = 'webp';\n          break;\n      }\n    }\n    if (options.quality !== undefined) {\n      if (options.quality < 0 || options.quality > 100) {\n        throw new Error(\n          `Expected 'quality' (${options.quality}) to be between 0 and 100, inclusive.`\n        );\n      }\n      if (\n        options.type === undefined ||\n        !['jpeg', 'webp'].includes(options.type)\n      ) {\n        throw new Error(\n          `${options.type ?? 'png'} screenshots do not support 'quality'.`\n        );\n      }\n    }\n    if (options.clip) {\n      if (options.clip.width <= 0) {\n        throw new Error(\"'width' in 'clip' must be positive.\");\n      }\n      if (options.clip.height <= 0) {\n        throw new Error(\"'height' in 'clip' must be positive.\");\n      }\n    }\n\n    setDefaultScreenshotOptions(options);\n\n    await using stack = new AsyncDisposableStack();\n    if (options.clip) {\n      if (options.fullPage) {\n        throw new Error(\"'clip' and 'fullPage' are mutually exclusive\");\n      }\n\n      options.clip = roundRectangle(normalizeRectangle(options.clip));\n    } else {\n      if (options.fullPage) {\n        // If `captureBeyondViewport` is `false`, then we set the viewport to\n        // capture the full page. Note this may be affected by on-page CSS and\n        // JavaScript.\n        if (!options.captureBeyondViewport) {\n          const scrollDimensions = await this.mainFrame()\n            .isolatedRealm()\n            .evaluate(() => {\n              const element = document.documentElement;\n              return {\n                width: element.scrollWidth,\n                height: element.scrollHeight,\n              };\n            });\n          const viewport = this.viewport();\n          await this.setViewport({\n            ...viewport,\n            ...scrollDimensions,\n          });\n          stack.defer(async () => {\n            await this.setViewport(viewport).catch(debugError);\n          });\n        }\n      } else {\n        options.captureBeyondViewport = false;\n      }\n    }\n\n    const data = await this._screenshot(options);\n    if (options.encoding === 'base64') {\n      return data;\n    }\n    const buffer = Buffer.from(data, 'base64');\n    await this._maybeWriteBufferToFile(options.path, buffer);\n    return buffer;\n  }\n\n  /**\n   * @internal\n   */\n  abstract _screenshot(options: Readonly<ScreenshotOptions>): Promise<string>;\n\n  /**\n   * Generates a PDF of the page with the `print` CSS media type.\n   *\n   * @param options - options for generating the PDF.\n   *\n   * @remarks\n   *\n   * To generate a PDF with the `screen` media type, call\n   * {@link Page.emulateMediaType | `page.emulateMediaType('screen')`} before\n   * calling `page.pdf()`.\n   *\n   * By default, `page.pdf()` generates a pdf with modified colors for printing.\n   * Use the\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-print-color-adjust | `-webkit-print-color-adjust`}\n   * property to force rendering of exact colors.\n   */\n  abstract createPDFStream(\n    options?: PDFOptions\n  ): Promise<ReadableStream<Uint8Array>>;\n\n  /**\n   * {@inheritDoc Page.createPDFStream}\n   */\n  abstract pdf(options?: PDFOptions): Promise<Buffer>;\n\n  /**\n   * The page's title\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.title | page.mainFrame().title()}.\n   */\n  async title(): Promise<string> {\n    return await this.mainFrame().title();\n  }\n\n  abstract close(options?: {runBeforeUnload?: boolean}): Promise<void>;\n\n  /**\n   * Indicates that the page has been closed.\n   * @returns\n   */\n  abstract isClosed(): boolean;\n\n  /**\n   * {@inheritDoc Mouse}\n   */\n  abstract get mouse(): Mouse;\n\n  /**\n   * This method fetches an element with `selector`, scrolls it into view if\n   * needed, and then uses {@link Page.mouse} to click in the center of the\n   * element. If there's no element matching `selector`, the method throws an\n   * error.\n   *\n   * @remarks\n   *\n   * Bear in mind that if `click()` triggers a navigation event and\n   * there's a separate `page.waitForNavigation()` promise to be resolved, you\n   * may end up with a race condition that yields unexpected results. The\n   * correct pattern for click and wait for navigation is the following:\n   *\n   * ```ts\n   * const [response] = await Promise.all([\n   *   page.waitForNavigation(waitOptions),\n   *   page.click(selector, clickOptions),\n   * ]);\n   * ```\n   *\n   * Shortcut for {@link Frame.click | page.mainFrame().click(selector[, options]) }.\n   * @param selector - A `selector` to search for element to click. If there are\n   * multiple elements satisfying the `selector`, the first will be clicked\n   * @param options - `Object`\n   * @returns Promise which resolves when the element matching `selector` is\n   * successfully clicked. The Promise will be rejected if there is no element\n   * matching `selector`.\n   */\n  click(selector: string, options?: Readonly<ClickOptions>): Promise<void> {\n    return this.mainFrame().click(selector, options);\n  }\n\n  /**\n   * This method fetches an element with `selector` and focuses it. If there's no\n   * element matching `selector`, the method throws an error.\n   * @param selector - A\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | selector }\n   * of an element to focus. If there are multiple elements satisfying the\n   * selector, the first will be focused.\n   * @returns Promise which resolves when the element matching selector is\n   * successfully focused. The promise will be rejected if there is no element\n   * matching selector.\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.focus | page.mainFrame().focus(selector)}.\n   */\n  focus(selector: string): Promise<void> {\n    return this.mainFrame().focus(selector);\n  }\n\n  /**\n   * This method fetches an element with `selector`, scrolls it into view if\n   * needed, and then uses {@link Page.mouse}\n   * to hover over the center of the element.\n   * If there's no element matching `selector`, the method throws an error.\n   * @param selector - A\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | selector}\n   * to search for element to hover. If there are multiple elements satisfying\n   * the selector, the first will be hovered.\n   * @returns Promise which resolves when the element matching `selector` is\n   * successfully hovered. Promise gets rejected if there's no element matching\n   * `selector`.\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Page.hover | page.mainFrame().hover(selector)}.\n   */\n  hover(selector: string): Promise<void> {\n    return this.mainFrame().hover(selector);\n  }\n\n  /**\n   * Triggers a `change` and `input` event once all the provided options have been\n   * selected. If there's no `<select>` element matching `selector`, the method\n   * throws an error.\n   *\n   * @example\n   *\n   * ```ts\n   * page.select('select#colors', 'blue'); // single selection\n   * page.select('select#colors', 'red', 'green', 'blue'); // multiple selections\n   * ```\n   *\n   * @param selector - A\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | Selector}\n   * to query the page for\n   * @param values - Values of options to select. If the `<select>` has the\n   * `multiple` attribute, all values are considered, otherwise only the first one\n   * is taken into account.\n   * @returns\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.select | page.mainFrame().select()}\n   */\n  select(selector: string, ...values: string[]): Promise<string[]> {\n    return this.mainFrame().select(selector, ...values);\n  }\n\n  /**\n   * This method fetches an element with `selector`, scrolls it into view if\n   * needed, and then uses {@link Page.touchscreen}\n   * to tap in the center of the element.\n   * If there's no element matching `selector`, the method throws an error.\n   * @param selector - A\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | Selector}\n   * to search for element to tap. If there are multiple elements satisfying the\n   * selector, the first will be tapped.\n   *\n   * @remarks\n   *\n   * Shortcut for {@link Frame.tap | page.mainFrame().tap(selector)}.\n   */\n  tap(selector: string): Promise<void> {\n    return this.mainFrame().tap(selector);\n  }\n\n  /**\n   * Sends a `keydown`, `keypress/input`, and `keyup` event for each character\n   * in the text.\n   *\n   * To press a special key, like `Control` or `ArrowDown`, use {@link Keyboard.press}.\n   * @example\n   *\n   * ```ts\n   * await page.type('#mytextarea', 'Hello');\n   * // Types instantly\n   * await page.type('#mytextarea', 'World', {delay: 100});\n   * // Types slower, like a user\n   * ```\n   *\n   * @param selector - A\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | selector}\n   * of an element to type into. If there are multiple elements satisfying the\n   * selector, the first will be used.\n   * @param text - A text to type into a focused element.\n   * @param options - have property `delay` which is the Time to wait between\n   * key presses in milliseconds. Defaults to `0`.\n   * @returns\n   */\n  type(\n    selector: string,\n    text: string,\n    options?: Readonly<KeyboardTypeOptions>\n  ): Promise<void> {\n    return this.mainFrame().type(selector, text, options);\n  }\n\n  /**\n   * Wait for the `selector` to appear in page. If at the moment of calling the\n   * method the `selector` already exists, the method will return immediately. If\n   * the `selector` doesn't appear after the `timeout` milliseconds of waiting, the\n   * function will throw.\n   *\n   * @example\n   * This method works across navigations:\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   let currentURL;\n   *   page\n   *     .waitForSelector('img')\n   *     .then(() => console.log('First URL with image: ' + currentURL));\n   *   for (currentURL of [\n   *     'https://example.com',\n   *     'https://google.com',\n   *     'https://bbc.com',\n   *   ]) {\n   *     await page.goto(currentURL);\n   *   }\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param selector - A\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | selector}\n   * of an element to wait for\n   * @param options - Optional waiting parameters\n   * @returns Promise which resolves when element specified by selector string\n   * is added to DOM. Resolves to `null` if waiting for hidden: `true` and\n   * selector is not found in DOM.\n   *\n   * @remarks\n   * The optional Parameter in Arguments `options` are:\n   *\n   * - `visible`: A boolean wait for element to be present in DOM and to be\n   *   visible, i.e. to not have `display: none` or `visibility: hidden` CSS\n   *   properties. Defaults to `false`.\n   *\n   * - `hidden`: Wait for element to not be found in the DOM or to be hidden,\n   *   i.e. have `display: none` or `visibility: hidden` CSS properties. Defaults to\n   *   `false`.\n   *\n   * - `timeout`: maximum time to wait for in milliseconds. Defaults to `30000`\n   *   (30 seconds). Pass `0` to disable timeout. The default value can be changed\n   *   by using the {@link Page.setDefaultTimeout} method.\n   */\n  async waitForSelector<Selector extends string>(\n    selector: Selector,\n    options: WaitForSelectorOptions = {}\n  ): Promise<ElementHandle<NodeFor<Selector>> | null> {\n    return await this.mainFrame().waitForSelector(selector, options);\n  }\n\n  /**\n   * Waits for the provided function, `pageFunction`, to return a truthy value when\n   * evaluated in the page's context.\n   *\n   * @example\n   * {@link Page.waitForFunction} can be used to observe a viewport size change:\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   const watchDog = page.waitForFunction('window.innerWidth < 100');\n   *   await page.setViewport({width: 50, height: 50});\n   *   await watchDog;\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @example\n   * Arguments can be passed from Node.js to `pageFunction`:\n   *\n   * ```ts\n   * const selector = '.foo';\n   * await page.waitForFunction(\n   *   selector => !!document.querySelector(selector),\n   *   {},\n   *   selector\n   * );\n   * ```\n   *\n   * @example\n   * The provided `pageFunction` can be asynchronous:\n   *\n   * ```ts\n   * const username = 'github-username';\n   * await page.waitForFunction(\n   *   async username => {\n   *     const githubResponse = await fetch(\n   *       `https://api.github.com/users/${username}`\n   *     );\n   *     const githubUser = await githubResponse.json();\n   *     // show the avatar\n   *     const img = document.createElement('img');\n   *     img.src = githubUser.avatar_url;\n   *     // wait 3 seconds\n   *     await new Promise((resolve, reject) => setTimeout(resolve, 3000));\n   *     img.remove();\n   *   },\n   *   {},\n   *   username\n   * );\n   * ```\n   *\n   * @param pageFunction - Function to be evaluated in browser context until it returns a\n   * truthy value.\n   * @param options - Options for configuring waiting behavior.\n   */\n  waitForFunction<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    options?: FrameWaitForFunctionOptions,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    return this.mainFrame().waitForFunction(pageFunction, options, ...args);\n  }\n\n  /**\n   * This method is typically coupled with an action that triggers a device\n   * request from an api such as WebBluetooth.\n   *\n   * :::caution\n   *\n   * This must be called before the device request is made. It will not return a\n   * currently active device prompt.\n   *\n   * :::\n   *\n   * @example\n   *\n   * ```ts\n   * const [devicePrompt] = Promise.all([\n   *   page.waitForDevicePrompt(),\n   *   page.click('#connect-bluetooth'),\n   * ]);\n   * await devicePrompt.select(\n   *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n   * );\n   * ```\n   */\n  abstract waitForDevicePrompt(\n    options?: WaitTimeoutOptions\n  ): Promise<DeviceRequestPrompt>;\n\n  /** @internal */\n  [disposeSymbol](): void {\n    return void this.close().catch(debugError);\n  }\n\n  /** @internal */\n  [asyncDisposeSymbol](): Promise<void> {\n    return this.close();\n  }\n}\n\n/**\n * @internal\n */\nexport const supportedMetrics = new Set<string>([\n  'Timestamp',\n  'Documents',\n  'Frames',\n  'JSEventListeners',\n  'Nodes',\n  'LayoutCount',\n  'RecalcStyleCount',\n  'LayoutDuration',\n  'RecalcStyleDuration',\n  'ScriptDuration',\n  'TaskDuration',\n  'JSHeapUsedSize',\n  'JSHeapTotalSize',\n]);\n\n/** @see https://w3c.github.io/webdriver-bidi/#normalize-rect */\nfunction normalizeRectangle<BoundingBoxType extends BoundingBox>(\n  clip: Readonly<BoundingBoxType>\n): BoundingBoxType {\n  return {\n    ...clip,\n    ...(clip.width < 0\n      ? {\n          x: clip.x + clip.width,\n          width: -clip.width,\n        }\n      : {\n          x: clip.x,\n          width: clip.width,\n        }),\n    ...(clip.height < 0\n      ? {\n          y: clip.y + clip.height,\n          height: -clip.height,\n        }\n      : {\n          y: clip.y,\n          height: clip.height,\n        }),\n  };\n}\n\nfunction roundRectangle<BoundingBoxType extends BoundingBox>(\n  clip: Readonly<BoundingBoxType>\n): BoundingBoxType {\n  const x = Math.round(clip.x);\n  const y = Math.round(clip.y);\n  const width = Math.round(clip.width + clip.x - x);\n  const height = Math.round(clip.height + clip.y - y);\n  return {...clip, x, y, width, height};\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {JSHandle} from '../api/JSHandle.js';\n\n/**\n * @public\n */\nexport interface ConsoleMessageLocation {\n  /**\n   * URL of the resource if known or `undefined` otherwise.\n   */\n  url?: string;\n\n  /**\n   * 0-based line number in the resource if known or `undefined` otherwise.\n   */\n  lineNumber?: number;\n\n  /**\n   * 0-based column number in the resource if known or `undefined` otherwise.\n   */\n  columnNumber?: number;\n}\n\n/**\n * The supported types for console messages.\n * @public\n */\nexport type ConsoleMessageType =\n  | 'log'\n  | 'debug'\n  | 'info'\n  | 'error'\n  | 'warn'\n  | 'dir'\n  | 'dirxml'\n  | 'table'\n  | 'trace'\n  | 'clear'\n  | 'startGroup'\n  | 'startGroupCollapsed'\n  | 'endGroup'\n  | 'assert'\n  | 'profile'\n  | 'profileEnd'\n  | 'count'\n  | 'timeEnd'\n  | 'verbose';\n\n/**\n * ConsoleMessage objects are dispatched by page via the 'console' event.\n * @public\n */\nexport class ConsoleMessage {\n  #type: ConsoleMessageType;\n  #text: string;\n  #args: JSHandle[];\n  #stackTraceLocations: ConsoleMessageLocation[];\n\n  /**\n   * @internal\n   */\n  constructor(\n    type: ConsoleMessageType,\n    text: string,\n    args: JSHandle[],\n    stackTraceLocations: ConsoleMessageLocation[]\n  ) {\n    this.#type = type;\n    this.#text = text;\n    this.#args = args;\n    this.#stackTraceLocations = stackTraceLocations;\n  }\n\n  /**\n   * The type of the console message.\n   */\n  type(): ConsoleMessageType {\n    return this.#type;\n  }\n\n  /**\n   * The text of the console message.\n   */\n  text(): string {\n    return this.#text;\n  }\n\n  /**\n   * An array of arguments passed to the console.\n   */\n  args(): JSHandle[] {\n    return this.#args;\n  }\n\n  /**\n   * The location of the console message.\n   */\n  location(): ConsoleMessageLocation {\n    return this.#stackTraceLocations[0] ?? {};\n  }\n\n  /**\n   * The array of locations on the stack of the console message.\n   */\n  stackTrace(): ConsoleMessageLocation[] {\n    return this.#stackTraceLocations;\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport {assert} from '../util/assert.js';\n\n/**\n * File choosers let you react to the page requesting for a file.\n *\n * @remarks\n * `FileChooser` instances are returned via the {@link Page.waitForFileChooser} method.\n *\n * In browsers, only one file chooser can be opened at a time.\n * All file choosers must be accepted or canceled. Not doing so will prevent\n * subsequent file choosers from appearing.\n *\n * @example\n *\n * ```ts\n * const [fileChooser] = await Promise.all([\n *   page.waitForFileChooser(),\n *   page.click('#upload-file-button'), // some button that triggers file selection\n * ]);\n * await fileChooser.accept(['/tmp/myfile.pdf']);\n * ```\n *\n * @public\n */\nexport class FileChooser {\n  #element: ElementHandle<HTMLInputElement>;\n  #multiple: boolean;\n  #handled = false;\n\n  /**\n   * @internal\n   */\n  constructor(\n    element: ElementHandle<HTMLInputElement>,\n    event: Protocol.Page.FileChooserOpenedEvent\n  ) {\n    this.#element = element;\n    this.#multiple = event.mode !== 'selectSingle';\n  }\n\n  /**\n   * Whether file chooser allow for\n   * {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#attr-multiple | multiple}\n   * file selection.\n   */\n  isMultiple(): boolean {\n    return this.#multiple;\n  }\n\n  /**\n   * Accept the file chooser request with the given file paths.\n   *\n   * @remarks This will not validate whether the file paths exists. Also, if a\n   * path is relative, then it is resolved against the\n   * {@link https://nodejs.org/api/process.html#process_process_cwd | current working directory}.\n   * For locals script connecting to remote chrome environments, paths must be\n   * absolute.\n   */\n  async accept(paths: string[]): Promise<void> {\n    assert(\n      !this.#handled,\n      'Cannot accept FileChooser which is already handled!'\n    );\n    this.#handled = true;\n    await this.#element.uploadFile(...paths);\n  }\n\n  /**\n   * Closes the file chooser without selecting any files.\n   */\n  async cancel(): Promise<void> {\n    assert(\n      !this.#handled,\n      'Cannot cancel FileChooser which is already handled!'\n    );\n    this.#handled = true;\n    // XXX: These events should converted to trusted events. Perhaps do this\n    // in `DOM.setFileInputFiles`?\n    await this.#element.evaluate(element => {\n      element.dispatchEvent(new Event('cancel', {bubbles: true}));\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {HTTPRequest} from '../api/HTTPRequest.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\n\nimport type {EventType} from './EventEmitter.js';\n\n/**\n * We use symbols to prevent any external parties listening to these events.\n * They are internal to Puppeteer.\n *\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace NetworkManagerEvent {\n  export const Request = Symbol('NetworkManager.Request');\n  export const RequestServedFromCache = Symbol(\n    'NetworkManager.RequestServedFromCache'\n  );\n  export const Response = Symbol('NetworkManager.Response');\n  export const RequestFailed = Symbol('NetworkManager.RequestFailed');\n  export const RequestFinished = Symbol('NetworkManager.RequestFinished');\n}\n\n/**\n * @internal\n */\nexport interface NetworkManagerEvents extends Record<EventType, unknown> {\n  [NetworkManagerEvent.Request]: HTTPRequest;\n  [NetworkManagerEvent.RequestServedFromCache]: HTTPRequest | undefined;\n  [NetworkManagerEvent.Response]: HTTPResponse;\n  [NetworkManagerEvent.RequestFailed]: HTTPRequest;\n  [NetworkManagerEvent.RequestFinished]: HTTPRequest;\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Protocol from 'devtools-protocol';\n\nimport type {EvaluateFuncWith, HandleFor, HandleOr} from '../common/types.js';\nimport {debugError, withSourcePuppeteerURLIfNone} from '../common/util.js';\nimport {moveable, throwIfDisposed} from '../util/decorators.js';\nimport {disposeSymbol, asyncDisposeSymbol} from '../util/disposable.js';\n\nimport type {ElementHandle} from './ElementHandle.js';\nimport type {Realm} from './Realm.js';\n\n/**\n * Represents a reference to a JavaScript object. Instances can be created using\n * {@link Page.evaluateHandle}.\n *\n * Handles prevent the referenced JavaScript object from being garbage-collected\n * unless the handle is purposely {@link JSHandle.dispose | disposed}. JSHandles\n * are auto-disposed when their associated frame is navigated away or the parent\n * context gets destroyed.\n *\n * Handles can be used as arguments for any evaluation function such as\n * {@link Page.$eval}, {@link Page.evaluate}, and {@link Page.evaluateHandle}.\n * They are resolved to their referenced object.\n *\n * @example\n *\n * ```ts\n * const windowHandle = await page.evaluateHandle(() => window);\n * ```\n *\n * @public\n */\n@moveable\nexport abstract class JSHandle<T = unknown> {\n  declare move: () => this;\n\n  /**\n   * Used for nominally typing {@link JSHandle}.\n   */\n  declare _?: T;\n\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * @internal\n   */\n  abstract get realm(): Realm;\n\n  /**\n   * @internal\n   */\n  abstract get disposed(): boolean;\n\n  /**\n   * Evaluates the given function with the current handle as its first argument.\n   */\n  async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<T, Params> = EvaluateFuncWith<T, Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluate.name,\n      pageFunction\n    );\n    return await this.realm.evaluate(pageFunction, this, ...args);\n  }\n\n  /**\n   * Evaluates the given function with the current handle as its first argument.\n   *\n   */\n  async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<T, Params> = EvaluateFuncWith<T, Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluateHandle.name,\n      pageFunction\n    );\n    return await this.realm.evaluateHandle(pageFunction, this, ...args);\n  }\n\n  /**\n   * Fetches a single property from the referenced object.\n   */\n  getProperty<K extends keyof T>(\n    propertyName: HandleOr<K>\n  ): Promise<HandleFor<T[K]>>;\n  getProperty(propertyName: string): Promise<JSHandle<unknown>>;\n\n  /**\n   * @internal\n   */\n  @throwIfDisposed()\n  async getProperty<K extends keyof T>(\n    propertyName: HandleOr<K>\n  ): Promise<HandleFor<T[K]>> {\n    return await this.evaluateHandle((object, propertyName) => {\n      return object[propertyName as K];\n    }, propertyName);\n  }\n\n  /**\n   * Gets a map of handles representing the properties of the current handle.\n   *\n   * @example\n   *\n   * ```ts\n   * const listHandle = await page.evaluateHandle(() => document.body.children);\n   * const properties = await listHandle.getProperties();\n   * const children = [];\n   * for (const property of properties.values()) {\n   *   const element = property.asElement();\n   *   if (element) {\n   *     children.push(element);\n   *   }\n   * }\n   * children; // holds elementHandles to all children of document.body\n   * ```\n   */\n  @throwIfDisposed()\n  async getProperties(): Promise<Map<string, JSHandle>> {\n    const propertyNames = await this.evaluate(object => {\n      const enumerableProperties = [];\n      const descriptors = Object.getOwnPropertyDescriptors(object);\n      for (const propertyName in descriptors) {\n        if (descriptors[propertyName]?.enumerable) {\n          enumerableProperties.push(propertyName);\n        }\n      }\n      return enumerableProperties;\n    });\n    const map = new Map<string, JSHandle>();\n    const results = await Promise.all(\n      propertyNames.map(key => {\n        return this.getProperty(key);\n      })\n    );\n    for (const [key, value] of Object.entries(propertyNames)) {\n      using handle = results[key as any];\n      if (handle) {\n        map.set(value, handle.move());\n      }\n    }\n    return map;\n  }\n\n  /**\n   * A vanilla object representing the serializable portions of the\n   * referenced object.\n   * @throws Throws if the object cannot be serialized due to circularity.\n   *\n   * @remarks\n   * If the object has a `toJSON` function, it **will not** be called.\n   */\n  abstract jsonValue(): Promise<T>;\n\n  /**\n   * Either `null` or the handle itself if the handle is an\n   * instance of {@link ElementHandle}.\n   */\n  abstract asElement(): ElementHandle<Node> | null;\n\n  /**\n   * Releases the object referenced by the handle for garbage collection.\n   */\n  abstract dispose(): Promise<void>;\n\n  /**\n   * Returns a string representation of the JSHandle.\n   *\n   * @remarks\n   * Useful during debugging.\n   */\n  abstract toString(): string;\n\n  /**\n   * @internal\n   */\n  abstract get id(): string | undefined;\n\n  /**\n   * Provides access to the\n   * {@link https://chromedevtools.github.io/devtools-protocol/tot/Runtime/#type-RemoteObject | Protocol.Runtime.RemoteObject}\n   * backing this handle.\n   */\n  abstract remoteObject(): Protocol.Runtime.RemoteObject;\n\n  /** @internal */\n  [disposeSymbol](): void {\n    return void this.dispose().catch(debugError);\n  }\n\n  /** @internal */\n  [asyncDisposeSymbol](): Promise<void> {\n    return this.dispose();\n  }\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport {JSHandle} from '../api/JSHandle.js';\nimport {debugError} from '../common/util.js';\nimport {DisposableStack} from '../util/disposable.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\nimport type {ExecutionContext} from './ExecutionContext.js';\n\n/**\n * @internal\n */\nexport class Binding {\n  #name: string;\n  #fn: (...args: unknown[]) => unknown;\n  #initSource: string;\n  constructor(\n    name: string,\n    fn: (...args: unknown[]) => unknown,\n    initSource: string\n  ) {\n    this.#name = name;\n    this.#fn = fn;\n    this.#initSource = initSource;\n  }\n\n  get name(): string {\n    return this.#name;\n  }\n\n  get initSource(): string {\n    return this.#initSource;\n  }\n\n  /**\n   * @param context - Context to run the binding in; the context should have\n   * the binding added to it beforehand.\n   * @param id - ID of the call. This should come from the CDP\n   * `onBindingCalled` response.\n   * @param args - Plain arguments from CDP.\n   */\n  async run(\n    context: ExecutionContext,\n    id: number,\n    args: unknown[],\n    isTrivial: boolean\n  ): Promise<void> {\n    const stack = new DisposableStack();\n    try {\n      if (!isTrivial) {\n        // Getting non-trivial arguments.\n        using handles = await context.evaluateHandle(\n          (name, seq) => {\n            // @ts-expect-error Code is evaluated in a different context.\n            return globalThis[name].args.get(seq);\n          },\n          this.#name,\n          id\n        );\n        const properties = await handles.getProperties();\n        for (const [index, handle] of properties) {\n          // This is not straight-forward since some arguments can stringify, but\n          // aren't plain objects so add subtypes when the use-case arises.\n          if (index in args) {\n            switch (handle.remoteObject().subtype) {\n              case 'node':\n                args[+index] = handle;\n                break;\n              default:\n                stack.use(handle);\n            }\n          } else {\n            stack.use(handle);\n          }\n        }\n      }\n\n      await context.evaluate(\n        (name, seq, result) => {\n          // @ts-expect-error Code is evaluated in a different context.\n          const callbacks = globalThis[name].callbacks;\n          callbacks.get(seq).resolve(result);\n          callbacks.delete(seq);\n        },\n        this.#name,\n        id,\n        await this.#fn(...args)\n      );\n\n      for (const arg of args) {\n        if (arg instanceof JSHandle) {\n          stack.use(arg);\n        }\n      }\n    } catch (error) {\n      if (isErrorLike(error)) {\n        await context\n          .evaluate(\n            (name, seq, message, stack) => {\n              const error = new Error(message);\n              error.stack = stack;\n              // @ts-expect-error Code is evaluated in a different context.\n              const callbacks = globalThis[name].callbacks;\n              callbacks.get(seq).reject(error);\n              callbacks.delete(seq);\n            },\n            this.#name,\n            id,\n            error.message,\n            error.stack\n          )\n          .catch(debugError);\n      } else {\n        await context\n          .evaluate(\n            (name, seq, error) => {\n              // @ts-expect-error Code is evaluated in a different context.\n              const callbacks = globalThis[name].callbacks;\n              callbacks.get(seq).reject(error);\n              callbacks.delete(seq);\n            },\n            this.#name,\n            id,\n            error\n          )\n          .catch(debugError);\n      }\n    }\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\nimport type {ProtocolMapping} from 'devtools-protocol/types/protocol-mapping.js';\n\nimport type {CommandOptions} from '../api/CDPSession.js';\nimport {\n  CDPSessionEvent,\n  type CDPSession,\n  type CDPSessionEvents,\n} from '../api/CDPSession.js';\nimport {CallbackRegistry} from '../common/CallbackRegistry.js';\nimport type {ConnectionTransport} from '../common/ConnectionTransport.js';\nimport {debug} from '../common/Debug.js';\nimport {TargetCloseError} from '../common/Errors.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {createProtocolErrorMessage} from '../util/ErrorLike.js';\n\nimport {CdpCDPSession} from './CDPSession.js';\n\nconst debugProtocolSend = debug('puppeteer:protocol:SEND \u25BA');\nconst debugProtocolReceive = debug('puppeteer:protocol:RECV \u25C0');\n\n/**\n * @public\n */\nexport class Connection extends EventEmitter<CDPSessionEvents> {\n  #url: string;\n  #transport: ConnectionTransport;\n  #delay: number;\n  #timeout: number;\n  #sessions = new Map<string, CdpCDPSession>();\n  #closed = false;\n  #manuallyAttached = new Set<string>();\n  #callbacks = new CallbackRegistry();\n\n  constructor(\n    url: string,\n    transport: ConnectionTransport,\n    delay = 0,\n    timeout?: number\n  ) {\n    super();\n    this.#url = url;\n    this.#delay = delay;\n    this.#timeout = timeout ?? 180_000;\n\n    this.#transport = transport;\n    this.#transport.onmessage = this.onMessage.bind(this);\n    this.#transport.onclose = this.#onClose.bind(this);\n  }\n\n  static fromSession(session: CDPSession): Connection | undefined {\n    return session.connection();\n  }\n\n  /**\n   * @internal\n   */\n  get delay(): number {\n    return this.#delay;\n  }\n\n  get timeout(): number {\n    return this.#timeout;\n  }\n\n  /**\n   * @internal\n   */\n  get _closed(): boolean {\n    return this.#closed;\n  }\n\n  /**\n   * @internal\n   */\n  get _sessions(): Map<string, CDPSession> {\n    return this.#sessions;\n  }\n\n  /**\n   * @param sessionId - The session id\n   * @returns The current CDP session if it exists\n   */\n  session(sessionId: string): CDPSession | null {\n    return this.#sessions.get(sessionId) || null;\n  }\n\n  url(): string {\n    return this.#url;\n  }\n\n  send<T extends keyof ProtocolMapping.Commands>(\n    method: T,\n    params?: ProtocolMapping.Commands[T]['paramsType'][0],\n    options?: CommandOptions\n  ): Promise<ProtocolMapping.Commands[T]['returnType']> {\n    // There is only ever 1 param arg passed, but the Protocol defines it as an\n    // array of 0 or 1 items See this comment:\n    // https://github.com/ChromeDevTools/devtools-protocol/pull/113#issuecomment-412603285\n    // which explains why the protocol defines the params this way for better\n    // type-inference.\n    // So now we check if there are any params or not and deal with them accordingly.\n    return this._rawSend(this.#callbacks, method, params, undefined, options);\n  }\n\n  /**\n   * @internal\n   */\n  _rawSend<T extends keyof ProtocolMapping.Commands>(\n    callbacks: CallbackRegistry,\n    method: T,\n    params: ProtocolMapping.Commands[T]['paramsType'][0],\n    sessionId?: string,\n    options?: CommandOptions\n  ): Promise<ProtocolMapping.Commands[T]['returnType']> {\n    if (this.#closed) {\n      return Promise.reject(new Error('Protocol error: Connection closed.'));\n    }\n    return callbacks.create(method, options?.timeout ?? this.#timeout, id => {\n      const stringifiedMessage = JSON.stringify({\n        method,\n        params,\n        id,\n        sessionId,\n      });\n      debugProtocolSend(stringifiedMessage);\n      this.#transport.send(stringifiedMessage);\n    }) as Promise<ProtocolMapping.Commands[T]['returnType']>;\n  }\n\n  /**\n   * @internal\n   */\n  async closeBrowser(): Promise<void> {\n    await this.send('Browser.close');\n  }\n\n  /**\n   * @internal\n   */\n  protected async onMessage(message: string): Promise<void> {\n    if (this.#delay) {\n      await new Promise(r => {\n        return setTimeout(r, this.#delay);\n      });\n    }\n    debugProtocolReceive(message);\n    const object = JSON.parse(message);\n    if (object.method === 'Target.attachedToTarget') {\n      const sessionId = object.params.sessionId;\n      const session = new CdpCDPSession(\n        this,\n        object.params.targetInfo.type,\n        sessionId,\n        object.sessionId\n      );\n      this.#sessions.set(sessionId, session);\n      this.emit(CDPSessionEvent.SessionAttached, session);\n      const parentSession = this.#sessions.get(object.sessionId);\n      if (parentSession) {\n        parentSession.emit(CDPSessionEvent.SessionAttached, session);\n      }\n    } else if (object.method === 'Target.detachedFromTarget') {\n      const session = this.#sessions.get(object.params.sessionId);\n      if (session) {\n        session._onClosed();\n        this.#sessions.delete(object.params.sessionId);\n        this.emit(CDPSessionEvent.SessionDetached, session);\n        const parentSession = this.#sessions.get(object.sessionId);\n        if (parentSession) {\n          parentSession.emit(CDPSessionEvent.SessionDetached, session);\n        }\n      }\n    }\n    if (object.sessionId) {\n      const session = this.#sessions.get(object.sessionId);\n      if (session) {\n        session._onMessage(object);\n      }\n    } else if (object.id) {\n      if (object.error) {\n        this.#callbacks.reject(\n          object.id,\n          createProtocolErrorMessage(object),\n          object.error.message\n        );\n      } else {\n        this.#callbacks.resolve(object.id, object.result);\n      }\n    } else {\n      this.emit(object.method, object.params);\n    }\n  }\n\n  #onClose(): void {\n    if (this.#closed) {\n      return;\n    }\n    this.#closed = true;\n    this.#transport.onmessage = undefined;\n    this.#transport.onclose = undefined;\n    this.#callbacks.clear();\n    for (const session of this.#sessions.values()) {\n      session._onClosed();\n    }\n    this.#sessions.clear();\n    this.emit(CDPSessionEvent.Disconnected, undefined);\n  }\n\n  dispose(): void {\n    this.#onClose();\n    this.#transport.close();\n  }\n\n  /**\n   * @internal\n   */\n  isAutoAttached(targetId: string): boolean {\n    return !this.#manuallyAttached.has(targetId);\n  }\n\n  /**\n   * @internal\n   */\n  async _createSession(\n    targetInfo: Protocol.Target.TargetInfo,\n    isAutoAttachEmulated = true\n  ): Promise<CDPSession> {\n    if (!isAutoAttachEmulated) {\n      this.#manuallyAttached.add(targetInfo.targetId);\n    }\n    const {sessionId} = await this.send('Target.attachToTarget', {\n      targetId: targetInfo.targetId,\n      flatten: true,\n    });\n    this.#manuallyAttached.delete(targetInfo.targetId);\n    const session = this.#sessions.get(sessionId);\n    if (!session) {\n      throw new Error('CDPSession creation failed.');\n    }\n    return session;\n  }\n\n  /**\n   * @param targetInfo - The target info\n   * @returns The CDP session that is created\n   */\n  async createSession(\n    targetInfo: Protocol.Target.TargetInfo\n  ): Promise<CDPSession> {\n    return await this._createSession(targetInfo, false);\n  }\n\n  /**\n   * @internal\n   */\n  getPendingProtocolErrors(): Error[] {\n    const result: Error[] = [];\n    result.push(...this.#callbacks.getPendingProtocolErrors());\n    for (const session of this.#sessions.values()) {\n      result.push(...session.getPendingProtocolErrors());\n    }\n    return result;\n  }\n}\n\n/**\n * @internal\n */\nexport function isTargetClosedError(error: Error): boolean {\n  return error instanceof TargetCloseError;\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {debugError, PuppeteerURL} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {DisposableStack} from '../util/disposable.js';\n\n/**\n * The CoverageEntry class represents one entry of the coverage report.\n * @public\n */\nexport interface CoverageEntry {\n  /**\n   * The URL of the style sheet or script.\n   */\n  url: string;\n  /**\n   * The content of the style sheet or script.\n   */\n  text: string;\n  /**\n   * The covered range as start and end positions.\n   */\n  ranges: Array<{start: number; end: number}>;\n}\n\n/**\n * The CoverageEntry class for JavaScript\n * @public\n */\nexport interface JSCoverageEntry extends CoverageEntry {\n  /**\n   * Raw V8 script coverage entry.\n   */\n  rawScriptCoverage?: Protocol.Profiler.ScriptCoverage;\n}\n\n/**\n * Set of configurable options for JS coverage.\n * @public\n */\nexport interface JSCoverageOptions {\n  /**\n   * Whether to reset coverage on every navigation.\n   */\n  resetOnNavigation?: boolean;\n  /**\n   * Whether anonymous scripts generated by the page should be reported.\n   */\n  reportAnonymousScripts?: boolean;\n  /**\n   * Whether the result includes raw V8 script coverage entries.\n   */\n  includeRawScriptCoverage?: boolean;\n  /**\n   * Whether to collect coverage information at the block level.\n   * If true, coverage will be collected at the block level (this is the default).\n   * If false, coverage will be collected at the function level.\n   */\n  useBlockCoverage?: boolean;\n}\n\n/**\n * Set of configurable options for CSS coverage.\n * @public\n */\nexport interface CSSCoverageOptions {\n  /**\n   * Whether to reset coverage on every navigation.\n   */\n  resetOnNavigation?: boolean;\n}\n\n/**\n * The Coverage class provides methods to gather information about parts of\n * JavaScript and CSS that were used by the page.\n *\n * @remarks\n * To output coverage in a form consumable by {@link https://github.com/istanbuljs | Istanbul},\n * see {@link https://github.com/istanbuljs/puppeteer-to-istanbul | puppeteer-to-istanbul}.\n *\n * @example\n * An example of using JavaScript and CSS coverage to get percentage of initially\n * executed code:\n *\n * ```ts\n * // Enable both JavaScript and CSS coverage\n * await Promise.all([\n *   page.coverage.startJSCoverage(),\n *   page.coverage.startCSSCoverage(),\n * ]);\n * // Navigate to page\n * await page.goto('https://example.com');\n * // Disable both JavaScript and CSS coverage\n * const [jsCoverage, cssCoverage] = await Promise.all([\n *   page.coverage.stopJSCoverage(),\n *   page.coverage.stopCSSCoverage(),\n * ]);\n * let totalBytes = 0;\n * let usedBytes = 0;\n * const coverage = [...jsCoverage, ...cssCoverage];\n * for (const entry of coverage) {\n *   totalBytes += entry.text.length;\n *   for (const range of entry.ranges) usedBytes += range.end - range.start - 1;\n * }\n * console.log(`Bytes used: ${(usedBytes / totalBytes) * 100}%`);\n * ```\n *\n * @public\n */\nexport class Coverage {\n  #jsCoverage: JSCoverage;\n  #cssCoverage: CSSCoverage;\n\n  /**\n   * @internal\n   */\n  constructor(client: CDPSession) {\n    this.#jsCoverage = new JSCoverage(client);\n    this.#cssCoverage = new CSSCoverage(client);\n  }\n\n  /**\n   * @internal\n   */\n  updateClient(client: CDPSession): void {\n    this.#jsCoverage.updateClient(client);\n    this.#cssCoverage.updateClient(client);\n  }\n\n  /**\n   * @param options - Set of configurable options for coverage defaults to\n   * `resetOnNavigation : true, reportAnonymousScripts : false,`\n   * `includeRawScriptCoverage : false, useBlockCoverage : true`\n   * @returns Promise that resolves when coverage is started.\n   *\n   * @remarks\n   * Anonymous scripts are ones that don't have an associated url. These are\n   * scripts that are dynamically created on the page using `eval` or\n   * `new Function`. If `reportAnonymousScripts` is set to `true`, anonymous\n   * scripts URL will start with `debugger://VM` (unless a magic //# sourceURL\n   * comment is present, in which case that will the be URL).\n   */\n  async startJSCoverage(options: JSCoverageOptions = {}): Promise<void> {\n    return await this.#jsCoverage.start(options);\n  }\n\n  /**\n   * Promise that resolves to the array of coverage reports for\n   * all scripts.\n   *\n   * @remarks\n   * JavaScript Coverage doesn't include anonymous scripts by default.\n   * However, scripts with sourceURLs are reported.\n   */\n  async stopJSCoverage(): Promise<JSCoverageEntry[]> {\n    return await this.#jsCoverage.stop();\n  }\n\n  /**\n   * @param options - Set of configurable options for coverage, defaults to\n   * `resetOnNavigation : true`\n   * @returns Promise that resolves when coverage is started.\n   */\n  async startCSSCoverage(options: CSSCoverageOptions = {}): Promise<void> {\n    return await this.#cssCoverage.start(options);\n  }\n\n  /**\n   * Promise that resolves to the array of coverage reports\n   * for all stylesheets.\n   *\n   * @remarks\n   * CSS Coverage doesn't include dynamically injected style tags\n   * without sourceURLs.\n   */\n  async stopCSSCoverage(): Promise<CoverageEntry[]> {\n    return await this.#cssCoverage.stop();\n  }\n}\n\n/**\n * @public\n */\nexport class JSCoverage {\n  #client: CDPSession;\n  #enabled = false;\n  #scriptURLs = new Map<string, string>();\n  #scriptSources = new Map<string, string>();\n  #subscriptions?: DisposableStack;\n  #resetOnNavigation = false;\n  #reportAnonymousScripts = false;\n  #includeRawScriptCoverage = false;\n\n  /**\n   * @internal\n   */\n  constructor(client: CDPSession) {\n    this.#client = client;\n  }\n\n  /**\n   * @internal\n   */\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  async start(\n    options: {\n      resetOnNavigation?: boolean;\n      reportAnonymousScripts?: boolean;\n      includeRawScriptCoverage?: boolean;\n      useBlockCoverage?: boolean;\n    } = {}\n  ): Promise<void> {\n    assert(!this.#enabled, 'JSCoverage is already enabled');\n    const {\n      resetOnNavigation = true,\n      reportAnonymousScripts = false,\n      includeRawScriptCoverage = false,\n      useBlockCoverage = true,\n    } = options;\n    this.#resetOnNavigation = resetOnNavigation;\n    this.#reportAnonymousScripts = reportAnonymousScripts;\n    this.#includeRawScriptCoverage = includeRawScriptCoverage;\n    this.#enabled = true;\n    this.#scriptURLs.clear();\n    this.#scriptSources.clear();\n    this.#subscriptions = new DisposableStack();\n    const clientEmitter = this.#subscriptions.use(\n      new EventEmitter(this.#client)\n    );\n    clientEmitter.on('Debugger.scriptParsed', this.#onScriptParsed.bind(this));\n    clientEmitter.on(\n      'Runtime.executionContextsCleared',\n      this.#onExecutionContextsCleared.bind(this)\n    );\n    await Promise.all([\n      this.#client.send('Profiler.enable'),\n      this.#client.send('Profiler.startPreciseCoverage', {\n        callCount: this.#includeRawScriptCoverage,\n        detailed: useBlockCoverage,\n      }),\n      this.#client.send('Debugger.enable'),\n      this.#client.send('Debugger.setSkipAllPauses', {skip: true}),\n    ]);\n  }\n\n  #onExecutionContextsCleared(): void {\n    if (!this.#resetOnNavigation) {\n      return;\n    }\n    this.#scriptURLs.clear();\n    this.#scriptSources.clear();\n  }\n\n  async #onScriptParsed(\n    event: Protocol.Debugger.ScriptParsedEvent\n  ): Promise<void> {\n    // Ignore puppeteer-injected scripts\n    if (PuppeteerURL.isPuppeteerURL(event.url)) {\n      return;\n    }\n    // Ignore other anonymous scripts unless the reportAnonymousScripts option is true.\n    if (!event.url && !this.#reportAnonymousScripts) {\n      return;\n    }\n    try {\n      const response = await this.#client.send('Debugger.getScriptSource', {\n        scriptId: event.scriptId,\n      });\n      this.#scriptURLs.set(event.scriptId, event.url);\n      this.#scriptSources.set(event.scriptId, response.scriptSource);\n    } catch (error) {\n      // This might happen if the page has already navigated away.\n      debugError(error);\n    }\n  }\n\n  async stop(): Promise<JSCoverageEntry[]> {\n    assert(this.#enabled, 'JSCoverage is not enabled');\n    this.#enabled = false;\n\n    const result = await Promise.all([\n      this.#client.send('Profiler.takePreciseCoverage'),\n      this.#client.send('Profiler.stopPreciseCoverage'),\n      this.#client.send('Profiler.disable'),\n      this.#client.send('Debugger.disable'),\n    ]);\n\n    this.#subscriptions?.dispose();\n\n    const coverage = [];\n    const profileResponse = result[0];\n\n    for (const entry of profileResponse.result) {\n      let url = this.#scriptURLs.get(entry.scriptId);\n      if (!url && this.#reportAnonymousScripts) {\n        url = 'debugger://VM' + entry.scriptId;\n      }\n      const text = this.#scriptSources.get(entry.scriptId);\n      if (text === undefined || url === undefined) {\n        continue;\n      }\n      const flattenRanges = [];\n      for (const func of entry.functions) {\n        flattenRanges.push(...func.ranges);\n      }\n      const ranges = convertToDisjointRanges(flattenRanges);\n      if (!this.#includeRawScriptCoverage) {\n        coverage.push({url, ranges, text});\n      } else {\n        coverage.push({url, ranges, text, rawScriptCoverage: entry});\n      }\n    }\n    return coverage;\n  }\n}\n\n/**\n * @public\n */\nexport class CSSCoverage {\n  #client: CDPSession;\n  #enabled = false;\n  #stylesheetURLs = new Map<string, string>();\n  #stylesheetSources = new Map<string, string>();\n  #eventListeners?: DisposableStack;\n  #resetOnNavigation = false;\n\n  constructor(client: CDPSession) {\n    this.#client = client;\n  }\n\n  /**\n   * @internal\n   */\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  async start(options: {resetOnNavigation?: boolean} = {}): Promise<void> {\n    assert(!this.#enabled, 'CSSCoverage is already enabled');\n    const {resetOnNavigation = true} = options;\n    this.#resetOnNavigation = resetOnNavigation;\n    this.#enabled = true;\n    this.#stylesheetURLs.clear();\n    this.#stylesheetSources.clear();\n    this.#eventListeners = new DisposableStack();\n    const clientEmitter = this.#eventListeners.use(\n      new EventEmitter(this.#client)\n    );\n    clientEmitter.on('CSS.styleSheetAdded', this.#onStyleSheet.bind(this));\n    clientEmitter.on(\n      'Runtime.executionContextsCleared',\n      this.#onExecutionContextsCleared.bind(this)\n    );\n\n    await Promise.all([\n      this.#client.send('DOM.enable'),\n      this.#client.send('CSS.enable'),\n      this.#client.send('CSS.startRuleUsageTracking'),\n    ]);\n  }\n\n  #onExecutionContextsCleared(): void {\n    if (!this.#resetOnNavigation) {\n      return;\n    }\n    this.#stylesheetURLs.clear();\n    this.#stylesheetSources.clear();\n  }\n\n  async #onStyleSheet(event: Protocol.CSS.StyleSheetAddedEvent): Promise<void> {\n    const header = event.header;\n    // Ignore anonymous scripts\n    if (!header.sourceURL) {\n      return;\n    }\n    try {\n      const response = await this.#client.send('CSS.getStyleSheetText', {\n        styleSheetId: header.styleSheetId,\n      });\n      this.#stylesheetURLs.set(header.styleSheetId, header.sourceURL);\n      this.#stylesheetSources.set(header.styleSheetId, response.text);\n    } catch (error) {\n      // This might happen if the page has already navigated away.\n      debugError(error);\n    }\n  }\n\n  async stop(): Promise<CoverageEntry[]> {\n    assert(this.#enabled, 'CSSCoverage is not enabled');\n    this.#enabled = false;\n    const ruleTrackingResponse = await this.#client.send(\n      'CSS.stopRuleUsageTracking'\n    );\n    await Promise.all([\n      this.#client.send('CSS.disable'),\n      this.#client.send('DOM.disable'),\n    ]);\n    this.#eventListeners?.dispose();\n\n    // aggregate by styleSheetId\n    const styleSheetIdToCoverage = new Map();\n    for (const entry of ruleTrackingResponse.ruleUsage) {\n      let ranges = styleSheetIdToCoverage.get(entry.styleSheetId);\n      if (!ranges) {\n        ranges = [];\n        styleSheetIdToCoverage.set(entry.styleSheetId, ranges);\n      }\n      ranges.push({\n        startOffset: entry.startOffset,\n        endOffset: entry.endOffset,\n        count: entry.used ? 1 : 0,\n      });\n    }\n\n    const coverage: CoverageEntry[] = [];\n    for (const styleSheetId of this.#stylesheetURLs.keys()) {\n      const url = this.#stylesheetURLs.get(styleSheetId);\n      assert(\n        typeof url !== 'undefined',\n        `Stylesheet URL is undefined (styleSheetId=${styleSheetId})`\n      );\n      const text = this.#stylesheetSources.get(styleSheetId);\n      assert(\n        typeof text !== 'undefined',\n        `Stylesheet text is undefined (styleSheetId=${styleSheetId})`\n      );\n      const ranges = convertToDisjointRanges(\n        styleSheetIdToCoverage.get(styleSheetId) || []\n      );\n      coverage.push({url, ranges, text});\n    }\n\n    return coverage;\n  }\n}\n\nfunction convertToDisjointRanges(\n  nestedRanges: Array<{startOffset: number; endOffset: number; count: number}>\n): Array<{start: number; end: number}> {\n  const points = [];\n  for (const range of nestedRanges) {\n    points.push({offset: range.startOffset, type: 0, range});\n    points.push({offset: range.endOffset, type: 1, range});\n  }\n  // Sort points to form a valid parenthesis sequence.\n  points.sort((a, b) => {\n    // Sort with increasing offsets.\n    if (a.offset !== b.offset) {\n      return a.offset - b.offset;\n    }\n    // All \"end\" points should go before \"start\" points.\n    if (a.type !== b.type) {\n      return b.type - a.type;\n    }\n    const aLength = a.range.endOffset - a.range.startOffset;\n    const bLength = b.range.endOffset - b.range.startOffset;\n    // For two \"start\" points, the one with longer range goes first.\n    if (a.type === 0) {\n      return bLength - aLength;\n    }\n    // For two \"end\" points, the one with shorter range goes first.\n    return aLength - bLength;\n  });\n\n  const hitCountStack = [];\n  const results: Array<{\n    start: number;\n    end: number;\n  }> = [];\n  let lastOffset = 0;\n  // Run scanning line to intersect all ranges.\n  for (const point of points) {\n    if (\n      hitCountStack.length &&\n      lastOffset < point.offset &&\n      hitCountStack[hitCountStack.length - 1]! > 0\n    ) {\n      const lastResult = results[results.length - 1];\n      if (lastResult && lastResult.end === lastOffset) {\n        lastResult.end = point.offset;\n      } else {\n        results.push({start: lastOffset, end: point.offset});\n      }\n    }\n    lastOffset = point.offset;\n    if (point.type === 0) {\n      hitCountStack.push(point.range.count);\n    } else {\n      hitCountStack.pop();\n    }\n  }\n  // Filter out empty ranges.\n  return results.filter(range => {\n    return range.end - range.start > 0;\n  });\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {Dialog} from '../api/Dialog.js';\n\n/**\n * @internal\n */\nexport class CdpDialog extends Dialog {\n  #client: CDPSession;\n\n  constructor(\n    client: CDPSession,\n    type: Protocol.Page.DialogType,\n    message: string,\n    defaultValue = ''\n  ) {\n    super(type, message, defaultValue);\n    this.#client = client;\n  }\n\n  override async handle(options: {\n    accept: boolean;\n    text?: string;\n  }): Promise<void> {\n    await this.#client.send('Page.handleJavaScriptDialog', {\n      accept: options.accept,\n      promptText: options.text,\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {assert} from '../util/assert.js';\n\n/**\n * Dialog instances are dispatched by the {@link Page} via the `dialog` event.\n *\n * @remarks\n *\n * @example\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   page.on('dialog', async dialog => {\n *     console.log(dialog.message());\n *     await dialog.dismiss();\n *     await browser.close();\n *   });\n *   page.evaluate(() => alert('1'));\n * })();\n * ```\n *\n * @public\n */\nexport abstract class Dialog {\n  #type: Protocol.Page.DialogType;\n  #message: string;\n  #defaultValue: string;\n  /**\n   * @internal\n   */\n  protected handled = false;\n\n  /**\n   * @internal\n   */\n  constructor(\n    type: Protocol.Page.DialogType,\n    message: string,\n    defaultValue = ''\n  ) {\n    this.#type = type;\n    this.#message = message;\n    this.#defaultValue = defaultValue;\n  }\n\n  /**\n   * The type of the dialog.\n   */\n  type(): Protocol.Page.DialogType {\n    return this.#type;\n  }\n\n  /**\n   * The message displayed in the dialog.\n   */\n  message(): string {\n    return this.#message;\n  }\n\n  /**\n   * The default value of the prompt, or an empty string if the dialog\n   * is not a `prompt`.\n   */\n  defaultValue(): string {\n    return this.#defaultValue;\n  }\n\n  /**\n   * @internal\n   */\n  protected abstract handle(options: {\n    accept: boolean;\n    text?: string;\n  }): Promise<void>;\n\n  /**\n   * A promise that resolves when the dialog has been accepted.\n   *\n   * @param promptText - optional text that will be entered in the dialog\n   * prompt. Has no effect if the dialog's type is not `prompt`.\n   *\n   */\n  async accept(promptText?: string): Promise<void> {\n    assert(!this.handled, 'Cannot accept dialog which is already handled!');\n    this.handled = true;\n    await this.handle({\n      accept: true,\n      text: promptText,\n    });\n  }\n\n  /**\n   * A promise which will resolve once the dialog has been dismissed\n   */\n  async dismiss(): Promise<void> {\n    assert(!this.handled, 'Cannot dismiss dialog which is already handled!');\n    this.handled = true;\n    await this.handle({\n      accept: false,\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {Protocol} from 'devtools-protocol';\n\nimport {type CDPSession, CDPSessionEvent} from '../api/CDPSession.js';\nimport type {GeolocationOptions, MediaFeature} from '../api/Page.js';\nimport {debugError} from '../common/util.js';\nimport type {Viewport} from '../common/Viewport.js';\nimport {assert} from '../util/assert.js';\nimport {invokeAtMostOnceForArguments} from '../util/decorators.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\ninterface ViewportState {\n  viewport?: Viewport;\n  active: boolean;\n}\n\ninterface IdleOverridesState {\n  overrides?: {\n    isUserActive: boolean;\n    isScreenUnlocked: boolean;\n  };\n  active: boolean;\n}\n\ninterface TimezoneState {\n  timezoneId?: string;\n  active: boolean;\n}\n\ninterface VisionDeficiencyState {\n  visionDeficiency?: Protocol.Emulation.SetEmulatedVisionDeficiencyRequest['type'];\n  active: boolean;\n}\n\ninterface CpuThrottlingState {\n  factor?: number;\n  active: boolean;\n}\n\ninterface MediaFeaturesState {\n  mediaFeatures?: MediaFeature[];\n  active: boolean;\n}\n\ninterface MediaTypeState {\n  type?: string;\n  active: boolean;\n}\n\ninterface GeoLocationState {\n  geoLocation?: GeolocationOptions;\n  active: boolean;\n}\n\ninterface DefaultBackgroundColorState {\n  color?: Protocol.DOM.RGBA;\n  active: boolean;\n}\n\ninterface JavascriptEnabledState {\n  javaScriptEnabled: boolean;\n  active: boolean;\n}\n\n/**\n * @internal\n */\nexport interface ClientProvider {\n  clients(): CDPSession[];\n  registerState(state: EmulatedState<any>): void;\n}\n\n/**\n * @internal\n */\nexport class EmulatedState<T extends {active: boolean}> {\n  #state: T;\n  #clientProvider: ClientProvider;\n  #updater: (client: CDPSession, state: T) => Promise<void>;\n\n  constructor(\n    initialState: T,\n    clientProvider: ClientProvider,\n    updater: (client: CDPSession, state: T) => Promise<void>\n  ) {\n    this.#state = initialState;\n    this.#clientProvider = clientProvider;\n    this.#updater = updater;\n    this.#clientProvider.registerState(this);\n  }\n\n  async setState(state: T): Promise<void> {\n    this.#state = state;\n    await this.sync();\n  }\n\n  get state(): T {\n    return this.#state;\n  }\n\n  async sync(): Promise<void> {\n    await Promise.all(\n      this.#clientProvider.clients().map(client => {\n        return this.#updater(client, this.#state);\n      })\n    );\n  }\n}\n\n/**\n * @internal\n */\nexport class EmulationManager implements ClientProvider {\n  #client: CDPSession;\n\n  #emulatingMobile = false;\n  #hasTouch = false;\n\n  #states: Array<EmulatedState<any>> = [];\n\n  #viewportState = new EmulatedState<ViewportState>(\n    {\n      active: false,\n    },\n    this,\n    this.#applyViewport\n  );\n  #idleOverridesState = new EmulatedState<IdleOverridesState>(\n    {\n      active: false,\n    },\n    this,\n    this.#emulateIdleState\n  );\n  #timezoneState = new EmulatedState<TimezoneState>(\n    {\n      active: false,\n    },\n    this,\n    this.#emulateTimezone\n  );\n  #visionDeficiencyState = new EmulatedState<VisionDeficiencyState>(\n    {\n      active: false,\n    },\n    this,\n    this.#emulateVisionDeficiency\n  );\n  #cpuThrottlingState = new EmulatedState<CpuThrottlingState>(\n    {\n      active: false,\n    },\n    this,\n    this.#emulateCpuThrottling\n  );\n  #mediaFeaturesState = new EmulatedState<MediaFeaturesState>(\n    {\n      active: false,\n    },\n    this,\n    this.#emulateMediaFeatures\n  );\n  #mediaTypeState = new EmulatedState<MediaTypeState>(\n    {\n      active: false,\n    },\n    this,\n    this.#emulateMediaType\n  );\n  #geoLocationState = new EmulatedState<GeoLocationState>(\n    {\n      active: false,\n    },\n    this,\n    this.#setGeolocation\n  );\n  #defaultBackgroundColorState = new EmulatedState<DefaultBackgroundColorState>(\n    {\n      active: false,\n    },\n    this,\n    this.#setDefaultBackgroundColor\n  );\n  #javascriptEnabledState = new EmulatedState<JavascriptEnabledState>(\n    {\n      javaScriptEnabled: true,\n      active: false,\n    },\n    this,\n    this.#setJavaScriptEnabled\n  );\n\n  #secondaryClients = new Set<CDPSession>();\n\n  constructor(client: CDPSession) {\n    this.#client = client;\n  }\n\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n    this.#secondaryClients.delete(client);\n  }\n\n  registerState(state: EmulatedState<any>): void {\n    this.#states.push(state);\n  }\n\n  clients(): CDPSession[] {\n    return [this.#client, ...Array.from(this.#secondaryClients)];\n  }\n\n  async registerSpeculativeSession(client: CDPSession): Promise<void> {\n    this.#secondaryClients.add(client);\n    client.once(CDPSessionEvent.Disconnected, () => {\n      this.#secondaryClients.delete(client);\n    });\n    // We don't await here because we want to register all state changes before\n    // the target is unpaused.\n    void Promise.all(\n      this.#states.map(s => {\n        return s.sync().catch(debugError);\n      })\n    );\n  }\n\n  get javascriptEnabled(): boolean {\n    return this.#javascriptEnabledState.state.javaScriptEnabled;\n  }\n\n  async emulateViewport(viewport: Viewport | null): Promise<boolean> {\n    const currentState = this.#viewportState.state;\n    if (!viewport && !currentState.active) {\n      return false;\n    }\n    await this.#viewportState.setState(\n      viewport\n        ? {\n            viewport,\n            active: true,\n          }\n        : {\n            active: false,\n          }\n    );\n\n    const mobile = viewport?.isMobile || false;\n    const hasTouch = viewport?.hasTouch || false;\n    const reloadNeeded =\n      this.#emulatingMobile !== mobile || this.#hasTouch !== hasTouch;\n    this.#emulatingMobile = mobile;\n    this.#hasTouch = hasTouch;\n\n    return reloadNeeded;\n  }\n\n  @invokeAtMostOnceForArguments\n  async #applyViewport(\n    client: CDPSession,\n    viewportState: ViewportState\n  ): Promise<void> {\n    if (!viewportState.viewport) {\n      await Promise.all([\n        client.send('Emulation.clearDeviceMetricsOverride'),\n        client.send('Emulation.setTouchEmulationEnabled', {\n          enabled: false,\n        }),\n      ]).catch(debugError);\n      return;\n    }\n    const {viewport} = viewportState;\n    const mobile = viewport.isMobile || false;\n    const width = viewport.width;\n    const height = viewport.height;\n    const deviceScaleFactor = viewport.deviceScaleFactor ?? 1;\n    const screenOrientation: Protocol.Emulation.ScreenOrientation =\n      viewport.isLandscape\n        ? {angle: 90, type: 'landscapePrimary'}\n        : {angle: 0, type: 'portraitPrimary'};\n    const hasTouch = viewport.hasTouch || false;\n\n    await Promise.all([\n      client\n        .send('Emulation.setDeviceMetricsOverride', {\n          mobile,\n          width,\n          height,\n          deviceScaleFactor,\n          screenOrientation,\n        })\n        .catch(err => {\n          if (\n            err.message.includes('Target does not support metrics override')\n          ) {\n            debugError(err);\n            return;\n          }\n          throw err;\n        }),\n      client.send('Emulation.setTouchEmulationEnabled', {\n        enabled: hasTouch,\n      }),\n    ]);\n  }\n\n  async emulateIdleState(overrides?: {\n    isUserActive: boolean;\n    isScreenUnlocked: boolean;\n  }): Promise<void> {\n    await this.#idleOverridesState.setState({\n      active: true,\n      overrides,\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #emulateIdleState(\n    client: CDPSession,\n    idleStateState: IdleOverridesState\n  ): Promise<void> {\n    if (!idleStateState.active) {\n      return;\n    }\n    if (idleStateState.overrides) {\n      await client.send('Emulation.setIdleOverride', {\n        isUserActive: idleStateState.overrides.isUserActive,\n        isScreenUnlocked: idleStateState.overrides.isScreenUnlocked,\n      });\n    } else {\n      await client.send('Emulation.clearIdleOverride');\n    }\n  }\n\n  @invokeAtMostOnceForArguments\n  async #emulateTimezone(\n    client: CDPSession,\n    timezoneState: TimezoneState\n  ): Promise<void> {\n    if (!timezoneState.active) {\n      return;\n    }\n    try {\n      await client.send('Emulation.setTimezoneOverride', {\n        timezoneId: timezoneState.timezoneId || '',\n      });\n    } catch (error) {\n      if (isErrorLike(error) && error.message.includes('Invalid timezone')) {\n        throw new Error(`Invalid timezone ID: ${timezoneState.timezoneId}`);\n      }\n      throw error;\n    }\n  }\n\n  async emulateTimezone(timezoneId?: string): Promise<void> {\n    await this.#timezoneState.setState({\n      timezoneId,\n      active: true,\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #emulateVisionDeficiency(\n    client: CDPSession,\n    visionDeficiency: VisionDeficiencyState\n  ): Promise<void> {\n    if (!visionDeficiency.active) {\n      return;\n    }\n    await client.send('Emulation.setEmulatedVisionDeficiency', {\n      type: visionDeficiency.visionDeficiency || 'none',\n    });\n  }\n\n  async emulateVisionDeficiency(\n    type?: Protocol.Emulation.SetEmulatedVisionDeficiencyRequest['type']\n  ): Promise<void> {\n    const visionDeficiencies = new Set<\n      Protocol.Emulation.SetEmulatedVisionDeficiencyRequest['type']\n    >([\n      'none',\n      'achromatopsia',\n      'blurredVision',\n      'deuteranopia',\n      'protanopia',\n      'tritanopia',\n    ]);\n    assert(\n      !type || visionDeficiencies.has(type),\n      `Unsupported vision deficiency: ${type}`\n    );\n    await this.#visionDeficiencyState.setState({\n      active: true,\n      visionDeficiency: type,\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #emulateCpuThrottling(\n    client: CDPSession,\n    state: CpuThrottlingState\n  ): Promise<void> {\n    if (!state.active) {\n      return;\n    }\n    await client.send('Emulation.setCPUThrottlingRate', {\n      rate: state.factor ?? 1,\n    });\n  }\n\n  async emulateCPUThrottling(factor: number | null): Promise<void> {\n    assert(\n      factor === null || factor >= 1,\n      'Throttling rate should be greater or equal to 1'\n    );\n    await this.#cpuThrottlingState.setState({\n      active: true,\n      factor: factor ?? undefined,\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #emulateMediaFeatures(\n    client: CDPSession,\n    state: MediaFeaturesState\n  ): Promise<void> {\n    if (!state.active) {\n      return;\n    }\n    await client.send('Emulation.setEmulatedMedia', {\n      features: state.mediaFeatures,\n    });\n  }\n\n  async emulateMediaFeatures(features?: MediaFeature[]): Promise<void> {\n    if (Array.isArray(features)) {\n      for (const mediaFeature of features) {\n        const name = mediaFeature.name;\n        assert(\n          /^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(\n            name\n          ),\n          'Unsupported media feature: ' + name\n        );\n      }\n    }\n    await this.#mediaFeaturesState.setState({\n      active: true,\n      mediaFeatures: features,\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #emulateMediaType(\n    client: CDPSession,\n    state: MediaTypeState\n  ): Promise<void> {\n    if (!state.active) {\n      return;\n    }\n    await client.send('Emulation.setEmulatedMedia', {\n      media: state.type || '',\n    });\n  }\n\n  async emulateMediaType(type?: string): Promise<void> {\n    assert(\n      type === 'screen' ||\n        type === 'print' ||\n        (type ?? undefined) === undefined,\n      'Unsupported media type: ' + type\n    );\n    await this.#mediaTypeState.setState({\n      type,\n      active: true,\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #setGeolocation(\n    client: CDPSession,\n    state: GeoLocationState\n  ): Promise<void> {\n    if (!state.active) {\n      return;\n    }\n    await client.send(\n      'Emulation.setGeolocationOverride',\n      state.geoLocation\n        ? {\n            longitude: state.geoLocation.longitude,\n            latitude: state.geoLocation.latitude,\n            accuracy: state.geoLocation.accuracy,\n          }\n        : undefined\n    );\n  }\n\n  async setGeolocation(options: GeolocationOptions): Promise<void> {\n    const {longitude, latitude, accuracy = 0} = options;\n    if (longitude < -180 || longitude > 180) {\n      throw new Error(\n        `Invalid longitude \"${longitude}\": precondition -180 <= LONGITUDE <= 180 failed.`\n      );\n    }\n    if (latitude < -90 || latitude > 90) {\n      throw new Error(\n        `Invalid latitude \"${latitude}\": precondition -90 <= LATITUDE <= 90 failed.`\n      );\n    }\n    if (accuracy < 0) {\n      throw new Error(\n        `Invalid accuracy \"${accuracy}\": precondition 0 <= ACCURACY failed.`\n      );\n    }\n    await this.#geoLocationState.setState({\n      active: true,\n      geoLocation: {\n        longitude,\n        latitude,\n        accuracy,\n      },\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #setDefaultBackgroundColor(\n    client: CDPSession,\n    state: DefaultBackgroundColorState\n  ): Promise<void> {\n    if (!state.active) {\n      return;\n    }\n    await client.send('Emulation.setDefaultBackgroundColorOverride', {\n      color: state.color,\n    });\n  }\n\n  /**\n   * Resets default white background\n   */\n  async resetDefaultBackgroundColor(): Promise<void> {\n    await this.#defaultBackgroundColorState.setState({\n      active: true,\n      color: undefined,\n    });\n  }\n\n  /**\n   * Hides default white background\n   */\n  async setTransparentBackgroundColor(): Promise<void> {\n    await this.#defaultBackgroundColorState.setState({\n      active: true,\n      color: {r: 0, g: 0, b: 0, a: 0},\n    });\n  }\n\n  @invokeAtMostOnceForArguments\n  async #setJavaScriptEnabled(\n    client: CDPSession,\n    state: JavascriptEnabledState\n  ): Promise<void> {\n    if (!state.active) {\n      return;\n    }\n    await client.send('Emulation.setScriptExecutionDisabled', {\n      value: !state.javaScriptEnabled,\n    });\n  }\n\n  async setJavaScriptEnabled(enabled: boolean): Promise<void> {\n    await this.#javascriptEnabledState.setState({\n      active: true,\n      javaScriptEnabled: enabled,\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {TargetFilterCallback} from '../api/Browser.js';\nimport {type CDPSession, CDPSessionEvent} from '../api/CDPSession.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\n\nimport type {CdpCDPSession} from './CDPSession.js';\nimport type {Connection} from './Connection.js';\nimport type {CdpTarget} from './Target.js';\nimport {\n  type TargetFactory,\n  TargetManagerEvent,\n  type TargetManager,\n  type TargetManagerEvents,\n} from './TargetManager.js';\n\n/**\n * FirefoxTargetManager implements target management using\n * `Target.setDiscoverTargets` without using auto-attach. It, therefore, creates\n * targets that lazily establish their CDP sessions.\n *\n * Although the approach is potentially flaky, there is no other way for Firefox\n * because Firefox's CDP implementation does not support auto-attach.\n *\n * Firefox does not support targetInfoChanged and detachedFromTarget events:\n *\n * - https://bugzilla.mozilla.org/show_bug.cgi?id=1610855\n * - https://bugzilla.mozilla.org/show_bug.cgi?id=1636979\n *   @internal\n */\nexport class FirefoxTargetManager\n  extends EventEmitter<TargetManagerEvents>\n  implements TargetManager\n{\n  #connection: Connection;\n  /**\n   * Keeps track of the following events: 'Target.targetCreated',\n   * 'Target.targetDestroyed'.\n   *\n   * A target becomes discovered when 'Target.targetCreated' is received.\n   * A target is removed from this map once 'Target.targetDestroyed' is\n   * received.\n   *\n   * `targetFilterCallback` has no effect on this map.\n   */\n  #discoveredTargetsByTargetId = new Map<string, Protocol.Target.TargetInfo>();\n  /**\n   * Keeps track of targets that were created via 'Target.targetCreated'\n   * and which one are not filtered out by `targetFilterCallback`.\n   *\n   * The target is removed from here once it's been destroyed.\n   */\n  #availableTargetsByTargetId = new Map<string, CdpTarget>();\n  /**\n   * Tracks which sessions attach to which target.\n   */\n  #availableTargetsBySessionId = new Map<string, CdpTarget>();\n  #targetFilterCallback: TargetFilterCallback | undefined;\n  #targetFactory: TargetFactory;\n\n  #attachedToTargetListenersBySession = new WeakMap<\n    CDPSession | Connection,\n    (event: Protocol.Target.AttachedToTargetEvent) => Promise<void>\n  >();\n\n  #initializeDeferred = Deferred.create<void>();\n  #targetsIdsForInit = new Set<string>();\n\n  constructor(\n    connection: Connection,\n    targetFactory: TargetFactory,\n    targetFilterCallback?: TargetFilterCallback\n  ) {\n    super();\n    this.#connection = connection;\n    this.#targetFilterCallback = targetFilterCallback;\n    this.#targetFactory = targetFactory;\n\n    this.#connection.on('Target.targetCreated', this.#onTargetCreated);\n    this.#connection.on('Target.targetDestroyed', this.#onTargetDestroyed);\n    this.#connection.on(\n      CDPSessionEvent.SessionDetached,\n      this.#onSessionDetached\n    );\n    this.setupAttachmentListeners(this.#connection);\n  }\n\n  setupAttachmentListeners(session: CDPSession | Connection): void {\n    const listener = (event: Protocol.Target.AttachedToTargetEvent) => {\n      return this.#onAttachedToTarget(session, event);\n    };\n    assert(!this.#attachedToTargetListenersBySession.has(session));\n    this.#attachedToTargetListenersBySession.set(session, listener);\n    session.on('Target.attachedToTarget', listener);\n  }\n\n  #onSessionDetached = (session: CDPSession) => {\n    this.removeSessionListeners(session);\n    this.#availableTargetsBySessionId.delete(session.id());\n  };\n\n  removeSessionListeners(session: CDPSession): void {\n    if (this.#attachedToTargetListenersBySession.has(session)) {\n      session.off(\n        'Target.attachedToTarget',\n        this.#attachedToTargetListenersBySession.get(session)!\n      );\n      this.#attachedToTargetListenersBySession.delete(session);\n    }\n  }\n\n  getAvailableTargets(): ReadonlyMap<string, CdpTarget> {\n    return this.#availableTargetsByTargetId;\n  }\n\n  getChildTargets(_target: CdpTarget): ReadonlySet<CdpTarget> {\n    return new Set();\n  }\n\n  dispose(): void {\n    this.#connection.off('Target.targetCreated', this.#onTargetCreated);\n    this.#connection.off('Target.targetDestroyed', this.#onTargetDestroyed);\n  }\n\n  async initialize(): Promise<void> {\n    await this.#connection.send('Target.setDiscoverTargets', {\n      discover: true,\n      filter: [{}],\n    });\n    this.#targetsIdsForInit = new Set(this.#discoveredTargetsByTargetId.keys());\n    await this.#initializeDeferred.valueOrThrow();\n  }\n\n  #onTargetCreated = async (\n    event: Protocol.Target.TargetCreatedEvent\n  ): Promise<void> => {\n    if (this.#discoveredTargetsByTargetId.has(event.targetInfo.targetId)) {\n      return;\n    }\n\n    this.#discoveredTargetsByTargetId.set(\n      event.targetInfo.targetId,\n      event.targetInfo\n    );\n\n    if (event.targetInfo.type === 'browser' && event.targetInfo.attached) {\n      const target = this.#targetFactory(event.targetInfo, undefined);\n      target._initialize();\n      this.#availableTargetsByTargetId.set(event.targetInfo.targetId, target);\n      this.#finishInitializationIfReady(target._targetId);\n      return;\n    }\n\n    const target = this.#targetFactory(event.targetInfo, undefined);\n    if (this.#targetFilterCallback && !this.#targetFilterCallback(target)) {\n      this.#finishInitializationIfReady(event.targetInfo.targetId);\n      return;\n    }\n    target._initialize();\n    this.#availableTargetsByTargetId.set(event.targetInfo.targetId, target);\n    this.emit(TargetManagerEvent.TargetAvailable, target);\n    this.#finishInitializationIfReady(target._targetId);\n  };\n\n  #onTargetDestroyed = (event: Protocol.Target.TargetDestroyedEvent): void => {\n    this.#discoveredTargetsByTargetId.delete(event.targetId);\n    this.#finishInitializationIfReady(event.targetId);\n    const target = this.#availableTargetsByTargetId.get(event.targetId);\n    if (target) {\n      this.emit(TargetManagerEvent.TargetGone, target);\n      this.#availableTargetsByTargetId.delete(event.targetId);\n    }\n  };\n\n  #onAttachedToTarget = async (\n    parentSession: Connection | CDPSession,\n    event: Protocol.Target.AttachedToTargetEvent\n  ) => {\n    const targetInfo = event.targetInfo;\n    const session = this.#connection.session(event.sessionId);\n    if (!session) {\n      throw new Error(`Session ${event.sessionId} was not created.`);\n    }\n\n    const target = this.#availableTargetsByTargetId.get(targetInfo.targetId);\n\n    assert(target, `Target ${targetInfo.targetId} is missing`);\n\n    (session as CdpCDPSession)._setTarget(target);\n    this.setupAttachmentListeners(session);\n\n    this.#availableTargetsBySessionId.set(\n      session.id(),\n      this.#availableTargetsByTargetId.get(targetInfo.targetId)!\n    );\n\n    parentSession.emit(CDPSessionEvent.Ready, session);\n  };\n\n  #finishInitializationIfReady(targetId: string): void {\n    this.#targetsIdsForInit.delete(targetId);\n    if (this.#targetsIdsForInit.size === 0) {\n      this.#initializeDeferred.resolve();\n    }\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {type CDPSession, CDPSessionEvent} from '../api/CDPSession.js';\nimport {FrameEvent} from '../api/Frame.js';\nimport type {NewDocumentScriptEvaluation} from '../api/Page.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport type {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport {debugError, PuppeteerURL, UTILITY_WORLD_NAME} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {disposeSymbol} from '../util/disposable.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\nimport type {Binding} from './Binding.js';\nimport {CdpPreloadScript} from './CdpPreloadScript.js';\nimport {CdpCDPSession} from './CDPSession.js';\nimport {isTargetClosedError} from './Connection.js';\nimport {DeviceRequestPromptManager} from './DeviceRequestPrompt.js';\nimport {ExecutionContext} from './ExecutionContext.js';\nimport {CdpFrame} from './Frame.js';\nimport type {FrameManagerEvents} from './FrameManagerEvents.js';\nimport {FrameManagerEvent} from './FrameManagerEvents.js';\nimport {FrameTree} from './FrameTree.js';\nimport type {IsolatedWorld} from './IsolatedWorld.js';\nimport {MAIN_WORLD, PUPPETEER_WORLD} from './IsolatedWorlds.js';\nimport {NetworkManager} from './NetworkManager.js';\nimport type {CdpPage} from './Page.js';\nimport type {CdpTarget} from './Target.js';\n\nconst TIME_FOR_WAITING_FOR_SWAP = 100; // ms.\n\n/**\n * A frame manager manages the frames for a given {@link Page | page}.\n *\n * @internal\n */\nexport class FrameManager extends EventEmitter<FrameManagerEvents> {\n  #page: CdpPage;\n  #networkManager: NetworkManager;\n  #timeoutSettings: TimeoutSettings;\n  #isolatedWorlds = new Set<string>();\n  #client: CDPSession;\n  #scriptsToEvaluateOnNewDocument = new Map<string, CdpPreloadScript>();\n  #bindings = new Set<Binding>();\n\n  _frameTree = new FrameTree<CdpFrame>();\n\n  /**\n   * Set of frame IDs stored to indicate if a frame has received a\n   * frameNavigated event so that frame tree responses could be ignored as the\n   * frameNavigated event usually contains the latest information.\n   */\n  #frameNavigatedReceived = new Set<string>();\n\n  #deviceRequestPromptManagerMap = new WeakMap<\n    CDPSession,\n    DeviceRequestPromptManager\n  >();\n\n  #frameTreeHandled?: Deferred<void>;\n\n  get timeoutSettings(): TimeoutSettings {\n    return this.#timeoutSettings;\n  }\n\n  get networkManager(): NetworkManager {\n    return this.#networkManager;\n  }\n\n  get client(): CDPSession {\n    return this.#client;\n  }\n\n  constructor(\n    client: CDPSession,\n    page: CdpPage,\n    timeoutSettings: TimeoutSettings\n  ) {\n    super();\n    this.#client = client;\n    this.#page = page;\n    this.#networkManager = new NetworkManager(this);\n    this.#timeoutSettings = timeoutSettings;\n    this.setupEventListeners(this.#client);\n    client.once(CDPSessionEvent.Disconnected, () => {\n      this.#onClientDisconnect().catch(debugError);\n    });\n  }\n\n  /**\n   * Called when the frame's client is disconnected. We don't know if the\n   * disconnect means that the frame is removed or if it will be replaced by a\n   * new frame. Therefore, we wait for a swap event.\n   */\n  async #onClientDisconnect() {\n    const mainFrame = this._frameTree.getMainFrame();\n    if (!mainFrame) {\n      return;\n    }\n    for (const child of mainFrame.childFrames()) {\n      this.#removeFramesRecursively(child);\n    }\n    const swapped = Deferred.create<void>({\n      timeout: TIME_FOR_WAITING_FOR_SWAP,\n      message: 'Frame was not swapped',\n    });\n    mainFrame.once(FrameEvent.FrameSwappedByActivation, () => {\n      swapped.resolve();\n    });\n    try {\n      await swapped.valueOrThrow();\n    } catch (err) {\n      this.#removeFramesRecursively(mainFrame);\n    }\n  }\n\n  /**\n   * When the main frame is replaced by another main frame,\n   * we maintain the main frame object identity while updating\n   * its frame tree and ID.\n   */\n  async swapFrameTree(client: CDPSession): Promise<void> {\n    this.#client = client;\n    assert(\n      this.#client instanceof CdpCDPSession,\n      'CDPSession is not an instance of CDPSessionImpl.'\n    );\n    const frame = this._frameTree.getMainFrame();\n    if (frame) {\n      this.#frameNavigatedReceived.add(this.#client._target()._targetId);\n      this._frameTree.removeFrame(frame);\n      frame.updateId(this.#client._target()._targetId);\n      this._frameTree.addFrame(frame);\n      frame.updateClient(client);\n    }\n    this.setupEventListeners(client);\n    client.once(CDPSessionEvent.Disconnected, () => {\n      this.#onClientDisconnect().catch(debugError);\n    });\n    await this.initialize(client, frame);\n    await this.#networkManager.addClient(client);\n    if (frame) {\n      frame.emit(FrameEvent.FrameSwappedByActivation, undefined);\n    }\n  }\n\n  async registerSpeculativeSession(client: CdpCDPSession): Promise<void> {\n    await this.#networkManager.addClient(client);\n  }\n\n  private setupEventListeners(session: CDPSession) {\n    session.on('Page.frameAttached', async event => {\n      await this.#frameTreeHandled?.valueOrThrow();\n      this.#onFrameAttached(session, event.frameId, event.parentFrameId);\n    });\n    session.on('Page.frameNavigated', async event => {\n      this.#frameNavigatedReceived.add(event.frame.id);\n      await this.#frameTreeHandled?.valueOrThrow();\n      void this.#onFrameNavigated(event.frame, event.type);\n    });\n    session.on('Page.navigatedWithinDocument', async event => {\n      await this.#frameTreeHandled?.valueOrThrow();\n      this.#onFrameNavigatedWithinDocument(event.frameId, event.url);\n    });\n    session.on(\n      'Page.frameDetached',\n      async (event: Protocol.Page.FrameDetachedEvent) => {\n        await this.#frameTreeHandled?.valueOrThrow();\n        this.#onFrameDetached(\n          event.frameId,\n          event.reason as Protocol.Page.FrameDetachedEventReason\n        );\n      }\n    );\n    session.on('Page.frameStartedLoading', async event => {\n      await this.#frameTreeHandled?.valueOrThrow();\n      this.#onFrameStartedLoading(event.frameId);\n    });\n    session.on('Page.frameStoppedLoading', async event => {\n      await this.#frameTreeHandled?.valueOrThrow();\n      this.#onFrameStoppedLoading(event.frameId);\n    });\n    session.on('Runtime.executionContextCreated', async event => {\n      await this.#frameTreeHandled?.valueOrThrow();\n      this.#onExecutionContextCreated(event.context, session);\n    });\n    session.on('Page.lifecycleEvent', async event => {\n      await this.#frameTreeHandled?.valueOrThrow();\n      this.#onLifecycleEvent(event);\n    });\n  }\n\n  async initialize(client: CDPSession, frame?: CdpFrame | null): Promise<void> {\n    try {\n      this.#frameTreeHandled?.resolve();\n      this.#frameTreeHandled = Deferred.create();\n      // We need to schedule all these commands while the target is paused,\n      // therefore, it needs to happen synchroniously. At the same time we\n      // should not start processing execution context and frame events before\n      // we received the initial information about the frame tree.\n      await Promise.all([\n        this.#networkManager.addClient(client),\n        client.send('Page.enable'),\n        client.send('Page.getFrameTree').then(({frameTree}) => {\n          this.#handleFrameTree(client, frameTree);\n          this.#frameTreeHandled?.resolve();\n        }),\n        client.send('Page.setLifecycleEventsEnabled', {enabled: true}),\n        client.send('Runtime.enable').then(() => {\n          return this.#createIsolatedWorld(client, UTILITY_WORLD_NAME);\n        }),\n        ...(frame\n          ? Array.from(this.#scriptsToEvaluateOnNewDocument.values())\n          : []\n        ).map(script => {\n          return frame?.addPreloadScript(script);\n        }),\n        ...(frame ? Array.from(this.#bindings.values()) : []).map(binding => {\n          return frame?.addExposedFunctionBinding(binding);\n        }),\n      ]);\n    } catch (error) {\n      this.#frameTreeHandled?.resolve();\n      // The target might have been closed before the initialization finished.\n      if (isErrorLike(error) && isTargetClosedError(error)) {\n        return;\n      }\n\n      throw error;\n    }\n  }\n\n  page(): CdpPage {\n    return this.#page;\n  }\n\n  mainFrame(): CdpFrame {\n    const mainFrame = this._frameTree.getMainFrame();\n    assert(mainFrame, 'Requesting main frame too early!');\n    return mainFrame;\n  }\n\n  frames(): CdpFrame[] {\n    return Array.from(this._frameTree.frames());\n  }\n\n  frame(frameId: string): CdpFrame | null {\n    return this._frameTree.getById(frameId) || null;\n  }\n\n  async addExposedFunctionBinding(binding: Binding): Promise<void> {\n    this.#bindings.add(binding);\n    await Promise.all(\n      this.frames().map(async frame => {\n        return await frame.addExposedFunctionBinding(binding);\n      })\n    );\n  }\n\n  async removeExposedFunctionBinding(binding: Binding): Promise<void> {\n    this.#bindings.delete(binding);\n    await Promise.all(\n      this.frames().map(async frame => {\n        return await frame.removeExposedFunctionBinding(binding);\n      })\n    );\n  }\n\n  async evaluateOnNewDocument(\n    source: string\n  ): Promise<NewDocumentScriptEvaluation> {\n    const {identifier} = await this.mainFrame()\n      ._client()\n      .send('Page.addScriptToEvaluateOnNewDocument', {\n        source,\n      });\n\n    const preloadScript = new CdpPreloadScript(\n      this.mainFrame(),\n      identifier,\n      source\n    );\n\n    this.#scriptsToEvaluateOnNewDocument.set(identifier, preloadScript);\n\n    await Promise.all(\n      this.frames().map(async frame => {\n        return await frame.addPreloadScript(preloadScript);\n      })\n    );\n\n    return {identifier};\n  }\n\n  async removeScriptToEvaluateOnNewDocument(identifier: string): Promise<void> {\n    const preloadScript = this.#scriptsToEvaluateOnNewDocument.get(identifier);\n    if (!preloadScript) {\n      throw new Error(\n        `Script to evaluate on new document with id ${identifier} not found`\n      );\n    }\n\n    this.#scriptsToEvaluateOnNewDocument.delete(identifier);\n\n    await Promise.all(\n      this.frames().map(frame => {\n        const identifier = preloadScript.getIdForFrame(frame);\n        if (!identifier) {\n          return;\n        }\n        return frame\n          ._client()\n          .send('Page.removeScriptToEvaluateOnNewDocument', {\n            identifier,\n          })\n          .catch(debugError);\n      })\n    );\n  }\n\n  onAttachedToTarget(target: CdpTarget): void {\n    if (target._getTargetInfo().type !== 'iframe') {\n      return;\n    }\n\n    const frame = this.frame(target._getTargetInfo().targetId);\n    if (frame) {\n      frame.updateClient(target._session()!);\n    }\n    this.setupEventListeners(target._session()!);\n    void this.initialize(target._session()!, frame);\n  }\n\n  _deviceRequestPromptManager(client: CDPSession): DeviceRequestPromptManager {\n    let manager = this.#deviceRequestPromptManagerMap.get(client);\n    if (manager === undefined) {\n      manager = new DeviceRequestPromptManager(client, this.#timeoutSettings);\n      this.#deviceRequestPromptManagerMap.set(client, manager);\n    }\n    return manager;\n  }\n\n  #onLifecycleEvent(event: Protocol.Page.LifecycleEventEvent): void {\n    const frame = this.frame(event.frameId);\n    if (!frame) {\n      return;\n    }\n    frame._onLifecycleEvent(event.loaderId, event.name);\n    this.emit(FrameManagerEvent.LifecycleEvent, frame);\n    frame.emit(FrameEvent.LifecycleEvent, undefined);\n  }\n\n  #onFrameStartedLoading(frameId: string): void {\n    const frame = this.frame(frameId);\n    if (!frame) {\n      return;\n    }\n    frame._onLoadingStarted();\n  }\n\n  #onFrameStoppedLoading(frameId: string): void {\n    const frame = this.frame(frameId);\n    if (!frame) {\n      return;\n    }\n    frame._onLoadingStopped();\n    this.emit(FrameManagerEvent.LifecycleEvent, frame);\n    frame.emit(FrameEvent.LifecycleEvent, undefined);\n  }\n\n  #handleFrameTree(\n    session: CDPSession,\n    frameTree: Protocol.Page.FrameTree\n  ): void {\n    if (frameTree.frame.parentId) {\n      this.#onFrameAttached(\n        session,\n        frameTree.frame.id,\n        frameTree.frame.parentId\n      );\n    }\n    if (!this.#frameNavigatedReceived.has(frameTree.frame.id)) {\n      void this.#onFrameNavigated(frameTree.frame, 'Navigation');\n    } else {\n      this.#frameNavigatedReceived.delete(frameTree.frame.id);\n    }\n\n    if (!frameTree.childFrames) {\n      return;\n    }\n\n    for (const child of frameTree.childFrames) {\n      this.#handleFrameTree(session, child);\n    }\n  }\n\n  #onFrameAttached(\n    session: CDPSession,\n    frameId: string,\n    parentFrameId: string\n  ): void {\n    let frame = this.frame(frameId);\n    if (frame) {\n      if (session && frame.isOOPFrame()) {\n        // If an OOP iframes becomes a normal iframe again\n        // it is first attached to the parent page before\n        // the target is removed.\n        frame.updateClient(session);\n      }\n      return;\n    }\n\n    frame = new CdpFrame(this, frameId, parentFrameId, session);\n    this._frameTree.addFrame(frame);\n    this.emit(FrameManagerEvent.FrameAttached, frame);\n  }\n\n  async #onFrameNavigated(\n    framePayload: Protocol.Page.Frame,\n    navigationType: Protocol.Page.NavigationType\n  ): Promise<void> {\n    const frameId = framePayload.id;\n    const isMainFrame = !framePayload.parentId;\n\n    let frame = this._frameTree.getById(frameId);\n\n    // Detach all child frames first.\n    if (frame) {\n      for (const child of frame.childFrames()) {\n        this.#removeFramesRecursively(child);\n      }\n    }\n\n    // Update or create main frame.\n    if (isMainFrame) {\n      if (frame) {\n        // Update frame id to retain frame identity on cross-process navigation.\n        this._frameTree.removeFrame(frame);\n        frame._id = frameId;\n      } else {\n        // Initial main frame navigation.\n        frame = new CdpFrame(this, frameId, undefined, this.#client);\n      }\n      this._frameTree.addFrame(frame);\n    }\n\n    frame = await this._frameTree.waitForFrame(frameId);\n    frame._navigated(framePayload);\n    this.emit(FrameManagerEvent.FrameNavigated, frame);\n    frame.emit(FrameEvent.FrameNavigated, navigationType);\n  }\n\n  async #createIsolatedWorld(session: CDPSession, name: string): Promise<void> {\n    const key = `${session.id()}:${name}`;\n\n    if (this.#isolatedWorlds.has(key)) {\n      return;\n    }\n\n    await session.send('Page.addScriptToEvaluateOnNewDocument', {\n      source: `//# sourceURL=${PuppeteerURL.INTERNAL_URL}`,\n      worldName: name,\n    });\n\n    await Promise.all(\n      this.frames()\n        .filter(frame => {\n          return frame.client === session;\n        })\n        .map(frame => {\n          // Frames might be removed before we send this, so we don't want to\n          // throw an error.\n          return session\n            .send('Page.createIsolatedWorld', {\n              frameId: frame._id,\n              worldName: name,\n              grantUniveralAccess: true,\n            })\n            .catch(debugError);\n        })\n    );\n\n    this.#isolatedWorlds.add(key);\n  }\n\n  #onFrameNavigatedWithinDocument(frameId: string, url: string): void {\n    const frame = this.frame(frameId);\n    if (!frame) {\n      return;\n    }\n    frame._navigatedWithinDocument(url);\n    this.emit(FrameManagerEvent.FrameNavigatedWithinDocument, frame);\n    frame.emit(FrameEvent.FrameNavigatedWithinDocument, undefined);\n    this.emit(FrameManagerEvent.FrameNavigated, frame);\n    frame.emit(FrameEvent.FrameNavigated, 'Navigation');\n  }\n\n  #onFrameDetached(\n    frameId: string,\n    reason: Protocol.Page.FrameDetachedEventReason\n  ): void {\n    const frame = this.frame(frameId);\n    if (!frame) {\n      return;\n    }\n    switch (reason) {\n      case 'remove':\n        // Only remove the frame if the reason for the detached event is\n        // an actual removement of the frame.\n        // For frames that become OOP iframes, the reason would be 'swap'.\n        this.#removeFramesRecursively(frame);\n        break;\n      case 'swap':\n        this.emit(FrameManagerEvent.FrameSwapped, frame);\n        frame.emit(FrameEvent.FrameSwapped, undefined);\n        break;\n    }\n  }\n\n  #onExecutionContextCreated(\n    contextPayload: Protocol.Runtime.ExecutionContextDescription,\n    session: CDPSession\n  ): void {\n    const auxData = contextPayload.auxData as {frameId?: string} | undefined;\n    const frameId = auxData && auxData.frameId;\n    const frame = typeof frameId === 'string' ? this.frame(frameId) : undefined;\n    let world: IsolatedWorld | undefined;\n    if (frame) {\n      // Only care about execution contexts created for the current session.\n      if (frame.client !== session) {\n        return;\n      }\n      if (contextPayload.auxData && contextPayload.auxData['isDefault']) {\n        world = frame.worlds[MAIN_WORLD];\n      } else if (contextPayload.name === UTILITY_WORLD_NAME) {\n        // In case of multiple sessions to the same target, there's a race between\n        // connections so we might end up creating multiple isolated worlds.\n        // We can use either.\n        world = frame.worlds[PUPPETEER_WORLD];\n      }\n    }\n    // If there is no world, the context is not meant to be handled by us.\n    if (!world) {\n      return;\n    }\n    const context = new ExecutionContext(\n      frame?.client || this.#client,\n      contextPayload,\n      world\n    );\n    world.setContext(context);\n  }\n\n  #removeFramesRecursively(frame: CdpFrame): void {\n    for (const child of frame.childFrames()) {\n      this.#removeFramesRecursively(child);\n    }\n    frame[disposeSymbol]();\n    this._frameTree.removeFrame(frame);\n    this.emit(FrameManagerEvent.FrameDetached, frame);\n    frame.emit(FrameEvent.FrameDetached, frame);\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Protocol from 'devtools-protocol';\n\nimport type {ClickOptions, ElementHandle} from '../api/ElementHandle.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\nimport type {\n  Page,\n  QueryOptions,\n  WaitForSelectorOptions,\n  WaitTimeoutOptions,\n} from '../api/Page.js';\nimport type {Accessibility} from '../cdp/Accessibility.js';\nimport type {DeviceRequestPrompt} from '../cdp/DeviceRequestPrompt.js';\nimport type {PuppeteerLifeCycleEvent} from '../cdp/LifecycleWatcher.js';\nimport {EventEmitter, type EventType} from '../common/EventEmitter.js';\nimport {getQueryHandlerAndSelector} from '../common/GetQueryHandler.js';\nimport {transposeIterableHandle} from '../common/HandleIterator.js';\nimport type {\n  Awaitable,\n  EvaluateFunc,\n  EvaluateFuncWith,\n  HandleFor,\n  NodeFor,\n} from '../common/types.js';\nimport {\n  importFSPromises,\n  withSourcePuppeteerURLIfNone,\n} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {throwIfDisposed} from '../util/decorators.js';\n\nimport type {CDPSession} from './CDPSession.js';\nimport type {KeyboardTypeOptions} from './Input.js';\nimport {\n  FunctionLocator,\n  NodeLocator,\n  type Locator,\n} from './locators/locators.js';\nimport type {Realm} from './Realm.js';\n\n/**\n * @public\n */\nexport interface WaitForOptions {\n  /**\n   * Maximum wait time in milliseconds. Pass 0 to disable the timeout.\n   *\n   * The default value can be changed by using the\n   * {@link Page.setDefaultTimeout} or {@link Page.setDefaultNavigationTimeout}\n   * methods.\n   *\n   * @defaultValue `30000`\n   */\n  timeout?: number;\n  /**\n   * When to consider waiting succeeds. Given an array of event strings, waiting\n   * is considered to be successful after all events have been fired.\n   *\n   * @defaultValue `'load'`\n   */\n  waitUntil?: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[];\n  /**\n   * @internal\n   */\n  ignoreSameDocumentNavigation?: boolean;\n}\n\n/**\n * @public\n */\nexport interface GoToOptions extends WaitForOptions {\n  /**\n   * If provided, it will take preference over the referer header value set by\n   * {@link Page.setExtraHTTPHeaders | page.setExtraHTTPHeaders()}.\n   */\n  referer?: string;\n  /**\n   * If provided, it will take preference over the referer-policy header value\n   * set by {@link Page.setExtraHTTPHeaders | page.setExtraHTTPHeaders()}.\n   */\n  referrerPolicy?: string;\n}\n\n/**\n * @public\n */\nexport interface FrameWaitForFunctionOptions {\n  /**\n   * An interval at which the `pageFunction` is executed, defaults to `raf`. If\n   * `polling` is a number, then it is treated as an interval in milliseconds at\n   * which the function would be executed. If `polling` is a string, then it can\n   * be one of the following values:\n   *\n   * - `raf` - to constantly execute `pageFunction` in `requestAnimationFrame`\n   *   callback. This is the tightest polling mode which is suitable to observe\n   *   styling changes.\n   *\n   * - `mutation` - to execute `pageFunction` on every DOM mutation.\n   */\n  polling?: 'raf' | 'mutation' | number;\n  /**\n   * Maximum time to wait in milliseconds. Defaults to `30000` (30 seconds).\n   * Pass `0` to disable the timeout. Puppeteer's default timeout can be changed\n   * using {@link Page.setDefaultTimeout}.\n   */\n  timeout?: number;\n  /**\n   * A signal object that allows you to cancel a waitForFunction call.\n   */\n  signal?: AbortSignal;\n}\n\n/**\n * @public\n */\nexport interface FrameAddScriptTagOptions {\n  /**\n   * URL of the script to be added.\n   */\n  url?: string;\n  /**\n   * Path to a JavaScript file to be injected into the frame.\n   *\n   * @remarks\n   * If `path` is a relative path, it is resolved relative to the current\n   * working directory (`process.cwd()` in Node.js).\n   */\n  path?: string;\n  /**\n   * JavaScript to be injected into the frame.\n   */\n  content?: string;\n  /**\n   * Sets the `type` of the script. Use `module` in order to load an ES2015 module.\n   */\n  type?: string;\n  /**\n   * Sets the `id` of the script.\n   */\n  id?: string;\n}\n\n/**\n * @public\n */\nexport interface FrameAddStyleTagOptions {\n  /**\n   * the URL of the CSS file to be added.\n   */\n  url?: string;\n  /**\n   * The path to a CSS file to be injected into the frame.\n   * @remarks\n   * If `path` is a relative path, it is resolved relative to the current\n   * working directory (`process.cwd()` in Node.js).\n   */\n  path?: string;\n  /**\n   * Raw CSS content to be injected into the frame.\n   */\n  content?: string;\n}\n\n/**\n * @public\n */\nexport interface FrameEvents extends Record<EventType, unknown> {\n  /** @internal */\n  [FrameEvent.FrameNavigated]: Protocol.Page.NavigationType;\n  /** @internal */\n  [FrameEvent.FrameSwapped]: undefined;\n  /** @internal */\n  [FrameEvent.LifecycleEvent]: undefined;\n  /** @internal */\n  [FrameEvent.FrameNavigatedWithinDocument]: undefined;\n  /** @internal */\n  [FrameEvent.FrameDetached]: Frame;\n  /** @internal */\n  [FrameEvent.FrameSwappedByActivation]: undefined;\n}\n\n/**\n * We use symbols to prevent external parties listening to these events.\n * They are internal to Puppeteer.\n *\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace FrameEvent {\n  export const FrameNavigated = Symbol('Frame.FrameNavigated');\n  export const FrameSwapped = Symbol('Frame.FrameSwapped');\n  export const LifecycleEvent = Symbol('Frame.LifecycleEvent');\n  export const FrameNavigatedWithinDocument = Symbol(\n    'Frame.FrameNavigatedWithinDocument'\n  );\n  export const FrameDetached = Symbol('Frame.FrameDetached');\n  export const FrameSwappedByActivation = Symbol(\n    'Frame.FrameSwappedByActivation'\n  );\n}\n\n/**\n * @internal\n */\nexport const throwIfDetached = throwIfDisposed<Frame>(frame => {\n  return `Attempted to use detached Frame '${frame._id}'.`;\n});\n\n/**\n * Represents a DOM frame.\n *\n * To understand frames, you can think of frames as `<iframe>` elements. Just\n * like iframes, frames can be nested, and when JavaScript is executed in a\n * frame, the JavaScript does not effect frames inside the ambient frame the\n * JavaScript executes in.\n *\n * @example\n * At any point in time, {@link Page | pages} expose their current frame\n * tree via the {@link Page.mainFrame} and {@link Frame.childFrames} methods.\n *\n * @example\n * An example of dumping frame tree:\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   await page.goto('https://www.google.com/chrome/browser/canary.html');\n *   dumpFrameTree(page.mainFrame(), '');\n *   await browser.close();\n *\n *   function dumpFrameTree(frame, indent) {\n *     console.log(indent + frame.url());\n *     for (const child of frame.childFrames()) {\n *       dumpFrameTree(child, indent + '  ');\n *     }\n *   }\n * })();\n * ```\n *\n * @example\n * An example of getting text from an iframe element:\n *\n * ```ts\n * const frame = page.frames().find(frame => frame.name() === 'myframe');\n * const text = await frame.$eval('.selector', element => element.textContent);\n * console.log(text);\n * ```\n *\n * @remarks\n * Frame lifecycles are controlled by three events that are all dispatched on\n * the parent {@link Frame.page | page}:\n *\n * - {@link PageEvent.FrameAttached}\n * - {@link PageEvent.FrameNavigated}\n * - {@link PageEvent.FrameDetached}\n *\n * @public\n */\nexport abstract class Frame extends EventEmitter<FrameEvents> {\n  /**\n   * @internal\n   */\n  _id!: string;\n  /**\n   * @internal\n   */\n  _parentId?: string;\n\n  /**\n   * @internal\n   */\n  _name?: string;\n\n  /**\n   * @internal\n   */\n  _hasStartedLoading = false;\n\n  /**\n   * @internal\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * The page associated with the frame.\n   */\n  abstract page(): Page;\n\n  /**\n   * Is `true` if the frame is an out-of-process (OOP) frame. Otherwise,\n   * `false`.\n   *\n   * @deprecated Generally, there should be no difference between local and\n   * out-of-process frames from the Puppeteer API perspective. This is an\n   * implementation detail that should not have been exposed.\n   */\n  abstract isOOPFrame(): boolean;\n\n  /**\n   * Navigates the frame or page to the given `url`.\n   *\n   * @remarks\n   * Navigation to `about:blank` or navigation to the same URL with a different\n   * hash will succeed and return `null`.\n   *\n   * :::warning\n   *\n   * Headless shell mode doesn't support navigation to a PDF document. See the\n   * {@link https://crbug.com/761295 | upstream issue}.\n   *\n   * :::\n   *\n   * In headless shell, this method will not throw an error when any valid HTTP\n   * status code is returned by the remote server, including 404 \"Not Found\" and\n   * 500 \"Internal Server Error\". The status code for such responses can be\n   * retrieved by calling {@link HTTPResponse.status}.\n   *\n   * @param url - URL to navigate the frame to. The URL should include scheme,\n   * e.g. `https://`\n   * @param options - Options to configure waiting behavior.\n   * @returns A promise which resolves to the main resource response. In case of\n   * multiple redirects, the navigation will resolve with the response of the\n   * last redirect.\n   * @throws If:\n   *\n   * - there's an SSL error (e.g. in case of self-signed certificates).\n   *\n   * - target URL is invalid.\n   *\n   * - the timeout is exceeded during navigation.\n   *\n   * - the remote server does not respond or is unreachable.\n   *\n   * - the main resource failed to load.\n   */\n  abstract goto(\n    url: string,\n    options?: GoToOptions\n  ): Promise<HTTPResponse | null>;\n\n  /**\n   * Waits for the frame to navigate. It is useful for when you run code which\n   * will indirectly cause the frame to navigate.\n   *\n   * Usage of the\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/History_API | History API}\n   * to change the URL is considered a navigation.\n   *\n   * @example\n   *\n   * ```ts\n   * const [response] = await Promise.all([\n   *   // The navigation promise resolves after navigation has finished\n   *   frame.waitForNavigation(),\n   *   // Clicking the link will indirectly cause a navigation\n   *   frame.click('a.my-link'),\n   * ]);\n   * ```\n   *\n   * @param options - Options to configure waiting behavior.\n   * @returns A promise which resolves to the main resource response.\n   */\n  abstract waitForNavigation(\n    options?: WaitForOptions\n  ): Promise<HTTPResponse | null>;\n\n  /**\n   * @internal\n   */\n  abstract get client(): CDPSession;\n\n  /**\n   * @internal\n   */\n  abstract get accessibility(): Accessibility;\n\n  /**\n   * @internal\n   */\n  abstract mainRealm(): Realm;\n\n  /**\n   * @internal\n   */\n  abstract isolatedRealm(): Realm;\n\n  #_document: Promise<ElementHandle<Document>> | undefined;\n\n  /**\n   * @internal\n   */\n  #document(): Promise<ElementHandle<Document>> {\n    if (!this.#_document) {\n      this.#_document = this.mainRealm().evaluateHandle(() => {\n        return document;\n      });\n    }\n    return this.#_document;\n  }\n\n  /**\n   * Used to clear the document handle that has been destroyed.\n   *\n   * @internal\n   */\n  clearDocumentHandle(): void {\n    this.#_document = undefined;\n  }\n\n  /**\n   * @returns The frame element associated with this frame (if any).\n   */\n  @throwIfDetached\n  async frameElement(): Promise<HandleFor<HTMLIFrameElement> | null> {\n    const parentFrame = this.parentFrame();\n    if (!parentFrame) {\n      return null;\n    }\n    using list = await parentFrame.isolatedRealm().evaluateHandle(() => {\n      return document.querySelectorAll('iframe,frame');\n    });\n    for await (using iframe of transposeIterableHandle(list)) {\n      const frame = await iframe.contentFrame();\n      if (frame?._id === this._id) {\n        return (iframe as HandleFor<HTMLIFrameElement>).move();\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Behaves identically to {@link Page.evaluateHandle} except it's run within\n   * the context of this frame.\n   *\n   * See {@link Page.evaluateHandle} for details.\n   */\n  @throwIfDetached\n  async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluateHandle.name,\n      pageFunction\n    );\n    return await this.mainRealm().evaluateHandle(pageFunction, ...args);\n  }\n\n  /**\n   * Behaves identically to {@link Page.evaluate} except it's run within\n   * the context of this frame.\n   *\n   * See {@link Page.evaluate} for details.\n   */\n  @throwIfDetached\n  async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluate.name,\n      pageFunction\n    );\n    return await this.mainRealm().evaluate(pageFunction, ...args);\n  }\n\n  /**\n   * Creates a locator for the provided selector. See {@link Locator} for\n   * details and supported actions.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   */\n  locator<Selector extends string>(\n    selector: Selector\n  ): Locator<NodeFor<Selector>>;\n\n  /**\n   * Creates a locator for the provided function. See {@link Locator} for\n   * details and supported actions.\n   */\n  locator<Ret>(func: () => Awaitable<Ret>): Locator<Ret>;\n\n  /**\n   * @internal\n   */\n  @throwIfDetached\n  locator<Selector extends string, Ret>(\n    selectorOrFunc: Selector | (() => Awaitable<Ret>)\n  ): Locator<NodeFor<Selector>> | Locator<Ret> {\n    if (typeof selectorOrFunc === 'string') {\n      return NodeLocator.create(this, selectorOrFunc);\n    } else {\n      return FunctionLocator.create(this, selectorOrFunc);\n    }\n  }\n  /**\n   * Queries the frame for an element matching the given selector.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   *\n   * @returns A {@link ElementHandle | element handle} to the first element\n   * matching the given selector. Otherwise, `null`.\n   */\n  @throwIfDetached\n  async $<Selector extends string>(\n    selector: Selector\n  ): Promise<ElementHandle<NodeFor<Selector>> | null> {\n    // eslint-disable-next-line rulesdir/use-using -- This is cached.\n    const document = await this.#document();\n    return await document.$(selector);\n  }\n\n  /**\n   * Queries the frame for all elements matching the given selector.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   *\n   * @returns An array of {@link ElementHandle | element handles} that point to\n   * elements matching the given selector.\n   */\n  @throwIfDetached\n  async $$<Selector extends string>(\n    selector: Selector,\n    options?: QueryOptions\n  ): Promise<Array<ElementHandle<NodeFor<Selector>>>> {\n    // eslint-disable-next-line rulesdir/use-using -- This is cached.\n    const document = await this.#document();\n    return await document.$$(selector, options);\n  }\n\n  /**\n   * Runs the given function on the first element matching the given selector in\n   * the frame.\n   *\n   * If the given function returns a promise, then this method will wait till\n   * the promise resolves.\n   *\n   * @example\n   *\n   * ```ts\n   * const searchValue = await frame.$eval('#search', el => el.value);\n   * ```\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @param pageFunction - The function to be evaluated in the frame's context.\n   * The first element matching the selector will be passed to the function as\n   * its first argument.\n   * @param args - Additional arguments to pass to `pageFunction`.\n   * @returns A promise to the result of the function.\n   */\n  @throwIfDetached\n  async $eval<\n    Selector extends string,\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<NodeFor<Selector>, Params> = EvaluateFuncWith<\n      NodeFor<Selector>,\n      Params\n    >,\n  >(\n    selector: Selector,\n    pageFunction: string | Func,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(this.$eval.name, pageFunction);\n    // eslint-disable-next-line rulesdir/use-using -- This is cached.\n    const document = await this.#document();\n    return await document.$eval(selector, pageFunction, ...args);\n  }\n\n  /**\n   * Runs the given function on an array of elements matching the given selector\n   * in the frame.\n   *\n   * If the given function returns a promise, then this method will wait till\n   * the promise resolves.\n   *\n   * @example\n   *\n   * ```ts\n   * const divsCounts = await frame.$$eval('div', divs => divs.length);\n   * ```\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @param pageFunction - The function to be evaluated in the frame's context.\n   * An array of elements matching the given selector will be passed to the\n   * function as its first argument.\n   * @param args - Additional arguments to pass to `pageFunction`.\n   * @returns A promise to the result of the function.\n   */\n  @throwIfDetached\n  async $$eval<\n    Selector extends string,\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<\n      Array<NodeFor<Selector>>,\n      Params\n    > = EvaluateFuncWith<Array<NodeFor<Selector>>, Params>,\n  >(\n    selector: Selector,\n    pageFunction: string | Func,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(this.$$eval.name, pageFunction);\n    // eslint-disable-next-line rulesdir/use-using -- This is cached.\n    const document = await this.#document();\n    return await document.$$eval(selector, pageFunction, ...args);\n  }\n\n  /**\n   * Waits for an element matching the given selector to appear in the frame.\n   *\n   * This method works across navigations.\n   *\n   * @example\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   let currentURL;\n   *   page\n   *     .mainFrame()\n   *     .waitForSelector('img')\n   *     .then(() => console.log('First URL with image: ' + currentURL));\n   *\n   *   for (currentURL of [\n   *     'https://example.com',\n   *     'https://google.com',\n   *     'https://bbc.com',\n   *   ]) {\n   *     await page.goto(currentURL);\n   *   }\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param selector - The selector to query and wait for.\n   * @param options - Options for customizing waiting behavior.\n   * @returns An element matching the given selector.\n   * @throws Throws if an element matching the given selector doesn't appear.\n   */\n  @throwIfDetached\n  async waitForSelector<Selector extends string>(\n    selector: Selector,\n    options: WaitForSelectorOptions = {}\n  ): Promise<ElementHandle<NodeFor<Selector>> | null> {\n    const {updatedSelector, QueryHandler, polling} =\n      getQueryHandlerAndSelector(selector);\n    return (await QueryHandler.waitFor(this, updatedSelector, {\n      polling,\n      ...options,\n    })) as ElementHandle<NodeFor<Selector>> | null;\n  }\n\n  /**\n   * @example\n   * The `waitForFunction` can be used to observe viewport size change:\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   *\n   * (async () => {\n   * .  const browser = await puppeteer.launch();\n   * .  const page = await browser.newPage();\n   * .  const watchDog = page.mainFrame().waitForFunction('window.innerWidth < 100');\n   * .  page.setViewport({width: 50, height: 50});\n   * .  await watchDog;\n   * .  await browser.close();\n   * })();\n   * ```\n   *\n   * To pass arguments from Node.js to the predicate of `page.waitForFunction` function:\n   *\n   * ```ts\n   * const selector = '.foo';\n   * await frame.waitForFunction(\n   *   selector => !!document.querySelector(selector),\n   *   {}, // empty options object\n   *   selector\n   * );\n   * ```\n   *\n   * @param pageFunction - the function to evaluate in the frame context.\n   * @param options - options to configure the polling method and timeout.\n   * @param args - arguments to pass to the `pageFunction`.\n   * @returns the promise which resolve when the `pageFunction` returns a truthy value.\n   */\n  @throwIfDetached\n  async waitForFunction<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    options: FrameWaitForFunctionOptions = {},\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    return await (this.mainRealm().waitForFunction(\n      pageFunction,\n      options,\n      ...args\n    ) as Promise<HandleFor<Awaited<ReturnType<Func>>>>);\n  }\n  /**\n   * The full HTML contents of the frame, including the DOCTYPE.\n   */\n  @throwIfDetached\n  async content(): Promise<string> {\n    return await this.evaluate(() => {\n      let content = '';\n      for (const node of document.childNodes) {\n        switch (node) {\n          case document.documentElement:\n            content += document.documentElement.outerHTML;\n            break;\n          default:\n            content += new XMLSerializer().serializeToString(node);\n            break;\n        }\n      }\n\n      return content;\n    });\n  }\n\n  /**\n   * Set the content of the frame.\n   *\n   * @param html - HTML markup to assign to the page.\n   * @param options - Options to configure how long before timing out and at\n   * what point to consider the content setting successful.\n   */\n  abstract setContent(html: string, options?: WaitForOptions): Promise<void>;\n\n  /**\n   * @internal\n   */\n  async setFrameContent(content: string): Promise<void> {\n    return await this.evaluate(html => {\n      document.open();\n      document.write(html);\n      document.close();\n    }, content);\n  }\n\n  /**\n   * The frame's `name` attribute as specified in the tag.\n   *\n   * @remarks\n   * If the name is empty, it returns the `id` attribute instead.\n   *\n   * @remarks\n   * This value is calculated once when the frame is created, and will not\n   * update if the attribute is changed later.\n   *\n   * @deprecated Use\n   *\n   * ```ts\n   * const element = await frame.frameElement();\n   * const nameOrId = await element.evaluate(frame => frame.name ?? frame.id);\n   * ```\n   */\n  name(): string {\n    return this._name || '';\n  }\n\n  /**\n   * The frame's URL.\n   */\n  abstract url(): string;\n\n  /**\n   * The parent frame, if any. Detached and main frames return `null`.\n   */\n  abstract parentFrame(): Frame | null;\n\n  /**\n   * An array of child frames.\n   */\n  abstract childFrames(): Frame[];\n\n  /**\n   * @returns `true` if the frame has detached. `false` otherwise.\n   */\n  abstract get detached(): boolean;\n\n  /**\n   * Is`true` if the frame has been detached. Otherwise, `false`.\n   *\n   * @deprecated Use the `detached` getter.\n   */\n  isDetached(): boolean {\n    return this.detached;\n  }\n\n  /**\n   * @internal\n   */\n  get disposed(): boolean {\n    return this.detached;\n  }\n\n  /**\n   * Adds a `<script>` tag into the page with the desired url or content.\n   *\n   * @param options - Options for the script.\n   * @returns An {@link ElementHandle | element handle} to the injected\n   * `<script>` element.\n   */\n  @throwIfDetached\n  async addScriptTag(\n    options: FrameAddScriptTagOptions\n  ): Promise<ElementHandle<HTMLScriptElement>> {\n    let {content = '', type} = options;\n    const {path} = options;\n    if (+!!options.url + +!!path + +!!content !== 1) {\n      throw new Error(\n        'Exactly one of `url`, `path`, or `content` must be specified.'\n      );\n    }\n\n    if (path) {\n      const fs = await importFSPromises();\n      content = await fs.readFile(path, 'utf8');\n      content += `//# sourceURL=${path.replace(/\\n/g, '')}`;\n    }\n\n    type = type ?? 'text/javascript';\n\n    return await this.mainRealm().transferHandle(\n      await this.isolatedRealm().evaluateHandle(\n        async ({url, id, type, content}) => {\n          return await new Promise<HTMLScriptElement>((resolve, reject) => {\n            const script = document.createElement('script');\n            script.type = type;\n            script.text = content;\n            script.addEventListener(\n              'error',\n              event => {\n                reject(new Error(event.message ?? 'Could not load script'));\n              },\n              {once: true}\n            );\n            if (id) {\n              script.id = id;\n            }\n            if (url) {\n              script.src = url;\n              script.addEventListener(\n                'load',\n                () => {\n                  resolve(script);\n                },\n                {once: true}\n              );\n              document.head.appendChild(script);\n            } else {\n              document.head.appendChild(script);\n              resolve(script);\n            }\n          });\n        },\n        {...options, type, content}\n      )\n    );\n  }\n\n  /**\n   * Adds a `HTMLStyleElement` into the frame with the desired URL\n   *\n   * @returns An {@link ElementHandle | element handle} to the loaded `<style>`\n   * element.\n   */\n  async addStyleTag(\n    options: Omit<FrameAddStyleTagOptions, 'url'>\n  ): Promise<ElementHandle<HTMLStyleElement>>;\n\n  /**\n   * Adds a `HTMLLinkElement` into the frame with the desired URL\n   *\n   * @returns An {@link ElementHandle | element handle} to the loaded `<link>`\n   * element.\n   */\n  async addStyleTag(\n    options: FrameAddStyleTagOptions\n  ): Promise<ElementHandle<HTMLLinkElement>>;\n\n  /**\n   * @internal\n   */\n  @throwIfDetached\n  async addStyleTag(\n    options: FrameAddStyleTagOptions\n  ): Promise<ElementHandle<HTMLStyleElement | HTMLLinkElement>> {\n    let {content = ''} = options;\n    const {path} = options;\n    if (+!!options.url + +!!path + +!!content !== 1) {\n      throw new Error(\n        'Exactly one of `url`, `path`, or `content` must be specified.'\n      );\n    }\n\n    if (path) {\n      const fs = await importFSPromises();\n\n      content = await fs.readFile(path, 'utf8');\n      content += '/*# sourceURL=' + path.replace(/\\n/g, '') + '*/';\n      options.content = content;\n    }\n\n    return await this.mainRealm().transferHandle(\n      await this.isolatedRealm().evaluateHandle(async ({url, content}) => {\n        return await new Promise<HTMLStyleElement | HTMLLinkElement>(\n          (resolve, reject) => {\n            let element: HTMLStyleElement | HTMLLinkElement;\n            if (!url) {\n              element = document.createElement('style');\n              element.appendChild(document.createTextNode(content!));\n            } else {\n              const link = document.createElement('link');\n              link.rel = 'stylesheet';\n              link.href = url;\n              element = link;\n            }\n            element.addEventListener(\n              'load',\n              () => {\n                resolve(element);\n              },\n              {once: true}\n            );\n            element.addEventListener(\n              'error',\n              event => {\n                reject(\n                  new Error(\n                    (event as ErrorEvent).message ?? 'Could not load style'\n                  )\n                );\n              },\n              {once: true}\n            );\n            document.head.appendChild(element);\n            return element;\n          }\n        );\n      }, options)\n    );\n  }\n\n  /**\n   * Clicks the first element found that matches `selector`.\n   *\n   * @remarks\n   * If `click()` triggers a navigation event and there's a separate\n   * `page.waitForNavigation()` promise to be resolved, you may end up with a\n   * race condition that yields unexpected results. The correct pattern for\n   * click and wait for navigation is the following:\n   *\n   * ```ts\n   * const [response] = await Promise.all([\n   *   page.waitForNavigation(waitOptions),\n   *   frame.click(selector, clickOptions),\n   * ]);\n   * ```\n   *\n   * @param selector - The selector to query for.\n   */\n  @throwIfDetached\n  async click(\n    selector: string,\n    options: Readonly<ClickOptions> = {}\n  ): Promise<void> {\n    using handle = await this.$(selector);\n    assert(handle, `No element found for selector: ${selector}`);\n    await handle.click(options);\n    await handle.dispose();\n  }\n\n  /**\n   * Focuses the first element that matches the `selector`.\n   *\n   * @param selector - The selector to query for.\n   * @throws Throws if there's no element matching `selector`.\n   */\n  @throwIfDetached\n  async focus(selector: string): Promise<void> {\n    using handle = await this.$(selector);\n    assert(handle, `No element found for selector: ${selector}`);\n    await handle.focus();\n  }\n\n  /**\n   * Hovers the pointer over the center of the first element that matches the\n   * `selector`.\n   *\n   * @param selector - The selector to query for.\n   * @throws Throws if there's no element matching `selector`.\n   */\n  @throwIfDetached\n  async hover(selector: string): Promise<void> {\n    using handle = await this.$(selector);\n    assert(handle, `No element found for selector: ${selector}`);\n    await handle.hover();\n  }\n\n  /**\n   * Selects a set of value on the first `<select>` element that matches the\n   * `selector`.\n   *\n   * @example\n   *\n   * ```ts\n   * frame.select('select#colors', 'blue'); // single selection\n   * frame.select('select#colors', 'red', 'green', 'blue'); // multiple selections\n   * ```\n   *\n   * @param selector - The selector to query for.\n   * @param values - The array of values to select. If the `<select>` has the\n   * `multiple` attribute, all values are considered, otherwise only the first\n   * one is taken into account.\n   * @returns the list of values that were successfully selected.\n   * @throws Throws if there's no `<select>` matching `selector`.\n   */\n  @throwIfDetached\n  async select(selector: string, ...values: string[]): Promise<string[]> {\n    using handle = await this.$(selector);\n    assert(handle, `No element found for selector: ${selector}`);\n    return await handle.select(...values);\n  }\n\n  /**\n   * Taps the first element that matches the `selector`.\n   *\n   * @param selector - The selector to query for.\n   * @throws Throws if there's no element matching `selector`.\n   */\n  @throwIfDetached\n  async tap(selector: string): Promise<void> {\n    using handle = await this.$(selector);\n    assert(handle, `No element found for selector: ${selector}`);\n    await handle.tap();\n  }\n\n  /**\n   * Sends a `keydown`, `keypress`/`input`, and `keyup` event for each character\n   * in the text.\n   *\n   * @remarks\n   * To press a special key, like `Control` or `ArrowDown`, use\n   * {@link Keyboard.press}.\n   *\n   * @example\n   *\n   * ```ts\n   * await frame.type('#mytextarea', 'Hello'); // Types instantly\n   * await frame.type('#mytextarea', 'World', {delay: 100}); // Types slower, like a user\n   * ```\n   *\n   * @param selector - the selector for the element to type into. If there are\n   * multiple the first will be used.\n   * @param text - text to type into the element\n   * @param options - takes one option, `delay`, which sets the time to wait\n   * between key presses in milliseconds. Defaults to `0`.\n   */\n  @throwIfDetached\n  async type(\n    selector: string,\n    text: string,\n    options?: Readonly<KeyboardTypeOptions>\n  ): Promise<void> {\n    using handle = await this.$(selector);\n    assert(handle, `No element found for selector: ${selector}`);\n    await handle.type(text, options);\n  }\n\n  /**\n   * The frame's title.\n   */\n  @throwIfDetached\n  async title(): Promise<string> {\n    return await this.isolatedRealm().evaluate(() => {\n      return document.title;\n    });\n  }\n\n  /**\n   * This method is typically coupled with an action that triggers a device\n   * request from an api such as WebBluetooth.\n   *\n   * :::caution\n   *\n   * This must be called before the device request is made. It will not return a\n   * currently active device prompt.\n   *\n   * :::\n   *\n   * @example\n   *\n   * ```ts\n   * const [devicePrompt] = Promise.all([\n   *   frame.waitForDevicePrompt(),\n   *   frame.click('#connect-bluetooth'),\n   * ]);\n   * await devicePrompt.select(\n   *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n   * );\n   * ```\n   *\n   * @internal\n   */\n  abstract waitForDevicePrompt(\n    options?: WaitTimeoutOptions\n  ): Promise<DeviceRequestPrompt>;\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ARIAQueryHandler} from '../cdp/AriaQueryHandler.js';\n\nimport {CSSQueryHandler} from './CSSQueryHandler.js';\nimport {customQueryHandlers} from './CustomQueryHandler.js';\nimport {PierceQueryHandler} from './PierceQueryHandler.js';\nimport {PQueryHandler} from './PQueryHandler.js';\nimport {parsePSelectors} from './PSelectorParser.js';\nimport type {QueryHandler} from './QueryHandler.js';\nimport {PollingOptions} from './QueryHandler.js';\nimport {TextQueryHandler} from './TextQueryHandler.js';\nimport {XPathQueryHandler} from './XPathQueryHandler.js';\n\nconst BUILTIN_QUERY_HANDLERS = {\n  aria: ARIAQueryHandler,\n  pierce: PierceQueryHandler,\n  xpath: XPathQueryHandler,\n  text: TextQueryHandler,\n} as const;\n\nconst QUERY_SEPARATORS = ['=', '/'];\n\n/**\n * @internal\n */\nexport function getQueryHandlerAndSelector(selector: string): {\n  updatedSelector: string;\n  polling: PollingOptions;\n  QueryHandler: typeof QueryHandler;\n} {\n  for (const handlerMap of [\n    customQueryHandlers.names().map(name => {\n      return [name, customQueryHandlers.get(name)!] as const;\n    }),\n    Object.entries(BUILTIN_QUERY_HANDLERS),\n  ]) {\n    for (const [name, QueryHandler] of handlerMap) {\n      for (const separator of QUERY_SEPARATORS) {\n        const prefix = `${name}${separator}`;\n        if (selector.startsWith(prefix)) {\n          selector = selector.slice(prefix.length);\n          return {\n            updatedSelector: selector,\n            polling:\n              name === 'aria' ? PollingOptions.RAF : PollingOptions.MUTATION,\n            QueryHandler,\n          };\n        }\n      }\n    }\n  }\n  try {\n    const [pSelector, isPureCSS, hasPseudoClasses, hasAria] =\n      parsePSelectors(selector);\n    if (isPureCSS) {\n      return {\n        updatedSelector: selector,\n        polling: hasPseudoClasses\n          ? PollingOptions.RAF\n          : PollingOptions.MUTATION,\n        QueryHandler: CSSQueryHandler,\n      };\n    }\n    return {\n      updatedSelector: JSON.stringify(pSelector),\n      polling: hasAria ? PollingOptions.RAF : PollingOptions.MUTATION,\n      QueryHandler: PQueryHandler,\n    };\n  } catch {\n    return {\n      updatedSelector: selector,\n      polling: PollingOptions.MUTATION,\n      QueryHandler: CSSQueryHandler,\n    };\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport {QueryHandler, type QuerySelector} from '../common/QueryHandler.js';\nimport type {AwaitableIterable} from '../common/types.js';\nimport {assert} from '../util/assert.js';\nimport {AsyncIterableUtil} from '../util/AsyncIterableUtil.js';\n\ninterface ARIASelector {\n  name?: string;\n  role?: string;\n}\n\nconst isKnownAttribute = (\n  attribute: string\n): attribute is keyof ARIASelector => {\n  return ['name', 'role'].includes(attribute);\n};\n\nconst normalizeValue = (value: string): string => {\n  return value.replace(/ +/g, ' ').trim();\n};\n\n/**\n * The selectors consist of an accessible name to query for and optionally\n * further aria attributes on the form `[<attribute>=<value>]`.\n * Currently, we only support the `name` and `role` attribute.\n * The following examples showcase how the syntax works wrt. querying:\n *\n * - 'title[role=\"heading\"]' queries for elements with name 'title' and role 'heading'.\n * - '[role=\"image\"]' queries for elements with role 'image' and any name.\n * - 'label' queries for elements with name 'label' and any role.\n * - '[name=\"\"][role=\"button\"]' queries for elements with no name and role 'button'.\n */\nconst ATTRIBUTE_REGEXP =\n  /\\[\\s*(?<attribute>\\w+)\\s*=\\s*(?<quote>\"|')(?<value>\\\\.|.*?(?=\\k<quote>))\\k<quote>\\s*\\]/g;\nconst parseARIASelector = (selector: string): ARIASelector => {\n  const queryOptions: ARIASelector = {};\n  const defaultName = selector.replace(\n    ATTRIBUTE_REGEXP,\n    (_, attribute, __, value) => {\n      attribute = attribute.trim();\n      assert(\n        isKnownAttribute(attribute),\n        `Unknown aria attribute \"${attribute}\" in selector`\n      );\n      queryOptions[attribute] = normalizeValue(value);\n      return '';\n    }\n  );\n  if (defaultName && !queryOptions.name) {\n    queryOptions.name = normalizeValue(defaultName);\n  }\n  return queryOptions;\n};\n\n/**\n * @internal\n */\nexport class ARIAQueryHandler extends QueryHandler {\n  static override querySelector: QuerySelector = async (\n    node,\n    selector,\n    {ariaQuerySelector}\n  ) => {\n    return await ariaQuerySelector(node, selector);\n  };\n\n  static override async *queryAll(\n    element: ElementHandle<Node>,\n    selector: string\n  ): AwaitableIterable<ElementHandle<Node>> {\n    const {name, role} = parseARIASelector(selector);\n    yield* element.queryAXTree(name, role);\n  }\n\n  static override queryOne = async (\n    element: ElementHandle<Node>,\n    selector: string\n  ): Promise<ElementHandle<Node> | null> => {\n    return (\n      (await AsyncIterableUtil.first(this.queryAll(element, selector))) ?? null\n    );\n  };\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport {_isElementHandle} from '../api/ElementHandleSymbol.js';\nimport type {Frame} from '../api/Frame.js';\nimport type {WaitForSelectorOptions} from '../api/Page.js';\nimport type PuppeteerUtil from '../injected/injected.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\nimport {interpolateFunction, stringifyFunction} from '../util/Function.js';\n\nimport {transposeIterableHandle} from './HandleIterator.js';\nimport {LazyArg} from './LazyArg.js';\nimport type {Awaitable, AwaitableIterable} from './types.js';\n\n/**\n * @internal\n */\nexport type QuerySelectorAll = (\n  node: Node,\n  selector: string,\n  PuppeteerUtil: PuppeteerUtil\n) => AwaitableIterable<Node>;\n\n/**\n * @internal\n */\nexport type QuerySelector = (\n  node: Node,\n  selector: string,\n  PuppeteerUtil: PuppeteerUtil\n) => Awaitable<Node | null>;\n\n/**\n * @internal\n */\nexport const enum PollingOptions {\n  RAF = 'raf',\n  MUTATION = 'mutation',\n}\n\n/**\n * @internal\n */\nexport class QueryHandler {\n  // Either one of these may be implemented, but at least one must be.\n  static querySelectorAll?: QuerySelectorAll;\n  static querySelector?: QuerySelector;\n\n  static get _querySelector(): QuerySelector {\n    if (this.querySelector) {\n      return this.querySelector;\n    }\n    if (!this.querySelectorAll) {\n      throw new Error('Cannot create default `querySelector`.');\n    }\n\n    return (this.querySelector = interpolateFunction(\n      async (node, selector, PuppeteerUtil) => {\n        const querySelectorAll: QuerySelectorAll =\n          PLACEHOLDER('querySelectorAll');\n        const results = querySelectorAll(node, selector, PuppeteerUtil);\n        for await (const result of results) {\n          return result;\n        }\n        return null;\n      },\n      {\n        querySelectorAll: stringifyFunction(this.querySelectorAll),\n      }\n    ));\n  }\n\n  static get _querySelectorAll(): QuerySelectorAll {\n    if (this.querySelectorAll) {\n      return this.querySelectorAll;\n    }\n    if (!this.querySelector) {\n      throw new Error('Cannot create default `querySelectorAll`.');\n    }\n\n    return (this.querySelectorAll = interpolateFunction(\n      async function* (node, selector, PuppeteerUtil) {\n        const querySelector: QuerySelector = PLACEHOLDER('querySelector');\n        const result = await querySelector(node, selector, PuppeteerUtil);\n        if (result) {\n          yield result;\n        }\n      },\n      {\n        querySelector: stringifyFunction(this.querySelector),\n      }\n    ));\n  }\n\n  /**\n   * Queries for multiple nodes given a selector and {@link ElementHandle}.\n   *\n   * Akin to {@link https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll | Document.querySelectorAll()}.\n   */\n  static async *queryAll(\n    element: ElementHandle<Node>,\n    selector: string\n  ): AwaitableIterable<ElementHandle<Node>> {\n    using handle = await element.evaluateHandle(\n      this._querySelectorAll,\n      selector,\n      LazyArg.create(context => {\n        return context.puppeteerUtil;\n      })\n    );\n    yield* transposeIterableHandle(handle);\n  }\n\n  /**\n   * Queries for a single node given a selector and {@link ElementHandle}.\n   *\n   * Akin to {@link https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector}.\n   */\n  static async queryOne(\n    element: ElementHandle<Node>,\n    selector: string\n  ): Promise<ElementHandle<Node> | null> {\n    using result = await element.evaluateHandle(\n      this._querySelector,\n      selector,\n      LazyArg.create(context => {\n        return context.puppeteerUtil;\n      })\n    );\n    if (!(_isElementHandle in result)) {\n      return null;\n    }\n    return result.move();\n  }\n\n  /**\n   * Waits until a single node appears for a given selector and\n   * {@link ElementHandle}.\n   *\n   * This will always query the handle in the Puppeteer world and migrate the\n   * result to the main world.\n   */\n  static async waitFor(\n    elementOrFrame: ElementHandle<Node> | Frame,\n    selector: string,\n    options: WaitForSelectorOptions & {\n      polling?: PollingOptions;\n    }\n  ): Promise<ElementHandle<Node> | null> {\n    let frame!: Frame;\n    using element = await (async () => {\n      if (!(_isElementHandle in elementOrFrame)) {\n        frame = elementOrFrame;\n        return;\n      }\n      frame = elementOrFrame.frame;\n      return await frame.isolatedRealm().adoptHandle(elementOrFrame);\n    })();\n\n    const {visible = false, hidden = false, timeout, signal} = options;\n    const polling =\n      options.polling ??\n      (visible || hidden ? PollingOptions.RAF : PollingOptions.MUTATION);\n\n    try {\n      signal?.throwIfAborted();\n\n      using handle = await frame.isolatedRealm().waitForFunction(\n        async (PuppeteerUtil, query, selector, root, visible) => {\n          const querySelector = PuppeteerUtil.createFunction(\n            query\n          ) as QuerySelector;\n          const node = await querySelector(\n            root ?? document,\n            selector,\n            PuppeteerUtil\n          );\n          return PuppeteerUtil.checkVisibility(node, visible);\n        },\n        {\n          polling,\n          root: element,\n          timeout,\n          signal,\n        },\n        LazyArg.create(context => {\n          return context.puppeteerUtil;\n        }),\n        stringifyFunction(this._querySelector),\n        selector,\n        element,\n        visible ? true : hidden ? false : undefined\n      );\n\n      if (signal?.aborted) {\n        throw signal.reason;\n      }\n\n      if (!(_isElementHandle in handle)) {\n        return null;\n      }\n      return await frame.mainRealm().transferHandle(handle);\n    } catch (error) {\n      if (!isErrorLike(error)) {\n        throw error;\n      }\n      if (error.name === 'AbortError') {\n        throw error;\n      }\n      error.message = `Waiting for selector \\`${selector}\\` failed: ${error.message}`;\n      throw error;\n    }\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @internal\n */\nexport const _isElementHandle = Symbol('_isElementHandle');\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nconst createdFunctions = new Map<string, (...args: unknown[]) => unknown>();\n\n/**\n * Creates a function from a string.\n *\n * @internal\n */\nexport const createFunction = (\n  functionValue: string\n): ((...args: unknown[]) => unknown) => {\n  let fn = createdFunctions.get(functionValue);\n  if (fn) {\n    return fn;\n  }\n  fn = new Function(`return ${functionValue}`)() as (\n    ...args: unknown[]\n  ) => unknown;\n  createdFunctions.set(functionValue, fn);\n  return fn;\n};\n\n/**\n * @internal\n */\nexport function stringifyFunction(fn: (...args: never) => unknown): string {\n  let value;\n  if (\n    typeof fn === 'function' &&\n    globalThis.navigator?.userAgent === 'Cloudflare-Workers'\n  ) {\n    // function is most likely bundled with wrangler,\n    // which uses esbuild with keepNames enabled.\n    // See: https://github.com/cloudflare/workers-sdk/issues/7107\n    value = `((__name => (${fn}))(t => t))`;\n  } else {\n    value = fn.toString();\n  }\n\n  /**\n   * We remove the check for the ability for dynamic javascript to be\n   * serializable, because the Workers runtime does not allow dynamic\n   * javascript to be executed, as a security precaution. In the\n   * future, we can consider the serialization check in the back end\n   * but before the message gets to the remote browser.\n   */\n  // original implementationn\n  // try {\n  //   new Function(`(${value})`);\n  // } catch {\n  //   // This means we might have a function shorthand (e.g. `test(){}`). Let's\n  //   // try prefixing.\n  //   let prefix = 'function ';\n  //   if (value.startsWith('async ')) {\n  //     prefix = `async ${prefix}`;\n  //     value = value.substring('async '.length);\n  //   }\n  //   value = `${prefix}${value}`;\n  //   try {\n  //     new Function(`(${value})`);\n  //   } catch {\n  //     console.log('functions::::', value);\n  //     // We tried hard to serialize, but there's a weird beast here.\n  //     throw new Error('Passed function cannot be serialized!');\n  //   }\n  // }\n  return value;\n}\n\n/**\n * Replaces `PLACEHOLDER`s with the given replacements.\n *\n * All replacements must be valid JS code.\n *\n * @example\n *\n * ```ts\n * interpolateFunction(() => PLACEHOLDER('test'), {test: 'void 0'});\n * // Equivalent to () => void 0\n * ```\n *\n * @internal\n */\nexport const interpolateFunction = <T extends (...args: never[]) => unknown>(\n  fn: T,\n  replacements: Record<string, string>\n): T => {\n  let value = stringifyFunction(fn);\n  for (const [name, jsValue] of Object.entries(replacements)) {\n    value = value.replace(\n      new RegExp(`PLACEHOLDER\\\\(\\\\s*(?:'${name}'|\"${name}\")\\\\s*\\\\)`, 'g'),\n      // Wrapping this ensures tersers that accidentally inline PLACEHOLDER calls\n      // are still valid. Without, we may get calls like ()=>{...}() which is\n      // not valid.\n      `(${jsValue})`\n    );\n  }\n  return createFunction(value) as unknown as T;\n};\n\ndeclare global {\n  /**\n   * Used for interpolation with {@link interpolateFunction}.\n   *\n   * @internal\n   */\n  function PLACEHOLDER<T>(name: string): T;\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {JSHandle} from '../api/JSHandle.js';\nimport {DisposableStack, disposeSymbol} from '../util/disposable.js';\n\nimport type {AwaitableIterable, HandleFor} from './types.js';\n\nconst DEFAULT_BATCH_SIZE = 20;\n\n/**\n * This will transpose an iterator JSHandle into a fast, Puppeteer-side iterator\n * of JSHandles.\n *\n * @param size - The number of elements to transpose. This should be something\n * reasonable.\n */\nasync function* fastTransposeIteratorHandle<T>(\n  iterator: JSHandle<AwaitableIterator<T>>,\n  size: number\n) {\n  using array = await iterator.evaluateHandle(async (iterator, size) => {\n    const results = [];\n    while (results.length < size) {\n      const result = await iterator.next();\n      if (result.done) {\n        break;\n      }\n      results.push(result.value);\n    }\n    return results;\n  }, size);\n  const properties = (await array.getProperties()) as Map<string, HandleFor<T>>;\n  const handles = properties.values();\n  using stack = new DisposableStack();\n  stack.defer(() => {\n    for (using handle of handles) {\n      handle[disposeSymbol]();\n    }\n  });\n  yield* handles;\n  return properties.size === 0;\n}\n\n/**\n * This will transpose an iterator JSHandle in batches based on the default size\n * of {@link fastTransposeIteratorHandle}.\n */\n\nasync function* transposeIteratorHandle<T>(\n  iterator: JSHandle<AwaitableIterator<T>>\n) {\n  let size = DEFAULT_BATCH_SIZE;\n  while (!(yield* fastTransposeIteratorHandle(iterator, size))) {\n    size <<= 1;\n  }\n}\n\ntype AwaitableIterator<T> = Iterator<T> | AsyncIterator<T>;\n\n/**\n * @internal\n */\nexport async function* transposeIterableHandle<T>(\n  handle: JSHandle<AwaitableIterable<T>>\n): AsyncIterableIterator<HandleFor<T>> {\n  using generatorHandle = await handle.evaluateHandle(iterable => {\n    return (async function* () {\n      yield* iterable;\n    })();\n  });\n  yield* transposeIteratorHandle(generatorHandle);\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {JSHandle} from '../api/JSHandle.js';\nimport type PuppeteerUtil from '../injected/injected.js';\n\n/**\n * @internal\n */\nexport interface PuppeteerUtilWrapper {\n  puppeteerUtil: Promise<JSHandle<PuppeteerUtil>>;\n}\n\n/**\n * @internal\n */\nexport class LazyArg<T, Context = PuppeteerUtilWrapper> {\n  static create = <T>(\n    get: (context: PuppeteerUtilWrapper) => Promise<T> | T\n  ): T => {\n    // We don't want to introduce LazyArg to the type system, otherwise we would\n    // have to make it public.\n    return new LazyArg(get) as unknown as T;\n  };\n\n  #get: (context: Context) => Promise<T> | T;\n  private constructor(get: (context: Context) => Promise<T> | T) {\n    this.#get = get;\n  }\n\n  async get(context: Context): Promise<T> {\n    return await this.#get(context);\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {AwaitableIterable} from '../common/types.js';\n\n/**\n * @internal\n */\nexport class AsyncIterableUtil {\n  static async *map<T, U>(\n    iterable: AwaitableIterable<T>,\n    map: (item: T) => Promise<U>\n  ): AsyncIterable<U> {\n    for await (const value of iterable) {\n      yield await map(value);\n    }\n  }\n\n  static async *flatMap<T, U>(\n    iterable: AwaitableIterable<T>,\n    map: (item: T) => AwaitableIterable<U>\n  ): AsyncIterable<U> {\n    for await (const value of iterable) {\n      yield* map(value);\n    }\n  }\n\n  static async collect<T>(iterable: AwaitableIterable<T>): Promise<T[]> {\n    const result = [];\n    for await (const value of iterable) {\n      result.push(value);\n    }\n    return result;\n  }\n\n  static async first<T>(\n    iterable: AwaitableIterable<T>\n  ): Promise<T | undefined> {\n    for await (const value of iterable) {\n      return value;\n    }\n    return;\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type PuppeteerUtil from '../injected/injected.js';\n\nimport {QueryHandler} from './QueryHandler.js';\n\n/**\n * @internal\n */\nexport class CSSQueryHandler extends QueryHandler {\n  static override querySelector = (\n    element: Node,\n    selector: string,\n    {cssQuerySelector}: PuppeteerUtil\n  ): Node | null => {\n    return cssQuerySelector(element, selector);\n  };\n  static override querySelectorAll = (\n    element: Node,\n    selector: string,\n    {cssQuerySelectorAll}: PuppeteerUtil\n  ): Iterable<Node> => {\n    return cssQuerySelectorAll(element, selector);\n  };\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type PuppeteerUtil from '../injected/injected.js';\nimport {assert} from '../util/assert.js';\nimport {interpolateFunction, stringifyFunction} from '../util/Function.js';\n\nimport {\n  QueryHandler,\n  type QuerySelector,\n  type QuerySelectorAll,\n} from './QueryHandler.js';\nimport {scriptInjector} from './ScriptInjector.js';\n\n/**\n * @public\n */\nexport interface CustomQueryHandler {\n  /**\n   * Searches for a {@link https://developer.mozilla.org/en-US/docs/Web/API/Node | Node} matching the given `selector` from {@link https://developer.mozilla.org/en-US/docs/Web/API/Node | node}.\n   */\n  queryOne?: (node: Node, selector: string) => Node | null;\n  /**\n   * Searches for some {@link https://developer.mozilla.org/en-US/docs/Web/API/Node | Nodes} matching the given `selector` from {@link https://developer.mozilla.org/en-US/docs/Web/API/Node | node}.\n   */\n  queryAll?: (node: Node, selector: string) => Iterable<Node>;\n}\n\n/**\n * The registry of {@link CustomQueryHandler | custom query handlers}.\n *\n * @example\n *\n * ```ts\n * Puppeteer.customQueryHandlers.register('lit', { \u2026 });\n * const aHandle = await page.$('lit/\u2026');\n * ```\n *\n * @internal\n */\nexport class CustomQueryHandlerRegistry {\n  #handlers = new Map<\n    string,\n    [registerScript: string, Handler: typeof QueryHandler]\n  >();\n\n  get(name: string): typeof QueryHandler | undefined {\n    const handler = this.#handlers.get(name);\n    return handler ? handler[1] : undefined;\n  }\n\n  /**\n   * Registers a {@link CustomQueryHandler | custom query handler}.\n   *\n   * @remarks\n   * After registration, the handler can be used everywhere where a selector is\n   * expected by prepending the selection string with `<name>/`. The name is\n   * only allowed to consist of lower- and upper case latin letters.\n   *\n   * @example\n   *\n   * ```ts\n   * Puppeteer.customQueryHandlers.register('lit', { \u2026 });\n   * const aHandle = await page.$('lit/\u2026');\n   * ```\n   *\n   * @param name - Name to register under.\n   * @param queryHandler - {@link CustomQueryHandler | Custom query handler} to\n   * register.\n   */\n  register(name: string, handler: CustomQueryHandler): void {\n    assert(\n      !this.#handlers.has(name),\n      `Cannot register over existing handler: ${name}`\n    );\n    assert(\n      /^[a-zA-Z]+$/.test(name),\n      `Custom query handler names may only contain [a-zA-Z]`\n    );\n    assert(\n      handler.queryAll || handler.queryOne,\n      `At least one query method must be implemented.`\n    );\n\n    const Handler = class extends QueryHandler {\n      static override querySelectorAll: QuerySelectorAll = interpolateFunction(\n        (node, selector, PuppeteerUtil) => {\n          return PuppeteerUtil.customQuerySelectors\n            .get(PLACEHOLDER('name'))!\n            .querySelectorAll(node, selector);\n        },\n        {name: JSON.stringify(name)}\n      );\n      static override querySelector: QuerySelector = interpolateFunction(\n        (node, selector, PuppeteerUtil) => {\n          return PuppeteerUtil.customQuerySelectors\n            .get(PLACEHOLDER('name'))!\n            .querySelector(node, selector);\n        },\n        {name: JSON.stringify(name)}\n      );\n    };\n    const registerScript = interpolateFunction(\n      (PuppeteerUtil: PuppeteerUtil) => {\n        PuppeteerUtil.customQuerySelectors.register(PLACEHOLDER('name'), {\n          queryAll: PLACEHOLDER('queryAll'),\n          queryOne: PLACEHOLDER('queryOne'),\n        });\n      },\n      {\n        name: JSON.stringify(name),\n        queryAll: handler.queryAll\n          ? stringifyFunction(handler.queryAll)\n          : String(undefined),\n        queryOne: handler.queryOne\n          ? stringifyFunction(handler.queryOne)\n          : String(undefined),\n      }\n    ).toString();\n\n    this.#handlers.set(name, [registerScript, Handler]);\n    scriptInjector.append(registerScript);\n  }\n\n  /**\n   * Unregisters the {@link CustomQueryHandler | custom query handler} for the\n   * given name.\n   *\n   * @throws `Error` if there is no handler under the given name.\n   */\n  unregister(name: string): void {\n    const handler = this.#handlers.get(name);\n    if (!handler) {\n      throw new Error(`Cannot unregister unknown handler: ${name}`);\n    }\n    scriptInjector.pop(handler[0]);\n    this.#handlers.delete(name);\n  }\n\n  /**\n   * Gets the names of all {@link CustomQueryHandler | custom query handlers}.\n   */\n  names(): string[] {\n    return [...this.#handlers.keys()];\n  }\n\n  /**\n   * Unregisters all custom query handlers.\n   */\n  clear(): void {\n    for (const [registerScript] of this.#handlers) {\n      scriptInjector.pop(registerScript);\n    }\n    this.#handlers.clear();\n  }\n}\n\n/**\n * @internal\n */\nexport const customQueryHandlers = new CustomQueryHandlerRegistry();\n\n/**\n * @deprecated Import {@link Puppeteer} and use the static method\n * {@link Puppeteer.registerCustomQueryHandler}\n *\n * @public\n */\nexport function registerCustomQueryHandler(\n  name: string,\n  handler: CustomQueryHandler\n): void {\n  customQueryHandlers.register(name, handler);\n}\n\n/**\n * @deprecated Import {@link Puppeteer} and use the static method\n * {@link Puppeteer.unregisterCustomQueryHandler}\n *\n * @public\n */\nexport function unregisterCustomQueryHandler(name: string): void {\n  customQueryHandlers.unregister(name);\n}\n\n/**\n * @deprecated Import {@link Puppeteer} and use the static method\n * {@link Puppeteer.customQueryHandlerNames}\n *\n * @public\n */\nexport function customQueryHandlerNames(): string[] {\n  return customQueryHandlers.names();\n}\n\n/**\n * @deprecated Import {@link Puppeteer} and use the static method\n * {@link Puppeteer.clearCustomQueryHandlers}\n *\n * @public\n */\nexport function clearCustomQueryHandlers(): void {\n  customQueryHandlers.clear();\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport {source as injectedSource} from '../generated/injected.js';\n\n/**\n * @internal\n */\nexport class ScriptInjector {\n  #updated = false;\n  #amendments = new Set<string>();\n\n  // Appends a statement of the form `(PuppeteerUtil) => {...}`.\n  append(statement: string): void {\n    this.#update(() => {\n      this.#amendments.add(statement);\n    });\n  }\n\n  pop(statement: string): void {\n    this.#update(() => {\n      this.#amendments.delete(statement);\n    });\n  }\n\n  inject(inject: (script: string) => void, force = false): void {\n    if (this.#updated || force) {\n      inject(this.#get());\n    }\n    this.#updated = false;\n  }\n\n  #update(callback: () => void): void {\n    callback();\n    this.#updated = true;\n  }\n\n  #get(): string {\n    return `(() => {\n      const module = {};\n      ${injectedSource}\n      ${[...this.#amendments]\n        .map(statement => {\n          return `(${statement})(module.exports.default);`;\n        })\n        .join('')}\n      return module.exports.default;\n    })()`;\n  }\n}\n\n/**\n * @internal\n */\nexport const scriptInjector = new ScriptInjector();\n", "/**\n * JavaScript code that provides the puppeteer utilities. See the\n * [README](https://github.com/puppeteer/puppeteer/blob/main/src/injected/README.md)\n * for injection for more information.\n *\n * @internal\n */\nexport const source = \"\\\"use strict\\\";var g=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var l=(t,e)=>{for(var r in e)g(t,r,{get:e[r],enumerable:!0})},G=(t,e,r,o)=>{if(e&&typeof e==\\\"object\\\"||typeof e==\\\"function\\\")for(let n of B(e))!Y.call(t,n)&&n!==r&&g(t,n,{get:()=>e[n],enumerable:!(o=X(e,n))||o.enumerable});return t};var J=t=>G(g({},\\\"__esModule\\\",{value:!0}),t);var pe={};l(pe,{default:()=>he});module.exports=J(pe);var N=class extends Error{constructor(e,r){super(e,r),this.name=this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},p=class extends N{};var c=class t{static create(e){return new t(e)}static async race(e){let r=new Set;try{let o=e.map(n=>n instanceof t?(n.#n&&r.add(n),n.valueOrThrow()):n);return await Promise.race(o)}finally{for(let o of r)o.reject(new Error(\\\"Timeout cleared\\\"))}}#e=!1;#r=!1;#o;#t;#a=new Promise(e=>{this.#t=e});#n;#i;constructor(e){e&&e.timeout>0&&(this.#i=new p(e.message),this.#n=setTimeout(()=>{this.reject(this.#i)},e.timeout))}#l(e){clearTimeout(this.#n),this.#o=e,this.#t()}resolve(e){this.#r||this.#e||(this.#e=!0,this.#l(e))}reject(e){this.#r||this.#e||(this.#r=!0,this.#l(e))}resolved(){return this.#e}finished(){return this.#e||this.#r}value(){return this.#o}#s;valueOrThrow(){return this.#s||(this.#s=(async()=>{if(await this.#a,this.#r)throw this.#o;return this.#o})()),this.#s}};var L=new Map,F=t=>{let e=L.get(t);return e||(e=new Function(`return ${t}`)(),L.set(t,e),e)};var x={};l(x,{ariaQuerySelector:()=>z,ariaQuerySelectorAll:()=>b});var z=(t,e)=>globalThis.__ariaQuerySelector(t,e),b=async function*(t,e){yield*await globalThis.__ariaQuerySelectorAll(t,e)};var E={};l(E,{cssQuerySelector:()=>K,cssQuerySelectorAll:()=>Z});var K=(t,e)=>t.querySelector(e),Z=function(t,e){return t.querySelectorAll(e)};var A={};l(A,{customQuerySelectors:()=>P});var v=class{#e=new Map;register(e,r){if(!r.queryOne&&r.queryAll){let o=r.queryAll;r.queryOne=(n,i)=>{for(let s of o(n,i))return s;return null}}else if(r.queryOne&&!r.queryAll){let o=r.queryOne;r.queryAll=(n,i)=>{let s=o(n,i);return s?[s]:[]}}else if(!r.queryOne||!r.queryAll)throw new Error(\\\"At least one query method must be defined.\\\");this.#e.set(e,{querySelector:r.queryOne,querySelectorAll:r.queryAll})}unregister(e){this.#e.delete(e)}get(e){return this.#e.get(e)}clear(){this.#e.clear()}},P=new v;var R={};l(R,{pierceQuerySelector:()=>ee,pierceQuerySelectorAll:()=>te});var ee=(t,e)=>{let r=null,o=n=>{let i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&o(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==n&&!r&&s.matches(e)&&(r=s)}while(!r&&i.nextNode())};return t instanceof Document&&(t=t.documentElement),o(t),r},te=(t,e)=>{let r=[],o=n=>{let i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&o(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==n&&s.matches(e)&&r.push(s)}while(i.nextNode())};return t instanceof Document&&(t=t.documentElement),o(t),r};var u=(t,e)=>{if(!t)throw new Error(e)};var y=class{#e;#r;#o;#t;constructor(e,r){this.#e=e,this.#r=r}async start(){let e=this.#t=c.create(),r=await this.#e();if(r){e.resolve(r);return}this.#o=new MutationObserver(async()=>{let o=await this.#e();o&&(e.resolve(o),await this.stop())}),this.#o.observe(this.#r,{childList:!0,subtree:!0,attributes:!0})}async stop(){u(this.#t,\\\"Polling never started.\\\"),this.#t.finished()||this.#t.reject(new Error(\\\"Polling stopped\\\")),this.#o&&(this.#o.disconnect(),this.#o=void 0)}result(){return u(this.#t,\\\"Polling never started.\\\"),this.#t.valueOrThrow()}},w=class{#e;#r;constructor(e){this.#e=e}async start(){let e=this.#r=c.create(),r=await this.#e();if(r){e.resolve(r);return}let o=async()=>{if(e.finished())return;let n=await this.#e();if(!n){window.requestAnimationFrame(o);return}e.resolve(n),await this.stop()};window.requestAnimationFrame(o)}async stop(){u(this.#r,\\\"Polling never started.\\\"),this.#r.finished()||this.#r.reject(new Error(\\\"Polling stopped\\\"))}result(){return u(this.#r,\\\"Polling never started.\\\"),this.#r.valueOrThrow()}},T=class{#e;#r;#o;#t;constructor(e,r){this.#e=e,this.#r=r}async start(){let e=this.#t=c.create(),r=await this.#e();if(r){e.resolve(r);return}this.#o=setInterval(async()=>{let o=await this.#e();o&&(e.resolve(o),await this.stop())},this.#r)}async stop(){u(this.#t,\\\"Polling never started.\\\"),this.#t.finished()||this.#t.reject(new Error(\\\"Polling stopped\\\")),this.#o&&(clearInterval(this.#o),this.#o=void 0)}result(){return u(this.#t,\\\"Polling never started.\\\"),this.#t.valueOrThrow()}};var _={};l(_,{PCombinator:()=>H,pQuerySelector:()=>fe,pQuerySelectorAll:()=>$});var a=class{static async*map(e,r){for await(let o of e)yield await r(o)}static async*flatMap(e,r){for await(let o of e)yield*r(o)}static async collect(e){let r=[];for await(let o of e)r.push(o);return r}static async first(e){for await(let r of e)return r}};var C={};l(C,{textQuerySelectorAll:()=>m});var re=new Set([\\\"checkbox\\\",\\\"image\\\",\\\"radio\\\"]),oe=t=>t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement&&!re.has(t.type),ne=new Set([\\\"SCRIPT\\\",\\\"STYLE\\\"]),f=t=>!ne.has(t.nodeName)&&!document.head?.contains(t),I=new WeakMap,j=t=>{for(;t;)I.delete(t),t instanceof ShadowRoot?t=t.host:t=t.parentNode},W=new WeakSet,se=new MutationObserver(t=>{for(let e of t)j(e.target)}),d=t=>{let e=I.get(t);if(e||(e={full:\\\"\\\",immediate:[]},!f(t)))return e;let r=\\\"\\\";if(oe(t))e.full=t.value,e.immediate.push(t.value),t.addEventListener(\\\"input\\\",o=>{j(o.target)},{once:!0,capture:!0});else{for(let o=t.firstChild;o;o=o.nextSibling){if(o.nodeType===Node.TEXT_NODE){e.full+=o.nodeValue??\\\"\\\",r+=o.nodeValue??\\\"\\\";continue}r&&e.immediate.push(r),r=\\\"\\\",o.nodeType===Node.ELEMENT_NODE&&(e.full+=d(o).full)}r&&e.immediate.push(r),t instanceof Element&&t.shadowRoot&&(e.full+=d(t.shadowRoot).full),W.has(t)||(se.observe(t,{childList:!0,characterData:!0,subtree:!0}),W.add(t))}return I.set(t,e),e};var m=function*(t,e){let r=!1;for(let o of t.childNodes)if(o instanceof Element&&f(o)){let n;o.shadowRoot?n=m(o.shadowRoot,e):n=m(o,e);for(let i of n)yield i,r=!0}r||t instanceof Element&&f(t)&&d(t).full.includes(e)&&(yield t)};var O={};l(O,{checkVisibility:()=>le,pierce:()=>S,pierceAll:()=>k});var ie=[\\\"hidden\\\",\\\"collapse\\\"],le=(t,e)=>{if(!t)return e===!1;if(e===void 0)return t;let r=t.nodeType===Node.TEXT_NODE?t.parentElement:t,o=window.getComputedStyle(r),n=o&&!ie.includes(o.visibility)&&!ae(r);return e===n?t:!1};function ae(t){let e=t.getBoundingClientRect();return e.width===0||e.height===0}var ce=t=>\\\"shadowRoot\\\"in t&&t.shadowRoot instanceof ShadowRoot;function*S(t){ce(t)?yield t.shadowRoot:yield t}function*k(t){t=S(t).next().value,yield t;let e=[document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT)];for(let r of e){let o;for(;o=r.nextNode();)o.shadowRoot&&(yield o.shadowRoot,e.push(document.createTreeWalker(o.shadowRoot,NodeFilter.SHOW_ELEMENT)))}}var Q={};l(Q,{xpathQuerySelectorAll:()=>q});var q=function*(t,e,r=-1){let n=(t.ownerDocument||document).evaluate(e,t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),i=[],s;for(;(s=n.iterateNext())&&(i.push(s),!(r&&i.length===r)););for(let h=0;h<i.length;h++)s=i[h],yield s,delete i[h]};var ue=/[-\\\\w\\\\P{ASCII}*]/,H=(r=>(r.Descendent=\\\">>>\\\",r.Child=\\\">>>>\\\",r))(H||{}),V=t=>\\\"querySelectorAll\\\"in t,M=class{#e;#r=[];#o=void 0;elements;constructor(e,r){this.elements=[e],this.#e=r,this.#t()}async run(){if(typeof this.#o==\\\"string\\\")switch(this.#o.trimStart()){case\\\":scope\\\":this.#t();break}for(;this.#o!==void 0;this.#t()){let e=this.#o;typeof e==\\\"string\\\"?e[0]&&ue.test(e[0])?this.elements=a.flatMap(this.elements,async function*(r){V(r)&&(yield*r.querySelectorAll(e))}):this.elements=a.flatMap(this.elements,async function*(r){if(!r.parentElement){if(!V(r))return;yield*r.querySelectorAll(e);return}let o=0;for(let n of r.parentElement.children)if(++o,n===r)break;yield*r.parentElement.querySelectorAll(`:scope>:nth-child(${o})${e}`)}):this.elements=a.flatMap(this.elements,async function*(r){switch(e.name){case\\\"text\\\":yield*m(r,e.value);break;case\\\"xpath\\\":yield*q(r,e.value);break;case\\\"aria\\\":yield*b(r,e.value);break;default:let o=P.get(e.name);if(!o)throw new Error(`Unknown selector type: ${e.name}`);yield*o.querySelectorAll(r,e.value)}})}}#t(){if(this.#r.length!==0){this.#o=this.#r.shift();return}if(this.#e.length===0){this.#o=void 0;return}let e=this.#e.shift();switch(e){case\\\">>>>\\\":{this.elements=a.flatMap(this.elements,S),this.#t();break}case\\\">>>\\\":{this.elements=a.flatMap(this.elements,k),this.#t();break}default:this.#r=e,this.#t();break}}},D=class{#e=new WeakMap;calculate(e,r=[]){if(e===null)return r;e instanceof ShadowRoot&&(e=e.host);let o=this.#e.get(e);if(o)return[...o,...r];let n=0;for(let s=e.previousSibling;s;s=s.previousSibling)++n;let i=this.calculate(e.parentNode,[n]);return this.#e.set(e,i),[...i,...r]}},U=(t,e)=>{if(t.length+e.length===0)return 0;let[r=-1,...o]=t,[n=-1,...i]=e;return r===n?U(o,i):r<n?-1:1},de=async function*(t){let e=new Set;for await(let o of t)e.add(o);let r=new D;yield*[...e.values()].map(o=>[o,r.calculate(o)]).sort(([,o],[,n])=>U(o,n)).map(([o])=>o)},$=function(t,e){let r=JSON.parse(e);if(r.some(o=>{let n=0;return o.some(i=>(typeof i==\\\"string\\\"?++n:n=0,n>1))}))throw new Error(\\\"Multiple deep combinators found in sequence.\\\");return de(a.flatMap(r,o=>{let n=new M(t,o);return n.run(),n.elements}))},fe=async function(t,e){for await(let r of $(t,e))return r;return null};var me=Object.freeze({...x,...A,...R,..._,...C,...O,...Q,...E,Deferred:c,createFunction:F,createTextContent:d,IntervalPoller:T,isSuitableNodeForTextMatching:f,MutationPoller:y,RAFPoller:w}),he=me;\\n\";\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type PuppeteerUtil from '../injected/injected.js';\n\nimport {QueryHandler} from './QueryHandler.js';\n\n/**\n * @internal\n */\nexport class PierceQueryHandler extends QueryHandler {\n  static override querySelector = (\n    element: Node,\n    selector: string,\n    {pierceQuerySelector}: PuppeteerUtil\n  ): Node | null => {\n    return pierceQuerySelector(element, selector);\n  };\n  static override querySelectorAll = (\n    element: Node,\n    selector: string,\n    {pierceQuerySelectorAll}: PuppeteerUtil\n  ): Iterable<Node> => {\n    return pierceQuerySelectorAll(element, selector);\n  };\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  QueryHandler,\n  type QuerySelector,\n  type QuerySelectorAll,\n} from './QueryHandler.js';\n\n/**\n * @internal\n */\nexport class PQueryHandler extends QueryHandler {\n  static override querySelectorAll: QuerySelectorAll = (\n    element,\n    selector,\n    {pQuerySelectorAll}\n  ) => {\n    return pQuerySelectorAll(element, selector);\n  };\n  static override querySelector: QuerySelector = (\n    element,\n    selector,\n    {pQuerySelector}\n  ) => {\n    return pQuerySelector(element, selector);\n  };\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  type Token,\n  tokenize,\n  TOKENS,\n  stringify,\n} from '../../third_party/parsel-js/parsel-js.js';\nimport type {\n  ComplexPSelector,\n  ComplexPSelectorList,\n  CompoundPSelector,\n} from '../injected/PQuerySelector.js';\nimport {PCombinator} from '../injected/PQuerySelector.js';\n\nTOKENS['nesting'] = /&/g;\nTOKENS['combinator'] = /\\s*(>>>>?|[\\s>+~])\\s*/g;\n\nconst ESCAPE_REGEXP = /\\\\[\\s\\S]/g;\nconst unquote = (text: string): string => {\n  if (text.length <= 1) {\n    return text;\n  }\n  if ((text[0] === '\"' || text[0] === \"'\") && text.endsWith(text[0])) {\n    text = text.slice(1, -1);\n  }\n  return text.replace(ESCAPE_REGEXP, match => {\n    return match[1] as string;\n  });\n};\n\n/**\n * @internal\n */\nexport function parsePSelectors(\n  selector: string\n): [\n  selector: ComplexPSelectorList,\n  isPureCSS: boolean,\n  hasPseudoClasses: boolean,\n  hasAria: boolean,\n] {\n  let isPureCSS = true;\n  let hasAria = false;\n  let hasPseudoClasses = false;\n  const tokens = tokenize(selector);\n  if (tokens.length === 0) {\n    return [[], isPureCSS, hasPseudoClasses, false];\n  }\n  let compoundSelector: CompoundPSelector = [];\n  let complexSelector: ComplexPSelector = [compoundSelector];\n  const selectors: ComplexPSelectorList = [complexSelector];\n  const storage: Token[] = [];\n  for (const token of tokens) {\n    switch (token.type) {\n      case 'combinator':\n        switch (token.content) {\n          case PCombinator.Descendent:\n            isPureCSS = false;\n            if (storage.length) {\n              compoundSelector.push(stringify(storage));\n              storage.splice(0);\n            }\n            compoundSelector = [];\n            complexSelector.push(PCombinator.Descendent);\n            complexSelector.push(compoundSelector);\n            continue;\n          case PCombinator.Child:\n            isPureCSS = false;\n            if (storage.length) {\n              compoundSelector.push(stringify(storage));\n              storage.splice(0);\n            }\n            compoundSelector = [];\n            complexSelector.push(PCombinator.Child);\n            complexSelector.push(compoundSelector);\n            continue;\n        }\n        break;\n      case 'pseudo-element':\n        if (!token.name.startsWith('-p-')) {\n          break;\n        }\n        isPureCSS = false;\n        if (storage.length) {\n          compoundSelector.push(stringify(storage));\n          storage.splice(0);\n        }\n        const name = token.name.slice(3);\n        if (name === 'aria') {\n          hasAria = true;\n        }\n        compoundSelector.push({\n          name,\n          value: unquote(token.argument ?? ''),\n        });\n        continue;\n      case 'pseudo-class':\n        hasPseudoClasses = true;\n        break;\n      case 'comma':\n        if (storage.length) {\n          compoundSelector.push(stringify(storage));\n          storage.splice(0);\n        }\n        compoundSelector = [];\n        complexSelector = [compoundSelector];\n        selectors.push(complexSelector);\n        continue;\n    }\n    storage.push(token);\n  }\n  if (storage.length) {\n    compoundSelector.push(stringify(storage));\n  }\n  return [selectors, isPureCSS, hasPseudoClasses, hasAria];\n}\n", "/**\nMIT License\n\nCopyright (c) 2020 Lea Verou\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n// ../../node_modules/parsel-js/dist/parsel.js\nvar TOKENS = {\n  attribute: /\\[\\s*(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?(?<name>[-\\w\\P{ASCII}]+)\\s*(?:(?<operator>\\W?=)\\s*(?<value>.+?)\\s*(\\s(?<caseSensitive>[iIsS]))?\\s*)?\\]/gu,\n  id: /#(?<name>[-\\w\\P{ASCII}]+)/gu,\n  class: /\\.(?<name>[-\\w\\P{ASCII}]+)/gu,\n  comma: /\\s*,\\s*/g,\n  combinator: /\\s*[\\s>+~]\\s*/g,\n  \"pseudo-element\": /::(?<name>[-\\w\\P{ASCII}]+)(?:\\((?<argument>\u00B6*)\\))?/gu,\n  \"pseudo-class\": /:(?<name>[-\\w\\P{ASCII}]+)(?:\\((?<argument>\u00B6*)\\))?/gu,\n  universal: /(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?\\*/gu,\n  type: /(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?(?<name>[-\\w\\P{ASCII}]+)/gu\n  // this must be last\n};\nvar TRIM_TOKENS = /* @__PURE__ */ new Set([\"combinator\", \"comma\"]);\nvar getArgumentPatternByType = (type) => {\n  switch (type) {\n    case \"pseudo-element\":\n    case \"pseudo-class\":\n      return new RegExp(TOKENS[type].source.replace(\"(?<argument>\\xB6*)\", \"(?<argument>.*)\"), \"gu\");\n    default:\n      return TOKENS[type];\n  }\n};\nfunction gobbleParens(text, offset) {\n  let nesting = 0;\n  let result = \"\";\n  for (; offset < text.length; offset++) {\n    const char = text[offset];\n    switch (char) {\n      case \"(\":\n        ++nesting;\n        break;\n      case \")\":\n        --nesting;\n        break;\n    }\n    result += char;\n    if (nesting === 0) {\n      return result;\n    }\n  }\n  return result;\n}\nfunction tokenizeBy(text, grammar = TOKENS) {\n  if (!text) {\n    return [];\n  }\n  const tokens = [text];\n  for (const [type, pattern] of Object.entries(grammar)) {\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      if (typeof token !== \"string\") {\n        continue;\n      }\n      pattern.lastIndex = 0;\n      const match = pattern.exec(token);\n      if (!match) {\n        continue;\n      }\n      const from = match.index - 1;\n      const args = [];\n      const content = match[0];\n      const before = token.slice(0, from + 1);\n      if (before) {\n        args.push(before);\n      }\n      args.push({\n        ...match.groups,\n        type,\n        content\n      });\n      const after = token.slice(from + content.length + 1);\n      if (after) {\n        args.push(after);\n      }\n      tokens.splice(i, 1, ...args);\n    }\n  }\n  let offset = 0;\n  for (const token of tokens) {\n    switch (typeof token) {\n      case \"string\":\n        throw new Error(`Unexpected sequence ${token} found at index ${offset}`);\n      case \"object\":\n        offset += token.content.length;\n        token.pos = [offset - token.content.length, offset];\n        if (TRIM_TOKENS.has(token.type)) {\n          token.content = token.content.trim() || \" \";\n        }\n        break;\n    }\n  }\n  return tokens;\n}\nvar STRING_PATTERN = /(['\"])([^\\\\\\n]+?)\\1/g;\nvar ESCAPE_PATTERN = /\\\\./g;\nfunction tokenize(selector, grammar = TOKENS) {\n  selector = selector.trim();\n  if (selector === \"\") {\n    return [];\n  }\n  const replacements = [];\n  selector = selector.replace(ESCAPE_PATTERN, (value, offset) => {\n    replacements.push({ value, offset });\n    return \"\\uE000\".repeat(value.length);\n  });\n  selector = selector.replace(STRING_PATTERN, (value, quote, content, offset) => {\n    replacements.push({ value, offset });\n    return `${quote}${\"\\uE001\".repeat(content.length)}${quote}`;\n  });\n  {\n    let pos = 0;\n    let offset;\n    while ((offset = selector.indexOf(\"(\", pos)) > -1) {\n      const value = gobbleParens(selector, offset);\n      replacements.push({ value, offset });\n      selector = `${selector.substring(0, offset)}(${\"\\xB6\".repeat(value.length - 2)})${selector.substring(offset + value.length)}`;\n      pos = offset + value.length;\n    }\n  }\n  const tokens = tokenizeBy(selector, grammar);\n  const changedTokens = /* @__PURE__ */ new Set();\n  for (const replacement of replacements.reverse()) {\n    for (const token of tokens) {\n      const { offset, value } = replacement;\n      if (!(token.pos[0] <= offset && offset + value.length <= token.pos[1])) {\n        continue;\n      }\n      const { content } = token;\n      const tokenOffset = offset - token.pos[0];\n      token.content = content.slice(0, tokenOffset) + value + content.slice(tokenOffset + value.length);\n      if (token.content !== content) {\n        changedTokens.add(token);\n      }\n    }\n  }\n  for (const token of changedTokens) {\n    const pattern = getArgumentPatternByType(token.type);\n    if (!pattern) {\n      throw new Error(`Unknown token type: ${token.type}`);\n    }\n    pattern.lastIndex = 0;\n    const match = pattern.exec(token.content);\n    if (!match) {\n      throw new Error(`Unable to parse content for ${token.type}: ${token.content}`);\n    }\n    Object.assign(token, match.groups);\n  }\n  return tokens;\n}\nfunction* flatten(node, parent) {\n  switch (node.type) {\n    case \"list\":\n      for (let child of node.list) {\n        yield* flatten(child, node);\n      }\n      break;\n    case \"complex\":\n      yield* flatten(node.left, node);\n      yield* flatten(node.right, node);\n      break;\n    case \"compound\":\n      yield* node.list.map((token) => [token, node]);\n      break;\n    default:\n      yield [node, parent];\n  }\n}\nfunction stringify(listOrNode) {\n  let tokens;\n  if (Array.isArray(listOrNode)) {\n    tokens = listOrNode;\n  } else {\n    tokens = [...flatten(listOrNode)].map(([token]) => token);\n  }\n  return tokens.map((token) => token.content).join(\"\");\n}\nexport {\n  TOKENS,\n  stringify,\n  tokenize\n};\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {QueryHandler, type QuerySelectorAll} from './QueryHandler.js';\n\n/**\n * @internal\n */\nexport class TextQueryHandler extends QueryHandler {\n  static override querySelectorAll: QuerySelectorAll = (\n    element,\n    selector,\n    {textQuerySelectorAll}\n  ) => {\n    return textQuerySelectorAll(element, selector);\n  };\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  QueryHandler,\n  type QuerySelectorAll,\n  type QuerySelector,\n} from './QueryHandler.js';\n\n/**\n * @internal\n */\nexport class XPathQueryHandler extends QueryHandler {\n  static override querySelectorAll: QuerySelectorAll = (\n    element,\n    selector,\n    {xpathQuerySelectorAll}\n  ) => {\n    return xpathQuerySelectorAll(element, selector);\n  };\n\n  static override querySelector: QuerySelector = (\n    element: Node,\n    selector: string,\n    {xpathQuerySelectorAll}\n  ) => {\n    for (const result of xpathQuerySelectorAll(element, selector, 1)) {\n      return result;\n    }\n    return null;\n  };\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {CdpFrame} from './Frame.js';\n\n/**\n * @internal\n */\nexport class CdpPreloadScript {\n  /**\n   * This is the ID of the preload script returned by\n   * Page.addScriptToEvaluateOnNewDocument in the main frame.\n   *\n   * Sub-frames would get a different CDP ID because\n   * addScriptToEvaluateOnNewDocument is called for each subframe. But\n   * users only see this ID and subframe IDs are internal to Puppeteer.\n   */\n  #id: string;\n  #source: string;\n  #frameToId = new WeakMap<CdpFrame, string>();\n\n  constructor(mainFrame: CdpFrame, id: string, source: string) {\n    this.#id = id;\n    this.#source = source;\n    this.#frameToId.set(mainFrame, id);\n  }\n\n  get id(): string {\n    return this.#id;\n  }\n\n  get source(): string {\n    return this.#source;\n  }\n\n  getIdForFrame(frame: CdpFrame): string | undefined {\n    return this.#frameToId.get(frame);\n  }\n\n  setIdForFrame(frame: CdpFrame, identifier: string): void {\n    this.#frameToId.set(frame, identifier);\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Protocol from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport type {WaitTimeoutOptions} from '../api/Page.js';\nimport type {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\n\n/**\n * Device in a request prompt.\n *\n * @public\n */\nexport class DeviceRequestPromptDevice {\n  /**\n   * Device id during a prompt.\n   */\n  id: string;\n\n  /**\n   * Device name as it appears in a prompt.\n   */\n  name: string;\n\n  /**\n   * @internal\n   */\n  constructor(id: string, name: string) {\n    this.id = id;\n    this.name = name;\n  }\n}\n\n/**\n * Device request prompts let you respond to the page requesting for a device\n * through an API like WebBluetooth.\n *\n * @remarks\n * `DeviceRequestPrompt` instances are returned via the\n * {@link Page.waitForDevicePrompt} method.\n *\n * @example\n *\n * ```ts\n * const [deviceRequest] = Promise.all([\n *   page.waitForDevicePrompt(),\n *   page.click('#connect-bluetooth'),\n * ]);\n * await devicePrompt.select(\n *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n * );\n * ```\n *\n * @public\n */\nexport class DeviceRequestPrompt {\n  #client: CDPSession | null;\n  #timeoutSettings: TimeoutSettings;\n  #id: string;\n  #handled = false;\n  #updateDevicesHandle = this.#updateDevices.bind(this);\n  #waitForDevicePromises = new Set<{\n    filter: (device: DeviceRequestPromptDevice) => boolean;\n    promise: Deferred<DeviceRequestPromptDevice>;\n  }>();\n\n  /**\n   * Current list of selectable devices.\n   */\n  devices: DeviceRequestPromptDevice[] = [];\n\n  /**\n   * @internal\n   */\n  constructor(\n    client: CDPSession,\n    timeoutSettings: TimeoutSettings,\n    firstEvent: Protocol.DeviceAccess.DeviceRequestPromptedEvent\n  ) {\n    this.#client = client;\n    this.#timeoutSettings = timeoutSettings;\n    this.#id = firstEvent.id;\n\n    this.#client.on(\n      'DeviceAccess.deviceRequestPrompted',\n      this.#updateDevicesHandle\n    );\n    this.#client.on('Target.detachedFromTarget', () => {\n      this.#client = null;\n    });\n\n    this.#updateDevices(firstEvent);\n  }\n\n  #updateDevices(event: Protocol.DeviceAccess.DeviceRequestPromptedEvent) {\n    if (event.id !== this.#id) {\n      return;\n    }\n\n    for (const rawDevice of event.devices) {\n      if (\n        this.devices.some(device => {\n          return device.id === rawDevice.id;\n        })\n      ) {\n        continue;\n      }\n\n      const newDevice = new DeviceRequestPromptDevice(\n        rawDevice.id,\n        rawDevice.name\n      );\n      this.devices.push(newDevice);\n\n      for (const waitForDevicePromise of this.#waitForDevicePromises) {\n        if (waitForDevicePromise.filter(newDevice)) {\n          waitForDevicePromise.promise.resolve(newDevice);\n        }\n      }\n    }\n  }\n\n  /**\n   * Resolve to the first device in the prompt matching a filter.\n   */\n  async waitForDevice(\n    filter: (device: DeviceRequestPromptDevice) => boolean,\n    options: WaitTimeoutOptions = {}\n  ): Promise<DeviceRequestPromptDevice> {\n    for (const device of this.devices) {\n      if (filter(device)) {\n        return device;\n      }\n    }\n\n    const {timeout = this.#timeoutSettings.timeout()} = options;\n    const deferred = Deferred.create<DeviceRequestPromptDevice>({\n      message: `Waiting for \\`DeviceRequestPromptDevice\\` failed: ${timeout}ms exceeded`,\n      timeout,\n    });\n    const handle = {filter, promise: deferred};\n    this.#waitForDevicePromises.add(handle);\n    try {\n      return await deferred.valueOrThrow();\n    } finally {\n      this.#waitForDevicePromises.delete(handle);\n    }\n  }\n\n  /**\n   * Select a device in the prompt's list.\n   */\n  async select(device: DeviceRequestPromptDevice): Promise<void> {\n    assert(\n      this.#client !== null,\n      'Cannot select device through detached session!'\n    );\n    assert(this.devices.includes(device), 'Cannot select unknown device!');\n    assert(\n      !this.#handled,\n      'Cannot select DeviceRequestPrompt which is already handled!'\n    );\n    this.#client.off(\n      'DeviceAccess.deviceRequestPrompted',\n      this.#updateDevicesHandle\n    );\n    this.#handled = true;\n    return await this.#client.send('DeviceAccess.selectPrompt', {\n      id: this.#id,\n      deviceId: device.id,\n    });\n  }\n\n  /**\n   * Cancel the prompt.\n   */\n  async cancel(): Promise<void> {\n    assert(\n      this.#client !== null,\n      'Cannot cancel prompt through detached session!'\n    );\n    assert(\n      !this.#handled,\n      'Cannot cancel DeviceRequestPrompt which is already handled!'\n    );\n    this.#client.off(\n      'DeviceAccess.deviceRequestPrompted',\n      this.#updateDevicesHandle\n    );\n    this.#handled = true;\n    return await this.#client.send('DeviceAccess.cancelPrompt', {id: this.#id});\n  }\n}\n\n/**\n * @internal\n */\nexport class DeviceRequestPromptManager {\n  #client: CDPSession | null;\n  #timeoutSettings: TimeoutSettings;\n  #deviceRequestPrompDeferreds = new Set<Deferred<DeviceRequestPrompt>>();\n\n  /**\n   * @internal\n   */\n  constructor(client: CDPSession, timeoutSettings: TimeoutSettings) {\n    this.#client = client;\n    this.#timeoutSettings = timeoutSettings;\n\n    this.#client.on('DeviceAccess.deviceRequestPrompted', event => {\n      this.#onDeviceRequestPrompted(event);\n    });\n    this.#client.on('Target.detachedFromTarget', () => {\n      this.#client = null;\n    });\n  }\n\n  /**\n   * Wait for device prompt created by an action like calling WebBluetooth's\n   * requestDevice.\n   */\n  async waitForDevicePrompt(\n    options: WaitTimeoutOptions = {}\n  ): Promise<DeviceRequestPrompt> {\n    assert(\n      this.#client !== null,\n      'Cannot wait for device prompt through detached session!'\n    );\n    const needsEnable = this.#deviceRequestPrompDeferreds.size === 0;\n    let enablePromise: Promise<void> | undefined;\n    if (needsEnable) {\n      enablePromise = this.#client.send('DeviceAccess.enable');\n    }\n\n    const {timeout = this.#timeoutSettings.timeout()} = options;\n    const deferred = Deferred.create<DeviceRequestPrompt>({\n      message: `Waiting for \\`DeviceRequestPrompt\\` failed: ${timeout}ms exceeded`,\n      timeout,\n    });\n    this.#deviceRequestPrompDeferreds.add(deferred);\n\n    try {\n      const [result] = await Promise.all([\n        deferred.valueOrThrow(),\n        enablePromise,\n      ]);\n      return result;\n    } finally {\n      this.#deviceRequestPrompDeferreds.delete(deferred);\n    }\n  }\n\n  /**\n   * @internal\n   */\n  #onDeviceRequestPrompted(\n    event: Protocol.DeviceAccess.DeviceRequestPromptedEvent\n  ) {\n    if (!this.#deviceRequestPrompDeferreds.size) {\n      return;\n    }\n\n    assert(this.#client !== null);\n    const devicePrompt = new DeviceRequestPrompt(\n      this.#client,\n      this.#timeoutSettings,\n      event\n    );\n    for (const promise of this.#deviceRequestPrompDeferreds) {\n      promise.resolve(devicePrompt);\n    }\n    this.#deviceRequestPrompDeferreds.clear();\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {CDPSessionEvent, type CDPSession} from '../api/CDPSession.js';\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport type {JSHandle} from '../api/JSHandle.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {LazyArg} from '../common/LazyArg.js';\nimport {scriptInjector} from '../common/ScriptInjector.js';\nimport type {BindingPayload, EvaluateFunc, HandleFor} from '../common/types.js';\nimport {\n  PuppeteerURL,\n  SOURCE_URL_REGEX,\n  debugError,\n  getSourcePuppeteerURLIfAvailable,\n  getSourceUrlComment,\n  isString,\n} from '../common/util.js';\nimport type PuppeteerUtil from '../injected/injected.js';\nimport {AsyncIterableUtil} from '../util/AsyncIterableUtil.js';\nimport {DisposableStack, disposeSymbol} from '../util/disposable.js';\nimport {stringifyFunction} from '../util/Function.js';\nimport {Mutex} from '../util/Mutex.js';\n\nimport {ARIAQueryHandler} from './AriaQueryHandler.js';\nimport {Binding} from './Binding.js';\nimport {CdpElementHandle} from './ElementHandle.js';\nimport type {IsolatedWorld} from './IsolatedWorld.js';\nimport {CdpJSHandle} from './JSHandle.js';\nimport {\n  addPageBinding,\n  CDP_BINDING_PREFIX,\n  createEvaluationError,\n  valueFromRemoteObject,\n} from './utils.js';\n\nconst ariaQuerySelectorBinding = new Binding(\n  '__ariaQuerySelector',\n  ARIAQueryHandler.queryOne as (...args: unknown[]) => unknown,\n  '' // custom init\n);\n\nconst ariaQuerySelectorAllBinding = new Binding(\n  '__ariaQuerySelectorAll',\n  (async (\n    element: ElementHandle<Node>,\n    selector: string\n  ): Promise<JSHandle<Node[]>> => {\n    const results = ARIAQueryHandler.queryAll(element, selector);\n    return await element.realm.evaluateHandle(\n      (...elements) => {\n        return elements;\n      },\n      ...(await AsyncIterableUtil.collect(results))\n    );\n  }) as (...args: unknown[]) => unknown,\n  '' // custom init\n);\n\n/**\n * @internal\n */\nexport class ExecutionContext\n  extends EventEmitter<{\n    /** Emitted when this execution context is disposed. */\n    disposed: undefined;\n    consoleapicalled: Protocol.Runtime.ConsoleAPICalledEvent;\n    /** Emitted when a binding that is not installed by the ExecutionContext is called. */\n    bindingcalled: Protocol.Runtime.BindingCalledEvent;\n  }>\n  implements Disposable\n{\n  #client: CDPSession;\n  #world: IsolatedWorld;\n  #id: number;\n  #name?: string;\n\n  readonly #disposables = new DisposableStack();\n\n  constructor(\n    client: CDPSession,\n    contextPayload: Protocol.Runtime.ExecutionContextDescription,\n    world: IsolatedWorld\n  ) {\n    super();\n    this.#client = client;\n    this.#world = world;\n    this.#id = contextPayload.id;\n    if (contextPayload.name) {\n      this.#name = contextPayload.name;\n    }\n    const clientEmitter = this.#disposables.use(new EventEmitter(this.#client));\n    clientEmitter.on('Runtime.bindingCalled', this.#onBindingCalled.bind(this));\n    clientEmitter.on('Runtime.executionContextDestroyed', async event => {\n      if (event.executionContextId === this.#id) {\n        this[disposeSymbol]();\n      }\n    });\n    clientEmitter.on('Runtime.executionContextsCleared', async () => {\n      this[disposeSymbol]();\n    });\n    clientEmitter.on('Runtime.consoleAPICalled', this.#onConsoleAPI.bind(this));\n    clientEmitter.on(CDPSessionEvent.Disconnected, () => {\n      this[disposeSymbol]();\n    });\n  }\n\n  // Contains mapping from functions that should be bound to Puppeteer functions.\n  #bindings = new Map<string, Binding>();\n\n  // If multiple waitFor are set up asynchronously, we need to wait for the\n  // first one to set up the binding in the page before running the others.\n  #mutex = new Mutex();\n  async #addBinding(binding: Binding): Promise<void> {\n    if (this.#bindings.has(binding.name)) {\n      return;\n    }\n\n    using _ = await this.#mutex.acquire();\n    try {\n      await this.#client.send(\n        'Runtime.addBinding',\n        this.#name\n          ? {\n              name: CDP_BINDING_PREFIX + binding.name,\n              executionContextName: this.#name,\n            }\n          : {\n              name: CDP_BINDING_PREFIX + binding.name,\n              executionContextId: this.#id,\n            }\n      );\n\n      await this.evaluate(\n        addPageBinding,\n        'internal',\n        binding.name,\n        CDP_BINDING_PREFIX\n      );\n\n      this.#bindings.set(binding.name, binding);\n    } catch (error) {\n      // We could have tried to evaluate in a context which was already\n      // destroyed. This happens, for example, if the page is navigated while\n      // we are trying to add the binding\n      if (error instanceof Error) {\n        // Destroyed context.\n        if (error.message.includes('Execution context was destroyed')) {\n          return;\n        }\n        // Missing context.\n        if (error.message.includes('Cannot find context with specified id')) {\n          return;\n        }\n      }\n\n      debugError(error);\n    }\n  }\n\n  async #onBindingCalled(\n    event: Protocol.Runtime.BindingCalledEvent\n  ): Promise<void> {\n    if (event.executionContextId !== this.#id) {\n      return;\n    }\n\n    let payload: BindingPayload;\n    try {\n      payload = JSON.parse(event.payload);\n    } catch {\n      // The binding was either called by something in the page or it was\n      // called before our wrapper was initialized.\n      return;\n    }\n    const {type, name, seq, args, isTrivial} = payload;\n    if (type !== 'internal') {\n      this.emit('bindingcalled', event);\n      return;\n    }\n    if (!this.#bindings.has(name)) {\n      this.emit('bindingcalled', event);\n      return;\n    }\n\n    try {\n      const binding = this.#bindings.get(name);\n      await binding?.run(this, seq, args, isTrivial);\n    } catch (err) {\n      debugError(err);\n    }\n  }\n\n  get id(): number {\n    return this.#id;\n  }\n\n  #onConsoleAPI(event: Protocol.Runtime.ConsoleAPICalledEvent): void {\n    if (event.executionContextId !== this.#id) {\n      return;\n    }\n    this.emit('consoleapicalled', event);\n  }\n\n  #bindingsInstalled = false;\n  #puppeteerUtil?: Promise<JSHandle<PuppeteerUtil>>;\n  get puppeteerUtil(): Promise<JSHandle<PuppeteerUtil>> {\n    let promise = Promise.resolve() as Promise<unknown>;\n    if (!this.#bindingsInstalled) {\n      promise = Promise.all([\n        this.#addBindingWithoutThrowing(ariaQuerySelectorBinding),\n        this.#addBindingWithoutThrowing(ariaQuerySelectorAllBinding),\n      ]);\n      this.#bindingsInstalled = true;\n    }\n    scriptInjector.inject(script => {\n      if (this.#puppeteerUtil) {\n        void this.#puppeteerUtil.then(handle => {\n          void handle.dispose();\n        });\n      }\n      this.#puppeteerUtil = promise.then(() => {\n        return this.evaluateHandle(script) as Promise<JSHandle<PuppeteerUtil>>;\n      });\n    }, !this.#puppeteerUtil);\n    return this.#puppeteerUtil as Promise<JSHandle<PuppeteerUtil>>;\n  }\n\n  async #addBindingWithoutThrowing(binding: Binding) {\n    try {\n      await this.#addBinding(binding);\n    } catch (err) {\n      // If the binding cannot be added, then either the browser doesn't support\n      // bindings (e.g. Firefox) or the context is broken. Either breakage is\n      // okay, so we ignore the error.\n      debugError(err);\n    }\n  }\n\n  /**\n   * Evaluates the given function.\n   *\n   * @example\n   *\n   * ```ts\n   * const executionContext = await page.mainFrame().executionContext();\n   * const result = await executionContext.evaluate(() => Promise.resolve(8 * 7))* ;\n   * console.log(result); // prints \"56\"\n   * ```\n   *\n   * @example\n   * A string can also be passed in instead of a function:\n   *\n   * ```ts\n   * console.log(await executionContext.evaluate('1 + 2')); // prints \"3\"\n   * ```\n   *\n   * @example\n   * Handles can also be passed as `args`. They resolve to their referenced object:\n   *\n   * ```ts\n   * const oneHandle = await executionContext.evaluateHandle(() => 1);\n   * const twoHandle = await executionContext.evaluateHandle(() => 2);\n   * const result = await executionContext.evaluate(\n   *   (a, b) => a + b,\n   *   oneHandle,\n   *   twoHandle\n   * );\n   * await oneHandle.dispose();\n   * await twoHandle.dispose();\n   * console.log(result); // prints '3'.\n   * ```\n   *\n   * @param pageFunction - The function to evaluate.\n   * @param args - Additional arguments to pass into the function.\n   * @returns The result of evaluating the function. If the result is an object,\n   * a vanilla object containing the serializable properties of the result is\n   * returned.\n   */\n  async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    return await this.#evaluate(true, pageFunction, ...args);\n  }\n\n  /**\n   * Evaluates the given function.\n   *\n   * Unlike {@link ExecutionContext.evaluate | evaluate}, this method returns a\n   * handle to the result of the function.\n   *\n   * This method may be better suited if the object cannot be serialized (e.g.\n   * `Map`) and requires further manipulation.\n   *\n   * @example\n   *\n   * ```ts\n   * const context = await page.mainFrame().executionContext();\n   * const handle: JSHandle<typeof globalThis> = await context.evaluateHandle(\n   *   () => Promise.resolve(self)\n   * );\n   * ```\n   *\n   * @example\n   * A string can also be passed in instead of a function.\n   *\n   * ```ts\n   * const handle: JSHandle<number> = await context.evaluateHandle('1 + 2');\n   * ```\n   *\n   * @example\n   * Handles can also be passed as `args`. They resolve to their referenced object:\n   *\n   * ```ts\n   * const bodyHandle: ElementHandle<HTMLBodyElement> =\n   *   await context.evaluateHandle(() => {\n   *     return document.body;\n   *   });\n   * const stringHandle: JSHandle<string> = await context.evaluateHandle(\n   *   body => body.innerHTML,\n   *   body\n   * );\n   * console.log(await stringHandle.jsonValue()); // prints body's innerHTML\n   * // Always dispose your garbage! :)\n   * await bodyHandle.dispose();\n   * await stringHandle.dispose();\n   * ```\n   *\n   * @param pageFunction - The function to evaluate.\n   * @param args - Additional arguments to pass into the function.\n   * @returns A {@link JSHandle | handle} to the result of evaluating the\n   * function. If the result is a `Node`, then this will return an\n   * {@link ElementHandle | element handle}.\n   */\n  async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    return await this.#evaluate(false, pageFunction, ...args);\n  }\n\n  async #evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    returnByValue: true,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>>;\n  async #evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    returnByValue: false,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>>;\n  async #evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    returnByValue: boolean,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>> | Awaited<ReturnType<Func>>> {\n    const sourceUrlComment = getSourceUrlComment(\n      getSourcePuppeteerURLIfAvailable(pageFunction)?.toString() ??\n        PuppeteerURL.INTERNAL_URL\n    );\n\n    if (isString(pageFunction)) {\n      const contextId = this.#id;\n      const expression = pageFunction;\n      const expressionWithSourceUrl = SOURCE_URL_REGEX.test(expression)\n        ? expression\n        : `${expression}\\n${sourceUrlComment}\\n`;\n\n      const {exceptionDetails, result: remoteObject} = await this.#client\n        .send('Runtime.evaluate', {\n          expression: expressionWithSourceUrl,\n          contextId,\n          returnByValue,\n          awaitPromise: true,\n          userGesture: true,\n        })\n        .catch(rewriteError);\n\n      if (exceptionDetails) {\n        throw createEvaluationError(exceptionDetails);\n      }\n\n      return returnByValue\n        ? valueFromRemoteObject(remoteObject)\n        : this.#world.createCdpHandle(remoteObject);\n    }\n\n    const functionDeclaration = stringifyFunction(pageFunction);\n    const functionDeclarationWithSourceUrl = SOURCE_URL_REGEX.test(\n      functionDeclaration\n    )\n      ? functionDeclaration\n      : `${functionDeclaration}\\n${sourceUrlComment}\\n`;\n    let callFunctionOnPromise;\n    try {\n      callFunctionOnPromise = this.#client.send('Runtime.callFunctionOn', {\n        functionDeclaration: functionDeclarationWithSourceUrl,\n        executionContextId: this.#id,\n        arguments: args.length\n          ? await Promise.all(args.map(convertArgument.bind(this)))\n          : [],\n        returnByValue,\n        awaitPromise: true,\n        userGesture: true,\n      });\n    } catch (error) {\n      if (\n        error instanceof TypeError &&\n        error.message.startsWith('Converting circular structure to JSON')\n      ) {\n        error.message += ' Recursive objects are not allowed.';\n      }\n      throw error;\n    }\n    const {exceptionDetails, result: remoteObject} =\n      await callFunctionOnPromise.catch(rewriteError);\n    if (exceptionDetails) {\n      throw createEvaluationError(exceptionDetails);\n    }\n    return returnByValue\n      ? valueFromRemoteObject(remoteObject)\n      : this.#world.createCdpHandle(remoteObject);\n\n    async function convertArgument(\n      this: ExecutionContext,\n      arg: unknown\n    ): Promise<Protocol.Runtime.CallArgument> {\n      if (arg instanceof LazyArg) {\n        arg = await arg.get(this);\n      }\n      if (typeof arg === 'bigint') {\n        // eslint-disable-line valid-typeof\n        return {unserializableValue: `${arg.toString()}n`};\n      }\n      if (Object.is(arg, -0)) {\n        return {unserializableValue: '-0'};\n      }\n      if (Object.is(arg, Infinity)) {\n        return {unserializableValue: 'Infinity'};\n      }\n      if (Object.is(arg, -Infinity)) {\n        return {unserializableValue: '-Infinity'};\n      }\n      if (Object.is(arg, NaN)) {\n        return {unserializableValue: 'NaN'};\n      }\n      const objectHandle =\n        arg && (arg instanceof CdpJSHandle || arg instanceof CdpElementHandle)\n          ? arg\n          : null;\n      if (objectHandle) {\n        if (objectHandle.realm !== this.#world) {\n          throw new Error(\n            'JSHandles can be evaluated only in the context they were created!'\n          );\n        }\n        if (objectHandle.disposed) {\n          throw new Error('JSHandle is disposed!');\n        }\n        if (objectHandle.remoteObject().unserializableValue) {\n          return {\n            unserializableValue:\n              objectHandle.remoteObject().unserializableValue,\n          };\n        }\n        if (!objectHandle.remoteObject().objectId) {\n          return {value: objectHandle.remoteObject().value};\n        }\n        return {objectId: objectHandle.remoteObject().objectId};\n      }\n      return {value: arg};\n    }\n  }\n\n  [disposeSymbol](): void {\n    this.#disposables.dispose();\n    this.emit('disposed', undefined);\n  }\n}\n\nconst rewriteError = (error: Error): Protocol.Runtime.EvaluateResponse => {\n  if (error.message.includes('Object reference chain is too long')) {\n    return {result: {type: 'undefined'}};\n  }\n  if (error.message.includes(\"Object couldn't be returned by value\")) {\n    return {result: {type: 'undefined'}};\n  }\n\n  if (\n    error.message.endsWith('Cannot find context with specified id') ||\n    error.message.endsWith('Inspected target navigated or closed')\n  ) {\n    throw new Error(\n      'Execution context was destroyed, most likely because of a navigation.'\n    );\n  }\n  throw error;\n};\n", "/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Path from 'path';\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {ElementHandle, type AutofillData} from '../api/ElementHandle.js';\nimport type {AwaitableIterable} from '../common/types.js';\nimport {debugError} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {AsyncIterableUtil} from '../util/AsyncIterableUtil.js';\nimport {throwIfDisposed} from '../util/decorators.js';\n\nimport type {CdpFrame} from './Frame.js';\nimport type {FrameManager} from './FrameManager.js';\nimport type {IsolatedWorld} from './IsolatedWorld.js';\nimport {CdpJSHandle} from './JSHandle.js';\n\nconst NON_ELEMENT_NODE_ROLES = new Set(['StaticText', 'InlineTextBox']);\n\n/**\n * The CdpElementHandle extends ElementHandle now to keep compatibility\n * with `instanceof` because of that we need to have methods for\n * CdpJSHandle to in this implementation as well.\n *\n * @internal\n */\nexport class CdpElementHandle<\n  ElementType extends Node = Element,\n> extends ElementHandle<ElementType> {\n  protected declare readonly handle: CdpJSHandle<ElementType>;\n\n  constructor(\n    world: IsolatedWorld,\n    remoteObject: Protocol.Runtime.RemoteObject\n  ) {\n    super(new CdpJSHandle(world, remoteObject));\n  }\n\n  override get realm(): IsolatedWorld {\n    return this.handle.realm;\n  }\n\n  get client(): CDPSession {\n    return this.handle.client;\n  }\n\n  override remoteObject(): Protocol.Runtime.RemoteObject {\n    return this.handle.remoteObject();\n  }\n\n  get #frameManager(): FrameManager {\n    return this.frame._frameManager;\n  }\n\n  override get frame(): CdpFrame {\n    return this.realm.environment as CdpFrame;\n  }\n\n  override async contentFrame(\n    this: ElementHandle<HTMLIFrameElement>\n  ): Promise<CdpFrame>;\n\n  @throwIfDisposed()\n  override async contentFrame(): Promise<CdpFrame | null> {\n    const nodeInfo = await this.client.send('DOM.describeNode', {\n      objectId: this.id,\n    });\n    if (typeof nodeInfo.node.frameId !== 'string') {\n      return null;\n    }\n    return this.#frameManager.frame(nodeInfo.node.frameId);\n  }\n\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  override async scrollIntoView(\n    this: CdpElementHandle<Element>\n  ): Promise<void> {\n    await this.assertConnectedElement();\n    try {\n      await this.client.send('DOM.scrollIntoViewIfNeeded', {\n        objectId: this.id,\n      });\n    } catch (error) {\n      debugError(error);\n      // Fallback to Element.scrollIntoView if DOM.scrollIntoViewIfNeeded is not supported\n      await super.scrollIntoView();\n    }\n  }\n\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  override async uploadFile(\n    this: CdpElementHandle<HTMLInputElement>,\n    ...filePaths: string[]\n  ): Promise<void> {\n    const isMultiple = await this.evaluate(element => {\n      return element.multiple;\n    });\n    assert(\n      filePaths.length <= 1 || isMultiple,\n      'Multiple file uploads only work with <input type=file multiple>'\n    );\n\n    // Locate all files and confirm that they exist.\n    let path: typeof Path;\n    try {\n      path = await import('path');\n    } catch (error) {\n      if (error instanceof TypeError) {\n        throw new Error(\n          `JSHandle#uploadFile can only be used in Node-like environments.`\n        );\n      }\n      throw error;\n    }\n    const files = filePaths.map(filePath => {\n      if (path.win32.isAbsolute(filePath) || path.posix.isAbsolute(filePath)) {\n        return filePath;\n      } else {\n        return path.resolve(filePath);\n      }\n    });\n\n    /**\n     * The zero-length array is a special case, it seems that\n     * DOM.setFileInputFiles does not actually update the files in that case, so\n     * the solution is to eval the element value to a new FileList directly.\n     */\n    if (files.length === 0) {\n      // XXX: These events should converted to trusted events. Perhaps do this\n      // in `DOM.setFileInputFiles`?\n      await this.evaluate(element => {\n        element.files = new DataTransfer().files;\n\n        // Dispatch events for this case because it should behave akin to a user action.\n        element.dispatchEvent(\n          new Event('input', {bubbles: true, composed: true})\n        );\n        element.dispatchEvent(new Event('change', {bubbles: true}));\n      });\n      return;\n    }\n\n    const {\n      node: {backendNodeId},\n    } = await this.client.send('DOM.describeNode', {\n      objectId: this.id,\n    });\n    await this.client.send('DOM.setFileInputFiles', {\n      objectId: this.id,\n      files,\n      backendNodeId,\n    });\n  }\n\n  @throwIfDisposed()\n  override async autofill(data: AutofillData): Promise<void> {\n    const nodeInfo = await this.client.send('DOM.describeNode', {\n      objectId: this.handle.id,\n    });\n    const fieldId = nodeInfo.node.backendNodeId;\n    const frameId = this.frame._id;\n    await this.client.send('Autofill.trigger', {\n      fieldId,\n      frameId,\n      card: data.creditCard,\n    });\n  }\n\n  override async *queryAXTree(\n    name?: string | undefined,\n    role?: string | undefined\n  ): AwaitableIterable<ElementHandle<Node>> {\n    const {nodes} = await this.client.send('Accessibility.queryAXTree', {\n      objectId: this.id,\n      accessibleName: name,\n      role,\n    });\n\n    const results = nodes.filter(node => {\n      if (node.ignored) {\n        return false;\n      }\n      if (!node.role) {\n        return false;\n      }\n      if (NON_ELEMENT_NODE_ROLES.has(node.role.value)) {\n        return false;\n      }\n      return true;\n    });\n\n    return yield* AsyncIterableUtil.map(results, node => {\n      return this.realm.adoptBackendNode(node.backendDOMNodeId) as Promise<\n        ElementHandle<Node>\n      >;\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {Frame} from '../api/Frame.js';\nimport {getQueryHandlerAndSelector} from '../common/GetQueryHandler.js';\nimport {LazyArg} from '../common/LazyArg.js';\nimport type {\n  AwaitableIterable,\n  ElementFor,\n  EvaluateFuncWith,\n  HandleFor,\n  HandleOr,\n  NodeFor,\n} from '../common/types.js';\nimport type {KeyInput} from '../common/USKeyboardLayout.js';\nimport {isString, withSourcePuppeteerURLIfNone} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {AsyncIterableUtil} from '../util/AsyncIterableUtil.js';\nimport {throwIfDisposed} from '../util/decorators.js';\n\nimport {_isElementHandle} from './ElementHandleSymbol.js';\nimport type {\n  KeyboardTypeOptions,\n  KeyPressOptions,\n  MouseClickOptions,\n} from './Input.js';\nimport {JSHandle} from './JSHandle.js';\nimport type {\n  QueryOptions,\n  ScreenshotOptions,\n  WaitForSelectorOptions,\n} from './Page.js';\n\n/**\n * @public\n */\nexport type Quad = [Point, Point, Point, Point];\n\n/**\n * @public\n */\nexport interface BoxModel {\n  content: Quad;\n  padding: Quad;\n  border: Quad;\n  margin: Quad;\n  width: number;\n  height: number;\n}\n\n/**\n * @public\n */\nexport interface BoundingBox extends Point {\n  /**\n   * the width of the element in pixels.\n   */\n  width: number;\n  /**\n   * the height of the element in pixels.\n   */\n  height: number;\n}\n\n/**\n * @public\n */\nexport interface Offset {\n  /**\n   * x-offset for the clickable point relative to the top-left corner of the border box.\n   */\n  x: number;\n  /**\n   * y-offset for the clickable point relative to the top-left corner of the border box.\n   */\n  y: number;\n}\n\n/**\n * @public\n */\nexport interface ClickOptions extends MouseClickOptions {\n  /**\n   * Offset for the clickable point relative to the top-left corner of the border box.\n   */\n  offset?: Offset;\n}\n\n/**\n * @public\n */\nexport interface Point {\n  x: number;\n  y: number;\n}\n\n/**\n * @public\n */\nexport interface ElementScreenshotOptions extends ScreenshotOptions {\n  /**\n   * @defaultValue `true`\n   */\n  scrollIntoView?: boolean;\n}\n\n/**\n * ElementHandle represents an in-page DOM element.\n *\n * @remarks\n * ElementHandles can be created with the {@link Page.$} method.\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   await page.goto('https://example.com');\n *   const hrefElement = await page.$('a');\n *   await hrefElement.click();\n *   // ...\n * })();\n * ```\n *\n * ElementHandle prevents the DOM element from being garbage-collected unless the\n * handle is {@link JSHandle.dispose | disposed}. ElementHandles are auto-disposed\n * when their origin frame gets navigated.\n *\n * ElementHandle instances can be used as arguments in {@link Page.$eval} and\n * {@link Page.evaluate} methods.\n *\n * If you're using TypeScript, ElementHandle takes a generic argument that\n * denotes the type of element the handle is holding within. For example, if you\n * have a handle to a `<select>` element, you can type it as\n * `ElementHandle<HTMLSelectElement>` and you get some nicer type checks.\n *\n * @public\n */\nexport abstract class ElementHandle<\n  ElementType extends Node = Element,\n> extends JSHandle<ElementType> {\n  /**\n   * @internal\n   */\n  declare [_isElementHandle]: boolean;\n\n  /**\n   * @internal\n   * Cached isolatedHandle to prevent\n   * trying to adopt it multiple times\n   */\n  isolatedHandle?: typeof this;\n\n  /**\n   * A given method will have it's `this` replaced with an isolated version of\n   * `this` when decorated with this decorator.\n   *\n   * All changes of isolated `this` are reflected on the actual `this`.\n   *\n   * @internal\n   */\n  static bindIsolatedHandle<This extends ElementHandle<Node>>(\n    target: (this: This, ...args: any[]) => Promise<any>,\n    _: unknown\n  ): typeof target {\n    return async function (...args) {\n      // If the handle is already isolated, then we don't need to adopt it\n      // again.\n      if (this.realm === this.frame.isolatedRealm()) {\n        return await target.call(this, ...args);\n      }\n      let adoptedThis: This;\n      if (this['isolatedHandle']) {\n        adoptedThis = this['isolatedHandle'];\n      } else {\n        this['isolatedHandle'] = adoptedThis = await this.frame\n          .isolatedRealm()\n          .adoptHandle(this);\n      }\n      const result = await target.call(adoptedThis, ...args);\n      // If the function returns `adoptedThis`, then we return `this`.\n      if (result === adoptedThis) {\n        return this;\n      }\n      // If the function returns a handle, transfer it into the current realm.\n      if (result instanceof JSHandle) {\n        return await this.realm.transferHandle(result);\n      }\n      // If the function returns an array of handlers, transfer them into the\n      // current realm.\n      if (Array.isArray(result)) {\n        await Promise.all(\n          result.map(async (item, index, result) => {\n            if (item instanceof JSHandle) {\n              result[index] = await this.realm.transferHandle(item);\n            }\n          })\n        );\n      }\n      if (result instanceof Map) {\n        await Promise.all(\n          [...result.entries()].map(async ([key, value]) => {\n            if (value instanceof JSHandle) {\n              result.set(key, await this.realm.transferHandle(value));\n            }\n          })\n        );\n      }\n      return result;\n    };\n  }\n\n  /**\n   * @internal\n   */\n  protected readonly handle;\n\n  /**\n   * @internal\n   */\n  constructor(handle: JSHandle<ElementType>) {\n    super();\n    this.handle = handle;\n    this[_isElementHandle] = true;\n  }\n\n  /**\n   * @internal\n   */\n  override get id(): string | undefined {\n    return this.handle.id;\n  }\n\n  /**\n   * @internal\n   */\n  override get disposed(): boolean {\n    return this.handle.disposed;\n  }\n\n  /**\n   * @internal\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  override async getProperty<K extends keyof ElementType>(\n    propertyName: HandleOr<K>\n  ): Promise<HandleFor<ElementType[K]>> {\n    return await this.handle.getProperty(propertyName);\n  }\n\n  /**\n   * @internal\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  override async getProperties(): Promise<Map<string, JSHandle>> {\n    return await this.handle.getProperties();\n  }\n\n  /**\n   * @internal\n   */\n  override async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<ElementType, Params> = EvaluateFuncWith<\n      ElementType,\n      Params\n    >,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluate.name,\n      pageFunction\n    );\n    return await this.handle.evaluate(pageFunction, ...args);\n  }\n\n  /**\n   * @internal\n   */\n  override async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<ElementType, Params> = EvaluateFuncWith<\n      ElementType,\n      Params\n    >,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluateHandle.name,\n      pageFunction\n    );\n    return await this.handle.evaluateHandle(pageFunction, ...args);\n  }\n\n  /**\n   * @internal\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  override async jsonValue(): Promise<ElementType> {\n    return await this.handle.jsonValue();\n  }\n\n  /**\n   * @internal\n   */\n  override toString(): string {\n    return this.handle.toString();\n  }\n\n  /**\n   * @internal\n   */\n  override remoteObject(): Protocol.Runtime.RemoteObject {\n    return this.handle.remoteObject();\n  }\n\n  /**\n   * @internal\n   */\n  override dispose(): Promise<void> {\n    return this.handle.dispose();\n  }\n\n  /**\n   * @internal\n   */\n  override asElement(): ElementHandle<ElementType> {\n    return this;\n  }\n\n  /**\n   * Frame corresponding to the current handle.\n   */\n  abstract get frame(): Frame;\n\n  /**\n   * Queries the current element for an element matching the given selector.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @returns A {@link ElementHandle | element handle} to the first element\n   * matching the given selector. Otherwise, `null`.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async $<Selector extends string>(\n    selector: Selector\n  ): Promise<ElementHandle<NodeFor<Selector>> | null> {\n    const {updatedSelector, QueryHandler} =\n      getQueryHandlerAndSelector(selector);\n    return (await QueryHandler.queryOne(\n      this,\n      updatedSelector\n    )) as ElementHandle<NodeFor<Selector>> | null;\n  }\n\n  /**\n   * Queries the current element for all elements matching the given selector.\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @returns An array of {@link ElementHandle | element handles} that point to\n   * elements matching the given selector.\n   */\n  @throwIfDisposed()\n  async $$<Selector extends string>(\n    selector: Selector,\n    options?: QueryOptions\n  ): Promise<Array<ElementHandle<NodeFor<Selector>>>> {\n    if (options?.isolate === false) {\n      return await this.#$$impl(selector);\n    }\n    return await this.#$$(selector);\n  }\n\n  /**\n   * Isolates {@link ElementHandle.$$} if needed.\n   *\n   * @internal\n   */\n  @ElementHandle.bindIsolatedHandle\n  async #$$<Selector extends string>(\n    selector: Selector\n  ): Promise<Array<ElementHandle<NodeFor<Selector>>>> {\n    return await this.#$$impl(selector);\n  }\n\n  /**\n   * Implementation for {@link ElementHandle.$$}.\n   *\n   * @internal\n   */\n  async #$$impl<Selector extends string>(\n    selector: Selector\n  ): Promise<Array<ElementHandle<NodeFor<Selector>>>> {\n    const {updatedSelector, QueryHandler} =\n      getQueryHandlerAndSelector(selector);\n    return await (AsyncIterableUtil.collect(\n      QueryHandler.queryAll(this, updatedSelector)\n    ) as Promise<Array<ElementHandle<NodeFor<Selector>>>>);\n  }\n\n  /**\n   * Runs the given function on the first element matching the given selector in\n   * the current element.\n   *\n   * If the given function returns a promise, then this method will wait till\n   * the promise resolves.\n   *\n   * @example\n   *\n   * ```ts\n   * const tweetHandle = await page.$('.tweet');\n   * expect(await tweetHandle.$eval('.like', node => node.innerText)).toBe(\n   *   '100'\n   * );\n   * expect(await tweetHandle.$eval('.retweets', node => node.innerText)).toBe(\n   *   '10'\n   * );\n   * ```\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @param pageFunction - The function to be evaluated in this element's page's\n   * context. The first element matching the selector will be passed in as the\n   * first argument.\n   * @param args - Additional arguments to pass to `pageFunction`.\n   * @returns A promise to the result of the function.\n   */\n  async $eval<\n    Selector extends string,\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<NodeFor<Selector>, Params> = EvaluateFuncWith<\n      NodeFor<Selector>,\n      Params\n    >,\n  >(\n    selector: Selector,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(this.$eval.name, pageFunction);\n    using elementHandle = await this.$(selector);\n    if (!elementHandle) {\n      throw new Error(\n        `Error: failed to find element matching selector \"${selector}\"`\n      );\n    }\n    return await elementHandle.evaluate(pageFunction, ...args);\n  }\n\n  /**\n   * Runs the given function on an array of elements matching the given selector\n   * in the current element.\n   *\n   * If the given function returns a promise, then this method will wait till\n   * the promise resolves.\n   *\n   * @example\n   * HTML:\n   *\n   * ```html\n   * <div class=\"feed\">\n   *   <div class=\"tweet\">Hello!</div>\n   *   <div class=\"tweet\">Hi!</div>\n   * </div>\n   * ```\n   *\n   * JavaScript:\n   *\n   * ```ts\n   * const feedHandle = await page.$('.feed');\n   * expect(\n   *   await feedHandle.$$eval('.tweet', nodes => nodes.map(n => n.innerText))\n   * ).toEqual(['Hello!', 'Hi!']);\n   * ```\n   *\n   * @param selector -\n   * {@link https://pptr.dev/guides/page-interactions#selectors | selector}\n   * to query page for.\n   * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors | CSS selectors}\n   * can be passed as-is and a\n   * {@link https://pptr.dev/guides/page-interactions#non-css-selectors | Puppeteer-specific selector syntax}\n   * allows quering by\n   * {@link https://pptr.dev/guides/page-interactions#text-selectors--p-text | text},\n   * {@link https://pptr.dev/guides/page-interactions#aria-selectors--p-aria | a11y role and name},\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#xpath-selectors--p-xpath | xpath}\n   * and\n   * {@link https://pptr.dev/guides/page-interactions#querying-elements-in-shadow-dom | combining these queries across shadow roots}.\n   * Alternatively, you can specify the selector type using a\n   * {@link https://pptr.dev/guides/page-interactions#prefixed-selector-syntax | prefix}.\n   * @param pageFunction - The function to be evaluated in the element's page's\n   * context. An array of elements matching the given selector will be passed to\n   * the function as its first argument.\n   * @param args - Additional arguments to pass to `pageFunction`.\n   * @returns A promise to the result of the function.\n   */\n  async $$eval<\n    Selector extends string,\n    Params extends unknown[],\n    Func extends EvaluateFuncWith<\n      Array<NodeFor<Selector>>,\n      Params\n    > = EvaluateFuncWith<Array<NodeFor<Selector>>, Params>,\n  >(\n    selector: Selector,\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(this.$$eval.name, pageFunction);\n    const results = await this.$$(selector);\n    using elements = await this.evaluateHandle(\n      (_, ...elements) => {\n        return elements;\n      },\n      ...results\n    );\n    const [result] = await Promise.all([\n      elements.evaluate(pageFunction, ...args),\n      ...results.map(results => {\n        return results.dispose();\n      }),\n    ]);\n    return result;\n  }\n\n  /**\n   * Wait for an element matching the given selector to appear in the current\n   * element.\n   *\n   * Unlike {@link Frame.waitForSelector}, this method does not work across\n   * navigations or if the element is detached from DOM.\n   *\n   * @example\n   *\n   * ```ts\n   * import puppeteer from 'puppeteer';\n   *\n   * (async () => {\n   *   const browser = await puppeteer.launch();\n   *   const page = await browser.newPage();\n   *   let currentURL;\n   *   page\n   *     .mainFrame()\n   *     .waitForSelector('img')\n   *     .then(() => console.log('First URL with image: ' + currentURL));\n   *\n   *   for (currentURL of [\n   *     'https://example.com',\n   *     'https://google.com',\n   *     'https://bbc.com',\n   *   ]) {\n   *     await page.goto(currentURL);\n   *   }\n   *   await browser.close();\n   * })();\n   * ```\n   *\n   * @param selector - The selector to query and wait for.\n   * @param options - Options for customizing waiting behavior.\n   * @returns An element matching the given selector.\n   * @throws Throws if an element matching the given selector doesn't appear.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async waitForSelector<Selector extends string>(\n    selector: Selector,\n    options: WaitForSelectorOptions = {}\n  ): Promise<ElementHandle<NodeFor<Selector>> | null> {\n    const {updatedSelector, QueryHandler, polling} =\n      getQueryHandlerAndSelector(selector);\n    return (await QueryHandler.waitFor(this, updatedSelector, {\n      polling,\n      ...options,\n    })) as ElementHandle<NodeFor<Selector>> | null;\n  }\n\n  async #checkVisibility(visibility: boolean): Promise<boolean> {\n    return await this.evaluate(\n      async (element, PuppeteerUtil, visibility) => {\n        return Boolean(PuppeteerUtil.checkVisibility(element, visibility));\n      },\n      LazyArg.create(context => {\n        return context.puppeteerUtil;\n      }),\n      visibility\n    );\n  }\n\n  /**\n   * An element is considered to be visible if all of the following is\n   * true:\n   *\n   * - the element has\n   *   {@link https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle | computed styles}.\n   *\n   * - the element has a non-empty\n   *   {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect | bounding client rect}.\n   *\n   * - the element's {@link https://developer.mozilla.org/en-US/docs/Web/CSS/visibility | visibility}\n   *   is not `hidden` or `collapse`.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async isVisible(): Promise<boolean> {\n    return await this.#checkVisibility(true);\n  }\n\n  /**\n   * An element is considered to be hidden if at least one of the following is true:\n   *\n   * - the element has no\n   *   {@link https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle | computed styles}.\n   *\n   * - the element has an empty\n   *   {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect | bounding client rect}.\n   *\n   * - the element's {@link https://developer.mozilla.org/en-US/docs/Web/CSS/visibility | visibility}\n   *   is `hidden` or `collapse`.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async isHidden(): Promise<boolean> {\n    return await this.#checkVisibility(false);\n  }\n\n  /**\n   * Converts the current handle to the given element type.\n   *\n   * @example\n   *\n   * ```ts\n   * const element: ElementHandle<Element> = await page.$(\n   *   '.class-name-of-anchor'\n   * );\n   * // DO NOT DISPOSE `element`, this will be always be the same handle.\n   * const anchor: ElementHandle<HTMLAnchorElement> =\n   *   await element.toElement('a');\n   * ```\n   *\n   * @param tagName - The tag name of the desired element type.\n   * @throws An error if the handle does not match. **The handle will not be\n   * automatically disposed.**\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async toElement<\n    K extends keyof HTMLElementTagNameMap | keyof SVGElementTagNameMap,\n  >(tagName: K): Promise<HandleFor<ElementFor<K>>> {\n    const isMatchingTagName = await this.evaluate((node, tagName) => {\n      return node.nodeName === tagName.toUpperCase();\n    }, tagName);\n    if (!isMatchingTagName) {\n      throw new Error(`Element is not a(n) \\`${tagName}\\` element`);\n    }\n    return this as unknown as HandleFor<ElementFor<K>>;\n  }\n\n  /**\n   * Resolves the frame associated with the element, if any. Always exists for\n   * HTMLIFrameElements.\n   */\n  abstract contentFrame(this: ElementHandle<HTMLIFrameElement>): Promise<Frame>;\n  abstract contentFrame(): Promise<Frame | null>;\n\n  /**\n   * Returns the middle point within an element unless a specific offset is provided.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async clickablePoint(offset?: Offset): Promise<Point> {\n    const box = await this.#clickableBox();\n    if (!box) {\n      throw new Error('Node is either not clickable or not an Element');\n    }\n    if (offset !== undefined) {\n      return {\n        x: box.x + offset.x,\n        y: box.y + offset.y,\n      };\n    }\n    return {\n      x: box.x + box.width / 2,\n      y: box.y + box.height / 2,\n    };\n  }\n\n  /**\n   * This method scrolls element into view if needed, and then\n   * uses {@link Page.mouse} to hover over the center of the element.\n   * If the element is detached from DOM, the method throws an error.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async hover(this: ElementHandle<Element>): Promise<void> {\n    await this.scrollIntoViewIfNeeded();\n    const {x, y} = await this.clickablePoint();\n    await this.frame.page().mouse.move(x, y);\n  }\n\n  /**\n   * This method scrolls element into view if needed, and then\n   * uses {@link Page.mouse} to click in the center of the element.\n   * If the element is detached from DOM, the method throws an error.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async click(\n    this: ElementHandle<Element>,\n    options: Readonly<ClickOptions> = {}\n  ): Promise<void> {\n    await this.scrollIntoViewIfNeeded();\n    const {x, y} = await this.clickablePoint(options.offset);\n    await this.frame.page().mouse.click(x, y, options);\n  }\n\n  /**\n   * Drags an element over the given element or point.\n   *\n   * @returns DEPRECATED. When drag interception is enabled, the drag payload is\n   * returned.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async drag(\n    this: ElementHandle<Element>,\n    target: Point | ElementHandle<Element>\n  ): Promise<Protocol.Input.DragData | void> {\n    await this.scrollIntoViewIfNeeded();\n    const page = this.frame.page();\n    if (page.isDragInterceptionEnabled()) {\n      const source = await this.clickablePoint();\n      if (target instanceof ElementHandle) {\n        target = await target.clickablePoint();\n      }\n      return await page.mouse.drag(source, target);\n    }\n    try {\n      if (!page._isDragging) {\n        page._isDragging = true;\n        await this.hover();\n        await page.mouse.down();\n      }\n      if (target instanceof ElementHandle) {\n        await target.hover();\n      } else {\n        await page.mouse.move(target.x, target.y);\n      }\n    } catch (error) {\n      page._isDragging = false;\n      throw error;\n    }\n  }\n\n  /**\n   * @deprecated Do not use. `dragenter` will automatically be performed during dragging.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async dragEnter(\n    this: ElementHandle<Element>,\n    data: Protocol.Input.DragData = {items: [], dragOperationsMask: 1}\n  ): Promise<void> {\n    const page = this.frame.page();\n    await this.scrollIntoViewIfNeeded();\n    const target = await this.clickablePoint();\n    await page.mouse.dragEnter(target, data);\n  }\n\n  /**\n   * @deprecated Do not use. `dragover` will automatically be performed during dragging.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async dragOver(\n    this: ElementHandle<Element>,\n    data: Protocol.Input.DragData = {items: [], dragOperationsMask: 1}\n  ): Promise<void> {\n    const page = this.frame.page();\n    await this.scrollIntoViewIfNeeded();\n    const target = await this.clickablePoint();\n    await page.mouse.dragOver(target, data);\n  }\n\n  /**\n   * Drops the given element onto the current one.\n   */\n  async drop(\n    this: ElementHandle<Element>,\n    element: ElementHandle<Element>\n  ): Promise<void>;\n\n  /**\n   * @deprecated No longer supported.\n   */\n  async drop(\n    this: ElementHandle<Element>,\n    data?: Protocol.Input.DragData\n  ): Promise<void>;\n\n  /**\n   * @internal\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async drop(\n    this: ElementHandle<Element>,\n    dataOrElement: ElementHandle<Element> | Protocol.Input.DragData = {\n      items: [],\n      dragOperationsMask: 1,\n    }\n  ): Promise<void> {\n    const page = this.frame.page();\n    if ('items' in dataOrElement) {\n      await this.scrollIntoViewIfNeeded();\n      const destination = await this.clickablePoint();\n      await page.mouse.drop(destination, dataOrElement);\n    } else {\n      // Note if the rest errors, we still want dragging off because the errors\n      // is most likely something implying the mouse is no longer dragging.\n      await dataOrElement.drag(this);\n      page._isDragging = false;\n      await page.mouse.up();\n    }\n  }\n\n  /**\n   * @deprecated Use `ElementHandle.drop` instead.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async dragAndDrop(\n    this: ElementHandle<Element>,\n    target: ElementHandle<Node>,\n    options?: {delay: number}\n  ): Promise<void> {\n    const page = this.frame.page();\n    assert(\n      page.isDragInterceptionEnabled(),\n      'Drag Interception is not enabled!'\n    );\n    await this.scrollIntoViewIfNeeded();\n    const startPoint = await this.clickablePoint();\n    const targetPoint = await target.clickablePoint();\n    await page.mouse.dragAndDrop(startPoint, targetPoint, options);\n  }\n\n  /**\n   * Triggers a `change` and `input` event once all the provided options have been\n   * selected. If there's no `<select>` element matching `selector`, the method\n   * throws an error.\n   *\n   * @example\n   *\n   * ```ts\n   * handle.select('blue'); // single selection\n   * handle.select('red', 'green', 'blue'); // multiple selections\n   * ```\n   *\n   * @param values - Values of options to select. If the `<select>` has the\n   * `multiple` attribute, all values are considered, otherwise only the first\n   * one is taken into account.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async select(...values: string[]): Promise<string[]> {\n    for (const value of values) {\n      assert(\n        isString(value),\n        'Values must be strings. Found value \"' +\n          value +\n          '\" of type \"' +\n          typeof value +\n          '\"'\n      );\n    }\n\n    return await this.evaluate((element, vals): string[] => {\n      const values = new Set(vals);\n      if (!(element instanceof HTMLSelectElement)) {\n        throw new Error('Element is not a <select> element.');\n      }\n\n      const selectedValues = new Set<string>();\n      if (!element.multiple) {\n        for (const option of element.options) {\n          option.selected = false;\n        }\n        for (const option of element.options) {\n          if (values.has(option.value)) {\n            option.selected = true;\n            selectedValues.add(option.value);\n            break;\n          }\n        }\n      } else {\n        for (const option of element.options) {\n          option.selected = values.has(option.value);\n          if (option.selected) {\n            selectedValues.add(option.value);\n          }\n        }\n      }\n      element.dispatchEvent(new Event('input', {bubbles: true}));\n      element.dispatchEvent(new Event('change', {bubbles: true}));\n      return [...selectedValues.values()];\n    }, values);\n  }\n\n  /**\n   * Sets the value of an\n   * {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input | input element}\n   * to the given file paths.\n   *\n   * @remarks This will not validate whether the file paths exists. Also, if a\n   * path is relative, then it is resolved against the\n   * {@link https://nodejs.org/api/process.html#process_process_cwd | current working directory}.\n   * For locals script connecting to remote chrome environments, paths must be\n   * absolute.\n   */\n  abstract uploadFile(\n    this: ElementHandle<HTMLInputElement>,\n    ...paths: string[]\n  ): Promise<void>;\n\n  /**\n   * @internal\n   */\n  abstract queryAXTree(\n    name?: string,\n    role?: string\n  ): AwaitableIterable<ElementHandle<Node>>;\n\n  /**\n   * This method scrolls element into view if needed, and then uses\n   * {@link Touchscreen.tap} to tap in the center of the element.\n   * If the element is detached from DOM, the method throws an error.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async tap(this: ElementHandle<Element>): Promise<void> {\n    await this.scrollIntoViewIfNeeded();\n    const {x, y} = await this.clickablePoint();\n    await this.frame.page().touchscreen.tap(x, y);\n  }\n\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async touchStart(this: ElementHandle<Element>): Promise<void> {\n    await this.scrollIntoViewIfNeeded();\n    const {x, y} = await this.clickablePoint();\n    await this.frame.page().touchscreen.touchStart(x, y);\n  }\n\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async touchMove(this: ElementHandle<Element>): Promise<void> {\n    await this.scrollIntoViewIfNeeded();\n    const {x, y} = await this.clickablePoint();\n    await this.frame.page().touchscreen.touchMove(x, y);\n  }\n\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async touchEnd(this: ElementHandle<Element>): Promise<void> {\n    await this.scrollIntoViewIfNeeded();\n    await this.frame.page().touchscreen.touchEnd();\n  }\n\n  /**\n   * Calls {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus | focus} on the element.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async focus(): Promise<void> {\n    await this.evaluate(element => {\n      if (!(element instanceof HTMLElement)) {\n        throw new Error('Cannot focus non-HTMLElement');\n      }\n      return element.focus();\n    });\n  }\n\n  /**\n   * Focuses the element, and then sends a `keydown`, `keypress`/`input`, and\n   * `keyup` event for each character in the text.\n   *\n   * To press a special key, like `Control` or `ArrowDown`,\n   * use {@link ElementHandle.press}.\n   *\n   * @example\n   *\n   * ```ts\n   * await elementHandle.type('Hello'); // Types instantly\n   * await elementHandle.type('World', {delay: 100}); // Types slower, like a user\n   * ```\n   *\n   * @example\n   * An example of typing into a text field and then submitting the form:\n   *\n   * ```ts\n   * const elementHandle = await page.$('input');\n   * await elementHandle.type('some text');\n   * await elementHandle.press('Enter');\n   * ```\n   *\n   * @param options - Delay in milliseconds. Defaults to 0.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async type(\n    text: string,\n    options?: Readonly<KeyboardTypeOptions>\n  ): Promise<void> {\n    await this.focus();\n    await this.frame.page().keyboard.type(text, options);\n  }\n\n  /**\n   * Focuses the element, and then uses {@link Keyboard.down} and {@link Keyboard.up}.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also be generated.\n   * The `text` option can be specified to force an input event to be generated.\n   *\n   * **NOTE** Modifier keys DO affect `elementHandle.press`. Holding down `Shift`\n   * will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async press(\n    key: KeyInput,\n    options?: Readonly<KeyPressOptions>\n  ): Promise<void> {\n    await this.focus();\n    await this.frame.page().keyboard.press(key, options);\n  }\n\n  async #clickableBox(): Promise<BoundingBox | null> {\n    const boxes = await this.evaluate(element => {\n      if (!(element instanceof Element)) {\n        return null;\n      }\n      return [...element.getClientRects()].map(rect => {\n        return {x: rect.x, y: rect.y, width: rect.width, height: rect.height};\n      });\n    });\n    if (!boxes?.length) {\n      return null;\n    }\n    await this.#intersectBoundingBoxesWithFrame(boxes);\n    let frame = this.frame;\n    let parentFrame: Frame | null | undefined;\n    while ((parentFrame = frame?.parentFrame())) {\n      using handle = await frame.frameElement();\n      if (!handle) {\n        throw new Error('Unsupported frame type');\n      }\n      const parentBox = await handle.evaluate(element => {\n        // Element is not visible.\n        if (element.getClientRects().length === 0) {\n          return null;\n        }\n        const rect = element.getBoundingClientRect();\n        const style = window.getComputedStyle(element);\n        return {\n          left:\n            rect.left +\n            parseInt(style.paddingLeft, 10) +\n            parseInt(style.borderLeftWidth, 10),\n          top:\n            rect.top +\n            parseInt(style.paddingTop, 10) +\n            parseInt(style.borderTopWidth, 10),\n        };\n      });\n      if (!parentBox) {\n        return null;\n      }\n      for (const box of boxes) {\n        box.x += parentBox.left;\n        box.y += parentBox.top;\n      }\n      await handle.#intersectBoundingBoxesWithFrame(boxes);\n      frame = parentFrame;\n    }\n    const box = boxes.find(box => {\n      return box.width >= 1 && box.height >= 1;\n    });\n    if (!box) {\n      return null;\n    }\n    return {\n      x: box.x,\n      y: box.y,\n      height: box.height,\n      width: box.width,\n    };\n  }\n\n  async #intersectBoundingBoxesWithFrame(boxes: BoundingBox[]) {\n    const {documentWidth, documentHeight} = await this.frame\n      .isolatedRealm()\n      .evaluate(() => {\n        return {\n          documentWidth: document.documentElement.clientWidth,\n          documentHeight: document.documentElement.clientHeight,\n        };\n      });\n    for (const box of boxes) {\n      intersectBoundingBox(box, documentWidth, documentHeight);\n    }\n  }\n\n  /**\n   * This method returns the bounding box of the element (relative to the main frame),\n   * or `null` if the element is {@link https://drafts.csswg.org/css-display-4/#box-generation | not part of the layout}\n   * (example: `display: none`).\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async boundingBox(): Promise<BoundingBox | null> {\n    const box = await this.evaluate(element => {\n      if (!(element instanceof Element)) {\n        return null;\n      }\n      // Element is not visible.\n      if (element.getClientRects().length === 0) {\n        return null;\n      }\n      const rect = element.getBoundingClientRect();\n      return {x: rect.x, y: rect.y, width: rect.width, height: rect.height};\n    });\n    if (!box) {\n      return null;\n    }\n    const offset = await this.#getTopLeftCornerOfFrame();\n    if (!offset) {\n      return null;\n    }\n    return {\n      x: box.x + offset.x,\n      y: box.y + offset.y,\n      height: box.height,\n      width: box.width,\n    };\n  }\n\n  /**\n   * This method returns boxes of the element,\n   * or `null` if the element is {@link https://drafts.csswg.org/css-display-4/#box-generation | not part of the layout}\n   * (example: `display: none`).\n   *\n   * @remarks\n   *\n   * Boxes are represented as an array of points;\n   * Each Point is an object `{x, y}`. Box points are sorted clock-wise.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async boxModel(): Promise<BoxModel | null> {\n    const model = await this.evaluate(element => {\n      if (!(element instanceof Element)) {\n        return null;\n      }\n      // Element is not visible.\n      if (element.getClientRects().length === 0) {\n        return null;\n      }\n      const rect = element.getBoundingClientRect();\n      const style = window.getComputedStyle(element);\n      const offsets = {\n        padding: {\n          left: parseInt(style.paddingLeft, 10),\n          top: parseInt(style.paddingTop, 10),\n          right: parseInt(style.paddingRight, 10),\n          bottom: parseInt(style.paddingBottom, 10),\n        },\n        margin: {\n          left: -parseInt(style.marginLeft, 10),\n          top: -parseInt(style.marginTop, 10),\n          right: -parseInt(style.marginRight, 10),\n          bottom: -parseInt(style.marginBottom, 10),\n        },\n        border: {\n          left: parseInt(style.borderLeft, 10),\n          top: parseInt(style.borderTop, 10),\n          right: parseInt(style.borderRight, 10),\n          bottom: parseInt(style.borderBottom, 10),\n        },\n      };\n      const border: Quad = [\n        {x: rect.left, y: rect.top},\n        {x: rect.left + rect.width, y: rect.top},\n        {x: rect.left + rect.width, y: rect.top + rect.bottom},\n        {x: rect.left, y: rect.top + rect.bottom},\n      ];\n      const padding = transformQuadWithOffsets(border, offsets.border);\n      const content = transformQuadWithOffsets(padding, offsets.padding);\n      const margin = transformQuadWithOffsets(border, offsets.margin);\n      return {\n        content,\n        padding,\n        border,\n        margin,\n        width: rect.width,\n        height: rect.height,\n      };\n\n      function transformQuadWithOffsets(\n        quad: Quad,\n        offsets: {top: number; left: number; right: number; bottom: number}\n      ): Quad {\n        return [\n          {\n            x: quad[0].x + offsets.left,\n            y: quad[0].y + offsets.top,\n          },\n          {\n            x: quad[1].x - offsets.right,\n            y: quad[1].y + offsets.top,\n          },\n          {\n            x: quad[2].x - offsets.right,\n            y: quad[2].y - offsets.bottom,\n          },\n          {\n            x: quad[3].x + offsets.left,\n            y: quad[3].y - offsets.bottom,\n          },\n        ];\n      }\n    });\n    if (!model) {\n      return null;\n    }\n    const offset = await this.#getTopLeftCornerOfFrame();\n    if (!offset) {\n      return null;\n    }\n    for (const attribute of [\n      'content',\n      'padding',\n      'border',\n      'margin',\n    ] as const) {\n      for (const point of model[attribute]) {\n        point.x += offset.x;\n        point.y += offset.y;\n      }\n    }\n    return model;\n  }\n\n  async #getTopLeftCornerOfFrame() {\n    const point = {x: 0, y: 0};\n    let frame = this.frame;\n    let parentFrame: Frame | null | undefined;\n    while ((parentFrame = frame?.parentFrame())) {\n      using handle = await frame.frameElement();\n      if (!handle) {\n        throw new Error('Unsupported frame type');\n      }\n      const parentBox = await handle.evaluate(element => {\n        // Element is not visible.\n        if (element.getClientRects().length === 0) {\n          return null;\n        }\n        const rect = element.getBoundingClientRect();\n        const style = window.getComputedStyle(element);\n        return {\n          left:\n            rect.left +\n            parseInt(style.paddingLeft, 10) +\n            parseInt(style.borderLeftWidth, 10),\n          top:\n            rect.top +\n            parseInt(style.paddingTop, 10) +\n            parseInt(style.borderTopWidth, 10),\n        };\n      });\n      if (!parentBox) {\n        return null;\n      }\n      point.x += parentBox.left;\n      point.y += parentBox.top;\n      frame = parentFrame;\n    }\n    return point;\n  }\n\n  /**\n   * This method scrolls element into view if needed, and then uses\n   * {@link Page.(screenshot:2) } to take a screenshot of the element.\n   * If the element is detached from DOM, the method throws an error.\n   */\n  async screenshot(\n    options: Readonly<ScreenshotOptions> & {encoding: 'base64'}\n  ): Promise<string>;\n  async screenshot(options?: Readonly<ScreenshotOptions>): Promise<Buffer>;\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async screenshot(\n    this: ElementHandle<Element>,\n    options: Readonly<ElementScreenshotOptions> = {}\n  ): Promise<string | Buffer> {\n    const {scrollIntoView = true, clip} = options;\n\n    const page = this.frame.page();\n\n    // Only scroll the element into view if the user wants it.\n    if (scrollIntoView) {\n      await this.scrollIntoViewIfNeeded();\n    }\n    const elementClip = await this.#nonEmptyVisibleBoundingBox();\n\n    const [pageLeft, pageTop] = await this.evaluate(() => {\n      if (!window.visualViewport) {\n        throw new Error('window.visualViewport is not supported.');\n      }\n      return [\n        window.visualViewport.pageLeft,\n        window.visualViewport.pageTop,\n      ] as const;\n    });\n    elementClip.x += pageLeft;\n    elementClip.y += pageTop;\n    if (clip) {\n      elementClip.x += clip.x;\n      elementClip.y += clip.y;\n      elementClip.height = clip.height;\n      elementClip.width = clip.width;\n    }\n\n    return await page.screenshot({...options, clip: elementClip});\n  }\n\n  async #nonEmptyVisibleBoundingBox() {\n    const box = await this.boundingBox();\n    assert(box, 'Node is either not visible or not an HTMLElement');\n    assert(box.width !== 0, 'Node has 0 width.');\n    assert(box.height !== 0, 'Node has 0 height.');\n    return box;\n  }\n\n  /**\n   * @internal\n   */\n  protected async assertConnectedElement(): Promise<void> {\n    const error = await this.evaluate(async element => {\n      if (!element.isConnected) {\n        return 'Node is detached from document';\n      }\n      if (element.nodeType !== Node.ELEMENT_NODE) {\n        return 'Node is not of type HTMLElement';\n      }\n      return;\n    });\n\n    if (error) {\n      throw new Error(error);\n    }\n  }\n\n  /**\n   * @internal\n   */\n  protected async scrollIntoViewIfNeeded(\n    this: ElementHandle<Element>\n  ): Promise<void> {\n    if (\n      await this.isIntersectingViewport({\n        threshold: 1,\n      })\n    ) {\n      return;\n    }\n    await this.scrollIntoView();\n  }\n\n  /**\n   * Resolves to true if the element is visible in the current viewport. If an\n   * element is an SVG, we check if the svg owner element is in the viewport\n   * instead. See https://crbug.com/963246.\n   *\n   * @param options - Threshold for the intersection between 0 (no intersection) and 1\n   * (full intersection). Defaults to 1.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async isIntersectingViewport(\n    this: ElementHandle<Element>,\n    options: {\n      threshold?: number;\n    } = {}\n  ): Promise<boolean> {\n    await this.assertConnectedElement();\n    // eslint-disable-next-line rulesdir/use-using -- Returns `this`.\n    const handle = await this.#asSVGElementHandle();\n    using target = handle && (await handle.#getOwnerSVGElement());\n    return await ((target ?? this) as ElementHandle<Element>).evaluate(\n      async (element, threshold) => {\n        const visibleRatio = await new Promise<number>(resolve => {\n          const observer = new IntersectionObserver(entries => {\n            resolve(entries[0]!.intersectionRatio);\n            observer.disconnect();\n          });\n          observer.observe(element);\n        });\n        return threshold === 1 ? visibleRatio === 1 : visibleRatio > threshold;\n      },\n      options.threshold ?? 0\n    );\n  }\n\n  /**\n   * Scrolls the element into view using either the automation protocol client\n   * or by calling element.scrollIntoView.\n   */\n  @throwIfDisposed()\n  @ElementHandle.bindIsolatedHandle\n  async scrollIntoView(this: ElementHandle<Element>): Promise<void> {\n    await this.assertConnectedElement();\n    await this.evaluate(async (element): Promise<void> => {\n      element.scrollIntoView({\n        block: 'center',\n        inline: 'center',\n        behavior: 'instant',\n      });\n    });\n  }\n\n  /**\n   * Returns true if an element is an SVGElement (included svg, path, rect\n   * etc.).\n   */\n  async #asSVGElementHandle(\n    this: ElementHandle<Element>\n  ): Promise<ElementHandle<SVGElement> | null> {\n    if (\n      await this.evaluate(element => {\n        return element instanceof SVGElement;\n      })\n    ) {\n      return this as ElementHandle<SVGElement>;\n    } else {\n      return null;\n    }\n  }\n\n  async #getOwnerSVGElement(\n    this: ElementHandle<SVGElement>\n  ): Promise<ElementHandle<SVGSVGElement>> {\n    // SVGSVGElement.ownerSVGElement === null.\n    return await this.evaluateHandle(element => {\n      if (element instanceof SVGSVGElement) {\n        return element;\n      }\n      return element.ownerSVGElement!;\n    });\n  }\n\n  /**\n   * If the element is a form input, you can use {@link ElementHandle.autofill}\n   * to test if the form is compatible with the browser's autofill\n   * implementation. Throws an error if the form cannot be autofilled.\n   *\n   * @remarks\n   *\n   * Currently, Puppeteer supports auto-filling credit card information only and\n   * in Chrome in the new headless and headful modes only.\n   *\n   * ```ts\n   * // Select an input on the credit card form.\n   * const name = await page.waitForSelector('form #name');\n   * // Trigger autofill with the desired data.\n   * await name.autofill({\n   *   creditCard: {\n   *     number: '4444444444444444',\n   *     name: 'John Smith',\n   *     expiryMonth: '01',\n   *     expiryYear: '2030',\n   *     cvc: '123',\n   *   },\n   * });\n   * ```\n   */\n  abstract autofill(data: AutofillData): Promise<void>;\n}\n\n/**\n * @public\n */\nexport interface AutofillData {\n  creditCard: {\n    // See https://chromedevtools.github.io/devtools-protocol/tot/Autofill/#type-CreditCard.\n    number: string;\n    name: string;\n    expiryMonth: string;\n    expiryYear: string;\n    cvc: string;\n  };\n}\n\nfunction intersectBoundingBox(\n  box: BoundingBox,\n  width: number,\n  height: number\n): void {\n  box.width = Math.max(\n    box.x >= 0\n      ? Math.min(width - box.x, box.width)\n      : Math.min(width, box.width + box.x),\n    0\n  );\n  box.height = Math.max(\n    box.y >= 0\n      ? Math.min(height - box.y, box.height)\n      : Math.min(height, box.height + box.y),\n    0\n  );\n}\n", "/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {JSHandle} from '../api/JSHandle.js';\nimport {debugError} from '../common/util.js';\n\nimport type {CdpElementHandle} from './ElementHandle.js';\nimport type {IsolatedWorld} from './IsolatedWorld.js';\nimport {valueFromRemoteObject} from './utils.js';\n\n/**\n * @internal\n */\nexport class CdpJSHandle<T = unknown> extends JSHandle<T> {\n  #disposed = false;\n  readonly #remoteObject: Protocol.Runtime.RemoteObject;\n  readonly #world: IsolatedWorld;\n\n  constructor(\n    world: IsolatedWorld,\n    remoteObject: Protocol.Runtime.RemoteObject\n  ) {\n    super();\n    this.#world = world;\n    this.#remoteObject = remoteObject;\n  }\n\n  override get disposed(): boolean {\n    return this.#disposed;\n  }\n\n  override get realm(): IsolatedWorld {\n    return this.#world;\n  }\n\n  get client(): CDPSession {\n    return this.realm.environment.client;\n  }\n\n  override async jsonValue(): Promise<T> {\n    if (!this.#remoteObject.objectId) {\n      return valueFromRemoteObject(this.#remoteObject);\n    }\n    const value = await this.evaluate(object => {\n      return object;\n    });\n    if (value === undefined) {\n      throw new Error('Could not serialize referenced object');\n    }\n    return value;\n  }\n\n  /**\n   * Either `null` or the handle itself if the handle is an\n   * instance of {@link ElementHandle}.\n   */\n  override asElement(): CdpElementHandle<Node> | null {\n    return null;\n  }\n\n  override async dispose(): Promise<void> {\n    if (this.#disposed) {\n      return;\n    }\n    this.#disposed = true;\n    await releaseObject(this.client, this.#remoteObject);\n  }\n\n  override toString(): string {\n    if (!this.#remoteObject.objectId) {\n      return 'JSHandle:' + valueFromRemoteObject(this.#remoteObject);\n    }\n    const type = this.#remoteObject.subtype || this.#remoteObject.type;\n    return 'JSHandle@' + type;\n  }\n\n  override get id(): string | undefined {\n    return this.#remoteObject.objectId;\n  }\n\n  override remoteObject(): Protocol.Runtime.RemoteObject {\n    return this.#remoteObject;\n  }\n\n  override async getProperties(): Promise<Map<string, JSHandle<unknown>>> {\n    // We use Runtime.getProperties rather than iterative version for\n    // improved performance as it allows getting everything at once.\n    const response = await this.client.send('Runtime.getProperties', {\n      objectId: this.#remoteObject.objectId!,\n      ownProperties: true,\n    });\n    const result = new Map<string, JSHandle>();\n    for (const property of response.result) {\n      if (!property.enumerable || !property.value) {\n        continue;\n      }\n      result.set(property.name, this.#world.createCdpHandle(property.value));\n    }\n    return result;\n  }\n}\n\n/**\n * @internal\n */\nexport async function releaseObject(\n  client: CDPSession,\n  remoteObject: Protocol.Runtime.RemoteObject\n): Promise<void> {\n  if (!remoteObject.objectId) {\n    return;\n  }\n  await client\n    .send('Runtime.releaseObject', {objectId: remoteObject.objectId})\n    .catch(error => {\n      // Exceptions might happen in case of a page been navigated or closed.\n      // Swallow these since they are harmless and we don't leak anything in this case.\n      debugError(error);\n    });\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {PuppeteerURL, evaluationString} from '../common/util.js';\nimport {assert} from '../util/assert.js';\n\n/**\n * @internal\n */\nexport function createEvaluationError(\n  details: Protocol.Runtime.ExceptionDetails\n): unknown {\n  let name: string;\n  let message: string;\n  if (!details.exception) {\n    name = 'Error';\n    message = details.text;\n  } else if (\n    (details.exception.type !== 'object' ||\n      details.exception.subtype !== 'error') &&\n    !details.exception.objectId\n  ) {\n    return valueFromRemoteObject(details.exception);\n  } else {\n    const detail = getErrorDetails(details);\n    name = detail.name;\n    message = detail.message;\n  }\n  const messageHeight = message.split('\\n').length;\n  const error = new Error(message);\n  error.name = name;\n  const stackLines = error.stack!.split('\\n');\n  const messageLines = stackLines.splice(0, messageHeight);\n\n  // The first line is this function which we ignore.\n  stackLines.shift();\n  if (details.stackTrace && stackLines.length < Error.stackTraceLimit) {\n    for (const frame of details.stackTrace.callFrames.reverse()) {\n      if (\n        PuppeteerURL.isPuppeteerURL(frame.url) &&\n        frame.url !== PuppeteerURL.INTERNAL_URL\n      ) {\n        const url = PuppeteerURL.parse(frame.url);\n        stackLines.unshift(\n          `    at ${frame.functionName || url.functionName} (${\n            url.functionName\n          } at ${url.siteString}, <anonymous>:${frame.lineNumber}:${\n            frame.columnNumber\n          })`\n        );\n      } else {\n        stackLines.push(\n          `    at ${frame.functionName || '<anonymous>'} (${frame.url}:${\n            frame.lineNumber\n          }:${frame.columnNumber})`\n        );\n      }\n      if (stackLines.length >= Error.stackTraceLimit) {\n        break;\n      }\n    }\n  }\n\n  error.stack = [...messageLines, ...stackLines].join('\\n');\n  return error;\n}\n\nconst getErrorDetails = (details: Protocol.Runtime.ExceptionDetails) => {\n  let name = '';\n  let message: string;\n  const lines = details.exception?.description?.split('\\n    at ') ?? [];\n  const size = Math.min(\n    details.stackTrace?.callFrames.length ?? 0,\n    lines.length - 1\n  );\n  lines.splice(-size, size);\n  if (details.exception?.className) {\n    name = details.exception.className;\n  }\n  message = lines.join('\\n');\n  if (name && message.startsWith(`${name}: `)) {\n    message = message.slice(name.length + 2);\n  }\n  return {message, name};\n};\n\n/**\n * @internal\n */\nexport function createClientError(\n  details: Protocol.Runtime.ExceptionDetails\n): Error {\n  let name: string;\n  let message: string;\n  if (!details.exception) {\n    name = 'Error';\n    message = details.text;\n  } else if (\n    (details.exception.type !== 'object' ||\n      details.exception.subtype !== 'error') &&\n    !details.exception.objectId\n  ) {\n    return valueFromRemoteObject(details.exception);\n  } else {\n    const detail = getErrorDetails(details);\n    name = detail.name;\n    message = detail.message;\n  }\n  const error = new Error(message);\n  error.name = name;\n\n  const messageHeight = error.message.split('\\n').length;\n  const messageLines = error.stack!.split('\\n').splice(0, messageHeight);\n\n  const stackLines = [];\n  if (details.stackTrace) {\n    for (const frame of details.stackTrace.callFrames) {\n      // Note we need to add `1` because the values are 0-indexed.\n      stackLines.push(\n        `    at ${frame.functionName || '<anonymous>'} (${frame.url}:${\n          frame.lineNumber + 1\n        }:${frame.columnNumber + 1})`\n      );\n      if (stackLines.length >= Error.stackTraceLimit) {\n        break;\n      }\n    }\n  }\n\n  error.stack = [...messageLines, ...stackLines].join('\\n');\n  return error;\n}\n\n/**\n * @internal\n */\nexport function valueFromRemoteObject(\n  remoteObject: Protocol.Runtime.RemoteObject\n): any {\n  assert(!remoteObject.objectId, 'Cannot extract value when objectId is given');\n  if (remoteObject.unserializableValue) {\n    if (remoteObject.type === 'bigint') {\n      return BigInt(remoteObject.unserializableValue.replace('n', ''));\n    }\n    switch (remoteObject.unserializableValue) {\n      case '-0':\n        return -0;\n      case 'NaN':\n        return NaN;\n      case 'Infinity':\n        return Infinity;\n      case '-Infinity':\n        return -Infinity;\n      default:\n        throw new Error(\n          'Unsupported unserializable value: ' +\n            remoteObject.unserializableValue\n        );\n    }\n  }\n  return remoteObject.value;\n}\n\n/**\n * @internal\n */\nexport function addPageBinding(\n  type: string,\n  name: string,\n  prefix: string\n): void {\n  // Depending on the frame loading state either Runtime.evaluate or\n  // Page.addScriptToEvaluateOnNewDocument might succeed. Let's check that we\n  // don't re-wrap Puppeteer's binding.\n  // @ts-expect-error: In a different context.\n  if (globalThis[name]) {\n    return;\n  }\n\n  // We replace the CDP binding with a Puppeteer binding.\n  Object.assign(globalThis, {\n    [name](...args: unknown[]): Promise<unknown> {\n      // This is the Puppeteer binding.\n      // @ts-expect-error: In a different context.\n      const callPuppeteer = globalThis[name];\n      callPuppeteer.args ??= new Map();\n      callPuppeteer.callbacks ??= new Map();\n\n      const seq = (callPuppeteer.lastSeq ?? 0) + 1;\n      callPuppeteer.lastSeq = seq;\n      callPuppeteer.args.set(seq, args);\n\n      // @ts-expect-error: In a different context.\n      // Needs to be the same as CDP_BINDING_PREFIX.\n      globalThis[prefix + name](\n        JSON.stringify({\n          type,\n          name,\n          seq,\n          args,\n          isTrivial: !args.some(value => {\n            return value instanceof Node;\n          }),\n        })\n      );\n\n      return new Promise((resolve, reject) => {\n        callPuppeteer.callbacks.set(seq, {\n          resolve(value: unknown) {\n            callPuppeteer.args.delete(seq);\n            resolve(value);\n          },\n          reject(value?: unknown) {\n            callPuppeteer.args.delete(seq);\n            reject(value);\n          },\n        });\n      });\n    },\n  });\n}\n\n/**\n * @internal\n */\nexport const CDP_BINDING_PREFIX = 'puppeteer_';\n\n/**\n * @internal\n */\nexport function pageBindingInitString(type: string, name: string): string {\n  return evaluationString(addPageBinding, type, name, CDP_BINDING_PREFIX);\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {Frame, FrameEvent, throwIfDetached} from '../api/Frame.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\nimport type {WaitTimeoutOptions} from '../api/Page.js';\nimport {UnsupportedOperation} from '../common/Errors.js';\nimport {debugError} from '../common/util.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {disposeSymbol} from '../util/disposable.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\nimport {Accessibility} from './Accessibility.js';\nimport type {Binding} from './Binding.js';\nimport type {CdpPreloadScript} from './CdpPreloadScript.js';\nimport type {\n  DeviceRequestPrompt,\n  DeviceRequestPromptManager,\n} from './DeviceRequestPrompt.js';\nimport type {FrameManager} from './FrameManager.js';\nimport {FrameManagerEvent} from './FrameManagerEvents.js';\nimport type {IsolatedWorldChart} from './IsolatedWorld.js';\nimport {IsolatedWorld} from './IsolatedWorld.js';\nimport {MAIN_WORLD, PUPPETEER_WORLD} from './IsolatedWorlds.js';\nimport {\n  LifecycleWatcher,\n  type PuppeteerLifeCycleEvent,\n} from './LifecycleWatcher.js';\nimport type {CdpPage} from './Page.js';\nimport {CDP_BINDING_PREFIX} from './utils.js';\n\n/**\n * @internal\n */\nexport class CdpFrame extends Frame {\n  #url = '';\n  #detached = false;\n  #client: CDPSession;\n\n  _frameManager: FrameManager;\n  _loaderId = '';\n  _lifecycleEvents = new Set<string>();\n\n  override _id: string;\n  override _parentId?: string;\n  override accessibility: Accessibility;\n\n  worlds: IsolatedWorldChart;\n\n  constructor(\n    frameManager: FrameManager,\n    frameId: string,\n    parentFrameId: string | undefined,\n    client: CDPSession\n  ) {\n    super();\n    this._frameManager = frameManager;\n    this.#url = '';\n    this._id = frameId;\n    this._parentId = parentFrameId;\n    this.#detached = false;\n    this.#client = client;\n\n    this._loaderId = '';\n    this.worlds = {\n      [MAIN_WORLD]: new IsolatedWorld(this, this._frameManager.timeoutSettings),\n      [PUPPETEER_WORLD]: new IsolatedWorld(\n        this,\n        this._frameManager.timeoutSettings\n      ),\n    };\n\n    this.accessibility = new Accessibility(this.worlds[MAIN_WORLD]);\n\n    this.on(FrameEvent.FrameSwappedByActivation, () => {\n      // Emulate loading process for swapped frames.\n      this._onLoadingStarted();\n      this._onLoadingStopped();\n    });\n\n    this.worlds[MAIN_WORLD].emitter.on(\n      'consoleapicalled',\n      this.#onMainWorldConsoleApiCalled.bind(this)\n    );\n    this.worlds[MAIN_WORLD].emitter.on(\n      'bindingcalled',\n      this.#onMainWorldBindingCalled.bind(this)\n    );\n  }\n\n  #onMainWorldConsoleApiCalled(\n    event: Protocol.Runtime.ConsoleAPICalledEvent\n  ): void {\n    this._frameManager.emit(FrameManagerEvent.ConsoleApiCalled, [\n      this.worlds[MAIN_WORLD],\n      event,\n    ]);\n  }\n\n  #onMainWorldBindingCalled(event: Protocol.Runtime.BindingCalledEvent) {\n    this._frameManager.emit(FrameManagerEvent.BindingCalled, [\n      this.worlds[MAIN_WORLD],\n      event,\n    ]);\n  }\n\n  /**\n   * This is used internally in DevTools.\n   *\n   * @internal\n   */\n  _client(): CDPSession {\n    return this.#client;\n  }\n\n  /**\n   * Updates the frame ID with the new ID. This happens when the main frame is\n   * replaced by a different frame.\n   */\n  updateId(id: string): void {\n    this._id = id;\n  }\n\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  override page(): CdpPage {\n    return this._frameManager.page();\n  }\n\n  override isOOPFrame(): boolean {\n    return this.#client !== this._frameManager.client;\n  }\n\n  @throwIfDetached\n  override async goto(\n    url: string,\n    options: {\n      referer?: string;\n      referrerPolicy?: string;\n      timeout?: number;\n      waitUntil?: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[];\n    } = {}\n  ): Promise<HTTPResponse | null> {\n    const {\n      referer = this._frameManager.networkManager.extraHTTPHeaders()['referer'],\n      referrerPolicy = this._frameManager.networkManager.extraHTTPHeaders()[\n        'referer-policy'\n      ],\n      waitUntil = ['load'],\n      timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n    } = options;\n\n    let ensureNewDocumentNavigation = false;\n    const watcher = new LifecycleWatcher(\n      this._frameManager.networkManager,\n      this,\n      waitUntil,\n      timeout\n    );\n    let error = await Deferred.race([\n      navigate(\n        this.#client,\n        url,\n        referer,\n        referrerPolicy as Protocol.Page.ReferrerPolicy,\n        this._id\n      ),\n      watcher.terminationPromise(),\n    ]);\n    if (!error) {\n      error = await Deferred.race([\n        watcher.terminationPromise(),\n        ensureNewDocumentNavigation\n          ? watcher.newDocumentNavigationPromise()\n          : watcher.sameDocumentNavigationPromise(),\n      ]);\n    }\n\n    try {\n      if (error) {\n        throw error;\n      }\n      return await watcher.navigationResponse();\n    } finally {\n      watcher.dispose();\n    }\n\n    async function navigate(\n      client: CDPSession,\n      url: string,\n      referrer: string | undefined,\n      referrerPolicy: Protocol.Page.ReferrerPolicy | undefined,\n      frameId: string\n    ): Promise<Error | null> {\n      try {\n        const response = await client.send('Page.navigate', {\n          url,\n          referrer,\n          frameId,\n          referrerPolicy,\n        });\n        ensureNewDocumentNavigation = !!response.loaderId;\n        if (response.errorText === 'net::ERR_HTTP_RESPONSE_CODE_FAILURE') {\n          return null;\n        }\n        return response.errorText\n          ? new Error(`${response.errorText} at ${url}`)\n          : null;\n      } catch (error) {\n        if (isErrorLike(error)) {\n          return error;\n        }\n        throw error;\n      }\n    }\n  }\n\n  @throwIfDetached\n  override async waitForNavigation(\n    options: {\n      timeout?: number;\n      waitUntil?: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[];\n      ignoreSameDocumentNavigation?: boolean;\n    } = {}\n  ): Promise<HTTPResponse | null> {\n    const {\n      waitUntil = ['load'],\n      timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n    } = options;\n    const watcher = new LifecycleWatcher(\n      this._frameManager.networkManager,\n      this,\n      waitUntil,\n      timeout\n    );\n    const error = await Deferred.race([\n      watcher.terminationPromise(),\n      ...(options.ignoreSameDocumentNavigation\n        ? []\n        : [watcher.sameDocumentNavigationPromise()]),\n      watcher.newDocumentNavigationPromise(),\n    ]);\n    try {\n      if (error) {\n        throw error;\n      }\n      const result = await Deferred.race<\n        Error | HTTPResponse | null | undefined\n      >([watcher.terminationPromise(), watcher.navigationResponse()]);\n      if (result instanceof Error) {\n        throw error;\n      }\n      return result || null;\n    } finally {\n      watcher.dispose();\n    }\n  }\n\n  override get client(): CDPSession {\n    return this.#client;\n  }\n\n  override mainRealm(): IsolatedWorld {\n    return this.worlds[MAIN_WORLD];\n  }\n\n  override isolatedRealm(): IsolatedWorld {\n    return this.worlds[PUPPETEER_WORLD];\n  }\n\n  @throwIfDetached\n  override async setContent(\n    html: string,\n    options: {\n      timeout?: number;\n      waitUntil?: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[];\n    } = {}\n  ): Promise<void> {\n    const {\n      waitUntil = ['load'],\n      timeout = this._frameManager.timeoutSettings.navigationTimeout(),\n    } = options;\n\n    // We rely upon the fact that document.open() will reset frame lifecycle with \"init\"\n    // lifecycle event. @see https://crrev.com/608658\n    await this.setFrameContent(html);\n\n    const watcher = new LifecycleWatcher(\n      this._frameManager.networkManager,\n      this,\n      waitUntil,\n      timeout\n    );\n    const error = await Deferred.race<void | Error | undefined>([\n      watcher.terminationPromise(),\n      watcher.lifecyclePromise(),\n    ]);\n    watcher.dispose();\n    if (error) {\n      throw error;\n    }\n  }\n\n  override url(): string {\n    return this.#url;\n  }\n\n  override parentFrame(): CdpFrame | null {\n    return this._frameManager._frameTree.parentFrame(this._id) || null;\n  }\n\n  override childFrames(): CdpFrame[] {\n    return this._frameManager._frameTree.childFrames(this._id);\n  }\n\n  #deviceRequestPromptManager(): DeviceRequestPromptManager {\n    const rootFrame = this.page().mainFrame();\n    if (this.isOOPFrame() || rootFrame === null) {\n      return this._frameManager._deviceRequestPromptManager(this.#client);\n    } else {\n      return rootFrame._frameManager._deviceRequestPromptManager(this.#client);\n    }\n  }\n\n  @throwIfDetached\n  async addPreloadScript(preloadScript: CdpPreloadScript): Promise<void> {\n    if (!this.isOOPFrame() && this !== this._frameManager.mainFrame()) {\n      return;\n    }\n    if (preloadScript.getIdForFrame(this)) {\n      return;\n    }\n    const {identifier} = await this.#client.send(\n      'Page.addScriptToEvaluateOnNewDocument',\n      {\n        source: preloadScript.source,\n      }\n    );\n    preloadScript.setIdForFrame(this, identifier);\n  }\n\n  @throwIfDetached\n  async addExposedFunctionBinding(binding: Binding): Promise<void> {\n    // If a frame has not started loading, it might never start. Rely on\n    // addScriptToEvaluateOnNewDocument in that case.\n    if (this !== this._frameManager.mainFrame() && !this._hasStartedLoading) {\n      return;\n    }\n    await Promise.all([\n      this.#client.send('Runtime.addBinding', {\n        name: CDP_BINDING_PREFIX + binding.name,\n      }),\n      this.evaluate(binding.initSource).catch(debugError),\n    ]);\n  }\n\n  @throwIfDetached\n  async removeExposedFunctionBinding(binding: Binding): Promise<void> {\n    // If a frame has not started loading, it might never start. Rely on\n    // addScriptToEvaluateOnNewDocument in that case.\n    if (this !== this._frameManager.mainFrame() && !this._hasStartedLoading) {\n      return;\n    }\n    await Promise.all([\n      this.#client.send('Runtime.removeBinding', {\n        name: CDP_BINDING_PREFIX + binding.name,\n      }),\n      this.evaluate(name => {\n        // Removes the dangling Puppeteer binding wrapper.\n        // @ts-expect-error: In a different context.\n        globalThis[name] = undefined;\n      }, binding.name).catch(debugError),\n    ]);\n  }\n\n  @throwIfDetached\n  override async waitForDevicePrompt(\n    options: WaitTimeoutOptions = {}\n  ): Promise<DeviceRequestPrompt> {\n    return await this.#deviceRequestPromptManager().waitForDevicePrompt(\n      options\n    );\n  }\n\n  _navigated(framePayload: Protocol.Page.Frame): void {\n    this._name = framePayload.name;\n    this.#url = `${framePayload.url}${framePayload.urlFragment || ''}`;\n  }\n\n  _navigatedWithinDocument(url: string): void {\n    this.#url = url;\n  }\n\n  _onLifecycleEvent(loaderId: string, name: string): void {\n    if (name === 'init') {\n      this._loaderId = loaderId;\n      this._lifecycleEvents.clear();\n    }\n    this._lifecycleEvents.add(name);\n  }\n\n  _onLoadingStopped(): void {\n    this._lifecycleEvents.add('DOMContentLoaded');\n    this._lifecycleEvents.add('load');\n  }\n\n  _onLoadingStarted(): void {\n    this._hasStartedLoading = true;\n  }\n\n  override get detached(): boolean {\n    return this.#detached;\n  }\n\n  [disposeSymbol](): void {\n    if (this.#detached) {\n      return;\n    }\n    this.#detached = true;\n    this.worlds[MAIN_WORLD][disposeSymbol]();\n    this.worlds[PUPPETEER_WORLD][disposeSymbol]();\n  }\n\n  exposeFunction(): never {\n    throw new UnsupportedOperation();\n  }\n}\n", "/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport type {Realm} from '../api/Realm.js';\n\n/**\n * Represents a Node and the properties of it that are relevant to Accessibility.\n * @public\n */\nexport interface SerializedAXNode {\n  /**\n   * The {@link https://www.w3.org/TR/wai-aria/#usage_intro | role} of the node.\n   */\n  role: string;\n  /**\n   * A human readable name for the node.\n   */\n  name?: string;\n  /**\n   * The current value of the node.\n   */\n  value?: string | number;\n  /**\n   * An additional human readable description of the node.\n   */\n  description?: string;\n  /**\n   * Any keyboard shortcuts associated with this node.\n   */\n  keyshortcuts?: string;\n  /**\n   * A human readable alternative to the role.\n   */\n  roledescription?: string;\n  /**\n   * A description of the current value.\n   */\n  valuetext?: string;\n  disabled?: boolean;\n  expanded?: boolean;\n  focused?: boolean;\n  modal?: boolean;\n  multiline?: boolean;\n  /**\n   * Whether more than one child can be selected.\n   */\n  multiselectable?: boolean;\n  readonly?: boolean;\n  required?: boolean;\n  selected?: boolean;\n  /**\n   * Whether the checkbox is checked, or in a\n   * {@link https://www.w3.org/TR/wai-aria-practices/examples/checkbox/checkbox-2/checkbox-2.html | mixed state}.\n   */\n  checked?: boolean | 'mixed';\n  /**\n   * Whether the node is checked or in a mixed state.\n   */\n  pressed?: boolean | 'mixed';\n  /**\n   * The level of a heading.\n   */\n  level?: number;\n  valuemin?: number;\n  valuemax?: number;\n  autocomplete?: string;\n  haspopup?: string;\n  /**\n   * Whether and in what way this node's value is invalid.\n   */\n  invalid?: string;\n  orientation?: string;\n  /**\n   * Children of this node, if there are any.\n   */\n  children?: SerializedAXNode[];\n\n  /**\n   * Get an ElementHandle for this AXNode if available.\n   *\n   * If the underlying DOM element has been disposed, the method might return an\n   * error.\n   */\n  elementHandle(): Promise<ElementHandle | null>;\n}\n\n/**\n * @public\n */\nexport interface SnapshotOptions {\n  /**\n   * Prune uninteresting nodes from the tree.\n   * @defaultValue `true`\n   */\n  interestingOnly?: boolean;\n  /**\n   * Root node to get the accessibility tree for\n   * @defaultValue The root node of the entire page.\n   */\n  root?: ElementHandle<Node>;\n}\n\n/**\n * The Accessibility class provides methods for inspecting the browser's\n * accessibility tree. The accessibility tree is used by assistive technology\n * such as {@link https://en.wikipedia.org/wiki/Screen_reader | screen readers} or\n * {@link https://en.wikipedia.org/wiki/Switch_access | switches}.\n *\n * @remarks\n *\n * Accessibility is a very platform-specific thing. On different platforms,\n * there are different screen readers that might have wildly different output.\n *\n * Blink - Chrome's rendering engine - has a concept of \"accessibility tree\",\n * which is then translated into different platform-specific APIs. Accessibility\n * namespace gives users access to the Blink Accessibility Tree.\n *\n * Most of the accessibility tree gets filtered out when converting from Blink\n * AX Tree to Platform-specific AX-Tree or by assistive technologies themselves.\n * By default, Puppeteer tries to approximate this filtering, exposing only\n * the \"interesting\" nodes of the tree.\n *\n * @public\n */\nexport class Accessibility {\n  #realm: Realm;\n\n  /**\n   * @internal\n   */\n  constructor(realm: Realm) {\n    this.#realm = realm;\n  }\n\n  /**\n   * Captures the current state of the accessibility tree.\n   * The returned object represents the root accessible node of the page.\n   *\n   * @remarks\n   *\n   * **NOTE** The Chrome accessibility tree contains nodes that go unused on\n   * most platforms and by most screen readers. Puppeteer will discard them as\n   * well for an easier to process tree, unless `interestingOnly` is set to\n   * `false`.\n   *\n   * @example\n   * An example of dumping the entire accessibility tree:\n   *\n   * ```ts\n   * const snapshot = await page.accessibility.snapshot();\n   * console.log(snapshot);\n   * ```\n   *\n   * @example\n   * An example of logging the focused node's name:\n   *\n   * ```ts\n   * const snapshot = await page.accessibility.snapshot();\n   * const node = findFocusedNode(snapshot);\n   * console.log(node && node.name);\n   *\n   * function findFocusedNode(node) {\n   *   if (node.focused) return node;\n   *   for (const child of node.children || []) {\n   *     const foundNode = findFocusedNode(child);\n   *     return foundNode;\n   *   }\n   *   return null;\n   * }\n   * ```\n   *\n   * @returns An AXNode object representing the snapshot.\n   */\n  public async snapshot(\n    options: SnapshotOptions = {}\n  ): Promise<SerializedAXNode | null> {\n    const {interestingOnly = true, root = null} = options;\n    const {nodes} = await this.#realm.environment.client.send(\n      'Accessibility.getFullAXTree'\n    );\n    let backendNodeId: number | undefined;\n    if (root) {\n      const {node} = await this.#realm.environment.client.send(\n        'DOM.describeNode',\n        {\n          objectId: root.id,\n        }\n      );\n      backendNodeId = node.backendNodeId;\n    }\n    const defaultRoot = AXNode.createTree(this.#realm, nodes);\n    let needle: AXNode | null = defaultRoot;\n    if (backendNodeId) {\n      needle = defaultRoot.find(node => {\n        return node.payload.backendDOMNodeId === backendNodeId;\n      });\n      if (!needle) {\n        return null;\n      }\n    }\n    if (!interestingOnly) {\n      return this.serializeTree(needle)[0] ?? null;\n    }\n\n    const interestingNodes = new Set<AXNode>();\n    this.collectInterestingNodes(interestingNodes, defaultRoot, false);\n    if (!interestingNodes.has(needle)) {\n      return null;\n    }\n    return this.serializeTree(needle, interestingNodes)[0] ?? null;\n  }\n\n  private serializeTree(\n    node: AXNode,\n    interestingNodes?: Set<AXNode>\n  ): SerializedAXNode[] {\n    const children: SerializedAXNode[] = [];\n    for (const child of node.children) {\n      children.push(...this.serializeTree(child, interestingNodes));\n    }\n\n    if (interestingNodes && !interestingNodes.has(node)) {\n      return children;\n    }\n\n    const serializedNode = node.serialize();\n    if (children.length) {\n      serializedNode.children = children;\n    }\n    return [serializedNode];\n  }\n\n  private collectInterestingNodes(\n    collection: Set<AXNode>,\n    node: AXNode,\n    insideControl: boolean\n  ): void {\n    if (node.isInteresting(insideControl)) {\n      collection.add(node);\n    }\n    if (node.isLeafNode()) {\n      return;\n    }\n    insideControl = insideControl || node.isControl();\n    for (const child of node.children) {\n      this.collectInterestingNodes(collection, child, insideControl);\n    }\n  }\n}\n\nclass AXNode {\n  public payload: Protocol.Accessibility.AXNode;\n  public children: AXNode[] = [];\n\n  #richlyEditable = false;\n  #editable = false;\n  #focusable = false;\n  #hidden = false;\n  #name: string;\n  #role: string;\n  #ignored: boolean;\n  #cachedHasFocusableChild?: boolean;\n  #realm: Realm;\n\n  constructor(realm: Realm, payload: Protocol.Accessibility.AXNode) {\n    this.payload = payload;\n    this.#name = this.payload.name ? this.payload.name.value : '';\n    this.#role = this.payload.role ? this.payload.role.value : 'Unknown';\n    this.#ignored = this.payload.ignored;\n    this.#realm = realm;\n    for (const property of this.payload.properties || []) {\n      if (property.name === 'editable') {\n        this.#richlyEditable = property.value.value === 'richtext';\n        this.#editable = true;\n      }\n      if (property.name === 'focusable') {\n        this.#focusable = property.value.value;\n      }\n      if (property.name === 'hidden') {\n        this.#hidden = property.value.value;\n      }\n    }\n  }\n\n  #isPlainTextField(): boolean {\n    if (this.#richlyEditable) {\n      return false;\n    }\n    if (this.#editable) {\n      return true;\n    }\n    return this.#role === 'textbox' || this.#role === 'searchbox';\n  }\n\n  #isTextOnlyObject(): boolean {\n    const role = this.#role;\n    return (\n      role === 'LineBreak' ||\n      role === 'text' ||\n      role === 'InlineTextBox' ||\n      role === 'StaticText'\n    );\n  }\n\n  #hasFocusableChild(): boolean {\n    if (this.#cachedHasFocusableChild === undefined) {\n      this.#cachedHasFocusableChild = false;\n      for (const child of this.children) {\n        if (child.#focusable || child.#hasFocusableChild()) {\n          this.#cachedHasFocusableChild = true;\n          break;\n        }\n      }\n    }\n    return this.#cachedHasFocusableChild;\n  }\n\n  public find(predicate: (x: AXNode) => boolean): AXNode | null {\n    if (predicate(this)) {\n      return this;\n    }\n    for (const child of this.children) {\n      const result = child.find(predicate);\n      if (result) {\n        return result;\n      }\n    }\n    return null;\n  }\n\n  public isLeafNode(): boolean {\n    if (!this.children.length) {\n      return true;\n    }\n\n    // These types of objects may have children that we use as internal\n    // implementation details, but we want to expose them as leaves to platform\n    // accessibility APIs because screen readers might be confused if they find\n    // any children.\n    if (this.#isPlainTextField() || this.#isTextOnlyObject()) {\n      return true;\n    }\n\n    // Roles whose children are only presentational according to the ARIA and\n    // HTML5 Specs should be hidden from screen readers.\n    // (Note that whilst ARIA buttons can have only presentational children, HTML5\n    // buttons are allowed to have content.)\n    switch (this.#role) {\n      case 'doc-cover':\n      case 'graphics-symbol':\n      case 'img':\n      case 'image':\n      case 'Meter':\n      case 'scrollbar':\n      case 'slider':\n      case 'separator':\n      case 'progressbar':\n        return true;\n      default:\n        break;\n    }\n\n    // Here and below: Android heuristics\n    if (this.#hasFocusableChild()) {\n      return false;\n    }\n    if (this.#focusable && this.#name) {\n      return true;\n    }\n    if (this.#role === 'heading' && this.#name) {\n      return true;\n    }\n    return false;\n  }\n\n  public isControl(): boolean {\n    switch (this.#role) {\n      case 'button':\n      case 'checkbox':\n      case 'ColorWell':\n      case 'combobox':\n      case 'DisclosureTriangle':\n      case 'listbox':\n      case 'menu':\n      case 'menubar':\n      case 'menuitem':\n      case 'menuitemcheckbox':\n      case 'menuitemradio':\n      case 'radio':\n      case 'scrollbar':\n      case 'searchbox':\n      case 'slider':\n      case 'spinbutton':\n      case 'switch':\n      case 'tab':\n      case 'textbox':\n      case 'tree':\n      case 'treeitem':\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  public isInteresting(insideControl: boolean): boolean {\n    const role = this.#role;\n    if (role === 'Ignored' || this.#hidden || this.#ignored) {\n      return false;\n    }\n\n    if (this.#focusable || this.#richlyEditable) {\n      return true;\n    }\n\n    // If it's not focusable but has a control role, then it's interesting.\n    if (this.isControl()) {\n      return true;\n    }\n\n    // A non focusable child of a control is not interesting\n    if (insideControl) {\n      return false;\n    }\n\n    return this.isLeafNode() && !!this.#name;\n  }\n\n  public serialize(): SerializedAXNode {\n    const properties = new Map<string, number | string | boolean>();\n    for (const property of this.payload.properties || []) {\n      properties.set(property.name.toLowerCase(), property.value.value);\n    }\n    if (this.payload.name) {\n      properties.set('name', this.payload.name.value);\n    }\n    if (this.payload.value) {\n      properties.set('value', this.payload.value.value);\n    }\n    if (this.payload.description) {\n      properties.set('description', this.payload.description.value);\n    }\n\n    const node: SerializedAXNode = {\n      role: this.#role,\n      elementHandle: async (): Promise<ElementHandle | null> => {\n        if (!this.payload.backendDOMNodeId) {\n          return null;\n        }\n        return (await this.#realm.adoptBackendNode(\n          this.payload.backendDOMNodeId\n        )) as ElementHandle<Element>;\n      },\n    };\n\n    type UserStringProperty =\n      | 'name'\n      | 'value'\n      | 'description'\n      | 'keyshortcuts'\n      | 'roledescription'\n      | 'valuetext';\n\n    const userStringProperties: UserStringProperty[] = [\n      'name',\n      'value',\n      'description',\n      'keyshortcuts',\n      'roledescription',\n      'valuetext',\n    ];\n    const getUserStringPropertyValue = (key: UserStringProperty): string => {\n      return properties.get(key) as string;\n    };\n\n    for (const userStringProperty of userStringProperties) {\n      if (!properties.has(userStringProperty)) {\n        continue;\n      }\n\n      node[userStringProperty] = getUserStringPropertyValue(userStringProperty);\n    }\n\n    type BooleanProperty =\n      | 'disabled'\n      | 'expanded'\n      | 'focused'\n      | 'modal'\n      | 'multiline'\n      | 'multiselectable'\n      | 'readonly'\n      | 'required'\n      | 'selected';\n    const booleanProperties: BooleanProperty[] = [\n      'disabled',\n      'expanded',\n      'focused',\n      'modal',\n      'multiline',\n      'multiselectable',\n      'readonly',\n      'required',\n      'selected',\n    ];\n    const getBooleanPropertyValue = (key: BooleanProperty): boolean => {\n      return properties.get(key) as boolean;\n    };\n\n    for (const booleanProperty of booleanProperties) {\n      // RootWebArea's treat focus differently than other nodes. They report whether\n      // their frame  has focus, not whether focus is specifically on the root\n      // node.\n      if (booleanProperty === 'focused' && this.#role === 'RootWebArea') {\n        continue;\n      }\n      const value = getBooleanPropertyValue(booleanProperty);\n      if (!value) {\n        continue;\n      }\n      node[booleanProperty] = getBooleanPropertyValue(booleanProperty);\n    }\n\n    type TristateProperty = 'checked' | 'pressed';\n    const tristateProperties: TristateProperty[] = ['checked', 'pressed'];\n    for (const tristateProperty of tristateProperties) {\n      if (!properties.has(tristateProperty)) {\n        continue;\n      }\n      const value = properties.get(tristateProperty);\n      node[tristateProperty] =\n        value === 'mixed' ? 'mixed' : value === 'true' ? true : false;\n    }\n\n    type NumbericalProperty = 'level' | 'valuemax' | 'valuemin';\n    const numericalProperties: NumbericalProperty[] = [\n      'level',\n      'valuemax',\n      'valuemin',\n    ];\n    const getNumericalPropertyValue = (key: NumbericalProperty): number => {\n      return properties.get(key) as number;\n    };\n    for (const numericalProperty of numericalProperties) {\n      if (!properties.has(numericalProperty)) {\n        continue;\n      }\n      node[numericalProperty] = getNumericalPropertyValue(numericalProperty);\n    }\n\n    type TokenProperty =\n      | 'autocomplete'\n      | 'haspopup'\n      | 'invalid'\n      | 'orientation';\n    const tokenProperties: TokenProperty[] = [\n      'autocomplete',\n      'haspopup',\n      'invalid',\n      'orientation',\n    ];\n    const getTokenPropertyValue = (key: TokenProperty): string => {\n      return properties.get(key) as string;\n    };\n    for (const tokenProperty of tokenProperties) {\n      const value = getTokenPropertyValue(tokenProperty);\n      if (!value || value === 'false') {\n        continue;\n      }\n      node[tokenProperty] = getTokenPropertyValue(tokenProperty);\n    }\n    return node;\n  }\n\n  public static createTree(\n    realm: Realm,\n    payloads: Protocol.Accessibility.AXNode[]\n  ): AXNode {\n    const nodeById = new Map<string, AXNode>();\n    for (const payload of payloads) {\n      nodeById.set(payload.nodeId, new AXNode(realm, payload));\n    }\n    for (const node of nodeById.values()) {\n      for (const childId of node.payload.childIds || []) {\n        const child = nodeById.get(childId);\n        if (child) {\n          node.children.push(child);\n        }\n      }\n    }\n    return nodeById.values().next().value;\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Protocol from 'devtools-protocol';\n\nimport type {EventType} from '../common/EventEmitter.js';\n\nimport type {CdpFrame} from './Frame.js';\nimport type {IsolatedWorld} from './IsolatedWorld.js';\n\n/**\n * We use symbols to prevent external parties listening to these events.\n * They are internal to Puppeteer.\n *\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace FrameManagerEvent {\n  export const FrameAttached = Symbol('FrameManager.FrameAttached');\n  export const FrameNavigated = Symbol('FrameManager.FrameNavigated');\n  export const FrameDetached = Symbol('FrameManager.FrameDetached');\n  export const FrameSwapped = Symbol('FrameManager.FrameSwapped');\n  export const LifecycleEvent = Symbol('FrameManager.LifecycleEvent');\n  export const FrameNavigatedWithinDocument = Symbol(\n    'FrameManager.FrameNavigatedWithinDocument'\n  );\n  export const ConsoleApiCalled = Symbol('FrameManager.ConsoleApiCalled');\n  export const BindingCalled = Symbol('FrameManager.BindingCalled');\n}\n\n/**\n * @internal\n */\nexport interface FrameManagerEvents extends Record<EventType, unknown> {\n  [FrameManagerEvent.FrameAttached]: CdpFrame;\n  [FrameManagerEvent.FrameNavigated]: CdpFrame;\n  [FrameManagerEvent.FrameDetached]: CdpFrame;\n  [FrameManagerEvent.FrameSwapped]: CdpFrame;\n  [FrameManagerEvent.LifecycleEvent]: CdpFrame;\n  [FrameManagerEvent.FrameNavigatedWithinDocument]: CdpFrame;\n  // Emitted when a new console message is logged.\n  [FrameManagerEvent.ConsoleApiCalled]: [\n    IsolatedWorld,\n    Protocol.Runtime.ConsoleAPICalledEvent,\n  ];\n  [FrameManagerEvent.BindingCalled]: [\n    IsolatedWorld,\n    Protocol.Runtime.BindingCalledEvent,\n  ];\n}\n", "/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {firstValueFrom, map, raceWith} from '../../third_party/rxjs/rxjs.js';\nimport type {CDPSession} from '../api/CDPSession.js';\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport type {JSHandle} from '../api/JSHandle.js';\nimport {Realm} from '../api/Realm.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport type {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport type {EvaluateFunc, HandleFor} from '../common/types.js';\nimport {\n  fromEmitterEvent,\n  timeout,\n  withSourcePuppeteerURLIfNone,\n} from '../common/util.js';\nimport {disposeSymbol} from '../util/disposable.js';\n\nimport {CdpElementHandle} from './ElementHandle.js';\nimport type {ExecutionContext} from './ExecutionContext.js';\nimport type {CdpFrame} from './Frame.js';\nimport type {MAIN_WORLD, PUPPETEER_WORLD} from './IsolatedWorlds.js';\nimport {CdpJSHandle} from './JSHandle.js';\nimport type {CdpWebWorker} from './WebWorker.js';\n\n/**\n * @internal\n */\nexport interface PageBinding {\n  name: string;\n  pptrFunction: Function;\n}\n\n/**\n * @internal\n */\nexport interface IsolatedWorldChart {\n  [key: string]: IsolatedWorld;\n  [MAIN_WORLD]: IsolatedWorld;\n  [PUPPETEER_WORLD]: IsolatedWorld;\n}\n\n/**\n * @internal\n */\ntype IsolatedWorldEmitter = EventEmitter<{\n  // Emitted when the isolated world gets a new execution context.\n  context: ExecutionContext;\n  // Emitted when the isolated world is disposed.\n  disposed: undefined;\n  // Emitted when a new console message is logged.\n  consoleapicalled: Protocol.Runtime.ConsoleAPICalledEvent;\n  /** Emitted when a binding that is not installed by the ExecutionContext is called. */\n  bindingcalled: Protocol.Runtime.BindingCalledEvent;\n}>;\n\n/**\n * @internal\n */\nexport class IsolatedWorld extends Realm {\n  #context?: ExecutionContext;\n  #emitter: IsolatedWorldEmitter = new EventEmitter();\n\n  readonly #frameOrWorker: CdpFrame | CdpWebWorker;\n\n  constructor(\n    frameOrWorker: CdpFrame | CdpWebWorker,\n    timeoutSettings: TimeoutSettings\n  ) {\n    super(timeoutSettings);\n    this.#frameOrWorker = frameOrWorker;\n  }\n\n  get environment(): CdpFrame | CdpWebWorker {\n    return this.#frameOrWorker;\n  }\n\n  get client(): CDPSession {\n    return this.#frameOrWorker.client;\n  }\n\n  get emitter(): IsolatedWorldEmitter {\n    return this.#emitter;\n  }\n\n  setContext(context: ExecutionContext): void {\n    this.#context?.[disposeSymbol]();\n    context.once('disposed', this.#onContextDisposed.bind(this));\n    context.on('consoleapicalled', this.#onContextConsoleApiCalled.bind(this));\n    context.on('bindingcalled', this.#onContextBindingCalled.bind(this));\n    this.#context = context;\n    this.#emitter.emit('context', context);\n    void this.taskManager.rerunAll();\n  }\n\n  #onContextDisposed(): void {\n    this.#context = undefined;\n    if ('clearDocumentHandle' in this.#frameOrWorker) {\n      this.#frameOrWorker.clearDocumentHandle();\n    }\n  }\n\n  #onContextConsoleApiCalled(\n    event: Protocol.Runtime.ConsoleAPICalledEvent\n  ): void {\n    this.#emitter.emit('consoleapicalled', event);\n  }\n\n  #onContextBindingCalled(event: Protocol.Runtime.BindingCalledEvent): void {\n    this.#emitter.emit('bindingcalled', event);\n  }\n\n  hasContext(): boolean {\n    return !!this.#context;\n  }\n\n  get context(): ExecutionContext | undefined {\n    return this.#context;\n  }\n\n  #executionContext(): ExecutionContext | undefined {\n    if (this.disposed) {\n      throw new Error(\n        `Execution context is not available in detached frame or worker \"${this.environment.url()}\" (are you trying to evaluate?)`\n      );\n    }\n    return this.#context;\n  }\n\n  /**\n   * Waits for the next context to be set on the isolated world.\n   */\n  async #waitForExecutionContext(): Promise<ExecutionContext> {\n    const result = await firstValueFrom(\n      fromEmitterEvent(this.#emitter, 'context').pipe(\n        raceWith(\n          fromEmitterEvent(this.#emitter, 'disposed').pipe(\n            map(() => {\n              // The message has to match the CDP message expected by the WaitTask class.\n              throw new Error('Execution context was destroyed');\n            })\n          ),\n          timeout(this.timeoutSettings.timeout())\n        )\n      )\n    );\n    return result;\n  }\n\n  async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluateHandle.name,\n      pageFunction\n    );\n    // This code needs to schedule evaluateHandle call synchroniously (at\n    // least when the context is there) so we cannot unconditionally\n    // await.\n    let context = this.#executionContext();\n    if (!context) {\n      context = await this.#waitForExecutionContext();\n    }\n    return await context.evaluateHandle(pageFunction, ...args);\n  }\n\n  async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>> {\n    pageFunction = withSourcePuppeteerURLIfNone(\n      this.evaluate.name,\n      pageFunction\n    );\n    // This code needs to schedule evaluate call synchroniously (at\n    // least when the context is there) so we cannot unconditionally\n    // await.\n    let context = this.#executionContext();\n    if (!context) {\n      context = await this.#waitForExecutionContext();\n    }\n    return await context.evaluate(pageFunction, ...args);\n  }\n\n  override async adoptBackendNode(\n    backendNodeId?: Protocol.DOM.BackendNodeId\n  ): Promise<JSHandle<Node>> {\n    // This code needs to schedule resolveNode call synchroniously (at\n    // least when the context is there) so we cannot unconditionally\n    // await.\n    let context = this.#executionContext();\n    if (!context) {\n      context = await this.#waitForExecutionContext();\n    }\n    const {object} = await this.client.send('DOM.resolveNode', {\n      backendNodeId: backendNodeId,\n      executionContextId: context.id,\n    });\n    return this.createCdpHandle(object) as JSHandle<Node>;\n  }\n\n  async adoptHandle<T extends JSHandle<Node>>(handle: T): Promise<T> {\n    if (handle.realm === this) {\n      // If the context has already adopted this handle, clone it so downstream\n      // disposal doesn't become an issue.\n      return (await handle.evaluateHandle(value => {\n        return value;\n      })) as unknown as T;\n    }\n    const nodeInfo = await this.client.send('DOM.describeNode', {\n      objectId: handle.id,\n    });\n    return (await this.adoptBackendNode(nodeInfo.node.backendNodeId)) as T;\n  }\n\n  async transferHandle<T extends JSHandle<Node>>(handle: T): Promise<T> {\n    if (handle.realm === this) {\n      return handle;\n    }\n    // Implies it's a primitive value, probably.\n    if (handle.remoteObject().objectId === undefined) {\n      return handle;\n    }\n    const info = await this.client.send('DOM.describeNode', {\n      objectId: handle.remoteObject().objectId,\n    });\n    const newHandle = (await this.adoptBackendNode(\n      info.node.backendNodeId\n    )) as T;\n    await handle.dispose();\n    return newHandle;\n  }\n\n  /**\n   * @internal\n   */\n  createCdpHandle(\n    remoteObject: Protocol.Runtime.RemoteObject\n  ): JSHandle | ElementHandle<Node> {\n    if (remoteObject.subtype === 'node') {\n      return new CdpElementHandle(this, remoteObject);\n    }\n    return new CdpJSHandle(this, remoteObject);\n  }\n\n  [disposeSymbol](): void {\n    this.#context?.[disposeSymbol]();\n    this.#emitter.emit('disposed', undefined);\n    super[disposeSymbol]();\n    this.#emitter.removeAllListeners();\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport type {\n  EvaluateFunc,\n  HandleFor,\n  InnerLazyParams,\n} from '../common/types.js';\nimport {TaskManager, WaitTask} from '../common/WaitTask.js';\nimport {disposeSymbol} from '../util/disposable.js';\n\nimport type {ElementHandle} from './ElementHandle.js';\nimport type {Environment} from './Environment.js';\nimport type {JSHandle} from './JSHandle.js';\n\n/**\n * @internal\n */\nexport abstract class Realm implements Disposable {\n  protected readonly timeoutSettings: TimeoutSettings;\n  readonly taskManager = new TaskManager();\n\n  constructor(timeoutSettings: TimeoutSettings) {\n    this.timeoutSettings = timeoutSettings;\n  }\n\n  abstract get environment(): Environment;\n\n  abstract adoptHandle<T extends JSHandle<Node>>(handle: T): Promise<T>;\n  abstract transferHandle<T extends JSHandle<Node>>(handle: T): Promise<T>;\n  abstract evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>>;\n  abstract evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    pageFunction: Func | string,\n    ...args: Params\n  ): Promise<Awaited<ReturnType<Func>>>;\n\n  async waitForFunction<\n    Params extends unknown[],\n    Func extends EvaluateFunc<InnerLazyParams<Params>> = EvaluateFunc<\n      InnerLazyParams<Params>\n    >,\n  >(\n    pageFunction: Func | string,\n    options: {\n      polling?: 'raf' | 'mutation' | number;\n      timeout?: number;\n      root?: ElementHandle<Node>;\n      signal?: AbortSignal;\n    } = {},\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    const {\n      polling = 'raf',\n      timeout = this.timeoutSettings.timeout(),\n      root,\n      signal,\n    } = options;\n    if (typeof polling === 'number' && polling < 0) {\n      throw new Error('Cannot poll with non-positive interval');\n    }\n    const waitTask = new WaitTask(\n      this,\n      {\n        polling,\n        root,\n        timeout,\n        signal,\n      },\n      pageFunction as unknown as\n        | ((...args: unknown[]) => Promise<Awaited<ReturnType<Func>>>)\n        | string,\n      ...args\n    );\n    return await waitTask.result;\n  }\n\n  abstract adoptBackendNode(backendNodeId?: number): Promise<JSHandle<Node>>;\n\n  get disposed(): boolean {\n    return this.#disposed;\n  }\n\n  #disposed = false;\n  /** @internal */\n  dispose(): void {\n    this.#disposed = true;\n    this.taskManager.terminateAll(\n      new Error('waitForFunction failed: frame got detached.')\n    );\n  }\n  /** @internal */\n  [disposeSymbol](): void {\n    this.dispose();\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport type {JSHandle} from '../api/JSHandle.js';\nimport type {Realm} from '../api/Realm.js';\nimport type {Poller} from '../injected/Poller.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\nimport {stringifyFunction} from '../util/Function.js';\n\nimport {TimeoutError} from './Errors.js';\nimport {LazyArg} from './LazyArg.js';\nimport type {HandleFor} from './types.js';\n\n/**\n * @internal\n */\nexport interface WaitTaskOptions {\n  polling: 'raf' | 'mutation' | number;\n  root?: ElementHandle<Node>;\n  timeout: number;\n  signal?: AbortSignal;\n}\n\n/**\n * @internal\n */\nexport class WaitTask<T = unknown> {\n  #world: Realm;\n  #polling: 'raf' | 'mutation' | number;\n  #root?: ElementHandle<Node>;\n\n  #fn: string;\n  #args: unknown[];\n\n  #timeout?: NodeJS.Timeout;\n  #timeoutError?: TimeoutError;\n\n  #result = Deferred.create<HandleFor<T>>();\n\n  #poller?: JSHandle<Poller<T>>;\n  #signal?: AbortSignal;\n  #reruns: AbortController[] = [];\n\n  constructor(\n    world: Realm,\n    options: WaitTaskOptions,\n    fn: ((...args: unknown[]) => Promise<T>) | string,\n    ...args: unknown[]\n  ) {\n    this.#world = world;\n    this.#polling = options.polling;\n    this.#root = options.root;\n    this.#signal = options.signal;\n    this.#signal?.addEventListener(\n      'abort',\n      () => {\n        void this.terminate(this.#signal?.reason);\n      },\n      {\n        once: true,\n      }\n    );\n\n    switch (typeof fn) {\n      case 'string':\n        this.#fn = `() => {return (${fn});}`;\n        break;\n      default:\n        this.#fn = stringifyFunction(fn);\n        break;\n    }\n    this.#args = args;\n\n    this.#world.taskManager.add(this);\n\n    if (options.timeout) {\n      this.#timeoutError = new TimeoutError(\n        `Waiting failed: ${options.timeout}ms exceeded`\n      );\n      this.#timeout = setTimeout(() => {\n        void this.terminate(this.#timeoutError);\n      }, options.timeout);\n    }\n\n    void this.rerun();\n  }\n\n  get result(): Promise<HandleFor<T>> {\n    return this.#result.valueOrThrow();\n  }\n\n  async rerun(): Promise<void> {\n    for (const prev of this.#reruns) {\n      prev.abort();\n    }\n    this.#reruns.length = 0;\n    const controller = new AbortController();\n    this.#reruns.push(controller);\n    try {\n      switch (this.#polling) {\n        case 'raf':\n          this.#poller = await this.#world.evaluateHandle(\n            ({RAFPoller, createFunction}, fn, ...args) => {\n              const fun = createFunction(fn);\n              return new RAFPoller(() => {\n                return fun(...args) as Promise<T>;\n              });\n            },\n            LazyArg.create(context => {\n              return context.puppeteerUtil;\n            }),\n            this.#fn,\n            ...this.#args\n          );\n          break;\n        case 'mutation':\n          this.#poller = await this.#world.evaluateHandle(\n            ({MutationPoller, createFunction}, root, fn, ...args) => {\n              const fun = createFunction(fn);\n              return new MutationPoller(() => {\n                return fun(...args) as Promise<T>;\n              }, root || document);\n            },\n            LazyArg.create(context => {\n              return context.puppeteerUtil;\n            }),\n            this.#root,\n            this.#fn,\n            ...this.#args\n          );\n          break;\n        default:\n          this.#poller = await this.#world.evaluateHandle(\n            ({IntervalPoller, createFunction}, ms, fn, ...args) => {\n              const fun = createFunction(fn);\n              return new IntervalPoller(() => {\n                return fun(...args) as Promise<T>;\n              }, ms);\n            },\n            LazyArg.create(context => {\n              return context.puppeteerUtil;\n            }),\n            this.#polling,\n            this.#fn,\n            ...this.#args\n          );\n          break;\n      }\n\n      await this.#poller.evaluate(poller => {\n        void poller.start();\n      });\n\n      const result = await this.#poller.evaluateHandle(poller => {\n        return poller.result();\n      });\n      this.#result.resolve(result);\n\n      await this.terminate();\n    } catch (error) {\n      if (controller.signal.aborted) {\n        return;\n      }\n      const badError = this.getBadError(error);\n      if (badError) {\n        await this.terminate(badError);\n      }\n    }\n  }\n\n  async terminate(error?: Error): Promise<void> {\n    this.#world.taskManager.delete(this);\n\n    clearTimeout(this.#timeout);\n\n    if (error && !this.#result.finished()) {\n      this.#result.reject(error);\n    }\n\n    if (this.#poller) {\n      try {\n        await this.#poller.evaluateHandle(async poller => {\n          await poller.stop();\n        });\n        if (this.#poller) {\n          await this.#poller.dispose();\n          this.#poller = undefined;\n        }\n      } catch {\n        // Ignore errors since they most likely come from low-level cleanup.\n      }\n    }\n  }\n\n  /**\n   * Not all errors lead to termination. They usually imply we need to rerun the task.\n   */\n  getBadError(error: unknown): Error | undefined {\n    if (isErrorLike(error)) {\n      // When frame is detached the task should have been terminated by the IsolatedWorld.\n      // This can fail if we were adding this task while the frame was detached,\n      // so we terminate here instead.\n      if (\n        error.message.includes(\n          'Execution context is not available in detached frame'\n        )\n      ) {\n        return new Error('Waiting failed: Frame detached');\n      }\n\n      // When the page is navigated, the promise is rejected.\n      // We will try again in the new execution context.\n      if (error.message.includes('Execution context was destroyed')) {\n        return;\n      }\n\n      // We could have tried to evaluate in a context which was already\n      // destroyed.\n      if (error.message.includes('Cannot find context with specified id')) {\n        return;\n      }\n\n      // Errors coming from WebDriver BiDi. TODO: Adjust messages after\n      // https://github.com/w3c/webdriver-bidi/issues/540 is resolved.\n      if (\n        error.message.includes(\n          \"AbortError: Actor 'MessageHandlerFrame' destroyed\"\n        )\n      ) {\n        return;\n      }\n\n      return error;\n    }\n\n    return new Error('WaitTask failed with an error', {\n      cause: error,\n    });\n  }\n}\n\n/**\n * @internal\n */\nexport class TaskManager {\n  #tasks: Set<WaitTask> = new Set<WaitTask>();\n\n  add(task: WaitTask<any>): void {\n    this.#tasks.add(task);\n  }\n\n  delete(task: WaitTask<any>): void {\n    this.#tasks.delete(task);\n  }\n\n  terminateAll(error?: Error): void {\n    for (const task of this.#tasks) {\n      void task.terminate(error);\n    }\n    this.#tasks.clear();\n  }\n\n  async rerunAll(): Promise<void> {\n    await Promise.all(\n      [...this.#tasks].map(task => {\n        return task.rerun();\n      })\n    );\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * A unique key for {@link IsolatedWorldChart} to denote the default world.\n * Execution contexts are automatically created in the default world.\n *\n * @internal\n */\nexport const MAIN_WORLD = Symbol('mainWorld');\n/**\n * A unique key for {@link IsolatedWorldChart} to denote the puppeteer world.\n * This world contains all puppeteer-internal bindings/code.\n *\n * @internal\n */\nexport const PUPPETEER_WORLD = Symbol('puppeteerWorld');\n", "/**\n * @license\n * Copyright 2019 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Protocol from 'devtools-protocol';\n\nimport {type Frame, FrameEvent} from '../api/Frame.js';\nimport type {HTTPRequest} from '../api/HTTPRequest.js';\nimport type {HTTPResponse} from '../api/HTTPResponse.js';\nimport type {TimeoutError} from '../common/Errors.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {NetworkManagerEvent} from '../common/NetworkManagerEvents.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {DisposableStack} from '../util/disposable.js';\n\nimport type {CdpFrame} from './Frame.js';\nimport {FrameManagerEvent} from './FrameManagerEvents.js';\nimport type {NetworkManager} from './NetworkManager.js';\n\n/**\n * @public\n */\nexport type PuppeteerLifeCycleEvent =\n  /**\n   * Waits for the 'load' event.\n   */\n  | 'load'\n  /**\n   * Waits for the 'DOMContentLoaded' event.\n   */\n  | 'domcontentloaded'\n  /**\n   * Waits till there are no more than 0 network connections for at least `500`\n   * ms.\n   */\n  | 'networkidle0'\n  /**\n   * Waits till there are no more than 2 network connections for at least `500`\n   * ms.\n   */\n  | 'networkidle2';\n\n/**\n * @public\n */\nexport type ProtocolLifeCycleEvent =\n  | 'load'\n  | 'DOMContentLoaded'\n  | 'networkIdle'\n  | 'networkAlmostIdle';\n\nconst puppeteerToProtocolLifecycle = new Map<\n  PuppeteerLifeCycleEvent,\n  ProtocolLifeCycleEvent\n>([\n  ['load', 'load'],\n  ['domcontentloaded', 'DOMContentLoaded'],\n  ['networkidle0', 'networkIdle'],\n  ['networkidle2', 'networkAlmostIdle'],\n]);\n\n/**\n * @internal\n */\nexport class LifecycleWatcher {\n  #expectedLifecycle: ProtocolLifeCycleEvent[];\n  #frame: CdpFrame;\n  #timeout: number;\n  #navigationRequest: HTTPRequest | null = null;\n  #subscriptions = new DisposableStack();\n  #initialLoaderId: string;\n\n  #terminationDeferred: Deferred<Error>;\n  #sameDocumentNavigationDeferred = Deferred.create<undefined>();\n  #lifecycleDeferred = Deferred.create<void>();\n  #newDocumentNavigationDeferred = Deferred.create<undefined>();\n\n  #hasSameDocumentNavigation?: boolean;\n  #swapped?: boolean;\n\n  #navigationResponseReceived?: Deferred<void>;\n\n  constructor(\n    networkManager: NetworkManager,\n    frame: CdpFrame,\n    waitUntil: PuppeteerLifeCycleEvent | PuppeteerLifeCycleEvent[],\n    timeout: number\n  ) {\n    if (Array.isArray(waitUntil)) {\n      waitUntil = waitUntil.slice();\n    } else if (typeof waitUntil === 'string') {\n      waitUntil = [waitUntil];\n    }\n    this.#initialLoaderId = frame._loaderId;\n    this.#expectedLifecycle = waitUntil.map(value => {\n      const protocolEvent = puppeteerToProtocolLifecycle.get(value);\n      assert(protocolEvent, 'Unknown value for options.waitUntil: ' + value);\n      return protocolEvent as ProtocolLifeCycleEvent;\n    });\n\n    this.#frame = frame;\n    this.#timeout = timeout;\n    const frameManagerEmitter = this.#subscriptions.use(\n      new EventEmitter(frame._frameManager)\n    );\n    frameManagerEmitter.on(\n      FrameManagerEvent.LifecycleEvent,\n      this.#checkLifecycleComplete.bind(this)\n    );\n\n    const frameEmitter = this.#subscriptions.use(new EventEmitter(frame));\n    frameEmitter.on(\n      FrameEvent.FrameNavigatedWithinDocument,\n      this.#navigatedWithinDocument.bind(this)\n    );\n    frameEmitter.on(FrameEvent.FrameNavigated, this.#navigated.bind(this));\n    frameEmitter.on(FrameEvent.FrameSwapped, this.#frameSwapped.bind(this));\n    frameEmitter.on(\n      FrameEvent.FrameSwappedByActivation,\n      this.#frameSwapped.bind(this)\n    );\n    frameEmitter.on(FrameEvent.FrameDetached, this.#onFrameDetached.bind(this));\n\n    const networkManagerEmitter = this.#subscriptions.use(\n      new EventEmitter(networkManager)\n    );\n    networkManagerEmitter.on(\n      NetworkManagerEvent.Request,\n      this.#onRequest.bind(this)\n    );\n    networkManagerEmitter.on(\n      NetworkManagerEvent.Response,\n      this.#onResponse.bind(this)\n    );\n    networkManagerEmitter.on(\n      NetworkManagerEvent.RequestFailed,\n      this.#onRequestFailed.bind(this)\n    );\n\n    this.#terminationDeferred = Deferred.create<Error>({\n      timeout: this.#timeout,\n      message: `Navigation timeout of ${this.#timeout} ms exceeded`,\n    });\n\n    this.#checkLifecycleComplete();\n  }\n\n  #onRequest(request: HTTPRequest): void {\n    if (request.frame() !== this.#frame || !request.isNavigationRequest()) {\n      return;\n    }\n    this.#navigationRequest = request;\n    // Resolve previous navigation response in case there are multiple\n    // navigation requests reported by the backend. This generally should not\n    // happen by it looks like it's possible.\n    this.#navigationResponseReceived?.resolve();\n    this.#navigationResponseReceived = Deferred.create();\n    if (request.response() !== null) {\n      this.#navigationResponseReceived?.resolve();\n    }\n  }\n\n  #onRequestFailed(request: HTTPRequest): void {\n    if (this.#navigationRequest?.id !== request.id) {\n      return;\n    }\n    this.#navigationResponseReceived?.resolve();\n  }\n\n  #onResponse(response: HTTPResponse): void {\n    if (this.#navigationRequest?.id !== response.request().id) {\n      return;\n    }\n    this.#navigationResponseReceived?.resolve();\n  }\n\n  #onFrameDetached(frame: Frame): void {\n    if (this.#frame === frame) {\n      this.#terminationDeferred.resolve(\n        new Error('Navigating frame was detached')\n      );\n      return;\n    }\n    this.#checkLifecycleComplete();\n  }\n\n  async navigationResponse(): Promise<HTTPResponse | null> {\n    // Continue with a possibly null response.\n    await this.#navigationResponseReceived?.valueOrThrow();\n    return this.#navigationRequest ? this.#navigationRequest.response() : null;\n  }\n\n  sameDocumentNavigationPromise(): Promise<Error | undefined> {\n    return this.#sameDocumentNavigationDeferred.valueOrThrow();\n  }\n\n  newDocumentNavigationPromise(): Promise<Error | undefined> {\n    return this.#newDocumentNavigationDeferred.valueOrThrow();\n  }\n\n  lifecyclePromise(): Promise<void> {\n    return this.#lifecycleDeferred.valueOrThrow();\n  }\n\n  terminationPromise(): Promise<Error | TimeoutError | undefined> {\n    return this.#terminationDeferred.valueOrThrow();\n  }\n\n  #navigatedWithinDocument(): void {\n    this.#hasSameDocumentNavigation = true;\n    this.#checkLifecycleComplete();\n  }\n\n  #navigated(navigationType: Protocol.Page.NavigationType): void {\n    if (navigationType === 'BackForwardCacheRestore') {\n      return this.#frameSwapped();\n    }\n    this.#checkLifecycleComplete();\n  }\n\n  #frameSwapped(): void {\n    this.#swapped = true;\n    this.#checkLifecycleComplete();\n  }\n\n  #checkLifecycleComplete(): void {\n    // We expect navigation to commit.\n    if (!checkLifecycle(this.#frame, this.#expectedLifecycle)) {\n      return;\n    }\n    this.#lifecycleDeferred.resolve();\n    if (this.#hasSameDocumentNavigation) {\n      this.#sameDocumentNavigationDeferred.resolve(undefined);\n    }\n    if (this.#swapped || this.#frame._loaderId !== this.#initialLoaderId) {\n      this.#newDocumentNavigationDeferred.resolve(undefined);\n    }\n\n    function checkLifecycle(\n      frame: CdpFrame,\n      expectedLifecycle: ProtocolLifeCycleEvent[]\n    ): boolean {\n      for (const event of expectedLifecycle) {\n        if (!frame._lifecycleEvents.has(event)) {\n          return false;\n        }\n      }\n      // TODO(#1): Its possible we don't need this check\n      // CDP provided the correct order for Loading Events\n      // And NetworkIdle is a global state\n      // Consider removing\n      for (const child of frame.childFrames()) {\n        if (\n          child._hasStartedLoading &&\n          !checkLifecycle(child, expectedLifecycle)\n        ) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }\n\n  dispose(): void {\n    this.#subscriptions.dispose();\n    this.#terminationDeferred.resolve(new Error('LifecycleWatcher disposed'));\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Frame} from '../api/Frame.js';\nimport {Deferred} from '../util/Deferred.js';\n\n/**\n * Keeps track of the page frame tree and it's is managed by\n * {@link FrameManager}. FrameTree uses frame IDs to reference frame and it\n * means that referenced frames might not be in the tree anymore. Thus, the tree\n * structure is eventually consistent.\n * @internal\n */\nexport class FrameTree<FrameType extends Frame> {\n  #frames = new Map<string, FrameType>();\n  // frameID -> parentFrameID\n  #parentIds = new Map<string, string>();\n  // frameID -> childFrameIDs\n  #childIds = new Map<string, Set<string>>();\n  #mainFrame?: FrameType;\n  #isMainFrameStale = false;\n  #waitRequests = new Map<string, Set<Deferred<FrameType>>>();\n\n  getMainFrame(): FrameType | undefined {\n    return this.#mainFrame;\n  }\n\n  getById(frameId: string): FrameType | undefined {\n    return this.#frames.get(frameId);\n  }\n\n  /**\n   * Returns a promise that is resolved once the frame with\n   * the given ID is added to the tree.\n   */\n  waitForFrame(frameId: string): Promise<FrameType> {\n    const frame = this.getById(frameId);\n    if (frame) {\n      return Promise.resolve(frame);\n    }\n    const deferred = Deferred.create<FrameType>();\n    const callbacks =\n      this.#waitRequests.get(frameId) || new Set<Deferred<FrameType>>();\n    callbacks.add(deferred);\n    return deferred.valueOrThrow();\n  }\n\n  frames(): FrameType[] {\n    return Array.from(this.#frames.values());\n  }\n\n  addFrame(frame: FrameType): void {\n    this.#frames.set(frame._id, frame);\n    if (frame._parentId) {\n      this.#parentIds.set(frame._id, frame._parentId);\n      if (!this.#childIds.has(frame._parentId)) {\n        this.#childIds.set(frame._parentId, new Set());\n      }\n      this.#childIds.get(frame._parentId)!.add(frame._id);\n    } else if (!this.#mainFrame || this.#isMainFrameStale) {\n      this.#mainFrame = frame;\n      this.#isMainFrameStale = false;\n    }\n    this.#waitRequests.get(frame._id)?.forEach(request => {\n      return request.resolve(frame);\n    });\n  }\n\n  removeFrame(frame: FrameType): void {\n    this.#frames.delete(frame._id);\n    this.#parentIds.delete(frame._id);\n    if (frame._parentId) {\n      this.#childIds.get(frame._parentId)?.delete(frame._id);\n    } else {\n      this.#isMainFrameStale = true;\n    }\n  }\n\n  childFrames(frameId: string): FrameType[] {\n    const childIds = this.#childIds.get(frameId);\n    if (!childIds) {\n      return [];\n    }\n    return Array.from(childIds)\n      .map(id => {\n        return this.getById(id);\n      })\n      .filter((frame): frame is FrameType => {\n        return frame !== undefined;\n      });\n  }\n\n  parentFrame(frameId: string): FrameType | undefined {\n    const parentId = this.#parentIds.get(frameId);\n    return parentId ? this.getById(parentId) : undefined;\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {CDPSessionEvent, type CDPSession} from '../api/CDPSession.js';\nimport type {Frame} from '../api/Frame.js';\nimport type {Credentials} from '../api/Page.js';\nimport {EventEmitter} from '../common/EventEmitter.js';\nimport {\n  NetworkManagerEvent,\n  type NetworkManagerEvents,\n} from '../common/NetworkManagerEvents.js';\nimport {debugError, isString} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {DisposableStack} from '../util/disposable.js';\n\nimport {CdpHTTPRequest} from './HTTPRequest.js';\nimport {CdpHTTPResponse} from './HTTPResponse.js';\nimport {\n  NetworkEventManager,\n  type FetchRequestId,\n} from './NetworkEventManager.js';\n\n/**\n * @public\n */\nexport interface NetworkConditions {\n  /**\n   * Download speed (bytes/s)\n   */\n  download: number;\n  /**\n   * Upload speed (bytes/s)\n   */\n  upload: number;\n  /**\n   * Latency (ms)\n   */\n  latency: number;\n}\n\n/**\n * @public\n */\nexport interface InternalNetworkConditions extends NetworkConditions {\n  offline: boolean;\n}\n\n/**\n * @internal\n */\nexport interface FrameProvider {\n  frame(id: string): Frame | null;\n}\n\n/**\n * @internal\n */\nexport class NetworkManager extends EventEmitter<NetworkManagerEvents> {\n  #frameManager: FrameProvider;\n  #networkEventManager = new NetworkEventManager();\n  #extraHTTPHeaders?: Record<string, string>;\n  #credentials: Credentials | null = null;\n  #attemptedAuthentications = new Set<string>();\n  #userRequestInterceptionEnabled = false;\n  #protocolRequestInterceptionEnabled = false;\n  #userCacheDisabled?: boolean;\n  #emulatedNetworkConditions?: InternalNetworkConditions;\n  #userAgent?: string;\n  #userAgentMetadata?: Protocol.Emulation.UserAgentMetadata;\n\n  readonly #handlers = [\n    ['Fetch.requestPaused', this.#onRequestPaused],\n    ['Fetch.authRequired', this.#onAuthRequired],\n    ['Network.requestWillBeSent', this.#onRequestWillBeSent],\n    ['Network.requestServedFromCache', this.#onRequestServedFromCache],\n    ['Network.responseReceived', this.#onResponseReceived],\n    ['Network.loadingFinished', this.#onLoadingFinished],\n    ['Network.loadingFailed', this.#onLoadingFailed],\n    ['Network.responseReceivedExtraInfo', this.#onResponseReceivedExtraInfo],\n    [CDPSessionEvent.Disconnected, this.#removeClient],\n  ] as const;\n\n  #clients = new Map<CDPSession, DisposableStack>();\n\n  constructor(frameManager: FrameProvider) {\n    super();\n    this.#frameManager = frameManager;\n  }\n\n  async addClient(client: CDPSession): Promise<void> {\n    if (this.#clients.has(client)) {\n      return;\n    }\n    const subscriptions = new DisposableStack();\n    this.#clients.set(client, subscriptions);\n    const clientEmitter = subscriptions.use(new EventEmitter(client));\n\n    for (const [event, handler] of this.#handlers) {\n      clientEmitter.on(event, (arg: any) => {\n        return handler.bind(this)(client, arg);\n      });\n    }\n\n    await Promise.all([\n      client.send('Network.enable'),\n      this.#applyExtraHTTPHeaders(client),\n      this.#applyNetworkConditions(client),\n      this.#applyProtocolCacheDisabled(client),\n      this.#applyProtocolRequestInterception(client),\n      this.#applyUserAgent(client),\n    ]);\n  }\n\n  async #removeClient(client: CDPSession) {\n    this.#clients.get(client)?.dispose();\n    this.#clients.delete(client);\n  }\n\n  async authenticate(credentials: Credentials | null): Promise<void> {\n    this.#credentials = credentials;\n    const enabled = this.#userRequestInterceptionEnabled || !!this.#credentials;\n    if (enabled === this.#protocolRequestInterceptionEnabled) {\n      return;\n    }\n    this.#protocolRequestInterceptionEnabled = enabled;\n    await this.#applyToAllClients(\n      this.#applyProtocolRequestInterception.bind(this)\n    );\n  }\n\n  async setExtraHTTPHeaders(headers: Record<string, string>): Promise<void> {\n    const extraHTTPHeaders: Record<string, string> = {};\n    for (const [key, value] of Object.entries(headers)) {\n      assert(\n        isString(value),\n        `Expected value of header \"${key}\" to be String, but \"${typeof value}\" is found.`\n      );\n      extraHTTPHeaders[key.toLowerCase()] = value;\n    }\n    this.#extraHTTPHeaders = extraHTTPHeaders;\n\n    await this.#applyToAllClients(this.#applyExtraHTTPHeaders.bind(this));\n  }\n\n  async #applyExtraHTTPHeaders(client: CDPSession) {\n    if (this.#extraHTTPHeaders === undefined) {\n      return;\n    }\n    await client.send('Network.setExtraHTTPHeaders', {\n      headers: this.#extraHTTPHeaders,\n    });\n  }\n\n  extraHTTPHeaders(): Record<string, string> {\n    return Object.assign({}, this.#extraHTTPHeaders);\n  }\n\n  inFlightRequestsCount(): number {\n    return this.#networkEventManager.inFlightRequestsCount();\n  }\n\n  async setOfflineMode(value: boolean): Promise<void> {\n    if (!this.#emulatedNetworkConditions) {\n      this.#emulatedNetworkConditions = {\n        offline: false,\n        upload: -1,\n        download: -1,\n        latency: 0,\n      };\n    }\n    this.#emulatedNetworkConditions.offline = value;\n    await this.#applyToAllClients(this.#applyNetworkConditions.bind(this));\n  }\n\n  async emulateNetworkConditions(\n    networkConditions: NetworkConditions | null\n  ): Promise<void> {\n    if (!this.#emulatedNetworkConditions) {\n      this.#emulatedNetworkConditions = {\n        offline: false,\n        upload: -1,\n        download: -1,\n        latency: 0,\n      };\n    }\n    this.#emulatedNetworkConditions.upload = networkConditions\n      ? networkConditions.upload\n      : -1;\n    this.#emulatedNetworkConditions.download = networkConditions\n      ? networkConditions.download\n      : -1;\n    this.#emulatedNetworkConditions.latency = networkConditions\n      ? networkConditions.latency\n      : 0;\n\n    await this.#applyToAllClients(this.#applyNetworkConditions.bind(this));\n  }\n\n  async #applyToAllClients(fn: (client: CDPSession) => Promise<unknown>) {\n    await Promise.all(\n      Array.from(this.#clients.keys()).map(client => {\n        return fn(client);\n      })\n    );\n  }\n\n  async #applyNetworkConditions(client: CDPSession): Promise<void> {\n    if (this.#emulatedNetworkConditions === undefined) {\n      return;\n    }\n    await client.send('Network.emulateNetworkConditions', {\n      offline: this.#emulatedNetworkConditions.offline,\n      latency: this.#emulatedNetworkConditions.latency,\n      uploadThroughput: this.#emulatedNetworkConditions.upload,\n      downloadThroughput: this.#emulatedNetworkConditions.download,\n    });\n  }\n\n  async setUserAgent(\n    userAgent: string,\n    userAgentMetadata?: Protocol.Emulation.UserAgentMetadata\n  ): Promise<void> {\n    this.#userAgent = userAgent;\n    this.#userAgentMetadata = userAgentMetadata;\n    await this.#applyToAllClients(this.#applyUserAgent.bind(this));\n  }\n\n  async #applyUserAgent(client: CDPSession) {\n    if (this.#userAgent === undefined) {\n      return;\n    }\n    await client.send('Network.setUserAgentOverride', {\n      userAgent: this.#userAgent,\n      userAgentMetadata: this.#userAgentMetadata,\n    });\n  }\n\n  async setCacheEnabled(enabled: boolean): Promise<void> {\n    this.#userCacheDisabled = !enabled;\n    await this.#applyToAllClients(this.#applyProtocolCacheDisabled.bind(this));\n  }\n\n  async setRequestInterception(value: boolean): Promise<void> {\n    this.#userRequestInterceptionEnabled = value;\n    const enabled = this.#userRequestInterceptionEnabled || !!this.#credentials;\n    if (enabled === this.#protocolRequestInterceptionEnabled) {\n      return;\n    }\n    this.#protocolRequestInterceptionEnabled = enabled;\n    await this.#applyToAllClients(\n      this.#applyProtocolRequestInterception.bind(this)\n    );\n  }\n\n  async #applyProtocolRequestInterception(client: CDPSession): Promise<void> {\n    if (this.#userCacheDisabled === undefined) {\n      this.#userCacheDisabled = false;\n    }\n    if (this.#protocolRequestInterceptionEnabled) {\n      await Promise.all([\n        this.#applyProtocolCacheDisabled(client),\n        client.send('Fetch.enable', {\n          handleAuthRequests: true,\n          patterns: [{urlPattern: '*'}],\n        }),\n      ]);\n    } else {\n      await Promise.all([\n        this.#applyProtocolCacheDisabled(client),\n        client.send('Fetch.disable'),\n      ]);\n    }\n  }\n\n  async #applyProtocolCacheDisabled(client: CDPSession): Promise<void> {\n    if (this.#userCacheDisabled === undefined) {\n      return;\n    }\n    await client.send('Network.setCacheDisabled', {\n      cacheDisabled: this.#userCacheDisabled,\n    });\n  }\n\n  #onRequestWillBeSent(\n    client: CDPSession,\n    event: Protocol.Network.RequestWillBeSentEvent\n  ): void {\n    // Request interception doesn't happen for data URLs with Network Service.\n    if (\n      this.#userRequestInterceptionEnabled &&\n      !event.request.url.startsWith('data:')\n    ) {\n      const {requestId: networkRequestId} = event;\n\n      this.#networkEventManager.storeRequestWillBeSent(networkRequestId, event);\n\n      /**\n       * CDP may have sent a Fetch.requestPaused event already. Check for it.\n       */\n      const requestPausedEvent =\n        this.#networkEventManager.getRequestPaused(networkRequestId);\n      if (requestPausedEvent) {\n        const {requestId: fetchRequestId} = requestPausedEvent;\n        this.#patchRequestEventHeaders(event, requestPausedEvent);\n        this.#onRequest(client, event, fetchRequestId);\n        this.#networkEventManager.forgetRequestPaused(networkRequestId);\n      }\n\n      return;\n    }\n    this.#onRequest(client, event, undefined);\n  }\n\n  #onAuthRequired(\n    client: CDPSession,\n    event: Protocol.Fetch.AuthRequiredEvent\n  ): void {\n    let response: Protocol.Fetch.AuthChallengeResponse['response'] = 'Default';\n    if (this.#attemptedAuthentications.has(event.requestId)) {\n      response = 'CancelAuth';\n    } else if (this.#credentials) {\n      response = 'ProvideCredentials';\n      this.#attemptedAuthentications.add(event.requestId);\n    }\n    const {username, password} = this.#credentials || {\n      username: undefined,\n      password: undefined,\n    };\n    client\n      .send('Fetch.continueWithAuth', {\n        requestId: event.requestId,\n        authChallengeResponse: {response, username, password},\n      })\n      .catch(debugError);\n  }\n\n  /**\n   * CDP may send a Fetch.requestPaused without or before a\n   * Network.requestWillBeSent\n   *\n   * CDP may send multiple Fetch.requestPaused\n   * for the same Network.requestWillBeSent.\n   */\n  #onRequestPaused(\n    client: CDPSession,\n    event: Protocol.Fetch.RequestPausedEvent\n  ): void {\n    if (\n      !this.#userRequestInterceptionEnabled &&\n      this.#protocolRequestInterceptionEnabled\n    ) {\n      client\n        .send('Fetch.continueRequest', {\n          requestId: event.requestId,\n        })\n        .catch(debugError);\n    }\n\n    const {networkId: networkRequestId, requestId: fetchRequestId} = event;\n\n    if (!networkRequestId) {\n      this.#onRequestWithoutNetworkInstrumentation(client, event);\n      return;\n    }\n\n    const requestWillBeSentEvent = (() => {\n      const requestWillBeSentEvent =\n        this.#networkEventManager.getRequestWillBeSent(networkRequestId);\n\n      // redirect requests have the same `requestId`,\n      if (\n        requestWillBeSentEvent &&\n        (requestWillBeSentEvent.request.url !== event.request.url ||\n          requestWillBeSentEvent.request.method !== event.request.method)\n      ) {\n        this.#networkEventManager.forgetRequestWillBeSent(networkRequestId);\n        return;\n      }\n      return requestWillBeSentEvent;\n    })();\n\n    if (requestWillBeSentEvent) {\n      this.#patchRequestEventHeaders(requestWillBeSentEvent, event);\n      this.#onRequest(client, requestWillBeSentEvent, fetchRequestId);\n    } else {\n      this.#networkEventManager.storeRequestPaused(networkRequestId, event);\n    }\n  }\n\n  #patchRequestEventHeaders(\n    requestWillBeSentEvent: Protocol.Network.RequestWillBeSentEvent,\n    requestPausedEvent: Protocol.Fetch.RequestPausedEvent\n  ): void {\n    requestWillBeSentEvent.request.headers = {\n      ...requestWillBeSentEvent.request.headers,\n      // includes extra headers, like: Accept, Origin\n      ...requestPausedEvent.request.headers,\n    };\n  }\n\n  #onRequestWithoutNetworkInstrumentation(\n    client: CDPSession,\n    event: Protocol.Fetch.RequestPausedEvent\n  ): void {\n    // If an event has no networkId it should not have any network events. We\n    // still want to dispatch it for the interception by the user.\n    const frame = event.frameId\n      ? this.#frameManager.frame(event.frameId)\n      : null;\n\n    const request = new CdpHTTPRequest(\n      client,\n      frame,\n      event.requestId,\n      this.#userRequestInterceptionEnabled,\n      event,\n      []\n    );\n    this.emit(NetworkManagerEvent.Request, request);\n    void request.finalizeInterceptions();\n  }\n\n  #onRequest(\n    client: CDPSession,\n    event: Protocol.Network.RequestWillBeSentEvent,\n    fetchRequestId?: FetchRequestId\n  ): void {\n    let redirectChain: CdpHTTPRequest[] = [];\n    if (event.redirectResponse) {\n      // We want to emit a response and requestfinished for the\n      // redirectResponse, but we can't do so unless we have a\n      // responseExtraInfo ready to pair it up with. If we don't have any\n      // responseExtraInfos saved in our queue, they we have to wait until\n      // the next one to emit response and requestfinished, *and* we should\n      // also wait to emit this Request too because it should come after the\n      // response/requestfinished.\n      let redirectResponseExtraInfo = null;\n      if (event.redirectHasExtraInfo) {\n        redirectResponseExtraInfo = this.#networkEventManager\n          .responseExtraInfo(event.requestId)\n          .shift();\n        if (!redirectResponseExtraInfo) {\n          this.#networkEventManager.queueRedirectInfo(event.requestId, {\n            event,\n            fetchRequestId,\n          });\n          return;\n        }\n      }\n\n      const request = this.#networkEventManager.getRequest(event.requestId);\n      // If we connect late to the target, we could have missed the\n      // requestWillBeSent event.\n      if (request) {\n        this.#handleRequestRedirect(\n          client,\n          request,\n          event.redirectResponse,\n          redirectResponseExtraInfo\n        );\n        redirectChain = request._redirectChain;\n      }\n    }\n    const frame = event.frameId\n      ? this.#frameManager.frame(event.frameId)\n      : null;\n\n    const request = new CdpHTTPRequest(\n      client,\n      frame,\n      fetchRequestId,\n      this.#userRequestInterceptionEnabled,\n      event,\n      redirectChain\n    );\n    this.#networkEventManager.storeRequest(event.requestId, request);\n    this.emit(NetworkManagerEvent.Request, request);\n    void request.finalizeInterceptions();\n  }\n\n  #onRequestServedFromCache(\n    _client: CDPSession,\n    event: Protocol.Network.RequestServedFromCacheEvent\n  ): void {\n    const request = this.#networkEventManager.getRequest(event.requestId);\n    if (request) {\n      request._fromMemoryCache = true;\n    }\n    this.emit(NetworkManagerEvent.RequestServedFromCache, request);\n  }\n\n  #handleRequestRedirect(\n    client: CDPSession,\n    request: CdpHTTPRequest,\n    responsePayload: Protocol.Network.Response,\n    extraInfo: Protocol.Network.ResponseReceivedExtraInfoEvent | null\n  ): void {\n    const response = new CdpHTTPResponse(\n      client,\n      request,\n      responsePayload,\n      extraInfo\n    );\n    request._response = response;\n    request._redirectChain.push(request);\n    response._resolveBody(\n      new Error('Response body is unavailable for redirect responses')\n    );\n    this.#forgetRequest(request, false);\n    this.emit(NetworkManagerEvent.Response, response);\n    this.emit(NetworkManagerEvent.RequestFinished, request);\n  }\n\n  #emitResponseEvent(\n    client: CDPSession,\n    responseReceived: Protocol.Network.ResponseReceivedEvent,\n    extraInfo: Protocol.Network.ResponseReceivedExtraInfoEvent | null\n  ): void {\n    const request = this.#networkEventManager.getRequest(\n      responseReceived.requestId\n    );\n    // FileUpload sends a response without a matching request.\n    if (!request) {\n      return;\n    }\n\n    const extraInfos = this.#networkEventManager.responseExtraInfo(\n      responseReceived.requestId\n    );\n    if (extraInfos.length) {\n      debugError(\n        new Error(\n          'Unexpected extraInfo events for request ' +\n            responseReceived.requestId\n        )\n      );\n    }\n\n    // Chromium sends wrong extraInfo events for responses served from cache.\n    // See https://github.com/puppeteer/puppeteer/issues/9965 and\n    // https://crbug.com/1340398.\n    if (responseReceived.response.fromDiskCache) {\n      extraInfo = null;\n    }\n\n    const response = new CdpHTTPResponse(\n      client,\n      request,\n      responseReceived.response,\n      extraInfo\n    );\n    request._response = response;\n    this.emit(NetworkManagerEvent.Response, response);\n  }\n\n  #onResponseReceived(\n    client: CDPSession,\n    event: Protocol.Network.ResponseReceivedEvent\n  ): void {\n    const request = this.#networkEventManager.getRequest(event.requestId);\n    let extraInfo = null;\n    if (request && !request._fromMemoryCache && event.hasExtraInfo) {\n      extraInfo = this.#networkEventManager\n        .responseExtraInfo(event.requestId)\n        .shift();\n      if (!extraInfo) {\n        // Wait until we get the corresponding ExtraInfo event.\n        this.#networkEventManager.queueEventGroup(event.requestId, {\n          responseReceivedEvent: event,\n        });\n        return;\n      }\n    }\n    this.#emitResponseEvent(client, event, extraInfo);\n  }\n\n  #onResponseReceivedExtraInfo(\n    client: CDPSession,\n    event: Protocol.Network.ResponseReceivedExtraInfoEvent\n  ): void {\n    // We may have skipped a redirect response/request pair due to waiting for\n    // this ExtraInfo event. If so, continue that work now that we have the\n    // request.\n    const redirectInfo = this.#networkEventManager.takeQueuedRedirectInfo(\n      event.requestId\n    );\n    if (redirectInfo) {\n      this.#networkEventManager.responseExtraInfo(event.requestId).push(event);\n      this.#onRequest(client, redirectInfo.event, redirectInfo.fetchRequestId);\n      return;\n    }\n\n    // We may have skipped response and loading events because we didn't have\n    // this ExtraInfo event yet. If so, emit those events now.\n    const queuedEvents = this.#networkEventManager.getQueuedEventGroup(\n      event.requestId\n    );\n    if (queuedEvents) {\n      this.#networkEventManager.forgetQueuedEventGroup(event.requestId);\n      this.#emitResponseEvent(\n        client,\n        queuedEvents.responseReceivedEvent,\n        event\n      );\n      if (queuedEvents.loadingFinishedEvent) {\n        this.#emitLoadingFinished(queuedEvents.loadingFinishedEvent);\n      }\n      if (queuedEvents.loadingFailedEvent) {\n        this.#emitLoadingFailed(queuedEvents.loadingFailedEvent);\n      }\n      return;\n    }\n\n    // Wait until we get another event that can use this ExtraInfo event.\n    this.#networkEventManager.responseExtraInfo(event.requestId).push(event);\n  }\n\n  #forgetRequest(request: CdpHTTPRequest, events: boolean): void {\n    const requestId = request.id;\n    const interceptionId = request._interceptionId;\n\n    this.#networkEventManager.forgetRequest(requestId);\n    interceptionId !== undefined &&\n      this.#attemptedAuthentications.delete(interceptionId);\n\n    if (events) {\n      this.#networkEventManager.forget(requestId);\n    }\n  }\n\n  #onLoadingFinished(\n    _client: CDPSession,\n    event: Protocol.Network.LoadingFinishedEvent\n  ): void {\n    // If the response event for this request is still waiting on a\n    // corresponding ExtraInfo event, then wait to emit this event too.\n    const queuedEvents = this.#networkEventManager.getQueuedEventGroup(\n      event.requestId\n    );\n    if (queuedEvents) {\n      queuedEvents.loadingFinishedEvent = event;\n    } else {\n      this.#emitLoadingFinished(event);\n    }\n  }\n\n  #emitLoadingFinished(event: Protocol.Network.LoadingFinishedEvent): void {\n    const request = this.#networkEventManager.getRequest(event.requestId);\n    // For certain requestIds we never receive requestWillBeSent event.\n    // @see https://crbug.com/750469\n    if (!request) {\n      return;\n    }\n\n    // Under certain conditions we never get the Network.responseReceived\n    // event from protocol. @see https://crbug.com/883475\n    if (request.response()) {\n      request.response()?._resolveBody();\n    }\n    this.#forgetRequest(request, true);\n    this.emit(NetworkManagerEvent.RequestFinished, request);\n  }\n\n  #onLoadingFailed(\n    _client: CDPSession,\n    event: Protocol.Network.LoadingFailedEvent\n  ): void {\n    // If the response event for this request is still waiting on a\n    // corresponding ExtraInfo event, then wait to emit this event too.\n    const queuedEvents = this.#networkEventManager.getQueuedEventGroup(\n      event.requestId\n    );\n    if (queuedEvents) {\n      queuedEvents.loadingFailedEvent = event;\n    } else {\n      this.#emitLoadingFailed(event);\n    }\n  }\n\n  #emitLoadingFailed(event: Protocol.Network.LoadingFailedEvent): void {\n    const request = this.#networkEventManager.getRequest(event.requestId);\n    // For certain requestIds we never receive requestWillBeSent event.\n    // @see https://crbug.com/750469\n    if (!request) {\n      return;\n    }\n    request._failureText = event.errorText;\n    const response = request.response();\n    if (response) {\n      response._resolveBody();\n    }\n    this.#forgetRequest(request, true);\n    this.emit(NetworkManagerEvent.RequestFailed, request);\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport type {Frame} from '../api/Frame.js';\nimport {\n  type ContinueRequestOverrides,\n  headersArray,\n  HTTPRequest,\n  type ResourceType,\n  type ResponseForRequest,\n  STATUS_TEXTS,\n  handleError,\n} from '../api/HTTPRequest.js';\nimport {debugError} from '../common/util.js';\n\nimport type {CdpHTTPResponse} from './HTTPResponse.js';\n\n/**\n * @internal\n */\nexport class CdpHTTPRequest extends HTTPRequest {\n  override id: string;\n  declare _redirectChain: CdpHTTPRequest[];\n  declare _response: CdpHTTPResponse | null;\n\n  #client: CDPSession;\n  #isNavigationRequest: boolean;\n\n  #url: string;\n  #resourceType: ResourceType;\n\n  #method: string;\n  #hasPostData = false;\n  #postData?: string;\n  #headers: Record<string, string> = {};\n  #frame: Frame | null;\n  #initiator?: Protocol.Network.Initiator;\n\n  override get client(): CDPSession {\n    return this.#client;\n  }\n\n  constructor(\n    client: CDPSession,\n    frame: Frame | null,\n    interceptionId: string | undefined,\n    allowInterception: boolean,\n    data: {\n      /**\n       * Request identifier.\n       */\n      requestId: Protocol.Network.RequestId;\n      /**\n       * Loader identifier. Empty string if the request is fetched from worker.\n       */\n      loaderId?: Protocol.Network.LoaderId;\n      /**\n       * URL of the document this request is loaded for.\n       */\n      documentURL?: string;\n      /**\n       * Request data.\n       */\n      request: Protocol.Network.Request;\n      /**\n       * Request initiator.\n       */\n      initiator?: Protocol.Network.Initiator;\n      /**\n       * Type of this resource.\n       */\n      type?: Protocol.Network.ResourceType;\n    },\n    redirectChain: CdpHTTPRequest[]\n  ) {\n    super();\n    this.#client = client;\n    this.id = data.requestId;\n    this.#isNavigationRequest =\n      data.requestId === data.loaderId && data.type === 'Document';\n    this._interceptionId = interceptionId;\n    this.#url = data.request.url;\n    this.#resourceType = (data.type || 'other').toLowerCase() as ResourceType;\n    this.#method = data.request.method;\n    this.#postData = data.request.postData;\n    this.#hasPostData = data.request.hasPostData ?? false;\n    this.#frame = frame;\n    this._redirectChain = redirectChain;\n    this.#initiator = data.initiator;\n\n    this.interception.enabled = allowInterception;\n\n    for (const [key, value] of Object.entries(data.request.headers)) {\n      this.#headers[key.toLowerCase()] = value;\n    }\n  }\n\n  override url(): string {\n    return this.#url;\n  }\n\n  override resourceType(): ResourceType {\n    return this.#resourceType;\n  }\n\n  override method(): string {\n    return this.#method;\n  }\n\n  override postData(): string | undefined {\n    return this.#postData;\n  }\n\n  override hasPostData(): boolean {\n    return this.#hasPostData;\n  }\n\n  override async fetchPostData(): Promise<string | undefined> {\n    try {\n      const result = await this.#client.send('Network.getRequestPostData', {\n        requestId: this.id,\n      });\n      return result.postData;\n    } catch (err) {\n      debugError(err);\n      return;\n    }\n  }\n\n  override headers(): Record<string, string> {\n    return this.#headers;\n  }\n\n  override response(): CdpHTTPResponse | null {\n    return this._response;\n  }\n\n  override frame(): Frame | null {\n    return this.#frame;\n  }\n\n  override isNavigationRequest(): boolean {\n    return this.#isNavigationRequest;\n  }\n\n  override initiator(): Protocol.Network.Initiator | undefined {\n    return this.#initiator;\n  }\n\n  override redirectChain(): CdpHTTPRequest[] {\n    return this._redirectChain.slice();\n  }\n\n  override failure(): {errorText: string} | null {\n    if (!this._failureText) {\n      return null;\n    }\n    return {\n      errorText: this._failureText,\n    };\n  }\n\n  /**\n   * @internal\n   */\n  async _continue(overrides: ContinueRequestOverrides = {}): Promise<void> {\n    const {url, method, postData, headers} = overrides;\n    this.interception.handled = true;\n\n    const postDataBinaryBase64 = postData ? btoa(postData) : undefined;\n\n    if (this._interceptionId === undefined) {\n      throw new Error(\n        'HTTPRequest is missing _interceptionId needed for Fetch.continueRequest'\n      );\n    }\n    await this.#client\n      .send('Fetch.continueRequest', {\n        requestId: this._interceptionId,\n        url,\n        method,\n        postData: postDataBinaryBase64,\n        headers: headers ? headersArray(headers) : undefined,\n      })\n      .catch(error => {\n        this.interception.handled = false;\n        return handleError(error);\n      });\n  }\n\n  async _respond(response: Partial<ResponseForRequest>): Promise<void> {\n    this.interception.handled = true;\n\n    let parsedBody:\n      | {\n          contentLength: number;\n          base64: string;\n        }\n      | undefined;\n    if (response.body) {\n      parsedBody = HTTPRequest.getResponse(response.body);\n    }\n\n    const responseHeaders: Record<string, string | string[]> = {};\n    if (response.headers) {\n      for (const header of Object.keys(response.headers)) {\n        const value = response.headers[header];\n\n        responseHeaders[header.toLowerCase()] = Array.isArray(value)\n          ? value.map(item => {\n              return String(item);\n            })\n          : String(value);\n      }\n    }\n    if (response.contentType) {\n      responseHeaders['content-type'] = response.contentType;\n    }\n    if (parsedBody?.contentLength && !('content-length' in responseHeaders)) {\n      responseHeaders['content-length'] = String(parsedBody.contentLength);\n    }\n\n    const status = response.status || 200;\n    if (this._interceptionId === undefined) {\n      throw new Error(\n        'HTTPRequest is missing _interceptionId needed for Fetch.fulfillRequest'\n      );\n    }\n    await this.#client\n      .send('Fetch.fulfillRequest', {\n        requestId: this._interceptionId,\n        responseCode: status,\n        responsePhrase: STATUS_TEXTS[status],\n        responseHeaders: headersArray(responseHeaders),\n        body: parsedBody?.base64,\n      })\n      .catch(error => {\n        this.interception.handled = false;\n        return handleError(error);\n      });\n  }\n\n  async _abort(\n    errorReason: Protocol.Network.ErrorReason | null\n  ): Promise<void> {\n    this.interception.handled = true;\n    if (this._interceptionId === undefined) {\n      throw new Error(\n        'HTTPRequest is missing _interceptionId needed for Fetch.failRequest'\n      );\n    }\n    await this.#client\n      .send('Fetch.failRequest', {\n        requestId: this._interceptionId,\n        errorReason: errorReason || 'Failed',\n      })\n      .catch(handleError);\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {ProtocolError} from '../common/Errors.js';\nimport {debugError, isString} from '../common/util.js';\nimport {assert} from '../util/assert.js';\n\nimport type {CDPSession} from './CDPSession.js';\nimport type {Frame} from './Frame.js';\nimport type {HTTPResponse} from './HTTPResponse.js';\n\n/**\n * @public\n */\nexport interface ContinueRequestOverrides {\n  /**\n   * If set, the request URL will change. This is not a redirect.\n   */\n  url?: string;\n  method?: string;\n  postData?: string;\n  headers?: Record<string, string>;\n}\n\n/**\n * @public\n */\nexport interface InterceptResolutionState {\n  action: InterceptResolutionAction;\n  priority?: number;\n}\n\n/**\n * Required response data to fulfill a request with.\n *\n * @public\n */\nexport interface ResponseForRequest {\n  status: number;\n  /**\n   * Optional response headers. All values are converted to strings.\n   */\n  headers: Record<string, unknown>;\n  contentType: string;\n  body: string | Uint8Array;\n}\n\n/**\n * Resource types for HTTPRequests as perceived by the rendering engine.\n *\n * @public\n */\nexport type ResourceType = Lowercase<Protocol.Network.ResourceType>;\n\n/**\n * The default cooperative request interception resolution priority\n *\n * @public\n */\nexport const DEFAULT_INTERCEPT_RESOLUTION_PRIORITY = 0;\n\n/**\n * Represents an HTTP request sent by a page.\n * @remarks\n *\n * Whenever the page sends a request, such as for a network resource, the\n * following events are emitted by Puppeteer's `page`:\n *\n * - `request`: emitted when the request is issued by the page.\n * - `requestfinished` - emitted when the response body is downloaded and the\n *   request is complete.\n *\n * If request fails at some point, then instead of `requestfinished` event the\n * `requestfailed` event is emitted.\n *\n * All of these events provide an instance of `HTTPRequest` representing the\n * request that occurred:\n *\n * ```\n * page.on('request', request => ...)\n * ```\n *\n * NOTE: HTTP Error responses, such as 404 or 503, are still successful\n * responses from HTTP standpoint, so request will complete with\n * `requestfinished` event.\n *\n * If request gets a 'redirect' response, the request is successfully finished\n * with the `requestfinished` event, and a new request is issued to a\n * redirected url.\n *\n * @public\n */\nexport abstract class HTTPRequest {\n  /**\n   * @internal\n   */\n  abstract get id(): string;\n\n  /**\n   * @internal\n   */\n  _interceptionId: string | undefined;\n  /**\n   * @internal\n   */\n  _failureText: string | null = null;\n  /**\n   * @internal\n   */\n  _response: HTTPResponse | null = null;\n  /**\n   * @internal\n   */\n  _fromMemoryCache = false;\n  /**\n   * @internal\n   */\n  _redirectChain: HTTPRequest[] = [];\n\n  /**\n   * @internal\n   */\n  protected interception: {\n    enabled: boolean;\n    handled: boolean;\n    handlers: Array<() => void | PromiseLike<any>>;\n    resolutionState: InterceptResolutionState;\n    requestOverrides: ContinueRequestOverrides;\n    response: Partial<ResponseForRequest> | null;\n    abortReason: Protocol.Network.ErrorReason | null;\n  } = {\n    enabled: false,\n    handled: false,\n    handlers: [],\n    resolutionState: {\n      action: InterceptResolutionAction.None,\n    },\n    requestOverrides: {},\n    response: null,\n    abortReason: null,\n  };\n\n  /**\n   * Warning! Using this client can break Puppeteer. Use with caution.\n   *\n   * @experimental\n   */\n  abstract get client(): CDPSession;\n\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * The URL of the request\n   */\n  abstract url(): string;\n\n  /**\n   * The `ContinueRequestOverrides` that will be used\n   * if the interception is allowed to continue (ie, `abort()` and\n   * `respond()` aren't called).\n   */\n  continueRequestOverrides(): ContinueRequestOverrides {\n    assert(this.interception.enabled, 'Request Interception is not enabled!');\n    return this.interception.requestOverrides;\n  }\n\n  /**\n   * The `ResponseForRequest` that gets used if the\n   * interception is allowed to respond (ie, `abort()` is not called).\n   */\n  responseForRequest(): Partial<ResponseForRequest> | null {\n    assert(this.interception.enabled, 'Request Interception is not enabled!');\n    return this.interception.response;\n  }\n\n  /**\n   * The most recent reason for aborting the request\n   */\n  abortErrorReason(): Protocol.Network.ErrorReason | null {\n    assert(this.interception.enabled, 'Request Interception is not enabled!');\n    return this.interception.abortReason;\n  }\n\n  /**\n   * An InterceptResolutionState object describing the current resolution\n   * action and priority.\n   *\n   * InterceptResolutionState contains:\n   * action: InterceptResolutionAction\n   * priority?: number\n   *\n   * InterceptResolutionAction is one of: `abort`, `respond`, `continue`,\n   * `disabled`, `none`, or `already-handled`.\n   */\n  interceptResolutionState(): InterceptResolutionState {\n    if (!this.interception.enabled) {\n      return {action: InterceptResolutionAction.Disabled};\n    }\n    if (this.interception.handled) {\n      return {action: InterceptResolutionAction.AlreadyHandled};\n    }\n    return {...this.interception.resolutionState};\n  }\n\n  /**\n   * Is `true` if the intercept resolution has already been handled,\n   * `false` otherwise.\n   */\n  isInterceptResolutionHandled(): boolean {\n    return this.interception.handled;\n  }\n\n  /**\n   * Adds an async request handler to the processing queue.\n   * Deferred handlers are not guaranteed to execute in any particular order,\n   * but they are guaranteed to resolve before the request interception\n   * is finalized.\n   */\n  enqueueInterceptAction(\n    pendingHandler: () => void | PromiseLike<unknown>\n  ): void {\n    this.interception.handlers.push(pendingHandler);\n  }\n\n  /**\n   * @internal\n   */\n  abstract _abort(\n    errorReason: Protocol.Network.ErrorReason | null\n  ): Promise<void>;\n\n  /**\n   * @internal\n   */\n  abstract _respond(response: Partial<ResponseForRequest>): Promise<void>;\n\n  /**\n   * @internal\n   */\n  abstract _continue(overrides: ContinueRequestOverrides): Promise<void>;\n\n  /**\n   * Awaits pending interception handlers and then decides how to fulfill\n   * the request interception.\n   */\n  async finalizeInterceptions(): Promise<void> {\n    await this.interception.handlers.reduce((promiseChain, interceptAction) => {\n      return promiseChain.then(interceptAction);\n    }, Promise.resolve());\n    this.interception.handlers = []; // TODO: verify this is correct top let gc run\n    const {action} = this.interceptResolutionState();\n    switch (action) {\n      case 'abort':\n        return await this._abort(this.interception.abortReason);\n      case 'respond':\n        if (this.interception.response === null) {\n          throw new Error('Response is missing for the interception');\n        }\n        return await this._respond(this.interception.response);\n      case 'continue':\n        return await this._continue(this.interception.requestOverrides);\n    }\n  }\n\n  /**\n   * Contains the request's resource type as it was perceived by the rendering\n   * engine.\n   */\n  abstract resourceType(): ResourceType;\n\n  /**\n   * The method used (`GET`, `POST`, etc.)\n   */\n  abstract method(): string;\n\n  /**\n   * The request's post body, if any.\n   */\n  abstract postData(): string | undefined;\n\n  /**\n   * True when the request has POST data. Note that {@link HTTPRequest.postData}\n   * might still be undefined when this flag is true when the data is too long\n   * or not readily available in the decoded form. In that case, use\n   * {@link HTTPRequest.fetchPostData}.\n   */\n  abstract hasPostData(): boolean;\n\n  /**\n   * Fetches the POST data for the request from the browser.\n   */\n  abstract fetchPostData(): Promise<string | undefined>;\n\n  /**\n   * An object with HTTP headers associated with the request. All\n   * header names are lower-case.\n   */\n  abstract headers(): Record<string, string>;\n\n  /**\n   * A matching `HTTPResponse` object, or null if the response has not\n   * been received yet.\n   */\n  abstract response(): HTTPResponse | null;\n\n  /**\n   * The frame that initiated the request, or null if navigating to\n   * error pages.\n   */\n  abstract frame(): Frame | null;\n\n  /**\n   * True if the request is the driver of the current frame's navigation.\n   */\n  abstract isNavigationRequest(): boolean;\n\n  /**\n   * The initiator of the request.\n   */\n  abstract initiator(): Protocol.Network.Initiator | undefined;\n\n  /**\n   * A `redirectChain` is a chain of requests initiated to fetch a resource.\n   * @remarks\n   *\n   * `redirectChain` is shared between all the requests of the same chain.\n   *\n   * For example, if the website `http://example.com` has a single redirect to\n   * `https://example.com`, then the chain will contain one request:\n   *\n   * ```ts\n   * const response = await page.goto('http://example.com');\n   * const chain = response.request().redirectChain();\n   * console.log(chain.length); // 1\n   * console.log(chain[0].url()); // 'http://example.com'\n   * ```\n   *\n   * If the website `https://google.com` has no redirects, then the chain will be empty:\n   *\n   * ```ts\n   * const response = await page.goto('https://google.com');\n   * const chain = response.request().redirectChain();\n   * console.log(chain.length); // 0\n   * ```\n   *\n   * @returns the chain of requests - if a server responds with at least a\n   * single redirect, this chain will contain all requests that were redirected.\n   */\n  abstract redirectChain(): HTTPRequest[];\n\n  /**\n   * Access information about the request's failure.\n   *\n   * @remarks\n   *\n   * @example\n   *\n   * Example of logging all failed requests:\n   *\n   * ```ts\n   * page.on('requestfailed', request => {\n   *   console.log(request.url() + ' ' + request.failure().errorText);\n   * });\n   * ```\n   *\n   * @returns `null` unless the request failed. If the request fails this can\n   * return an object with `errorText` containing a human-readable error\n   * message, e.g. `net::ERR_FAILED`. It is not guaranteed that there will be\n   * failure text if the request fails.\n   */\n  abstract failure(): {errorText: string} | null;\n\n  /**\n   * Continues request with optional request overrides.\n   *\n   * @example\n   *\n   * ```ts\n   * await page.setRequestInterception(true);\n   * page.on('request', request => {\n   *   // Override headers\n   *   const headers = Object.assign({}, request.headers(), {\n   *     foo: 'bar', // set \"foo\" header\n   *     origin: undefined, // remove \"origin\" header\n   *   });\n   *   request.continue({headers});\n   * });\n   * ```\n   *\n   * @param overrides - optional overrides to apply to the request.\n   * @param priority - If provided, intercept is resolved using cooperative\n   * handling rules. Otherwise, intercept is resolved immediately.\n   *\n   * @remarks\n   *\n   * To use this, request interception should be enabled with\n   * {@link Page.setRequestInterception}.\n   *\n   * Exception is immediately thrown if the request interception is not enabled.\n   */\n  async continue(\n    overrides: ContinueRequestOverrides = {},\n    priority?: number\n  ): Promise<void> {\n    // Request interception is not supported for data: urls.\n    if (this.url().startsWith('data:')) {\n      return;\n    }\n    assert(this.interception.enabled, 'Request Interception is not enabled!');\n    assert(!this.interception.handled, 'Request is already handled!');\n    if (priority === undefined) {\n      return await this._continue(overrides);\n    }\n    this.interception.requestOverrides = overrides;\n    if (\n      this.interception.resolutionState.priority === undefined ||\n      priority > this.interception.resolutionState.priority\n    ) {\n      this.interception.resolutionState = {\n        action: InterceptResolutionAction.Continue,\n        priority,\n      };\n      return;\n    }\n    if (priority === this.interception.resolutionState.priority) {\n      if (\n        this.interception.resolutionState.action === 'abort' ||\n        this.interception.resolutionState.action === 'respond'\n      ) {\n        return;\n      }\n      this.interception.resolutionState.action =\n        InterceptResolutionAction.Continue;\n    }\n    return;\n  }\n\n  /**\n   * Fulfills a request with the given response.\n   *\n   * @example\n   * An example of fulfilling all requests with 404 responses:\n   *\n   * ```ts\n   * await page.setRequestInterception(true);\n   * page.on('request', request => {\n   *   request.respond({\n   *     status: 404,\n   *     contentType: 'text/plain',\n   *     body: 'Not Found!',\n   *   });\n   * });\n   * ```\n   *\n   * NOTE: Mocking responses for dataURL requests is not supported.\n   * Calling `request.respond` for a dataURL request is a noop.\n   *\n   * @param response - the response to fulfill the request with.\n   * @param priority - If provided, intercept is resolved using\n   * cooperative handling rules. Otherwise, intercept is resolved\n   * immediately.\n   *\n   * @remarks\n   *\n   * To use this, request\n   * interception should be enabled with {@link Page.setRequestInterception}.\n   *\n   * Exception is immediately thrown if the request interception is not enabled.\n   */\n  async respond(\n    response: Partial<ResponseForRequest>,\n    priority?: number\n  ): Promise<void> {\n    // Mocking responses for dataURL requests is not currently supported.\n    if (this.url().startsWith('data:')) {\n      return;\n    }\n    assert(this.interception.enabled, 'Request Interception is not enabled!');\n    assert(!this.interception.handled, 'Request is already handled!');\n    if (priority === undefined) {\n      return await this._respond(response);\n    }\n    this.interception.response = response;\n    if (\n      this.interception.resolutionState.priority === undefined ||\n      priority > this.interception.resolutionState.priority\n    ) {\n      this.interception.resolutionState = {\n        action: InterceptResolutionAction.Respond,\n        priority,\n      };\n      return;\n    }\n    if (priority === this.interception.resolutionState.priority) {\n      if (this.interception.resolutionState.action === 'abort') {\n        return;\n      }\n      this.interception.resolutionState.action =\n        InterceptResolutionAction.Respond;\n    }\n  }\n\n  /**\n   * Aborts a request.\n   *\n   * @param errorCode - optional error code to provide.\n   * @param priority - If provided, intercept is resolved using\n   * cooperative handling rules. Otherwise, intercept is resolved\n   * immediately.\n   *\n   * @remarks\n   *\n   * To use this, request interception should be enabled with\n   * {@link Page.setRequestInterception}. If it is not enabled, this method will\n   * throw an exception immediately.\n   */\n  async abort(\n    errorCode: ErrorCode = 'failed',\n    priority?: number\n  ): Promise<void> {\n    // Request interception is not supported for data: urls.\n    if (this.url().startsWith('data:')) {\n      return;\n    }\n    const errorReason = errorReasons[errorCode];\n    assert(errorReason, 'Unknown error code: ' + errorCode);\n    assert(this.interception.enabled, 'Request Interception is not enabled!');\n    assert(!this.interception.handled, 'Request is already handled!');\n    if (priority === undefined) {\n      return await this._abort(errorReason);\n    }\n    this.interception.abortReason = errorReason;\n    if (\n      this.interception.resolutionState.priority === undefined ||\n      priority >= this.interception.resolutionState.priority\n    ) {\n      this.interception.resolutionState = {\n        action: InterceptResolutionAction.Abort,\n        priority,\n      };\n      return;\n    }\n  }\n\n  /**\n   * @internal\n   */\n  static getResponse(body: string | Uint8Array): {\n    contentLength: number;\n    base64: string;\n  } {\n    // Needed to get the correct byteLength\n    const byteBody: Uint8Array = isString(body)\n      ? new TextEncoder().encode(body)\n      : body;\n\n    const bytes = [];\n    for (const byte of byteBody) {\n      bytes.push(String.fromCharCode(byte));\n    }\n\n    return {\n      contentLength: byteBody.byteLength,\n      base64: btoa(bytes.join('')),\n    };\n  }\n}\n\n/**\n * @public\n */\nexport enum InterceptResolutionAction {\n  Abort = 'abort',\n  Respond = 'respond',\n  Continue = 'continue',\n  Disabled = 'disabled',\n  None = 'none',\n  AlreadyHandled = 'already-handled',\n}\n\n/**\n * @public\n */\nexport type ErrorCode =\n  | 'aborted'\n  | 'accessdenied'\n  | 'addressunreachable'\n  | 'blockedbyclient'\n  | 'blockedbyresponse'\n  | 'connectionaborted'\n  | 'connectionclosed'\n  | 'connectionfailed'\n  | 'connectionrefused'\n  | 'connectionreset'\n  | 'internetdisconnected'\n  | 'namenotresolved'\n  | 'timedout'\n  | 'failed';\n\n/**\n * @public\n */\nexport type ActionResult = 'continue' | 'abort' | 'respond';\n\n/**\n * @internal\n */\nexport function headersArray(\n  headers: Record<string, string | string[]>\n): Array<{name: string; value: string}> {\n  const result = [];\n  for (const name in headers) {\n    const value = headers[name];\n\n    if (!Object.is(value, undefined)) {\n      const values = Array.isArray(value) ? value : [value];\n\n      result.push(\n        ...values.map(value => {\n          return {name, value: value + ''};\n        })\n      );\n    }\n  }\n  return result;\n}\n\n/**\n * @internal\n *\n * @remarks\n * List taken from {@link https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml}\n * with extra 306 and 418 codes.\n */\nexport const STATUS_TEXTS: Record<string, string> = {\n  '100': 'Continue',\n  '101': 'Switching Protocols',\n  '102': 'Processing',\n  '103': 'Early Hints',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '207': 'Multi-Status',\n  '208': 'Already Reported',\n  '226': 'IM Used',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '306': 'Switch Proxy',\n  '307': 'Temporary Redirect',\n  '308': 'Permanent Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Failed',\n  '413': 'Payload Too Large',\n  '414': 'URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': \"I'm a teapot\",\n  '421': 'Misdirected Request',\n  '422': 'Unprocessable Entity',\n  '423': 'Locked',\n  '424': 'Failed Dependency',\n  '425': 'Too Early',\n  '426': 'Upgrade Required',\n  '428': 'Precondition Required',\n  '429': 'Too Many Requests',\n  '431': 'Request Header Fields Too Large',\n  '451': 'Unavailable For Legal Reasons',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported',\n  '506': 'Variant Also Negotiates',\n  '507': 'Insufficient Storage',\n  '508': 'Loop Detected',\n  '510': 'Not Extended',\n  '511': 'Network Authentication Required',\n} as const;\n\nconst errorReasons: Record<ErrorCode, Protocol.Network.ErrorReason> = {\n  aborted: 'Aborted',\n  accessdenied: 'AccessDenied',\n  addressunreachable: 'AddressUnreachable',\n  blockedbyclient: 'BlockedByClient',\n  blockedbyresponse: 'BlockedByResponse',\n  connectionaborted: 'ConnectionAborted',\n  connectionclosed: 'ConnectionClosed',\n  connectionfailed: 'ConnectionFailed',\n  connectionrefused: 'ConnectionRefused',\n  connectionreset: 'ConnectionReset',\n  internetdisconnected: 'InternetDisconnected',\n  namenotresolved: 'NameNotResolved',\n  timedout: 'TimedOut',\n  failed: 'Failed',\n} as const;\n\n/**\n * @internal\n */\nexport function handleError(error: ProtocolError): void {\n  // Firefox throws an invalid argument error with a message starting with\n  // 'Expected \"header\" [...]'.\n  if (\n    error.originalMessage.includes('Invalid header') ||\n    error.originalMessage.includes('Expected \"header\"') ||\n    // WebDriver BiDi error for invalid values, for example, headers.\n    error.originalMessage.includes('invalid argument')\n  ) {\n    throw error;\n  }\n  // In certain cases, protocol will return error if the request was\n  // already canceled or the page was closed. We should tolerate these\n  // errors.\n  debugError(error);\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport type {Frame} from '../api/Frame.js';\nimport {HTTPResponse, type RemoteAddress} from '../api/HTTPResponse.js';\nimport {ProtocolError} from '../common/Errors.js';\nimport {SecurityDetails} from '../common/SecurityDetails.js';\nimport {Deferred} from '../util/Deferred.js';\n\nimport type {CdpHTTPRequest} from './HTTPRequest.js';\n\n/**\n * @internal\n */\nexport class CdpHTTPResponse extends HTTPResponse {\n  #client: CDPSession;\n  #request: CdpHTTPRequest;\n  #contentPromise: Promise<Buffer> | null = null;\n  #bodyLoadedDeferred = Deferred.create<void, Error>();\n  #remoteAddress: RemoteAddress;\n  #status: number;\n  #statusText: string;\n  #url: string;\n  #fromDiskCache: boolean;\n  #fromServiceWorker: boolean;\n  #headers: Record<string, string> = {};\n  #securityDetails: SecurityDetails | null;\n  #timing: Protocol.Network.ResourceTiming | null;\n\n  constructor(\n    client: CDPSession,\n    request: CdpHTTPRequest,\n    responsePayload: Protocol.Network.Response,\n    extraInfo: Protocol.Network.ResponseReceivedExtraInfoEvent | null\n  ) {\n    super();\n    this.#client = client;\n    this.#request = request;\n\n    this.#remoteAddress = {\n      ip: responsePayload.remoteIPAddress,\n      port: responsePayload.remotePort,\n    };\n    this.#statusText =\n      this.#parseStatusTextFromExtraInfo(extraInfo) ||\n      responsePayload.statusText;\n    this.#url = request.url();\n    this.#fromDiskCache = !!responsePayload.fromDiskCache;\n    this.#fromServiceWorker = !!responsePayload.fromServiceWorker;\n\n    this.#status = extraInfo ? extraInfo.statusCode : responsePayload.status;\n    const headers = extraInfo ? extraInfo.headers : responsePayload.headers;\n    for (const [key, value] of Object.entries(headers)) {\n      this.#headers[key.toLowerCase()] = value;\n    }\n\n    this.#securityDetails = responsePayload.securityDetails\n      ? new SecurityDetails(responsePayload.securityDetails)\n      : null;\n    this.#timing = responsePayload.timing || null;\n  }\n\n  #parseStatusTextFromExtraInfo(\n    extraInfo: Protocol.Network.ResponseReceivedExtraInfoEvent | null\n  ): string | undefined {\n    if (!extraInfo || !extraInfo.headersText) {\n      return;\n    }\n    const firstLine = extraInfo.headersText.split('\\r', 1)[0];\n    if (!firstLine) {\n      return;\n    }\n    const match = firstLine.match(/[^ ]* [^ ]* (.*)/);\n    if (!match) {\n      return;\n    }\n    const statusText = match[1];\n    if (!statusText) {\n      return;\n    }\n    return statusText;\n  }\n\n  _resolveBody(err?: Error): void {\n    if (err) {\n      return this.#bodyLoadedDeferred.reject(err);\n    }\n    return this.#bodyLoadedDeferred.resolve();\n  }\n\n  override remoteAddress(): RemoteAddress {\n    return this.#remoteAddress;\n  }\n\n  override url(): string {\n    return this.#url;\n  }\n\n  override status(): number {\n    return this.#status;\n  }\n\n  override statusText(): string {\n    return this.#statusText;\n  }\n\n  override headers(): Record<string, string> {\n    return this.#headers;\n  }\n\n  override securityDetails(): SecurityDetails | null {\n    return this.#securityDetails;\n  }\n\n  override timing(): Protocol.Network.ResourceTiming | null {\n    return this.#timing;\n  }\n\n  override buffer(): Promise<Buffer> {\n    if (!this.#contentPromise) {\n      this.#contentPromise = this.#bodyLoadedDeferred\n        .valueOrThrow()\n        .then(async () => {\n          try {\n            const response = await this.#client.send(\n              'Network.getResponseBody',\n              {\n                requestId: this.#request.id,\n              }\n            );\n            return Buffer.from(\n              response.body,\n              response.base64Encoded ? 'base64' : 'utf8'\n            );\n          } catch (error) {\n            if (\n              error instanceof ProtocolError &&\n              error.originalMessage ===\n                'No resource with given identifier found'\n            ) {\n              throw new ProtocolError(\n                'Could not load body for this request. This might happen if the request is a preflight request.'\n              );\n            }\n\n            throw error;\n          }\n        });\n    }\n    return this.#contentPromise;\n  }\n\n  override request(): CdpHTTPRequest {\n    return this.#request;\n  }\n\n  override fromCache(): boolean {\n    return this.#fromDiskCache || this.#request._fromMemoryCache;\n  }\n\n  override fromServiceWorker(): boolean {\n    return this.#fromServiceWorker;\n  }\n\n  override frame(): Frame | null {\n    return this.#request.frame();\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type Protocol from 'devtools-protocol';\n\nimport type {SecurityDetails} from '../common/SecurityDetails.js';\n\nimport type {Frame} from './Frame.js';\nimport type {HTTPRequest} from './HTTPRequest.js';\n\n/**\n * @public\n */\nexport interface RemoteAddress {\n  ip?: string;\n  port?: number;\n}\n\n/**\n * The HTTPResponse class represents responses which are received by the\n * {@link Page} class.\n *\n * @public\n */\nexport abstract class HTTPResponse {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * The IP address and port number used to connect to the remote\n   * server.\n   */\n  abstract remoteAddress(): RemoteAddress;\n\n  /**\n   * The URL of the response.\n   */\n  abstract url(): string;\n\n  /**\n   * True if the response was successful (status in the range 200-299).\n   */\n  ok(): boolean {\n    // TODO: document === 0 case?\n    const status = this.status();\n    return status === 0 || (status >= 200 && status <= 299);\n  }\n\n  /**\n   * The status code of the response (e.g., 200 for a success).\n   */\n  abstract status(): number;\n\n  /**\n   * The status text of the response (e.g. usually an \"OK\" for a\n   * success).\n   */\n  abstract statusText(): string;\n\n  /**\n   * An object with HTTP headers associated with the response. All\n   * header names are lower-case.\n   */\n  abstract headers(): Record<string, string>;\n\n  /**\n   * {@link SecurityDetails} if the response was received over the\n   * secure connection, or `null` otherwise.\n   */\n  abstract securityDetails(): SecurityDetails | null;\n\n  /**\n   * Timing information related to the response.\n   */\n  abstract timing(): Protocol.Network.ResourceTiming | null;\n\n  /**\n   * Promise which resolves to a buffer with response body.\n   *\n   * @remarks\n   *\n   * The buffer might be re-encoded by the browser\n   * based on HTTP-headers or other heuristics. If the browser\n   * failed to detect the correct encoding, the buffer might\n   * be encoded incorrectly. See https://github.com/puppeteer/puppeteer/issues/6478.\n   */\n  abstract buffer(): Promise<Buffer>;\n\n  /**\n   * Promise which resolves to a text (utf8) representation of response body.\n   */\n  async text(): Promise<string> {\n    const content = await this.buffer();\n    return content.toString('utf8');\n  }\n\n  /**\n   * Promise which resolves to a JSON representation of response body.\n   *\n   * @remarks\n   *\n   * This method will throw if the response body is not parsable via\n   * `JSON.parse`.\n   */\n  async json(): Promise<any> {\n    const content = await this.text();\n    return JSON.parse(content);\n  }\n\n  /**\n   * A matching {@link HTTPRequest} object.\n   */\n  abstract request(): HTTPRequest;\n\n  /**\n   * True if the response was served from either the browser's disk\n   * cache or memory cache.\n   */\n  abstract fromCache(): boolean;\n\n  /**\n   * True if the response was served by a service worker.\n   */\n  abstract fromServiceWorker(): boolean;\n\n  /**\n   * A {@link Frame} that initiated this response, or `null` if\n   * navigating to error pages.\n   */\n  abstract frame(): Frame | null;\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\n/**\n * The SecurityDetails class represents the security details of a\n * response that was received over a secure connection.\n *\n * @public\n */\nexport class SecurityDetails {\n  #subjectName: string;\n  #issuer: string;\n  #validFrom: number;\n  #validTo: number;\n  #protocol: string;\n  #sanList: string[];\n\n  /**\n   * @internal\n   */\n  constructor(securityPayload: Protocol.Network.SecurityDetails) {\n    this.#subjectName = securityPayload.subjectName;\n    this.#issuer = securityPayload.issuer;\n    this.#validFrom = securityPayload.validFrom;\n    this.#validTo = securityPayload.validTo;\n    this.#protocol = securityPayload.protocol;\n    this.#sanList = securityPayload.sanList;\n  }\n\n  /**\n   * The name of the issuer of the certificate.\n   */\n  issuer(): string {\n    return this.#issuer;\n  }\n\n  /**\n   * {@link https://en.wikipedia.org/wiki/Unix_time | Unix timestamp}\n   * marking the start of the certificate's validity.\n   */\n  validFrom(): number {\n    return this.#validFrom;\n  }\n\n  /**\n   * {@link https://en.wikipedia.org/wiki/Unix_time | Unix timestamp}\n   * marking the end of the certificate's validity.\n   */\n  validTo(): number {\n    return this.#validTo;\n  }\n\n  /**\n   * The security protocol being used, e.g. \"TLS 1.2\".\n   */\n  protocol(): string {\n    return this.#protocol;\n  }\n\n  /**\n   * The name of the subject to which the certificate was issued.\n   */\n  subjectName(): string {\n    return this.#subjectName;\n  }\n\n  /**\n   * The list of {@link https://en.wikipedia.org/wiki/Subject_Alternative_Name | subject alternative names (SANs)} of the certificate.\n   */\n  subjectAlternativeNames(): string[] {\n    return this.#sanList;\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CdpHTTPRequest} from './HTTPRequest.js';\n\n/**\n * @internal\n */\nexport interface QueuedEventGroup {\n  responseReceivedEvent: Protocol.Network.ResponseReceivedEvent;\n  loadingFinishedEvent?: Protocol.Network.LoadingFinishedEvent;\n  loadingFailedEvent?: Protocol.Network.LoadingFailedEvent;\n}\n\n/**\n * @internal\n */\nexport type FetchRequestId = string;\n\n/**\n * @internal\n */\nexport interface RedirectInfo {\n  event: Protocol.Network.RequestWillBeSentEvent;\n  fetchRequestId?: FetchRequestId;\n}\ntype RedirectInfoList = RedirectInfo[];\n\n/**\n * @internal\n */\nexport type NetworkRequestId = string;\n\n/**\n * Helper class to track network events by request ID\n *\n * @internal\n */\nexport class NetworkEventManager {\n  /**\n   * There are four possible orders of events:\n   * A. `_onRequestWillBeSent`\n   * B. `_onRequestWillBeSent`, `_onRequestPaused`\n   * C. `_onRequestPaused`, `_onRequestWillBeSent`\n   * D. `_onRequestPaused`, `_onRequestWillBeSent`, `_onRequestPaused`,\n   * `_onRequestWillBeSent`, `_onRequestPaused`, `_onRequestPaused`\n   * (see crbug.com/1196004)\n   *\n   * For `_onRequest` we need the event from `_onRequestWillBeSent` and\n   * optionally the `interceptionId` from `_onRequestPaused`.\n   *\n   * If request interception is disabled, call `_onRequest` once per call to\n   * `_onRequestWillBeSent`.\n   * If request interception is enabled, call `_onRequest` once per call to\n   * `_onRequestPaused` (once per `interceptionId`).\n   *\n   * Events are stored to allow for subsequent events to call `_onRequest`.\n   *\n   * Note that (chains of) redirect requests have the same `requestId` (!) as\n   * the original request. We have to anticipate series of events like these:\n   * A. `_onRequestWillBeSent`,\n   * `_onRequestWillBeSent`, ...\n   * B. `_onRequestWillBeSent`, `_onRequestPaused`,\n   * `_onRequestWillBeSent`, `_onRequestPaused`, ...\n   * C. `_onRequestWillBeSent`, `_onRequestPaused`,\n   * `_onRequestPaused`, `_onRequestWillBeSent`, ...\n   * D. `_onRequestPaused`, `_onRequestWillBeSent`,\n   * `_onRequestPaused`, `_onRequestWillBeSent`, `_onRequestPaused`,\n   * `_onRequestWillBeSent`, `_onRequestPaused`, `_onRequestPaused`, ...\n   * (see crbug.com/1196004)\n   */\n  #requestWillBeSentMap = new Map<\n    NetworkRequestId,\n    Protocol.Network.RequestWillBeSentEvent\n  >();\n  #requestPausedMap = new Map<\n    NetworkRequestId,\n    Protocol.Fetch.RequestPausedEvent\n  >();\n  #httpRequestsMap = new Map<NetworkRequestId, CdpHTTPRequest>();\n\n  /*\n   * The below maps are used to reconcile Network.responseReceivedExtraInfo\n   * events with their corresponding request. Each response and redirect\n   * response gets an ExtraInfo event, and we don't know which will come first.\n   * This means that we have to store a Response or an ExtraInfo for each\n   * response, and emit the event when we get both of them. In addition, to\n   * handle redirects, we have to make them Arrays to represent the chain of\n   * events.\n   */\n  #responseReceivedExtraInfoMap = new Map<\n    NetworkRequestId,\n    Protocol.Network.ResponseReceivedExtraInfoEvent[]\n  >();\n  #queuedRedirectInfoMap = new Map<NetworkRequestId, RedirectInfoList>();\n  #queuedEventGroupMap = new Map<NetworkRequestId, QueuedEventGroup>();\n\n  forget(networkRequestId: NetworkRequestId): void {\n    this.#requestWillBeSentMap.delete(networkRequestId);\n    this.#requestPausedMap.delete(networkRequestId);\n    this.#queuedEventGroupMap.delete(networkRequestId);\n    this.#queuedRedirectInfoMap.delete(networkRequestId);\n    this.#responseReceivedExtraInfoMap.delete(networkRequestId);\n  }\n\n  responseExtraInfo(\n    networkRequestId: NetworkRequestId\n  ): Protocol.Network.ResponseReceivedExtraInfoEvent[] {\n    if (!this.#responseReceivedExtraInfoMap.has(networkRequestId)) {\n      this.#responseReceivedExtraInfoMap.set(networkRequestId, []);\n    }\n    return this.#responseReceivedExtraInfoMap.get(\n      networkRequestId\n    ) as Protocol.Network.ResponseReceivedExtraInfoEvent[];\n  }\n\n  private queuedRedirectInfo(fetchRequestId: FetchRequestId): RedirectInfoList {\n    if (!this.#queuedRedirectInfoMap.has(fetchRequestId)) {\n      this.#queuedRedirectInfoMap.set(fetchRequestId, []);\n    }\n    return this.#queuedRedirectInfoMap.get(fetchRequestId) as RedirectInfoList;\n  }\n\n  queueRedirectInfo(\n    fetchRequestId: FetchRequestId,\n    redirectInfo: RedirectInfo\n  ): void {\n    this.queuedRedirectInfo(fetchRequestId).push(redirectInfo);\n  }\n\n  takeQueuedRedirectInfo(\n    fetchRequestId: FetchRequestId\n  ): RedirectInfo | undefined {\n    return this.queuedRedirectInfo(fetchRequestId).shift();\n  }\n\n  inFlightRequestsCount(): number {\n    let inFlightRequestCounter = 0;\n    for (const request of this.#httpRequestsMap.values()) {\n      if (!request.response()) {\n        inFlightRequestCounter++;\n      }\n    }\n    return inFlightRequestCounter;\n  }\n\n  storeRequestWillBeSent(\n    networkRequestId: NetworkRequestId,\n    event: Protocol.Network.RequestWillBeSentEvent\n  ): void {\n    this.#requestWillBeSentMap.set(networkRequestId, event);\n  }\n\n  getRequestWillBeSent(\n    networkRequestId: NetworkRequestId\n  ): Protocol.Network.RequestWillBeSentEvent | undefined {\n    return this.#requestWillBeSentMap.get(networkRequestId);\n  }\n\n  forgetRequestWillBeSent(networkRequestId: NetworkRequestId): void {\n    this.#requestWillBeSentMap.delete(networkRequestId);\n  }\n\n  getRequestPaused(\n    networkRequestId: NetworkRequestId\n  ): Protocol.Fetch.RequestPausedEvent | undefined {\n    return this.#requestPausedMap.get(networkRequestId);\n  }\n\n  forgetRequestPaused(networkRequestId: NetworkRequestId): void {\n    this.#requestPausedMap.delete(networkRequestId);\n  }\n\n  storeRequestPaused(\n    networkRequestId: NetworkRequestId,\n    event: Protocol.Fetch.RequestPausedEvent\n  ): void {\n    this.#requestPausedMap.set(networkRequestId, event);\n  }\n\n  getRequest(networkRequestId: NetworkRequestId): CdpHTTPRequest | undefined {\n    return this.#httpRequestsMap.get(networkRequestId);\n  }\n\n  storeRequest(\n    networkRequestId: NetworkRequestId,\n    request: CdpHTTPRequest\n  ): void {\n    this.#httpRequestsMap.set(networkRequestId, request);\n  }\n\n  forgetRequest(networkRequestId: NetworkRequestId): void {\n    this.#httpRequestsMap.delete(networkRequestId);\n  }\n\n  getQueuedEventGroup(\n    networkRequestId: NetworkRequestId\n  ): QueuedEventGroup | undefined {\n    return this.#queuedEventGroupMap.get(networkRequestId);\n  }\n\n  queueEventGroup(\n    networkRequestId: NetworkRequestId,\n    event: QueuedEventGroup\n  ): void {\n    this.#queuedEventGroupMap.set(networkRequestId, event);\n  }\n\n  forgetQueuedEventGroup(networkRequestId: NetworkRequestId): void {\n    this.#queuedEventGroupMap.delete(networkRequestId);\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {CDPSession} from '../api/CDPSession.js';\nimport type {Point} from '../api/ElementHandle.js';\nimport {\n  Keyboard,\n  Mouse,\n  MouseButton,\n  Touchscreen,\n  type KeyDownOptions,\n  type KeyPressOptions,\n  type KeyboardTypeOptions,\n  type MouseClickOptions,\n  type MouseMoveOptions,\n  type MouseOptions,\n  type MouseWheelOptions,\n} from '../api/Input.js';\nimport {\n  _keyDefinitions,\n  type KeyDefinition,\n  type KeyInput,\n} from '../common/USKeyboardLayout.js';\nimport {assert} from '../util/assert.js';\n\ntype KeyDescription = Required<\n  Pick<KeyDefinition, 'keyCode' | 'key' | 'text' | 'code' | 'location'>\n>;\n\n/**\n * @internal\n */\nexport class CdpKeyboard extends Keyboard {\n  #client: CDPSession;\n  #pressedKeys = new Set<string>();\n\n  _modifiers = 0;\n\n  constructor(client: CDPSession) {\n    super();\n    this.#client = client;\n  }\n\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  override async down(\n    key: KeyInput,\n    options: Readonly<KeyDownOptions> = {\n      text: undefined,\n      commands: [],\n    }\n  ): Promise<void> {\n    const description = this.#keyDescriptionForString(key);\n\n    const autoRepeat = this.#pressedKeys.has(description.code);\n    this.#pressedKeys.add(description.code);\n    this._modifiers |= this.#modifierBit(description.key);\n\n    const text = options.text === undefined ? description.text : options.text;\n    await this.#client.send('Input.dispatchKeyEvent', {\n      type: text ? 'keyDown' : 'rawKeyDown',\n      modifiers: this._modifiers,\n      windowsVirtualKeyCode: description.keyCode,\n      code: description.code,\n      key: description.key,\n      text: text,\n      unmodifiedText: text,\n      autoRepeat,\n      location: description.location,\n      isKeypad: description.location === 3,\n      commands: options.commands,\n    });\n  }\n\n  #modifierBit(key: string): number {\n    if (key === 'Alt') {\n      return 1;\n    }\n    if (key === 'Control') {\n      return 2;\n    }\n    if (key === 'Meta') {\n      return 4;\n    }\n    if (key === 'Shift') {\n      return 8;\n    }\n    return 0;\n  }\n\n  #keyDescriptionForString(keyString: KeyInput): KeyDescription {\n    const shift = this._modifiers & 8;\n    const description = {\n      key: '',\n      keyCode: 0,\n      code: '',\n      text: '',\n      location: 0,\n    };\n\n    const definition = _keyDefinitions[keyString];\n    assert(definition, `Unknown key: \"${keyString}\"`);\n\n    if (definition.key) {\n      description.key = definition.key;\n    }\n    if (shift && definition.shiftKey) {\n      description.key = definition.shiftKey;\n    }\n\n    if (definition.keyCode) {\n      description.keyCode = definition.keyCode;\n    }\n    if (shift && definition.shiftKeyCode) {\n      description.keyCode = definition.shiftKeyCode;\n    }\n\n    if (definition.code) {\n      description.code = definition.code;\n    }\n\n    if (definition.location) {\n      description.location = definition.location;\n    }\n\n    if (description.key.length === 1) {\n      description.text = description.key;\n    }\n\n    if (definition.text) {\n      description.text = definition.text;\n    }\n    if (shift && definition.shiftText) {\n      description.text = definition.shiftText;\n    }\n\n    // if any modifiers besides shift are pressed, no text should be sent\n    if (this._modifiers & ~8) {\n      description.text = '';\n    }\n\n    return description;\n  }\n\n  override async up(key: KeyInput): Promise<void> {\n    const description = this.#keyDescriptionForString(key);\n\n    this._modifiers &= ~this.#modifierBit(description.key);\n    this.#pressedKeys.delete(description.code);\n    await this.#client.send('Input.dispatchKeyEvent', {\n      type: 'keyUp',\n      modifiers: this._modifiers,\n      key: description.key,\n      windowsVirtualKeyCode: description.keyCode,\n      code: description.code,\n      location: description.location,\n    });\n  }\n\n  override async sendCharacter(char: string): Promise<void> {\n    await this.#client.send('Input.insertText', {text: char});\n  }\n\n  private charIsKey(char: string): char is KeyInput {\n    return !!_keyDefinitions[char as KeyInput];\n  }\n\n  override async type(\n    text: string,\n    options: Readonly<KeyboardTypeOptions> = {}\n  ): Promise<void> {\n    const delay = options.delay || undefined;\n    for (const char of text) {\n      if (this.charIsKey(char)) {\n        await this.press(char, {delay});\n      } else {\n        if (delay) {\n          await new Promise(f => {\n            return setTimeout(f, delay);\n          });\n        }\n        await this.sendCharacter(char);\n      }\n    }\n  }\n\n  override async press(\n    key: KeyInput,\n    options: Readonly<KeyPressOptions> = {}\n  ): Promise<void> {\n    const {delay = null} = options;\n    await this.down(key, options);\n    if (delay) {\n      await new Promise(f => {\n        return setTimeout(f, options.delay);\n      });\n    }\n    await this.up(key);\n  }\n}\n\n/**\n * This must follow {@link Protocol.Input.DispatchMouseEventRequest.buttons}.\n */\nconst enum MouseButtonFlag {\n  None = 0,\n  Left = 1,\n  Right = 1 << 1,\n  Middle = 1 << 2,\n  Back = 1 << 3,\n  Forward = 1 << 4,\n}\n\nconst getFlag = (button: MouseButton): MouseButtonFlag => {\n  switch (button) {\n    case MouseButton.Left:\n      return MouseButtonFlag.Left;\n    case MouseButton.Right:\n      return MouseButtonFlag.Right;\n    case MouseButton.Middle:\n      return MouseButtonFlag.Middle;\n    case MouseButton.Back:\n      return MouseButtonFlag.Back;\n    case MouseButton.Forward:\n      return MouseButtonFlag.Forward;\n  }\n};\n\n/**\n * This should match\n * https://source.chromium.org/chromium/chromium/src/+/refs/heads/main:content/browser/renderer_host/input/web_input_event_builders_mac.mm;drc=a61b95c63b0b75c1cfe872d9c8cdf927c226046e;bpv=1;bpt=1;l=221.\n */\nconst getButtonFromPressedButtons = (\n  buttons: number\n): Protocol.Input.MouseButton => {\n  if (buttons & MouseButtonFlag.Left) {\n    return MouseButton.Left;\n  } else if (buttons & MouseButtonFlag.Right) {\n    return MouseButton.Right;\n  } else if (buttons & MouseButtonFlag.Middle) {\n    return MouseButton.Middle;\n  } else if (buttons & MouseButtonFlag.Back) {\n    return MouseButton.Back;\n  } else if (buttons & MouseButtonFlag.Forward) {\n    return MouseButton.Forward;\n  }\n  return 'none';\n};\n\ninterface MouseState {\n  /**\n   * The current position of the mouse.\n   */\n  position: Point;\n  /**\n   * The buttons that are currently being pressed.\n   */\n  buttons: number;\n}\n\n/**\n * @internal\n */\nexport class CdpMouse extends Mouse {\n  #client: CDPSession;\n  #keyboard: CdpKeyboard;\n\n  constructor(client: CDPSession, keyboard: CdpKeyboard) {\n    super();\n    this.#client = client;\n    this.#keyboard = keyboard;\n  }\n\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  #_state: Readonly<MouseState> = {\n    position: {x: 0, y: 0},\n    buttons: MouseButtonFlag.None,\n  };\n  get #state(): MouseState {\n    return Object.assign({...this.#_state}, ...this.#transactions);\n  }\n\n  // Transactions can run in parallel, so we store each of thme in this array.\n  #transactions: Array<Partial<MouseState>> = [];\n  #createTransaction(): {\n    update: (updates: Partial<MouseState>) => void;\n    commit: () => void;\n    rollback: () => void;\n  } {\n    const transaction: Partial<MouseState> = {};\n    this.#transactions.push(transaction);\n    const popTransaction = () => {\n      this.#transactions.splice(this.#transactions.indexOf(transaction), 1);\n    };\n    return {\n      update: (updates: Partial<MouseState>) => {\n        Object.assign(transaction, updates);\n      },\n      commit: () => {\n        this.#_state = {...this.#_state, ...transaction};\n        popTransaction();\n      },\n      rollback: popTransaction,\n    };\n  }\n\n  /**\n   * This is a shortcut for a typical update, commit/rollback lifecycle based on\n   * the error of the action.\n   */\n  async #withTransaction(\n    action: (update: (updates: Partial<MouseState>) => void) => Promise<unknown>\n  ): Promise<void> {\n    const {update, commit, rollback} = this.#createTransaction();\n    try {\n      await action(update);\n      commit();\n    } catch (error) {\n      rollback();\n      throw error;\n    }\n  }\n\n  override async reset(): Promise<void> {\n    const actions = [];\n    for (const [flag, button] of [\n      [MouseButtonFlag.Left, MouseButton.Left],\n      [MouseButtonFlag.Middle, MouseButton.Middle],\n      [MouseButtonFlag.Right, MouseButton.Right],\n      [MouseButtonFlag.Forward, MouseButton.Forward],\n      [MouseButtonFlag.Back, MouseButton.Back],\n    ] as const) {\n      if (this.#state.buttons & flag) {\n        actions.push(this.up({button: button}));\n      }\n    }\n    if (this.#state.position.x !== 0 || this.#state.position.y !== 0) {\n      actions.push(this.move(0, 0));\n    }\n    await Promise.all(actions);\n  }\n\n  override async move(\n    x: number,\n    y: number,\n    options: Readonly<MouseMoveOptions> = {}\n  ): Promise<void> {\n    const {steps = 1} = options;\n    const from = this.#state.position;\n    const to = {x, y};\n    for (let i = 1; i <= steps; i++) {\n      await this.#withTransaction(updateState => {\n        updateState({\n          position: {\n            x: from.x + (to.x - from.x) * (i / steps),\n            y: from.y + (to.y - from.y) * (i / steps),\n          },\n        });\n        const {buttons, position} = this.#state;\n        return this.#client.send('Input.dispatchMouseEvent', {\n          type: 'mouseMoved',\n          modifiers: this.#keyboard._modifiers,\n          buttons,\n          button: getButtonFromPressedButtons(buttons),\n          ...position,\n        });\n      });\n    }\n  }\n\n  override async down(options: Readonly<MouseOptions> = {}): Promise<void> {\n    const {button = MouseButton.Left, clickCount = 1} = options;\n    const flag = getFlag(button);\n    if (!flag) {\n      throw new Error(`Unsupported mouse button: ${button}`);\n    }\n    if (this.#state.buttons & flag) {\n      throw new Error(`'${button}' is already pressed.`);\n    }\n    await this.#withTransaction(updateState => {\n      updateState({\n        buttons: this.#state.buttons | flag,\n      });\n      const {buttons, position} = this.#state;\n      return this.#client.send('Input.dispatchMouseEvent', {\n        type: 'mousePressed',\n        modifiers: this.#keyboard._modifiers,\n        clickCount,\n        buttons,\n        button,\n        ...position,\n      });\n    });\n  }\n\n  override async up(options: Readonly<MouseOptions> = {}): Promise<void> {\n    const {button = MouseButton.Left, clickCount = 1} = options;\n    const flag = getFlag(button);\n    if (!flag) {\n      throw new Error(`Unsupported mouse button: ${button}`);\n    }\n    if (!(this.#state.buttons & flag)) {\n      throw new Error(`'${button}' is not pressed.`);\n    }\n    await this.#withTransaction(updateState => {\n      updateState({\n        buttons: this.#state.buttons & ~flag,\n      });\n      const {buttons, position} = this.#state;\n      return this.#client.send('Input.dispatchMouseEvent', {\n        type: 'mouseReleased',\n        modifiers: this.#keyboard._modifiers,\n        clickCount,\n        buttons,\n        button,\n        ...position,\n      });\n    });\n  }\n\n  override async click(\n    x: number,\n    y: number,\n    options: Readonly<MouseClickOptions> = {}\n  ): Promise<void> {\n    const {delay, count = 1, clickCount = count} = options;\n    if (count < 1) {\n      throw new Error('Click must occur a positive number of times.');\n    }\n    const actions: Array<Promise<void>> = [this.move(x, y)];\n    if (clickCount === count) {\n      for (let i = 1; i < count; ++i) {\n        actions.push(\n          this.down({...options, clickCount: i}),\n          this.up({...options, clickCount: i})\n        );\n      }\n    }\n    actions.push(this.down({...options, clickCount}));\n    if (typeof delay === 'number') {\n      await Promise.all(actions);\n      actions.length = 0;\n      await new Promise(resolve => {\n        setTimeout(resolve, delay);\n      });\n    }\n    actions.push(this.up({...options, clickCount}));\n    await Promise.all(actions);\n  }\n\n  override async wheel(\n    options: Readonly<MouseWheelOptions> = {}\n  ): Promise<void> {\n    const {deltaX = 0, deltaY = 0} = options;\n    const {position, buttons} = this.#state;\n    await this.#client.send('Input.dispatchMouseEvent', {\n      type: 'mouseWheel',\n      pointerType: 'mouse',\n      modifiers: this.#keyboard._modifiers,\n      deltaY,\n      deltaX,\n      buttons,\n      ...position,\n    });\n  }\n\n  override async drag(\n    start: Point,\n    target: Point\n  ): Promise<Protocol.Input.DragData> {\n    const promise = new Promise<Protocol.Input.DragData>(resolve => {\n      this.#client.once('Input.dragIntercepted', event => {\n        return resolve(event.data);\n      });\n    });\n    await this.move(start.x, start.y);\n    await this.down();\n    await this.move(target.x, target.y);\n    return await promise;\n  }\n\n  override async dragEnter(\n    target: Point,\n    data: Protocol.Input.DragData\n  ): Promise<void> {\n    await this.#client.send('Input.dispatchDragEvent', {\n      type: 'dragEnter',\n      x: target.x,\n      y: target.y,\n      modifiers: this.#keyboard._modifiers,\n      data,\n    });\n  }\n\n  override async dragOver(\n    target: Point,\n    data: Protocol.Input.DragData\n  ): Promise<void> {\n    await this.#client.send('Input.dispatchDragEvent', {\n      type: 'dragOver',\n      x: target.x,\n      y: target.y,\n      modifiers: this.#keyboard._modifiers,\n      data,\n    });\n  }\n\n  override async drop(\n    target: Point,\n    data: Protocol.Input.DragData\n  ): Promise<void> {\n    await this.#client.send('Input.dispatchDragEvent', {\n      type: 'drop',\n      x: target.x,\n      y: target.y,\n      modifiers: this.#keyboard._modifiers,\n      data,\n    });\n  }\n\n  override async dragAndDrop(\n    start: Point,\n    target: Point,\n    options: {delay?: number} = {}\n  ): Promise<void> {\n    const {delay = null} = options;\n    const data = await this.drag(start, target);\n    await this.dragEnter(target, data);\n    await this.dragOver(target, data);\n    if (delay) {\n      await new Promise(resolve => {\n        return setTimeout(resolve, delay);\n      });\n    }\n    await this.drop(target, data);\n    await this.up();\n  }\n}\n\n/**\n * @internal\n */\nexport class CdpTouchscreen extends Touchscreen {\n  #client: CDPSession;\n  #keyboard: CdpKeyboard;\n\n  constructor(client: CDPSession, keyboard: CdpKeyboard) {\n    super();\n    this.#client = client;\n    this.#keyboard = keyboard;\n  }\n\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  override async touchStart(x: number, y: number): Promise<void> {\n    await this.#client.send('Input.dispatchTouchEvent', {\n      type: 'touchStart',\n      touchPoints: [\n        {\n          x: Math.round(x),\n          y: Math.round(y),\n          radiusX: 0.5,\n          radiusY: 0.5,\n          force: 0.5,\n        },\n      ],\n      modifiers: this.#keyboard._modifiers,\n    });\n  }\n\n  override async touchMove(x: number, y: number): Promise<void> {\n    await this.#client.send('Input.dispatchTouchEvent', {\n      type: 'touchMove',\n      touchPoints: [\n        {\n          x: Math.round(x),\n          y: Math.round(y),\n          radiusX: 0.5,\n          radiusY: 0.5,\n          force: 0.5,\n        },\n      ],\n      modifiers: this.#keyboard._modifiers,\n    });\n  }\n\n  override async touchEnd(): Promise<void> {\n    await this.#client.send('Input.dispatchTouchEvent', {\n      type: 'touchEnd',\n      touchPoints: [],\n      modifiers: this.#keyboard._modifiers,\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport type {KeyInput} from '../common/USKeyboardLayout.js';\n\nimport type {Point} from './ElementHandle.js';\n\n/**\n * @public\n */\nexport interface KeyDownOptions {\n  /**\n   * @deprecated Do not use. This is automatically handled.\n   */\n  text?: string;\n  /**\n   * @deprecated Do not use. This is automatically handled.\n   */\n  commands?: string[];\n}\n\n/**\n * @public\n */\nexport interface KeyboardTypeOptions {\n  delay?: number;\n}\n\n/**\n * @public\n */\nexport type KeyPressOptions = KeyDownOptions & KeyboardTypeOptions;\n\n/**\n * Keyboard provides an api for managing a virtual keyboard.\n * The high level api is {@link Keyboard.\"type\"},\n * which takes raw characters and generates proper keydown, keypress/input,\n * and keyup events on your page.\n *\n * @remarks\n * For finer control, you can use {@link Keyboard.down},\n * {@link Keyboard.up}, and {@link Keyboard.sendCharacter}\n * to manually fire events as if they were generated from a real keyboard.\n *\n * On macOS, keyboard shortcuts like `\u2318 A` -\\> Select All do not work.\n * See {@link https://github.com/puppeteer/puppeteer/issues/1313 | #1313}.\n *\n * @example\n * An example of holding down `Shift` in order to select and delete some text:\n *\n * ```ts\n * await page.keyboard.type('Hello World!');\n * await page.keyboard.press('ArrowLeft');\n *\n * await page.keyboard.down('Shift');\n * for (let i = 0; i < ' World'.length; i++)\n *   await page.keyboard.press('ArrowLeft');\n * await page.keyboard.up('Shift');\n *\n * await page.keyboard.press('Backspace');\n * // Result text will end up saying 'Hello!'\n * ```\n *\n * @example\n * An example of pressing `A`\n *\n * ```ts\n * await page.keyboard.down('Shift');\n * await page.keyboard.press('KeyA');\n * await page.keyboard.up('Shift');\n * ```\n *\n * @public\n */\nexport abstract class Keyboard {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Dispatches a `keydown` event.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also generated.\n   * The `text` option can be specified to force an input event to be generated.\n   * If `key` is a modifier key, `Shift`, `Meta`, `Control`, or `Alt`,\n   * subsequent key presses will be sent with that modifier active.\n   * To release the modifier key, use {@link Keyboard.up}.\n   *\n   * After the key is pressed once, subsequent calls to\n   * {@link Keyboard.down} will have\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat | repeat}\n   * set to true. To release the key, use {@link Keyboard.up}.\n   *\n   * Modifier keys DO influence {@link Keyboard.down}.\n   * Holding down `Shift` will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   *\n   * @param options - An object of options. Accepts text which, if specified,\n   * generates an input event with this text. Accepts commands which, if specified,\n   * is the commands of keyboard shortcuts,\n   * see {@link https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/editing/commands/editor_command_names.h | Chromium Source Code} for valid command names.\n   */\n  abstract down(\n    key: KeyInput,\n    options?: Readonly<KeyDownOptions>\n  ): Promise<void>;\n\n  /**\n   * Dispatches a `keyup` event.\n   *\n   * @param key - Name of key to release, such as `ArrowLeft`.\n   * See {@link KeyInput | KeyInput}\n   * for a list of all key names.\n   */\n  abstract up(key: KeyInput): Promise<void>;\n\n  /**\n   * Dispatches a `keypress` and `input` event.\n   * This does not send a `keydown` or `keyup` event.\n   *\n   * @remarks\n   * Modifier keys DO NOT effect {@link Keyboard.sendCharacter | Keyboard.sendCharacter}.\n   * Holding down `Shift` will not type the text in upper case.\n   *\n   * @example\n   *\n   * ```ts\n   * page.keyboard.sendCharacter('\u55E8');\n   * ```\n   *\n   * @param char - Character to send into the page.\n   */\n  abstract sendCharacter(char: string): Promise<void>;\n\n  /**\n   * Sends a `keydown`, `keypress`/`input`,\n   * and `keyup` event for each character in the text.\n   *\n   * @remarks\n   * To press a special key, like `Control` or `ArrowDown`,\n   * use {@link Keyboard.press}.\n   *\n   * Modifier keys DO NOT effect `keyboard.type`.\n   * Holding down `Shift` will not type the text in upper case.\n   *\n   * @example\n   *\n   * ```ts\n   * await page.keyboard.type('Hello'); // Types instantly\n   * await page.keyboard.type('World', {delay: 100}); // Types slower, like a user\n   * ```\n   *\n   * @param text - A text to type into a focused element.\n   * @param options - An object of options. Accepts delay which,\n   * if specified, is the time to wait between `keydown` and `keyup` in milliseconds.\n   * Defaults to 0.\n   */\n  abstract type(\n    text: string,\n    options?: Readonly<KeyboardTypeOptions>\n  ): Promise<void>;\n\n  /**\n   * Shortcut for {@link Keyboard.down}\n   * and {@link Keyboard.up}.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also generated.\n   * The `text` option can be specified to force an input event to be generated.\n   *\n   * Modifier keys DO effect {@link Keyboard.press}.\n   * Holding down `Shift` will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   *\n   * @param options - An object of options. Accepts text which, if specified,\n   * generates an input event with this text. Accepts delay which,\n   * if specified, is the time to wait between `keydown` and `keyup` in milliseconds.\n   * Defaults to 0. Accepts commands which, if specified,\n   * is the commands of keyboard shortcuts,\n   * see {@link https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/editing/commands/editor_command_names.h | Chromium Source Code} for valid command names.\n   */\n  abstract press(\n    key: KeyInput,\n    options?: Readonly<KeyPressOptions>\n  ): Promise<void>;\n}\n\n/**\n * @public\n */\nexport interface MouseOptions {\n  /**\n   * Determines which button will be pressed.\n   *\n   * @defaultValue `'left'`\n   */\n  button?: MouseButton;\n  /**\n   * Determines the click count for the mouse event. This does not perform\n   * multiple clicks.\n   *\n   * @deprecated Use {@link MouseClickOptions.count}.\n   * @defaultValue `1`\n   */\n  clickCount?: number;\n}\n\n/**\n * @public\n */\nexport interface MouseClickOptions extends MouseOptions {\n  /**\n   * Time (in ms) to delay the mouse release after the mouse press.\n   */\n  delay?: number;\n  /**\n   * Number of clicks to perform.\n   *\n   * @defaultValue `1`\n   */\n  count?: number;\n}\n\n/**\n * @public\n */\nexport interface MouseWheelOptions {\n  deltaX?: number;\n  deltaY?: number;\n}\n\n/**\n * @public\n */\nexport interface MouseMoveOptions {\n  /**\n   * Determines the number of movements to make from the current mouse position\n   * to the new one.\n   *\n   * @defaultValue `1`\n   */\n  steps?: number;\n}\n\n/**\n * Enum of valid mouse buttons.\n *\n * @public\n */\nexport const MouseButton = Object.freeze({\n  Left: 'left',\n  Right: 'right',\n  Middle: 'middle',\n  Back: 'back',\n  Forward: 'forward',\n}) satisfies Record<string, Protocol.Input.MouseButton>;\n\n/**\n * @public\n */\nexport type MouseButton = (typeof MouseButton)[keyof typeof MouseButton];\n\n/**\n * The Mouse class operates in main-frame CSS pixels\n * relative to the top-left corner of the viewport.\n *\n * @remarks\n * Every `page` object has its own Mouse, accessible with {@link Page.mouse}.\n *\n * @example\n *\n * ```ts\n * // Using \u2018page.mouse\u2019 to trace a 100x100 square.\n * await page.mouse.move(0, 0);\n * await page.mouse.down();\n * await page.mouse.move(0, 100);\n * await page.mouse.move(100, 100);\n * await page.mouse.move(100, 0);\n * await page.mouse.move(0, 0);\n * await page.mouse.up();\n * ```\n *\n * **Note**: The mouse events trigger synthetic `MouseEvent`s.\n * This means that it does not fully replicate the functionality of what a normal user\n * would be able to do with their mouse.\n *\n * For example, dragging and selecting text is not possible using `page.mouse`.\n * Instead, you can use the {@link https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/getSelection | `DocumentOrShadowRoot.getSelection()`} functionality implemented in the platform.\n *\n * @example\n * For example, if you want to select all content between nodes:\n *\n * ```ts\n * await page.evaluate(\n *   (from, to) => {\n *     const selection = from.getRootNode().getSelection();\n *     const range = document.createRange();\n *     range.setStartBefore(from);\n *     range.setEndAfter(to);\n *     selection.removeAllRanges();\n *     selection.addRange(range);\n *   },\n *   fromJSHandle,\n *   toJSHandle\n * );\n * ```\n *\n * If you then would want to copy-paste your selection, you can use the clipboard api:\n *\n * ```ts\n * // The clipboard api does not allow you to copy, unless the tab is focused.\n * await page.bringToFront();\n * await page.evaluate(() => {\n *   // Copy the selected content to the clipboard\n *   document.execCommand('copy');\n *   // Obtain the content of the clipboard as a string\n *   return navigator.clipboard.readText();\n * });\n * ```\n *\n * **Note**: If you want access to the clipboard API,\n * you have to give it permission to do so:\n *\n * ```ts\n * await browser\n *   .defaultBrowserContext()\n *   .overridePermissions('<your origin>', [\n *     'clipboard-read',\n *     'clipboard-write',\n *   ]);\n * ```\n *\n * @public\n */\nexport abstract class Mouse {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Resets the mouse to the default state: No buttons pressed; position at\n   * (0,0).\n   */\n  abstract reset(): Promise<void>;\n\n  /**\n   * Moves the mouse to the given coordinate.\n   *\n   * @param x - Horizontal position of the mouse.\n   * @param y - Vertical position of the mouse.\n   * @param options - Options to configure behavior.\n   */\n  abstract move(\n    x: number,\n    y: number,\n    options?: Readonly<MouseMoveOptions>\n  ): Promise<void>;\n\n  /**\n   * Presses the mouse.\n   *\n   * @param options - Options to configure behavior.\n   */\n  abstract down(options?: Readonly<MouseOptions>): Promise<void>;\n\n  /**\n   * Releases the mouse.\n   *\n   * @param options - Options to configure behavior.\n   */\n  abstract up(options?: Readonly<MouseOptions>): Promise<void>;\n\n  /**\n   * Shortcut for `mouse.move`, `mouse.down` and `mouse.up`.\n   *\n   * @param x - Horizontal position of the mouse.\n   * @param y - Vertical position of the mouse.\n   * @param options - Options to configure behavior.\n   */\n  abstract click(\n    x: number,\n    y: number,\n    options?: Readonly<MouseClickOptions>\n  ): Promise<void>;\n\n  /**\n   * Dispatches a `mousewheel` event.\n   * @param options - Optional: `MouseWheelOptions`.\n   *\n   * @example\n   * An example of zooming into an element:\n   *\n   * ```ts\n   * await page.goto(\n   *   'https://mdn.mozillademos.org/en-US/docs/Web/API/Element/wheel_event$samples/Scaling_an_element_via_the_wheel?revision=1587366'\n   * );\n   *\n   * const elem = await page.$('div');\n   * const boundingBox = await elem.boundingBox();\n   * await page.mouse.move(\n   *   boundingBox.x + boundingBox.width / 2,\n   *   boundingBox.y + boundingBox.height / 2\n   * );\n   *\n   * await page.mouse.wheel({deltaY: -100});\n   * ```\n   */\n  abstract wheel(options?: Readonly<MouseWheelOptions>): Promise<void>;\n\n  /**\n   * Dispatches a `drag` event.\n   * @param start - starting point for drag\n   * @param target - point to drag to\n   */\n  abstract drag(start: Point, target: Point): Promise<Protocol.Input.DragData>;\n\n  /**\n   * Dispatches a `dragenter` event.\n   * @param target - point for emitting `dragenter` event\n   * @param data - drag data containing items and operations mask\n   */\n  abstract dragEnter(\n    target: Point,\n    data: Protocol.Input.DragData\n  ): Promise<void>;\n\n  /**\n   * Dispatches a `dragover` event.\n   * @param target - point for emitting `dragover` event\n   * @param data - drag data containing items and operations mask\n   */\n  abstract dragOver(\n    target: Point,\n    data: Protocol.Input.DragData\n  ): Promise<void>;\n\n  /**\n   * Performs a dragenter, dragover, and drop in sequence.\n   * @param target - point to drop on\n   * @param data - drag data containing items and operations mask\n   */\n  abstract drop(target: Point, data: Protocol.Input.DragData): Promise<void>;\n\n  /**\n   * Performs a drag, dragenter, dragover, and drop in sequence.\n   * @param start - point to drag from\n   * @param target - point to drop on\n   * @param options - An object of options. Accepts delay which,\n   * if specified, is the time to wait between `dragover` and `drop` in milliseconds.\n   * Defaults to 0.\n   */\n  abstract dragAndDrop(\n    start: Point,\n    target: Point,\n    options?: {delay?: number}\n  ): Promise<void>;\n}\n\n/**\n * The Touchscreen class exposes touchscreen events.\n * @public\n */\nexport abstract class Touchscreen {\n  /**\n   * @internal\n   */\n  constructor() {}\n\n  /**\n   * Dispatches a `touchstart` and `touchend` event.\n   * @param x - Horizontal position of the tap.\n   * @param y - Vertical position of the tap.\n   */\n  async tap(x: number, y: number): Promise<void> {\n    await this.touchStart(x, y);\n    await this.touchEnd();\n  }\n\n  /**\n   * Dispatches a `touchstart` event.\n   * @param x - Horizontal position of the tap.\n   * @param y - Vertical position of the tap.\n   */\n  abstract touchStart(x: number, y: number): Promise<void>;\n\n  /**\n   * Dispatches a `touchMove` event.\n   * @param x - Horizontal position of the move.\n   * @param y - Vertical position of the move.\n   *\n   * @remarks\n   *\n   * Not every `touchMove` call results in a `touchmove` event being emitted,\n   * depending on the browser's optimizations. For example, Chrome\n   * {@link https://developer.chrome.com/blog/a-more-compatible-smoother-touch/#chromes-new-model-the-throttled-async-touchmove-model | throttles}\n   * touch move events.\n   */\n  abstract touchMove(x: number, y: number): Promise<void>;\n\n  /**\n   * Dispatches a `touchend` event.\n   */\n  abstract touchEnd(): Promise<void>;\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @internal\n */\nexport interface KeyDefinition {\n  keyCode?: number;\n  shiftKeyCode?: number;\n  key?: string;\n  shiftKey?: string;\n  code?: string;\n  text?: string;\n  shiftText?: string;\n  location?: number;\n}\n\n/**\n * All the valid keys that can be passed to functions that take user input, such\n * as {@link Keyboard.press | keyboard.press }\n *\n * @public\n */\nexport type KeyInput =\n  | '0'\n  | '1'\n  | '2'\n  | '3'\n  | '4'\n  | '5'\n  | '6'\n  | '7'\n  | '8'\n  | '9'\n  | 'Power'\n  | 'Eject'\n  | 'Abort'\n  | 'Help'\n  | 'Backspace'\n  | 'Tab'\n  | 'Numpad5'\n  | 'NumpadEnter'\n  | 'Enter'\n  | '\\r'\n  | '\\n'\n  | 'ShiftLeft'\n  | 'ShiftRight'\n  | 'ControlLeft'\n  | 'ControlRight'\n  | 'AltLeft'\n  | 'AltRight'\n  | 'Pause'\n  | 'CapsLock'\n  | 'Escape'\n  | 'Convert'\n  | 'NonConvert'\n  | 'Space'\n  | 'Numpad9'\n  | 'PageUp'\n  | 'Numpad3'\n  | 'PageDown'\n  | 'End'\n  | 'Numpad1'\n  | 'Home'\n  | 'Numpad7'\n  | 'ArrowLeft'\n  | 'Numpad4'\n  | 'Numpad8'\n  | 'ArrowUp'\n  | 'ArrowRight'\n  | 'Numpad6'\n  | 'Numpad2'\n  | 'ArrowDown'\n  | 'Select'\n  | 'Open'\n  | 'PrintScreen'\n  | 'Insert'\n  | 'Numpad0'\n  | 'Delete'\n  | 'NumpadDecimal'\n  | 'Digit0'\n  | 'Digit1'\n  | 'Digit2'\n  | 'Digit3'\n  | 'Digit4'\n  | 'Digit5'\n  | 'Digit6'\n  | 'Digit7'\n  | 'Digit8'\n  | 'Digit9'\n  | 'KeyA'\n  | 'KeyB'\n  | 'KeyC'\n  | 'KeyD'\n  | 'KeyE'\n  | 'KeyF'\n  | 'KeyG'\n  | 'KeyH'\n  | 'KeyI'\n  | 'KeyJ'\n  | 'KeyK'\n  | 'KeyL'\n  | 'KeyM'\n  | 'KeyN'\n  | 'KeyO'\n  | 'KeyP'\n  | 'KeyQ'\n  | 'KeyR'\n  | 'KeyS'\n  | 'KeyT'\n  | 'KeyU'\n  | 'KeyV'\n  | 'KeyW'\n  | 'KeyX'\n  | 'KeyY'\n  | 'KeyZ'\n  | 'MetaLeft'\n  | 'MetaRight'\n  | 'ContextMenu'\n  | 'NumpadMultiply'\n  | 'NumpadAdd'\n  | 'NumpadSubtract'\n  | 'NumpadDivide'\n  | 'F1'\n  | 'F2'\n  | 'F3'\n  | 'F4'\n  | 'F5'\n  | 'F6'\n  | 'F7'\n  | 'F8'\n  | 'F9'\n  | 'F10'\n  | 'F11'\n  | 'F12'\n  | 'F13'\n  | 'F14'\n  | 'F15'\n  | 'F16'\n  | 'F17'\n  | 'F18'\n  | 'F19'\n  | 'F20'\n  | 'F21'\n  | 'F22'\n  | 'F23'\n  | 'F24'\n  | 'NumLock'\n  | 'ScrollLock'\n  | 'AudioVolumeMute'\n  | 'AudioVolumeDown'\n  | 'AudioVolumeUp'\n  | 'MediaTrackNext'\n  | 'MediaTrackPrevious'\n  | 'MediaStop'\n  | 'MediaPlayPause'\n  | 'Semicolon'\n  | 'Equal'\n  | 'NumpadEqual'\n  | 'Comma'\n  | 'Minus'\n  | 'Period'\n  | 'Slash'\n  | 'Backquote'\n  | 'BracketLeft'\n  | 'Backslash'\n  | 'BracketRight'\n  | 'Quote'\n  | 'AltGraph'\n  | 'Props'\n  | 'Cancel'\n  | 'Clear'\n  | 'Shift'\n  | 'Control'\n  | 'Alt'\n  | 'Accept'\n  | 'ModeChange'\n  | ' '\n  | 'Print'\n  | 'Execute'\n  | '\\u0000'\n  | 'a'\n  | 'b'\n  | 'c'\n  | 'd'\n  | 'e'\n  | 'f'\n  | 'g'\n  | 'h'\n  | 'i'\n  | 'j'\n  | 'k'\n  | 'l'\n  | 'm'\n  | 'n'\n  | 'o'\n  | 'p'\n  | 'q'\n  | 'r'\n  | 's'\n  | 't'\n  | 'u'\n  | 'v'\n  | 'w'\n  | 'x'\n  | 'y'\n  | 'z'\n  | 'Meta'\n  | '*'\n  | '+'\n  | '-'\n  | '/'\n  | ';'\n  | '='\n  | ','\n  | '.'\n  | '`'\n  | '['\n  | '\\\\'\n  | ']'\n  | \"'\"\n  | 'Attn'\n  | 'CrSel'\n  | 'ExSel'\n  | 'EraseEof'\n  | 'Play'\n  | 'ZoomOut'\n  | ')'\n  | '!'\n  | '@'\n  | '#'\n  | '$'\n  | '%'\n  | '^'\n  | '&'\n  | '('\n  | 'A'\n  | 'B'\n  | 'C'\n  | 'D'\n  | 'E'\n  | 'F'\n  | 'G'\n  | 'H'\n  | 'I'\n  | 'J'\n  | 'K'\n  | 'L'\n  | 'M'\n  | 'N'\n  | 'O'\n  | 'P'\n  | 'Q'\n  | 'R'\n  | 'S'\n  | 'T'\n  | 'U'\n  | 'V'\n  | 'W'\n  | 'X'\n  | 'Y'\n  | 'Z'\n  | ':'\n  | '<'\n  | '_'\n  | '>'\n  | '?'\n  | '~'\n  | '{'\n  | '|'\n  | '}'\n  | '\"'\n  | 'SoftLeft'\n  | 'SoftRight'\n  | 'Camera'\n  | 'Call'\n  | 'EndCall'\n  | 'VolumeDown'\n  | 'VolumeUp';\n\n/**\n * @internal\n */\nexport const _keyDefinitions: Readonly<Record<KeyInput, KeyDefinition>> = {\n  '0': {keyCode: 48, key: '0', code: 'Digit0'},\n  '1': {keyCode: 49, key: '1', code: 'Digit1'},\n  '2': {keyCode: 50, key: '2', code: 'Digit2'},\n  '3': {keyCode: 51, key: '3', code: 'Digit3'},\n  '4': {keyCode: 52, key: '4', code: 'Digit4'},\n  '5': {keyCode: 53, key: '5', code: 'Digit5'},\n  '6': {keyCode: 54, key: '6', code: 'Digit6'},\n  '7': {keyCode: 55, key: '7', code: 'Digit7'},\n  '8': {keyCode: 56, key: '8', code: 'Digit8'},\n  '9': {keyCode: 57, key: '9', code: 'Digit9'},\n  Power: {key: 'Power', code: 'Power'},\n  Eject: {key: 'Eject', code: 'Eject'},\n  Abort: {keyCode: 3, code: 'Abort', key: 'Cancel'},\n  Help: {keyCode: 6, code: 'Help', key: 'Help'},\n  Backspace: {keyCode: 8, code: 'Backspace', key: 'Backspace'},\n  Tab: {keyCode: 9, code: 'Tab', key: 'Tab'},\n  Numpad5: {\n    keyCode: 12,\n    shiftKeyCode: 101,\n    key: 'Clear',\n    code: 'Numpad5',\n    shiftKey: '5',\n    location: 3,\n  },\n  NumpadEnter: {\n    keyCode: 13,\n    code: 'NumpadEnter',\n    key: 'Enter',\n    text: '\\r',\n    location: 3,\n  },\n  Enter: {keyCode: 13, code: 'Enter', key: 'Enter', text: '\\r'},\n  '\\r': {keyCode: 13, code: 'Enter', key: 'Enter', text: '\\r'},\n  '\\n': {keyCode: 13, code: 'Enter', key: 'Enter', text: '\\r'},\n  ShiftLeft: {keyCode: 16, code: 'ShiftLeft', key: 'Shift', location: 1},\n  ShiftRight: {keyCode: 16, code: 'ShiftRight', key: 'Shift', location: 2},\n  ControlLeft: {\n    keyCode: 17,\n    code: 'ControlLeft',\n    key: 'Control',\n    location: 1,\n  },\n  ControlRight: {\n    keyCode: 17,\n    code: 'ControlRight',\n    key: 'Control',\n    location: 2,\n  },\n  AltLeft: {keyCode: 18, code: 'AltLeft', key: 'Alt', location: 1},\n  AltRight: {keyCode: 18, code: 'AltRight', key: 'Alt', location: 2},\n  Pause: {keyCode: 19, code: 'Pause', key: 'Pause'},\n  CapsLock: {keyCode: 20, code: 'CapsLock', key: 'CapsLock'},\n  Escape: {keyCode: 27, code: 'Escape', key: 'Escape'},\n  Convert: {keyCode: 28, code: 'Convert', key: 'Convert'},\n  NonConvert: {keyCode: 29, code: 'NonConvert', key: 'NonConvert'},\n  Space: {keyCode: 32, code: 'Space', key: ' '},\n  Numpad9: {\n    keyCode: 33,\n    shiftKeyCode: 105,\n    key: 'PageUp',\n    code: 'Numpad9',\n    shiftKey: '9',\n    location: 3,\n  },\n  PageUp: {keyCode: 33, code: 'PageUp', key: 'PageUp'},\n  Numpad3: {\n    keyCode: 34,\n    shiftKeyCode: 99,\n    key: 'PageDown',\n    code: 'Numpad3',\n    shiftKey: '3',\n    location: 3,\n  },\n  PageDown: {keyCode: 34, code: 'PageDown', key: 'PageDown'},\n  End: {keyCode: 35, code: 'End', key: 'End'},\n  Numpad1: {\n    keyCode: 35,\n    shiftKeyCode: 97,\n    key: 'End',\n    code: 'Numpad1',\n    shiftKey: '1',\n    location: 3,\n  },\n  Home: {keyCode: 36, code: 'Home', key: 'Home'},\n  Numpad7: {\n    keyCode: 36,\n    shiftKeyCode: 103,\n    key: 'Home',\n    code: 'Numpad7',\n    shiftKey: '7',\n    location: 3,\n  },\n  ArrowLeft: {keyCode: 37, code: 'ArrowLeft', key: 'ArrowLeft'},\n  Numpad4: {\n    keyCode: 37,\n    shiftKeyCode: 100,\n    key: 'ArrowLeft',\n    code: 'Numpad4',\n    shiftKey: '4',\n    location: 3,\n  },\n  Numpad8: {\n    keyCode: 38,\n    shiftKeyCode: 104,\n    key: 'ArrowUp',\n    code: 'Numpad8',\n    shiftKey: '8',\n    location: 3,\n  },\n  ArrowUp: {keyCode: 38, code: 'ArrowUp', key: 'ArrowUp'},\n  ArrowRight: {keyCode: 39, code: 'ArrowRight', key: 'ArrowRight'},\n  Numpad6: {\n    keyCode: 39,\n    shiftKeyCode: 102,\n    key: 'ArrowRight',\n    code: 'Numpad6',\n    shiftKey: '6',\n    location: 3,\n  },\n  Numpad2: {\n    keyCode: 40,\n    shiftKeyCode: 98,\n    key: 'ArrowDown',\n    code: 'Numpad2',\n    shiftKey: '2',\n    location: 3,\n  },\n  ArrowDown: {keyCode: 40, code: 'ArrowDown', key: 'ArrowDown'},\n  Select: {keyCode: 41, code: 'Select', key: 'Select'},\n  Open: {keyCode: 43, code: 'Open', key: 'Execute'},\n  PrintScreen: {keyCode: 44, code: 'PrintScreen', key: 'PrintScreen'},\n  Insert: {keyCode: 45, code: 'Insert', key: 'Insert'},\n  Numpad0: {\n    keyCode: 45,\n    shiftKeyCode: 96,\n    key: 'Insert',\n    code: 'Numpad0',\n    shiftKey: '0',\n    location: 3,\n  },\n  Delete: {keyCode: 46, code: 'Delete', key: 'Delete'},\n  NumpadDecimal: {\n    keyCode: 46,\n    shiftKeyCode: 110,\n    code: 'NumpadDecimal',\n    key: '\\u0000',\n    shiftKey: '.',\n    location: 3,\n  },\n  Digit0: {keyCode: 48, code: 'Digit0', shiftKey: ')', key: '0'},\n  Digit1: {keyCode: 49, code: 'Digit1', shiftKey: '!', key: '1'},\n  Digit2: {keyCode: 50, code: 'Digit2', shiftKey: '@', key: '2'},\n  Digit3: {keyCode: 51, code: 'Digit3', shiftKey: '#', key: '3'},\n  Digit4: {keyCode: 52, code: 'Digit4', shiftKey: '$', key: '4'},\n  Digit5: {keyCode: 53, code: 'Digit5', shiftKey: '%', key: '5'},\n  Digit6: {keyCode: 54, code: 'Digit6', shiftKey: '^', key: '6'},\n  Digit7: {keyCode: 55, code: 'Digit7', shiftKey: '&', key: '7'},\n  Digit8: {keyCode: 56, code: 'Digit8', shiftKey: '*', key: '8'},\n  Digit9: {keyCode: 57, code: 'Digit9', shiftKey: '(', key: '9'},\n  KeyA: {keyCode: 65, code: 'KeyA', shiftKey: 'A', key: 'a'},\n  KeyB: {keyCode: 66, code: 'KeyB', shiftKey: 'B', key: 'b'},\n  KeyC: {keyCode: 67, code: 'KeyC', shiftKey: 'C', key: 'c'},\n  KeyD: {keyCode: 68, code: 'KeyD', shiftKey: 'D', key: 'd'},\n  KeyE: {keyCode: 69, code: 'KeyE', shiftKey: 'E', key: 'e'},\n  KeyF: {keyCode: 70, code: 'KeyF', shiftKey: 'F', key: 'f'},\n  KeyG: {keyCode: 71, code: 'KeyG', shiftKey: 'G', key: 'g'},\n  KeyH: {keyCode: 72, code: 'KeyH', shiftKey: 'H', key: 'h'},\n  KeyI: {keyCode: 73, code: 'KeyI', shiftKey: 'I', key: 'i'},\n  KeyJ: {keyCode: 74, code: 'KeyJ', shiftKey: 'J', key: 'j'},\n  KeyK: {keyCode: 75, code: 'KeyK', shiftKey: 'K', key: 'k'},\n  KeyL: {keyCode: 76, code: 'KeyL', shiftKey: 'L', key: 'l'},\n  KeyM: {keyCode: 77, code: 'KeyM', shiftKey: 'M', key: 'm'},\n  KeyN: {keyCode: 78, code: 'KeyN', shiftKey: 'N', key: 'n'},\n  KeyO: {keyCode: 79, code: 'KeyO', shiftKey: 'O', key: 'o'},\n  KeyP: {keyCode: 80, code: 'KeyP', shiftKey: 'P', key: 'p'},\n  KeyQ: {keyCode: 81, code: 'KeyQ', shiftKey: 'Q', key: 'q'},\n  KeyR: {keyCode: 82, code: 'KeyR', shiftKey: 'R', key: 'r'},\n  KeyS: {keyCode: 83, code: 'KeyS', shiftKey: 'S', key: 's'},\n  KeyT: {keyCode: 84, code: 'KeyT', shiftKey: 'T', key: 't'},\n  KeyU: {keyCode: 85, code: 'KeyU', shiftKey: 'U', key: 'u'},\n  KeyV: {keyCode: 86, code: 'KeyV', shiftKey: 'V', key: 'v'},\n  KeyW: {keyCode: 87, code: 'KeyW', shiftKey: 'W', key: 'w'},\n  KeyX: {keyCode: 88, code: 'KeyX', shiftKey: 'X', key: 'x'},\n  KeyY: {keyCode: 89, code: 'KeyY', shiftKey: 'Y', key: 'y'},\n  KeyZ: {keyCode: 90, code: 'KeyZ', shiftKey: 'Z', key: 'z'},\n  MetaLeft: {keyCode: 91, code: 'MetaLeft', key: 'Meta', location: 1},\n  MetaRight: {keyCode: 92, code: 'MetaRight', key: 'Meta', location: 2},\n  ContextMenu: {keyCode: 93, code: 'ContextMenu', key: 'ContextMenu'},\n  NumpadMultiply: {\n    keyCode: 106,\n    code: 'NumpadMultiply',\n    key: '*',\n    location: 3,\n  },\n  NumpadAdd: {keyCode: 107, code: 'NumpadAdd', key: '+', location: 3},\n  NumpadSubtract: {\n    keyCode: 109,\n    code: 'NumpadSubtract',\n    key: '-',\n    location: 3,\n  },\n  NumpadDivide: {keyCode: 111, code: 'NumpadDivide', key: '/', location: 3},\n  F1: {keyCode: 112, code: 'F1', key: 'F1'},\n  F2: {keyCode: 113, code: 'F2', key: 'F2'},\n  F3: {keyCode: 114, code: 'F3', key: 'F3'},\n  F4: {keyCode: 115, code: 'F4', key: 'F4'},\n  F5: {keyCode: 116, code: 'F5', key: 'F5'},\n  F6: {keyCode: 117, code: 'F6', key: 'F6'},\n  F7: {keyCode: 118, code: 'F7', key: 'F7'},\n  F8: {keyCode: 119, code: 'F8', key: 'F8'},\n  F9: {keyCode: 120, code: 'F9', key: 'F9'},\n  F10: {keyCode: 121, code: 'F10', key: 'F10'},\n  F11: {keyCode: 122, code: 'F11', key: 'F11'},\n  F12: {keyCode: 123, code: 'F12', key: 'F12'},\n  F13: {keyCode: 124, code: 'F13', key: 'F13'},\n  F14: {keyCode: 125, code: 'F14', key: 'F14'},\n  F15: {keyCode: 126, code: 'F15', key: 'F15'},\n  F16: {keyCode: 127, code: 'F16', key: 'F16'},\n  F17: {keyCode: 128, code: 'F17', key: 'F17'},\n  F18: {keyCode: 129, code: 'F18', key: 'F18'},\n  F19: {keyCode: 130, code: 'F19', key: 'F19'},\n  F20: {keyCode: 131, code: 'F20', key: 'F20'},\n  F21: {keyCode: 132, code: 'F21', key: 'F21'},\n  F22: {keyCode: 133, code: 'F22', key: 'F22'},\n  F23: {keyCode: 134, code: 'F23', key: 'F23'},\n  F24: {keyCode: 135, code: 'F24', key: 'F24'},\n  NumLock: {keyCode: 144, code: 'NumLock', key: 'NumLock'},\n  ScrollLock: {keyCode: 145, code: 'ScrollLock', key: 'ScrollLock'},\n  AudioVolumeMute: {\n    keyCode: 173,\n    code: 'AudioVolumeMute',\n    key: 'AudioVolumeMute',\n  },\n  AudioVolumeDown: {\n    keyCode: 174,\n    code: 'AudioVolumeDown',\n    key: 'AudioVolumeDown',\n  },\n  AudioVolumeUp: {keyCode: 175, code: 'AudioVolumeUp', key: 'AudioVolumeUp'},\n  MediaTrackNext: {\n    keyCode: 176,\n    code: 'MediaTrackNext',\n    key: 'MediaTrackNext',\n  },\n  MediaTrackPrevious: {\n    keyCode: 177,\n    code: 'MediaTrackPrevious',\n    key: 'MediaTrackPrevious',\n  },\n  MediaStop: {keyCode: 178, code: 'MediaStop', key: 'MediaStop'},\n  MediaPlayPause: {\n    keyCode: 179,\n    code: 'MediaPlayPause',\n    key: 'MediaPlayPause',\n  },\n  Semicolon: {keyCode: 186, code: 'Semicolon', shiftKey: ':', key: ';'},\n  Equal: {keyCode: 187, code: 'Equal', shiftKey: '+', key: '='},\n  NumpadEqual: {keyCode: 187, code: 'NumpadEqual', key: '=', location: 3},\n  Comma: {keyCode: 188, code: 'Comma', shiftKey: '<', key: ','},\n  Minus: {keyCode: 189, code: 'Minus', shiftKey: '_', key: '-'},\n  Period: {keyCode: 190, code: 'Period', shiftKey: '>', key: '.'},\n  Slash: {keyCode: 191, code: 'Slash', shiftKey: '?', key: '/'},\n  Backquote: {keyCode: 192, code: 'Backquote', shiftKey: '~', key: '`'},\n  BracketLeft: {keyCode: 219, code: 'BracketLeft', shiftKey: '{', key: '['},\n  Backslash: {keyCode: 220, code: 'Backslash', shiftKey: '|', key: '\\\\'},\n  BracketRight: {keyCode: 221, code: 'BracketRight', shiftKey: '}', key: ']'},\n  Quote: {keyCode: 222, code: 'Quote', shiftKey: '\"', key: \"'\"},\n  AltGraph: {keyCode: 225, code: 'AltGraph', key: 'AltGraph'},\n  Props: {keyCode: 247, code: 'Props', key: 'CrSel'},\n  Cancel: {keyCode: 3, key: 'Cancel', code: 'Abort'},\n  Clear: {keyCode: 12, key: 'Clear', code: 'Numpad5', location: 3},\n  Shift: {keyCode: 16, key: 'Shift', code: 'ShiftLeft', location: 1},\n  Control: {keyCode: 17, key: 'Control', code: 'ControlLeft', location: 1},\n  Alt: {keyCode: 18, key: 'Alt', code: 'AltLeft', location: 1},\n  Accept: {keyCode: 30, key: 'Accept'},\n  ModeChange: {keyCode: 31, key: 'ModeChange'},\n  ' ': {keyCode: 32, key: ' ', code: 'Space'},\n  Print: {keyCode: 42, key: 'Print'},\n  Execute: {keyCode: 43, key: 'Execute', code: 'Open'},\n  '\\u0000': {keyCode: 46, key: '\\u0000', code: 'NumpadDecimal', location: 3},\n  a: {keyCode: 65, key: 'a', code: 'KeyA'},\n  b: {keyCode: 66, key: 'b', code: 'KeyB'},\n  c: {keyCode: 67, key: 'c', code: 'KeyC'},\n  d: {keyCode: 68, key: 'd', code: 'KeyD'},\n  e: {keyCode: 69, key: 'e', code: 'KeyE'},\n  f: {keyCode: 70, key: 'f', code: 'KeyF'},\n  g: {keyCode: 71, key: 'g', code: 'KeyG'},\n  h: {keyCode: 72, key: 'h', code: 'KeyH'},\n  i: {keyCode: 73, key: 'i', code: 'KeyI'},\n  j: {keyCode: 74, key: 'j', code: 'KeyJ'},\n  k: {keyCode: 75, key: 'k', code: 'KeyK'},\n  l: {keyCode: 76, key: 'l', code: 'KeyL'},\n  m: {keyCode: 77, key: 'm', code: 'KeyM'},\n  n: {keyCode: 78, key: 'n', code: 'KeyN'},\n  o: {keyCode: 79, key: 'o', code: 'KeyO'},\n  p: {keyCode: 80, key: 'p', code: 'KeyP'},\n  q: {keyCode: 81, key: 'q', code: 'KeyQ'},\n  r: {keyCode: 82, key: 'r', code: 'KeyR'},\n  s: {keyCode: 83, key: 's', code: 'KeyS'},\n  t: {keyCode: 84, key: 't', code: 'KeyT'},\n  u: {keyCode: 85, key: 'u', code: 'KeyU'},\n  v: {keyCode: 86, key: 'v', code: 'KeyV'},\n  w: {keyCode: 87, key: 'w', code: 'KeyW'},\n  x: {keyCode: 88, key: 'x', code: 'KeyX'},\n  y: {keyCode: 89, key: 'y', code: 'KeyY'},\n  z: {keyCode: 90, key: 'z', code: 'KeyZ'},\n  Meta: {keyCode: 91, key: 'Meta', code: 'MetaLeft', location: 1},\n  '*': {keyCode: 106, key: '*', code: 'NumpadMultiply', location: 3},\n  '+': {keyCode: 107, key: '+', code: 'NumpadAdd', location: 3},\n  '-': {keyCode: 109, key: '-', code: 'NumpadSubtract', location: 3},\n  '/': {keyCode: 111, key: '/', code: 'NumpadDivide', location: 3},\n  ';': {keyCode: 186, key: ';', code: 'Semicolon'},\n  '=': {keyCode: 187, key: '=', code: 'Equal'},\n  ',': {keyCode: 188, key: ',', code: 'Comma'},\n  '.': {keyCode: 190, key: '.', code: 'Period'},\n  '`': {keyCode: 192, key: '`', code: 'Backquote'},\n  '[': {keyCode: 219, key: '[', code: 'BracketLeft'},\n  '\\\\': {keyCode: 220, key: '\\\\', code: 'Backslash'},\n  ']': {keyCode: 221, key: ']', code: 'BracketRight'},\n  \"'\": {keyCode: 222, key: \"'\", code: 'Quote'},\n  Attn: {keyCode: 246, key: 'Attn'},\n  CrSel: {keyCode: 247, key: 'CrSel', code: 'Props'},\n  ExSel: {keyCode: 248, key: 'ExSel'},\n  EraseEof: {keyCode: 249, key: 'EraseEof'},\n  Play: {keyCode: 250, key: 'Play'},\n  ZoomOut: {keyCode: 251, key: 'ZoomOut'},\n  ')': {keyCode: 48, key: ')', code: 'Digit0'},\n  '!': {keyCode: 49, key: '!', code: 'Digit1'},\n  '@': {keyCode: 50, key: '@', code: 'Digit2'},\n  '#': {keyCode: 51, key: '#', code: 'Digit3'},\n  $: {keyCode: 52, key: '$', code: 'Digit4'},\n  '%': {keyCode: 53, key: '%', code: 'Digit5'},\n  '^': {keyCode: 54, key: '^', code: 'Digit6'},\n  '&': {keyCode: 55, key: '&', code: 'Digit7'},\n  '(': {keyCode: 57, key: '(', code: 'Digit9'},\n  A: {keyCode: 65, key: 'A', code: 'KeyA'},\n  B: {keyCode: 66, key: 'B', code: 'KeyB'},\n  C: {keyCode: 67, key: 'C', code: 'KeyC'},\n  D: {keyCode: 68, key: 'D', code: 'KeyD'},\n  E: {keyCode: 69, key: 'E', code: 'KeyE'},\n  F: {keyCode: 70, key: 'F', code: 'KeyF'},\n  G: {keyCode: 71, key: 'G', code: 'KeyG'},\n  H: {keyCode: 72, key: 'H', code: 'KeyH'},\n  I: {keyCode: 73, key: 'I', code: 'KeyI'},\n  J: {keyCode: 74, key: 'J', code: 'KeyJ'},\n  K: {keyCode: 75, key: 'K', code: 'KeyK'},\n  L: {keyCode: 76, key: 'L', code: 'KeyL'},\n  M: {keyCode: 77, key: 'M', code: 'KeyM'},\n  N: {keyCode: 78, key: 'N', code: 'KeyN'},\n  O: {keyCode: 79, key: 'O', code: 'KeyO'},\n  P: {keyCode: 80, key: 'P', code: 'KeyP'},\n  Q: {keyCode: 81, key: 'Q', code: 'KeyQ'},\n  R: {keyCode: 82, key: 'R', code: 'KeyR'},\n  S: {keyCode: 83, key: 'S', code: 'KeyS'},\n  T: {keyCode: 84, key: 'T', code: 'KeyT'},\n  U: {keyCode: 85, key: 'U', code: 'KeyU'},\n  V: {keyCode: 86, key: 'V', code: 'KeyV'},\n  W: {keyCode: 87, key: 'W', code: 'KeyW'},\n  X: {keyCode: 88, key: 'X', code: 'KeyX'},\n  Y: {keyCode: 89, key: 'Y', code: 'KeyY'},\n  Z: {keyCode: 90, key: 'Z', code: 'KeyZ'},\n  ':': {keyCode: 186, key: ':', code: 'Semicolon'},\n  '<': {keyCode: 188, key: '<', code: 'Comma'},\n  _: {keyCode: 189, key: '_', code: 'Minus'},\n  '>': {keyCode: 190, key: '>', code: 'Period'},\n  '?': {keyCode: 191, key: '?', code: 'Slash'},\n  '~': {keyCode: 192, key: '~', code: 'Backquote'},\n  '{': {keyCode: 219, key: '{', code: 'BracketLeft'},\n  '|': {keyCode: 220, key: '|', code: 'Backslash'},\n  '}': {keyCode: 221, key: '}', code: 'BracketRight'},\n  '\"': {keyCode: 222, key: '\"', code: 'Quote'},\n  SoftLeft: {key: 'SoftLeft', code: 'SoftLeft', location: 4},\n  SoftRight: {key: 'SoftRight', code: 'SoftRight', location: 4},\n  Camera: {keyCode: 44, key: 'Camera', code: 'Camera', location: 4},\n  Call: {key: 'Call', code: 'Call', location: 4},\n  EndCall: {keyCode: 95, key: 'EndCall', code: 'EndCall', location: 4},\n  VolumeDown: {\n    keyCode: 182,\n    key: 'VolumeDown',\n    code: 'VolumeDown',\n    location: 4,\n  },\n  VolumeUp: {keyCode: 183, key: 'VolumeUp', code: 'VolumeUp', location: 4},\n};\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {CDPSession} from '../api/CDPSession.js';\nimport {\n  getReadableAsBuffer,\n  getReadableFromProtocolStream,\n} from '../common/util.js';\nimport {assert} from '../util/assert.js';\nimport {Deferred} from '../util/Deferred.js';\nimport {isErrorLike} from '../util/ErrorLike.js';\n\n/**\n * @public\n */\nexport interface TracingOptions {\n  path?: string;\n  screenshots?: boolean;\n  categories?: string[];\n}\n\n/**\n * The Tracing class exposes the tracing audit interface.\n * @remarks\n * You can use `tracing.start` and `tracing.stop` to create a trace file\n * which can be opened in Chrome DevTools or {@link https://chromedevtools.github.io/timeline-viewer/ | timeline viewer}.\n *\n * @example\n *\n * ```ts\n * await page.tracing.start({path: 'trace.json'});\n * await page.goto('https://www.google.com');\n * await page.tracing.stop();\n * ```\n *\n * @public\n */\nexport class Tracing {\n  #client: CDPSession;\n  #recording = false;\n  #path?: string;\n\n  /**\n   * @internal\n   */\n  constructor(client: CDPSession) {\n    this.#client = client;\n  }\n\n  /**\n   * @internal\n   */\n  updateClient(client: CDPSession): void {\n    this.#client = client;\n  }\n\n  /**\n   * Starts a trace for the current page.\n   * @remarks\n   * Only one trace can be active at a time per browser.\n   *\n   * @param options - Optional `TracingOptions`.\n   */\n  async start(options: TracingOptions = {}): Promise<void> {\n    assert(\n      !this.#recording,\n      'Cannot start recording trace while already recording trace.'\n    );\n\n    const defaultCategories = [\n      '-*',\n      'devtools.timeline',\n      'v8.execute',\n      'disabled-by-default-devtools.timeline',\n      'disabled-by-default-devtools.timeline.frame',\n      'toplevel',\n      'blink.console',\n      'blink.user_timing',\n      'latencyInfo',\n      'disabled-by-default-devtools.timeline.stack',\n      'disabled-by-default-v8.cpu_profiler',\n    ];\n    const {path, screenshots = false, categories = defaultCategories} = options;\n\n    if (screenshots) {\n      categories.push('disabled-by-default-devtools.screenshot');\n    }\n\n    const excludedCategories = categories\n      .filter(cat => {\n        return cat.startsWith('-');\n      })\n      .map(cat => {\n        return cat.slice(1);\n      });\n    const includedCategories = categories.filter(cat => {\n      return !cat.startsWith('-');\n    });\n\n    this.#path = path;\n    this.#recording = true;\n    await this.#client.send('Tracing.start', {\n      transferMode: 'ReturnAsStream',\n      traceConfig: {\n        excludedCategories,\n        includedCategories,\n      },\n    });\n  }\n\n  /**\n   * Stops a trace started with the `start` method.\n   * @returns Promise which resolves to buffer with trace data.\n   */\n  async stop(): Promise<Buffer | undefined> {\n    const contentDeferred = Deferred.create<Buffer | undefined>();\n    this.#client.once('Tracing.tracingComplete', async event => {\n      try {\n        assert(event.stream, 'Missing \"stream\"');\n        const readable = await getReadableFromProtocolStream(\n          this.#client,\n          event.stream\n        );\n        const buffer = await getReadableAsBuffer(readable, this.#path);\n        contentDeferred.resolve(buffer ?? undefined);\n      } catch (error) {\n        if (isErrorLike(error)) {\n          contentDeferred.reject(error);\n        } else {\n          contentDeferred.reject(new Error(`Unknown error: ${error}`));\n        }\n      }\n    });\n    await this.#client.send('Tracing.end');\n    this.#recording = false;\n    return await contentDeferred.valueOrThrow();\n  }\n}\n", "/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {Protocol} from 'devtools-protocol';\n\nimport {CDPSessionEvent, type CDPSession} from '../api/CDPSession.js';\nimport type {Realm} from '../api/Realm.js';\nimport {TargetType} from '../api/Target.js';\nimport {WebWorker} from '../api/WebWorker.js';\nimport {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport {debugError} from '../common/util.js';\n\nimport {ExecutionContext} from './ExecutionContext.js';\nimport {IsolatedWorld} from './IsolatedWorld.js';\nimport {CdpJSHandle} from './JSHandle.js';\n\n/**\n * @internal\n */\nexport type ConsoleAPICalledCallback = (\n  eventType: string,\n  handles: CdpJSHandle[],\n  trace?: Protocol.Runtime.StackTrace\n) => void;\n\n/**\n * @internal\n */\nexport type ExceptionThrownCallback = (\n  event: Protocol.Runtime.ExceptionThrownEvent\n) => void;\n\n/**\n * @internal\n */\nexport class CdpWebWorker extends WebWorker {\n  #world: IsolatedWorld;\n  #client: CDPSession;\n  readonly #id: string;\n  readonly #targetType: TargetType;\n\n  constructor(\n    client: CDPSession,\n    url: string,\n    targetId: string,\n    targetType: TargetType,\n    consoleAPICalled: ConsoleAPICalledCallback,\n    exceptionThrown: ExceptionThrownCallback\n  ) {\n    super(url);\n    this.#id = targetId;\n    this.#client = client;\n    this.#targetType = targetType;\n    this.#world = new IsolatedWorld(this, new TimeoutSettings());\n\n    this.#client.once('Runtime.executionContextCreated', async event => {\n      this.#world.setContext(\n        new ExecutionContext(client, event.context, this.#world)\n      );\n    });\n    this.#world.emitter.on('consoleapicalled', async event => {\n      try {\n        return consoleAPICalled(\n          event.type,\n          event.args.map((object: Protocol.Runtime.RemoteObject) => {\n            return new CdpJSHandle(this.#world, object);\n          }),\n          event.stackTrace\n        );\n      } catch (err) {\n        debugError(err);\n      }\n    });\n    this.#client.on('Runtime.exceptionThrown', exceptionThrown);\n    this.#client.once(CDPSessionEvent.Disconnected, () => {\n      this.#world.dispose();\n    });\n\n    // This might fail if the target is closed before we receive all execution contexts.\n    this.#client.send('Runtime.enable').catch(debugError);\n  }\n\n  mainRealm(): Realm {\n    return this.#world;\n  }\n\n  get client(): CDPSession {\n    return this.#client;\n  }\n\n  override async close(): Promise<void> {\n    switch (this.#targetType) {\n      case TargetType.SERVICE_WORKER:\n      case TargetType.SHARED_WORKER: {\n        // For service and shared workers we need to close the target and detach to allow\n        // the worker to stop.\n        await this.client.connection()?.send('Target.closeTarget', {\n          targetId: this.#id,\n        });\n        await this.client.connection()?.send('Target.detachFromTarget', {\n          sessionId: this.client.id(),\n        });\n        break;\n      }\n      default:\n        await this.evaluate(() => {\n          self.close();\n        });\n    }\n  }\n}\n", "/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {UnsupportedOperation} from '../common/Errors.js';\nimport {EventEmitter, type EventType} from '../common/EventEmitter.js';\nimport {TimeoutSettings} from '../common/TimeoutSettings.js';\nimport type {EvaluateFunc, HandleFor} from '../common/types.js';\nimport {withSourcePuppeteerURLIfNone} from '../common/util.js';\n\nimport type {CDPSession} from './CDPSession.js';\nimport type {Realm} from './Realm.js';\n\n/**\n * This class represents a\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API | WebWorker}.\n *\n * @remarks\n * The events `workercreated` and `workerdestroyed` are emitted on the page\n * object to signal the worker lifecycle.\n *\n * @example\n *\n * ```ts\n * page.on('workercreated', worker =>\n *   console.log('Worker created: ' + worker.url())\n * );\n * page.on('workerdestroyed', worker =>\n *   console.log('Worker destroyed: ' + worker.url())\n * );\n *\n * console.log('Current workers:');\n * for (const worker of page.workers()) {\n *   console.log('  ' + worker.url());\n * }\n * ```\n *\n * @public\n */\nexport abstract class WebWorker extends EventEmitter<\n  Record<EventType, unknown>\n> {\n  /**\n   * @internal\n   */\n  readonly timeoutSettings = new TimeoutSettings();\n\n  readonly #url: string;\n\n  /**\n   * @internal\n   */\n  constructor(url: string) {\n    super();\n\n    this.#url = url;\n  }\n\n  /**\n   * @internal\n   */\n  abstract mainRealm(): Realm;\n\n  /**\n   * The URL of this web worker.\n   */\n  url(): string {\n    return this.#url;\n  }\n\n  /**\n   * The CDP session client the WebWorker belongs to.\n   */\n  abstract get client(): CDPSession;\n\n  /**\n   * Evaluates a given function in the {@link WebWorker | worker}.\n   *\n   * @remarks If the given function returns a promise,\n   * {@link WebWorker.evaluate | evaluate} will wait for the promise to resolve.\n   *\n   * As a rule of thumb, if the return value of the given function is more\n   * complicated than a JSON object (e.g. most classes), then\n   * {@link WebWorker.evaluate | evaluate} will _likely_ return some truncated\n   * value (or `{}`). This is because we are not returning the actual return\n   * value, but a deserialized version as a result of transferring the return\n   * value through a protocol to Puppeteer.\n   *\n   * In general, you should use\n   * {@link WebWorker.evaluateHandle | evaluateHandle} if\n   * {@link WebWorker.evaluate | evaluate} cannot serialize the return value\n   * properly or you need a mutable {@link JSHandle | handle} to the return\n   * object.\n   *\n   * @param func - Function to be evaluated.\n   * @param args - Arguments to pass into `func`.\n   * @returns The result of `func`.\n   */\n  async evaluate<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(func: Func | string, ...args: Params): Promise<Awaited<ReturnType<Func>>> {\n    func = withSourcePuppeteerURLIfNone(this.evaluate.name, func);\n    return await this.mainRealm().evaluate(func, ...args);\n  }\n\n  /**\n   * Evaluates a given function in the {@link WebWorker | worker}.\n   *\n   * @remarks If the given function returns a promise,\n   * {@link WebWorker.evaluate | evaluate} will wait for the promise to resolve.\n   *\n   * In general, you should use\n   * {@link WebWorker.evaluateHandle | evaluateHandle} if\n   * {@link WebWorker.evaluate | evaluate} cannot serialize the return value\n   * properly or you need a mutable {@link JSHandle | handle} to the return\n   * object.\n   *\n   * @param func - Function to be evaluated.\n   * @param args - Arguments to pass into `func`.\n   * @returns A {@link JSHandle | handle} to the return value of `func`.\n   */\n  async evaluateHandle<\n    Params extends unknown[],\n    Func extends EvaluateFunc<Params> = EvaluateFunc<Params>,\n  >(\n    func: Func | string,\n    ...args: Params\n  ): Promise<HandleFor<Awaited<ReturnType<Func>>>> {\n    func = withSourcePuppeteerURLIfNone(this.evaluateHandle.name, func);\n    return await this.mainRealm().evaluateHandle(func, ...args);\n  }\n\n  async close(): Promise<void> {\n    throw new UnsupportedOperation('WebWorker.close() is not supported');\n  }\n}\n", "/**\n * @license\n * Copyright 2025 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nexport const DEFAULT_VIEWPORT = Object.freeze({width: 800, height: 600});\n\nimport {CdpBrowser} from '../cdp/Browser.js';\nimport {Connection} from '../cdp/Connection.js';\nimport type {ConnectionTransport} from '../common/ConnectionTransport.js';\nimport type {\n  BrowserConnectOptions,\n  ConnectOptions,\n} from '../common/ConnectOptions.js';\n/**\n * Users should never call this directly; it's called when calling\n * `puppeteer.connect` with `protocol: 'cdp'`.\n *\n *\n */\nexport async function connectToCDPBrowser(\n  connectionTransport: ConnectionTransport,\n  options: BrowserConnectOptions & ConnectOptions & {sessionId?: string}\n): Promise<CdpBrowser> {\n  const {\n    ignoreHTTPSErrors = false,\n    defaultViewport = DEFAULT_VIEWPORT,\n    targetFilter,\n    _isPageTarget: isPageTarget,\n    slowMo = 0,\n    protocolTimeout,\n    sessionId = 'unknown',\n  } = options;\n\n  const connection = new Connection(\n    '',\n    connectionTransport,\n    slowMo,\n    protocolTimeout\n  );\n\n  const version = await connection.send('Browser.getVersion');\n  const product = version.product.toLowerCase().includes('firefox')\n    ? 'firefox'\n    : 'chrome';\n\n  const {browserContextIds} = await connection.send(\n    'Target.getBrowserContexts'\n  );\n  const browser = await CdpBrowser._create(\n    product || 'chrome',\n    connection,\n    browserContextIds,\n    ignoreHTTPSErrors,\n    defaultViewport,\n    undefined,\n    () => {\n      return connection.send('Browser.close').catch(console.log);\n    },\n    targetFilter,\n    isPageTarget,\n    true,\n    sessionId\n  );\n  return browser;\n}\n\n/**\n * @public\n */\nexport type Locations =\n  | 'AF'\n  | 'AL'\n  | 'DZ'\n  | 'AD'\n  | 'AO'\n  | 'AG'\n  | 'AR'\n  | 'AM'\n  | 'AU'\n  | 'AT'\n  | 'AZ'\n  | 'BH'\n  | 'BD'\n  | 'BB'\n  | 'BY'\n  | 'BE'\n  | 'BZ'\n  | 'BJ'\n  | 'BM'\n  | 'BT'\n  | 'BO'\n  | 'BA'\n  | 'BW'\n  | 'BR'\n  | 'BN'\n  | 'BG'\n  | 'BF'\n  | 'BI'\n  | 'KH'\n  | 'CM'\n  | 'CA'\n  | 'CV'\n  | 'KY'\n  | 'CF'\n  | 'TD'\n  | 'CL'\n  | 'CN'\n  | 'CO'\n  | 'KM'\n  | 'CG'\n  | 'CR'\n  | 'CI'\n  | 'HR'\n  | 'CU'\n  | 'CY'\n  | 'CZ'\n  | 'CD'\n  | 'DK'\n  | 'DJ'\n  | 'DM'\n  | 'DO'\n  | 'EC'\n  | 'EG'\n  | 'SV'\n  | 'GQ'\n  | 'ER'\n  | 'EE'\n  | 'SZ'\n  | 'ET'\n  | 'FJ'\n  | 'FI'\n  | 'FR'\n  | 'GA'\n  | 'GE'\n  | 'DE'\n  | 'GH'\n  | 'GR'\n  | 'GL'\n  | 'GD'\n  | 'GT'\n  | 'GN'\n  | 'GW'\n  | 'GY'\n  | 'HT'\n  | 'HN'\n  | 'HU'\n  | 'IS'\n  | 'IN'\n  | 'ID'\n  | 'IR'\n  | 'IQ'\n  | 'IE'\n  | 'IL'\n  | 'IT'\n  | 'JM'\n  | 'JP'\n  | 'JO'\n  | 'KZ'\n  | 'KE'\n  | 'KI'\n  | 'KW'\n  | 'KG'\n  | 'LA'\n  | 'LV'\n  | 'LB'\n  | 'LS'\n  | 'LR'\n  | 'LY'\n  | 'LI'\n  | 'LT'\n  | 'LU'\n  | 'MO'\n  | 'MG'\n  | 'MW'\n  | 'MY'\n  | 'MV'\n  | 'ML'\n  | 'MR'\n  | 'MU'\n  | 'MX'\n  | 'FM'\n  | 'MD'\n  | 'MC'\n  | 'MN'\n  | 'MS'\n  | 'MA'\n  | 'MZ'\n  | 'MM'\n  | 'NA'\n  | 'NR'\n  | 'NP'\n  | 'NL'\n  | 'NZ'\n  | 'NI'\n  | 'NE'\n  | 'NG'\n  | 'KP'\n  | 'MK'\n  | 'NO'\n  | 'OM'\n  | 'PK'\n  | 'PS'\n  | 'PA'\n  | 'PG'\n  | 'PY'\n  | 'PE'\n  | 'PH'\n  | 'PL'\n  | 'PT'\n  | 'QA'\n  | 'RO'\n  | 'RU'\n  | 'RW'\n  | 'SH'\n  | 'KN'\n  | 'LC'\n  | 'VC'\n  | 'WS'\n  | 'SM'\n  | 'ST'\n  | 'SA'\n  | 'SN'\n  | 'RS'\n  | 'SC'\n  | 'SL'\n  | 'SK'\n  | 'SI'\n  | 'SB'\n  | 'SO'\n  | 'ZA'\n  | 'KR'\n  | 'SS'\n  | 'ES'\n  | 'LK'\n  | 'SD'\n  | 'SR'\n  | 'SE'\n  | 'CH'\n  | 'SY'\n  | 'TW'\n  | 'TJ'\n  | 'TZ'\n  | 'TH'\n  | 'BS'\n  | 'GM'\n  | 'TL'\n  | 'TG'\n  | 'TO'\n  | 'TT'\n  | 'TN'\n  | 'TR'\n  | 'TM'\n  | 'UG'\n  | 'UA'\n  | 'AE'\n  | 'GB'\n  | 'US'\n  | 'UY'\n  | 'UZ'\n  | 'VU'\n  | 'VE'\n  | 'VN'\n  | 'YE'\n  | 'ZM'\n  | 'ZW';\n", "/**\n * @license\n * Copyright 2025 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport type {ConnectionTransport} from '../common/ConnectionTransport.js';\nimport {packageVersion} from '../generated/version.js';\n\nimport type {BrowserWorker} from './BrowserWorker.js';\nimport {messageToChunks, chunksToMessage} from './chunking.js';\n\nconst FAKE_HOST = 'https://fake.host';\n\nexport class WorkersWebSocketTransport implements ConnectionTransport {\n  ws: WebSocket;\n  pingInterval: NodeJS.Timer;\n  chunks: Uint8Array[] = [];\n  onmessage?: (message: string) => void;\n  onclose?: () => void;\n  sessionId: string;\n\n  static async create(\n    endpoint: BrowserWorker,\n    sessionId: string\n  ): Promise<WorkersWebSocketTransport> {\n    const path = `${FAKE_HOST}/v1/connectDevtools?browser_session=${sessionId}`;\n    const response = await endpoint.fetch(path, {\n      headers: {\n        Upgrade: 'websocket',\n        'cf-brapi-client': `@cloudflare/puppeteer@${packageVersion}`,\n      },\n    });\n    response.webSocket!.accept();\n    return new WorkersWebSocketTransport(response.webSocket!, sessionId);\n  }\n\n  constructor(ws: WebSocket, sessionId: string) {\n    this.pingInterval = setInterval(() => {\n      return this.ws.send('ping');\n    }, 1000); // TODO more investigation\n    this.ws = ws;\n    this.sessionId = sessionId;\n    this.ws.addEventListener('message', event => {\n      this.chunks.push(new Uint8Array(event.data as ArrayBuffer));\n      const message = chunksToMessage(this.chunks, sessionId);\n      if (message && this.onmessage) {\n        this.onmessage!(message);\n      }\n    });\n    this.ws.addEventListener('close', () => {\n      clearInterval(this.pingInterval as NodeJS.Timeout);\n      if (this.onclose) {\n        this.onclose();\n      }\n    });\n    this.ws.addEventListener('error', e => {\n      console.error(`Websocket error: SessionID: ${sessionId}`, e);\n      clearInterval(this.pingInterval as NodeJS.Timeout);\n    });\n  }\n\n  send(message: string): void {\n    for (const chunk of messageToChunks(message)) {\n      this.ws.send(chunk);\n    }\n  }\n\n  close(): void {\n    clearInterval(this.pingInterval as NodeJS.Timeout);\n    this.ws.close();\n  }\n\n  toString(): string {\n    return this.sessionId;\n  }\n}\n", "/**\n * @license\n * Copyright 2025 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nconst HEADER_SIZE = 4; // Uint32\nconst MAX_MESSAGE_SIZE = 1048575; // Workers size is < 1MB\nconst FIRST_CHUNK_DATA_SIZE = MAX_MESSAGE_SIZE - HEADER_SIZE;\n\nexport const messageToChunks = (data: string): Uint8Array[] => {\n  const encoder = new TextEncoder();\n  const encodedUint8Array = encoder.encode(data);\n\n  // We only include the header into the first chunk\n  const firstChunk = new Uint8Array(\n    Math.min(MAX_MESSAGE_SIZE, HEADER_SIZE + encodedUint8Array.length)\n  );\n  const view = new DataView(firstChunk.buffer);\n  view.setUint32(0, encodedUint8Array.length, true);\n  firstChunk.set(\n    encodedUint8Array.slice(0, FIRST_CHUNK_DATA_SIZE),\n    HEADER_SIZE\n  );\n\n  const chunks: Uint8Array[] = [firstChunk];\n  for (let i = FIRST_CHUNK_DATA_SIZE; i < data.length; i += MAX_MESSAGE_SIZE) {\n    chunks.push(encodedUint8Array.slice(i, i + MAX_MESSAGE_SIZE));\n  }\n  return chunks;\n};\n\nexport const chunksToMessage = (\n  chunks: Uint8Array[],\n  sessionid: string\n): string | null => {\n  if (chunks.length === 0) {\n    return null;\n  }\n\n  const emptyBuffer = new Uint8Array(0);\n  const firstChunk = chunks[0] || emptyBuffer;\n  const view = new DataView(firstChunk.buffer);\n  const expectedBytes = view.getUint32(0, true);\n\n  let totalBytes = -HEADER_SIZE;\n  for (let i = 0; i < chunks.length; ++i) {\n    const curChunk = chunks[i] || emptyBuffer;\n    totalBytes += curChunk.length;\n\n    if (totalBytes > expectedBytes) {\n      throw new Error(\n        `Should have gotten the exact number of bytes but we got more.  SessionID: ${sessionid}`\n      );\n    }\n    if (totalBytes === expectedBytes) {\n      const chunksToCombine = chunks.splice(0, i + 1);\n      chunksToCombine[0] = firstChunk.subarray(HEADER_SIZE);\n\n      const combined = new Uint8Array(expectedBytes);\n      let offset = 0;\n      for (let j = 0; j <= i; ++j) {\n        const chunk = chunksToCombine[j] || emptyBuffer;\n        combined.set(chunk, offset);\n        offset += chunk.length;\n      }\n      const decoder = new TextDecoder();\n      // return decoder.decode(combined)\n      const message = decoder.decode(combined);\n      return message;\n    }\n  }\n  return null;\n};\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './Browser.js';\nexport * from './BrowserContext.js';\nexport * from './CDPSession.js';\nexport * from './Dialog.js';\nexport * from './ElementHandle.js';\nexport * from './Environment.js';\nexport * from './Frame.js';\nexport * from './HTTPRequest.js';\nexport * from './HTTPResponse.js';\nexport * from './Input.js';\nexport * from './JSHandle.js';\nexport * from './Page.js';\nexport * from './Realm.js';\nexport * from './Target.js';\nexport * from './WebWorker.js';\nexport * from './locators/locators.js';\n", "/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {CDPSession} from './CDPSession.js';\nimport type {Realm} from './Realm.js';\n\n/**\n * @internal\n */\nexport interface Environment {\n  get client(): CDPSession;\n  mainRealm(): Realm;\n}\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './BrowserWebSocketTransport.js';\nexport * from './CallbackRegistry.js';\nexport * from './Configuration.js';\nexport * from './ConnectionTransport.js';\nexport * from './ConnectOptions.js';\nexport * from './ConsoleMessage.js';\nexport * from './Cookie.js';\nexport * from './CustomQueryHandler.js';\nexport * from './Debug.js';\nexport * from './Device.js';\nexport * from './Errors.js';\nexport * from './EventEmitter.js';\nexport * from './FileChooser.js';\nexport * from './GetQueryHandler.js';\nexport * from './HandleIterator.js';\nexport * from './LazyArg.js';\nexport * from './NetworkManagerEvents.js';\nexport * from './PDFOptions.js';\nexport * from './PierceQueryHandler.js';\nexport * from './PQueryHandler.js';\nexport * from './Product.js';\nexport * from './PSelectorParser.js';\nexport * from './Puppeteer.js';\nexport * from './QueryHandler.js';\nexport * from './ScriptInjector.js';\nexport * from './SecurityDetails.js';\nexport * from './TaskQueue.js';\nexport * from './TextQueryHandler.js';\nexport * from './TimeoutSettings.js';\nexport * from './types.js';\nexport * from './USKeyboardLayout.js';\nexport * from './util.js';\nexport * from './Viewport.js';\nexport * from './WaitTask.js';\nexport * from './XPathQueryHandler.js';\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Product} from './Product.js';\n\n/**\n * Defines experiment options for Puppeteer.\n *\n * See individual properties for more information.\n *\n * @public\n */\nexport type ExperimentsConfiguration = Record<string, never>;\n\n/**\n * Defines options to configure Puppeteer's behavior during installation and\n * runtime.\n *\n * See individual properties for more information.\n *\n * @public\n */\nexport interface Configuration {\n  /**\n   * Specifies a certain version of the browser you'd like Puppeteer to use.\n   *\n   * Can be overridden by `PUPPETEER_BROWSER_REVISION`.\n   *\n   * See {@link PuppeteerNode.launch | puppeteer.launch} on how executable path\n   * is inferred.\n   *\n   * @example 119.0.6045.105\n   * @defaultValue The pinned browser version supported by the current Puppeteer\n   * version.\n   */\n  browserRevision?: string;\n  /**\n   * Defines the directory to be used by Puppeteer for caching.\n   *\n   * Can be overridden by `PUPPETEER_CACHE_DIR`.\n   *\n   * @defaultValue `path.join(os.homedir(), '.cache', 'puppeteer')`\n   */\n  cacheDirectory?: string;\n  /**\n   * Specifies the URL prefix that is used to download the browser.\n   *\n   * Can be overridden by `PUPPETEER_DOWNLOAD_BASE_URL`.\n   *\n   * @remarks\n   * This must include the protocol and may even need a path prefix.\n   *\n   * @defaultValue Either https://storage.googleapis.com/chrome-for-testing-public or\n   * https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central,\n   * depending on the product.\n   */\n  downloadBaseUrl?: string;\n  /**\n   * Specifies an executable path to be used in\n   * {@link PuppeteerNode.launch | puppeteer.launch}.\n   *\n   * Can be overridden by `PUPPETEER_EXECUTABLE_PATH`.\n   *\n   * @defaultValue **Auto-computed.**\n   */\n  executablePath?: string;\n  /**\n   * Specifies which browser you'd like Puppeteer to use.\n   *\n   * Can be overridden by `PUPPETEER_PRODUCT`.\n   *\n   * @defaultValue `chrome`\n   */\n  defaultProduct?: Product;\n  /**\n   * Defines the directory to be used by Puppeteer for creating temporary files.\n   *\n   * Can be overridden by `PUPPETEER_TMP_DIR`.\n   *\n   * @defaultValue `os.tmpdir()`\n   */\n  temporaryDirectory?: string;\n  /**\n   * Tells Puppeteer to not download during installation.\n   *\n   * Can be overridden by `PUPPETEER_SKIP_DOWNLOAD`.\n   */\n  skipDownload?: boolean;\n  /**\n   * Tells Puppeteer to not Chrome download during installation.\n   *\n   * Can be overridden by `PUPPETEER_SKIP_CHROME_DOWNLOAD`.\n   */\n  skipChromeDownload?: boolean;\n  /**\n   * Tells Puppeteer to not chrome-headless-shell download during installation.\n   *\n   * Can be overridden by `PUPPETEER_SKIP_CHROME_HEADLESS_SHELL_DOWNLOAD`.\n   */\n  skipChromeHeadlessShellDownload?: boolean;\n  /**\n   * Tells Puppeteer to log at the given level.\n   *\n   * @defaultValue `warn`\n   */\n  logLevel?: 'silent' | 'error' | 'warn';\n  /**\n   * Defines experimental options for Puppeteer.\n   */\n  experiments?: ExperimentsConfiguration;\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @public\n */\nexport interface ConnectionTransport {\n  send(message: string): void;\n  close(): void;\n  onmessage?: (message: string) => void;\n  onclose?: () => void;\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {\n  IsPageTargetCallback,\n  TargetFilterCallback,\n} from '../api/Browser.js';\n\nimport type {ConnectionTransport} from './ConnectionTransport.js';\nimport type {Viewport} from './Viewport.js';\n\n/**\n * @public\n */\nexport type ProtocolType = 'cdp';\n\n/**\n * Generic browser options that can be passed when launching any browser or when\n * connecting to an existing browser instance.\n * @public\n */\nexport interface BrowserConnectOptions {\n  /**\n   * Whether to ignore HTTPS errors during navigation.\n   * @defaultValue `false`\n   */\n  ignoreHTTPSErrors?: boolean;\n  /**\n   * Sets the viewport for each page.\n   *\n   * @defaultValue '\\{width: 800, height: 600\\}'\n   */\n  defaultViewport?: Viewport | null;\n  /**\n   * Slows down Puppeteer operations by the specified amount of milliseconds to\n   * aid debugging.\n   */\n  slowMo?: number;\n  /**\n   * Callback to decide if Puppeteer should connect to a given target or not.\n   */\n  targetFilter?: TargetFilterCallback;\n  /**\n   * @internal\n   */\n  _isPageTarget?: IsPageTargetCallback;\n\n  /**\n   * @defaultValue 'cdp'\n   * @public\n   */\n  protocol?: ProtocolType;\n  /**\n   * Timeout setting for individual protocol (CDP) calls.\n   *\n   * @defaultValue `180_000`\n   */\n  protocolTimeout?: number;\n}\n\n/**\n * @public\n */\nexport interface ConnectOptions extends BrowserConnectOptions {\n  browserWSEndpoint?: string;\n  browserURL?: string;\n  transport?: ConnectionTransport;\n  /**\n   * Headers to use for the web socket connection.\n   * @remarks\n   * Only works in the Node.js environment.\n   */\n  headers?: Record<string, string>;\n}\n", "/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Represents the cookie's 'SameSite' status:\n * https://tools.ietf.org/html/draft-west-first-party-cookies\n *\n * @public\n */\nexport type CookieSameSite = 'Strict' | 'Lax' | 'None';\n\n/**\n * Represents the cookie's 'Priority' status:\n * https://tools.ietf.org/html/draft-west-cookie-priority-00\n *\n * @public\n */\nexport type CookiePriority = 'Low' | 'Medium' | 'High';\n\n/**\n * Represents the source scheme of the origin that originally set the cookie. A value of\n * \"Unset\" allows protocol clients to emulate legacy cookie scope for the scheme.\n * This is a temporary ability and it will be removed in the future.\n *\n * @public\n */\nexport type CookieSourceScheme = 'Unset' | 'NonSecure' | 'Secure';\n\n/**\n * Represents a cookie object.\n *\n * @public\n */\nexport interface Cookie {\n  /**\n   * Cookie name.\n   */\n  name: string;\n  /**\n   * Cookie value.\n   */\n  value: string;\n  /**\n   * Cookie domain.\n   */\n  domain: string;\n  /**\n   * Cookie path.\n   */\n  path: string;\n  /**\n   * Cookie expiration date as the number of seconds since the UNIX epoch. Set to `-1` for\n   * session cookies\n   */\n  expires: number;\n  /**\n   * Cookie size.\n   */\n  size: number;\n  /**\n   * True if cookie is http-only.\n   */\n  httpOnly: boolean;\n  /**\n   * True if cookie is secure.\n   */\n  secure: boolean;\n  /**\n   * True in case of session cookie.\n   */\n  session: boolean;\n  /**\n   * Cookie SameSite type.\n   */\n  sameSite?: CookieSameSite;\n  /**\n   * Cookie Priority. Supported only in Chrome.\n   */\n  priority?: CookiePriority;\n  /**\n   * True if cookie is SameParty. Supported only in Chrome.\n   */\n  sameParty?: boolean;\n  /**\n   * Cookie source scheme type. Supported only in Chrome.\n   */\n  sourceScheme?: CookieSourceScheme;\n  /**\n   * Cookie partition key. The site of the top-level URL the browser was visiting at the\n   * start of the request to the endpoint that set the cookie. Supported only in Chrome.\n   */\n  partitionKey?: string;\n  /**\n   * True if cookie partition key is opaque. Supported only in Chrome.\n   */\n  partitionKeyOpaque?: boolean;\n}\n\n/**\n * Cookie parameter object\n *\n * @public\n */\nexport interface CookieParam {\n  /**\n   * Cookie name.\n   */\n  name: string;\n  /**\n   * Cookie value.\n   */\n  value: string;\n  /**\n   * The request-URI to associate with the setting of the cookie. This value can affect\n   * the default domain, path, and source scheme values of the created cookie.\n   */\n  url?: string;\n  /**\n   * Cookie domain.\n   */\n  domain?: string;\n  /**\n   * Cookie path.\n   */\n  path?: string;\n  /**\n   * True if cookie is secure.\n   */\n  secure?: boolean;\n  /**\n   * True if cookie is http-only.\n   */\n  httpOnly?: boolean;\n  /**\n   * Cookie SameSite type.\n   */\n  sameSite?: CookieSameSite;\n  /**\n   * Cookie expiration date, session cookie if not set\n   */\n  expires?: number;\n  /**\n   * Cookie Priority. Supported only in Chrome.\n   */\n  priority?: CookiePriority;\n  /**\n   * True if cookie is SameParty. Supported only in Chrome.\n   */\n  sameParty?: boolean;\n  /**\n   * Cookie source scheme type. Supported only in Chrome.\n   */\n  sourceScheme?: CookieSourceScheme;\n  /**\n   * Cookie partition key. The site of the top-level URL the browser was visiting at the\n   * start of the request to the endpoint that set the cookie. If not set, the cookie will\n   * be set as not partitioned.\n   */\n  partitionKey?: string;\n}\n\n/**\n * @public\n */\nexport interface DeleteCookiesRequest {\n  /**\n   * Name of the cookies to remove.\n   */\n  name: string;\n  /**\n   * If specified, deletes all the cookies with the given name where domain and path match\n   * provided URL. Otherwise, deletes only cookies related to the current page's domain.\n   */\n  url?: string;\n  /**\n   * If specified, deletes only cookies with the exact domain.\n   */\n  domain?: string;\n  /**\n   * If specified, deletes only cookies with the exact path.\n   */\n  path?: string;\n}\n", "/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Viewport} from './Viewport.js';\n\n/**\n * @public\n */\nexport interface Device {\n  userAgent: string;\n  viewport: Viewport;\n}\n\nconst knownDevices = [\n  {\n    name: 'Blackberry PlayBook',\n    userAgent:\n      'Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+',\n    viewport: {\n      width: 600,\n      height: 1024,\n      deviceScaleFactor: 1,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Blackberry PlayBook landscape',\n    userAgent:\n      'Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+',\n    viewport: {\n      width: 1024,\n      height: 600,\n      deviceScaleFactor: 1,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'BlackBerry Z30',\n    userAgent:\n      'Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'BlackBerry Z30 landscape',\n    userAgent:\n      'Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy Note 3',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy Note 3 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy Note II',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy Note II landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy S III',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy S III landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy S5',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy S5 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy S8',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36',\n    viewport: {\n      width: 360,\n      height: 740,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy S8 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36',\n    viewport: {\n      width: 740,\n      height: 360,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy S9+',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36',\n    viewport: {\n      width: 320,\n      height: 658,\n      deviceScaleFactor: 4.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy S9+ landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36',\n    viewport: {\n      width: 658,\n      height: 320,\n      deviceScaleFactor: 4.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Galaxy Tab S4',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36',\n    viewport: {\n      width: 712,\n      height: 1138,\n      deviceScaleFactor: 2.25,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Galaxy Tab S4 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36',\n    viewport: {\n      width: 1138,\n      height: 712,\n      deviceScaleFactor: 2.25,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPad',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',\n    viewport: {\n      width: 768,\n      height: 1024,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPad landscape',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',\n    viewport: {\n      width: 1024,\n      height: 768,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPad (gen 6)',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 768,\n      height: 1024,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPad (gen 6) landscape',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 1024,\n      height: 768,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPad (gen 7)',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 810,\n      height: 1080,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPad (gen 7) landscape',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 1080,\n      height: 810,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPad Mini',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',\n    viewport: {\n      width: 768,\n      height: 1024,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPad Mini landscape',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',\n    viewport: {\n      width: 1024,\n      height: 768,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPad Pro',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',\n    viewport: {\n      width: 1024,\n      height: 1366,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPad Pro landscape',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',\n    viewport: {\n      width: 1366,\n      height: 1024,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPad Pro 11',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 834,\n      height: 1194,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPad Pro 11 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 1194,\n      height: 834,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 4',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53',\n    viewport: {\n      width: 320,\n      height: 480,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 4 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53',\n    viewport: {\n      width: 480,\n      height: 320,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 5',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1',\n    viewport: {\n      width: 320,\n      height: 568,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 5 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1',\n    viewport: {\n      width: 568,\n      height: 320,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 6',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 667,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 6 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 667,\n      height: 375,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 6 Plus',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 414,\n      height: 736,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 6 Plus landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 736,\n      height: 414,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 7',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 667,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 7 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 667,\n      height: 375,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 7 Plus',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 414,\n      height: 736,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 7 Plus landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 736,\n      height: 414,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 8',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 667,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 8 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 667,\n      height: 375,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 8 Plus',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 414,\n      height: 736,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 8 Plus landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 736,\n      height: 414,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone SE',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1',\n    viewport: {\n      width: 320,\n      height: 568,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone SE landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1',\n    viewport: {\n      width: 568,\n      height: 320,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone X',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 812,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone X landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',\n    viewport: {\n      width: 812,\n      height: 375,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone XR',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 414,\n      height: 896,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone XR landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 896,\n      height: 414,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 11',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 414,\n      height: 828,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 11 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 828,\n      height: 414,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 11 Pro',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 812,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 11 Pro landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 812,\n      height: 375,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 11 Pro Max',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 414,\n      height: 896,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 11 Pro Max landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 896,\n      height: 414,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 12',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 390,\n      height: 844,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 12 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 844,\n      height: 390,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 12 Pro',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 390,\n      height: 844,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 12 Pro landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 844,\n      height: 390,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 12 Pro Max',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 428,\n      height: 926,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 12 Pro Max landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 926,\n      height: 428,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 12 Mini',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 812,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 12 Mini landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 812,\n      height: 375,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 13',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 390,\n      height: 844,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 13 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 844,\n      height: 390,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 13 Pro',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 390,\n      height: 844,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 13 Pro landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 844,\n      height: 390,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 13 Pro Max',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 428,\n      height: 926,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 13 Pro Max landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 926,\n      height: 428,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 13 Mini',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 375,\n      height: 812,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 13 Mini landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 812,\n      height: 375,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 14',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 390,\n      height: 663,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 14 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 750,\n      height: 340,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 14 Plus',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 428,\n      height: 745,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 14 Plus landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 832,\n      height: 378,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 14 Pro',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 393,\n      height: 659,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 14 Pro landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 734,\n      height: 343,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 14 Pro Max',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 430,\n      height: 739,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 14 Pro Max landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 814,\n      height: 380,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 15',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 393,\n      height: 659,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 15 landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 734,\n      height: 343,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 15 Plus',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 430,\n      height: 739,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 15 Plus landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 814,\n      height: 380,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 15 Pro',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 393,\n      height: 659,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 15 Pro landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 734,\n      height: 343,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'iPhone 15 Pro Max',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 430,\n      height: 739,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'iPhone 15 Pro Max landscape',\n    userAgent:\n      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1',\n    viewport: {\n      width: 814,\n      height: 380,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'JioPhone 2',\n    userAgent:\n      'Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5',\n    viewport: {\n      width: 240,\n      height: 320,\n      deviceScaleFactor: 1,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'JioPhone 2 landscape',\n    userAgent:\n      'Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5',\n    viewport: {\n      width: 320,\n      height: 240,\n      deviceScaleFactor: 1,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Kindle Fire HDX',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true',\n    viewport: {\n      width: 800,\n      height: 1280,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Kindle Fire HDX landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true',\n    viewport: {\n      width: 1280,\n      height: 800,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'LG Optimus L70',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 384,\n      height: 640,\n      deviceScaleFactor: 1.25,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'LG Optimus L70 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 640,\n      height: 384,\n      deviceScaleFactor: 1.25,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Microsoft Lumia 550',\n    userAgent:\n      'Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Microsoft Lumia 950',\n    userAgent:\n      'Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 4,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Microsoft Lumia 950 landscape',\n    userAgent:\n      'Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 4,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 10',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36',\n    viewport: {\n      width: 800,\n      height: 1280,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 10 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36',\n    viewport: {\n      width: 1280,\n      height: 800,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 4',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 384,\n      height: 640,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 4 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 640,\n      height: 384,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 5',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 5 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 5X',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 412,\n      height: 732,\n      deviceScaleFactor: 2.625,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 5X landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 732,\n      height: 412,\n      deviceScaleFactor: 2.625,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 6',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 412,\n      height: 732,\n      deviceScaleFactor: 3.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 6 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 732,\n      height: 412,\n      deviceScaleFactor: 3.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 6P',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 412,\n      height: 732,\n      deviceScaleFactor: 3.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 6P landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 732,\n      height: 412,\n      deviceScaleFactor: 3.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nexus 7',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36',\n    viewport: {\n      width: 600,\n      height: 960,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nexus 7 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36',\n    viewport: {\n      width: 960,\n      height: 600,\n      deviceScaleFactor: 2,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nokia Lumia 520',\n    userAgent:\n      'Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)',\n    viewport: {\n      width: 320,\n      height: 533,\n      deviceScaleFactor: 1.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nokia Lumia 520 landscape',\n    userAgent:\n      'Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)',\n    viewport: {\n      width: 533,\n      height: 320,\n      deviceScaleFactor: 1.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Nokia N9',\n    userAgent:\n      'Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13',\n    viewport: {\n      width: 480,\n      height: 854,\n      deviceScaleFactor: 1,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Nokia N9 landscape',\n    userAgent:\n      'Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13',\n    viewport: {\n      width: 854,\n      height: 480,\n      deviceScaleFactor: 1,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Pixel 2',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 411,\n      height: 731,\n      deviceScaleFactor: 2.625,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Pixel 2 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 731,\n      height: 411,\n      deviceScaleFactor: 2.625,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Pixel 2 XL',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 411,\n      height: 823,\n      deviceScaleFactor: 3.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Pixel 2 XL landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36',\n    viewport: {\n      width: 823,\n      height: 411,\n      deviceScaleFactor: 3.5,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Pixel 3',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36',\n    viewport: {\n      width: 393,\n      height: 786,\n      deviceScaleFactor: 2.75,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Pixel 3 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36',\n    viewport: {\n      width: 786,\n      height: 393,\n      deviceScaleFactor: 2.75,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Pixel 4',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36',\n    viewport: {\n      width: 353,\n      height: 745,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Pixel 4 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36',\n    viewport: {\n      width: 745,\n      height: 353,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Pixel 4a (5G)',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36',\n    viewport: {\n      width: 353,\n      height: 745,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Pixel 4a (5G) landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36',\n    viewport: {\n      width: 745,\n      height: 353,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Pixel 5',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36',\n    viewport: {\n      width: 393,\n      height: 851,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Pixel 5 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36',\n    viewport: {\n      width: 851,\n      height: 393,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n  {\n    name: 'Moto G4',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36',\n    viewport: {\n      width: 360,\n      height: 640,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: false,\n    },\n  },\n  {\n    name: 'Moto G4 landscape',\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36',\n    viewport: {\n      width: 640,\n      height: 360,\n      deviceScaleFactor: 3,\n      isMobile: true,\n      hasTouch: true,\n      isLandscape: true,\n    },\n  },\n] as const;\n\nconst knownDevicesByName = {} as Record<\n  (typeof knownDevices)[number]['name'],\n  Device\n>;\n\nfor (const device of knownDevices) {\n  knownDevicesByName[device.name] = device;\n}\n\n/**\n * A list of devices to be used with {@link Page.emulate}.\n *\n * @example\n *\n * ```ts\n * import {KnownDevices} from 'puppeteer';\n * const iPhone = KnownDevices['iPhone 15 Pro'];\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   await page.emulate(iPhone);\n *   await page.goto('https://www.google.com');\n *   // other actions...\n *   await browser.close();\n * })();\n * ```\n *\n * @public\n */\nexport const KnownDevices = Object.freeze(knownDevicesByName);\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Supported products.\n * @public\n */\nexport type Product = 'chrome' | 'firefox';\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @internal\n */\nexport class TaskQueue {\n  #chain: Promise<void>;\n\n  constructor() {\n    this.#chain = Promise.resolve();\n  }\n\n  postTask<T>(task: () => Promise<T>): Promise<T> {\n    const result = this.#chain.then(task);\n    this.#chain = result.then(\n      () => {\n        return undefined;\n      },\n      () => {\n        return undefined;\n      }\n    );\n    return result;\n  }\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {ElementHandle} from '../api/ElementHandle.js';\nimport type {JSHandle} from '../api/JSHandle.js';\n\nimport type {LazyArg} from './LazyArg.js';\n\n/**\n * @public\n */\nexport type AwaitablePredicate<T> = (value: T) => Awaitable<boolean>;\n\n/**\n * @public\n */\nexport interface Moveable {\n  /**\n   * Moves the resource when 'using'.\n   */\n  move(): this;\n}\n\n/**\n * @internal\n */\nexport interface Disposed {\n  get disposed(): boolean;\n}\n\n/**\n * @internal\n */\nexport interface BindingPayload {\n  type: string;\n  name: string;\n  seq: number;\n  args: unknown[];\n  /**\n   * Determines whether the arguments of the payload are trivial.\n   */\n  isTrivial: boolean;\n}\n\n/**\n * @internal\n */\nexport type AwaitableIterator<T> = Iterator<T> | AsyncIterator<T>;\n\n/**\n * @public\n */\nexport type AwaitableIterable<T> = Iterable<T> | AsyncIterable<T>;\n\n/**\n * @public\n */\nexport type Awaitable<T> = T | PromiseLike<T>;\n\n/**\n * @public\n */\nexport type HandleFor<T> = T extends Node ? ElementHandle<T> : JSHandle<T>;\n\n/**\n * @public\n */\nexport type HandleOr<T> = HandleFor<T> | JSHandle<T> | T;\n\n/**\n * @public\n */\nexport type FlattenHandle<T> = T extends HandleOr<infer U> ? U : never;\n\n/**\n * @internal\n */\nexport type FlattenLazyArg<T> = T extends LazyArg<infer U> ? U : T;\n\n/**\n * @internal\n */\nexport type InnerLazyParams<T extends unknown[]> = {\n  [K in keyof T]: FlattenLazyArg<T[K]>;\n};\n\n/**\n * @public\n */\nexport type InnerParams<T extends unknown[]> = {\n  [K in keyof T]: FlattenHandle<T[K]>;\n};\n\n/**\n * @public\n */\nexport type ElementFor<\n  TagName extends keyof HTMLElementTagNameMap | keyof SVGElementTagNameMap,\n> = TagName extends keyof HTMLElementTagNameMap\n  ? HTMLElementTagNameMap[TagName]\n  : TagName extends keyof SVGElementTagNameMap\n    ? SVGElementTagNameMap[TagName]\n    : never;\n\n/**\n * @public\n */\nexport type EvaluateFunc<T extends unknown[]> = (\n  ...params: InnerParams<T>\n) => Awaitable<unknown>;\n\n/**\n * @public\n */\nexport type EvaluateFuncWith<V, T extends unknown[]> = (\n  ...params: [V, ...InnerParams<T>]\n) => Awaitable<unknown>;\n\n/**\n * @public\n */\nexport type NodeFor<ComplexSelector extends string> =\n  TypeSelectorOfComplexSelector<ComplexSelector> extends infer TypeSelector\n    ? TypeSelector extends\n        | keyof HTMLElementTagNameMap\n        | keyof SVGElementTagNameMap\n      ? ElementFor<TypeSelector>\n      : Element\n    : never;\n\ntype TypeSelectorOfComplexSelector<ComplexSelector extends string> =\n  CompoundSelectorsOfComplexSelector<ComplexSelector> extends infer CompoundSelectors\n    ? CompoundSelectors extends NonEmptyReadonlyArray<string>\n      ? Last<CompoundSelectors> extends infer LastCompoundSelector\n        ? LastCompoundSelector extends string\n          ? TypeSelectorOfCompoundSelector<LastCompoundSelector>\n          : never\n        : never\n      : unknown\n    : never;\n\ntype TypeSelectorOfCompoundSelector<CompoundSelector extends string> =\n  SplitWithDelemiters<\n    CompoundSelector,\n    BeginSubclassSelectorTokens\n  > extends infer CompoundSelectorTokens\n    ? CompoundSelectorTokens extends [infer TypeSelector, ...any[]]\n      ? TypeSelector extends ''\n        ? unknown\n        : TypeSelector\n      : never\n    : never;\n\ntype Last<Arr extends NonEmptyReadonlyArray<unknown>> = Arr extends [\n  infer Head,\n  ...infer Tail,\n]\n  ? Tail extends NonEmptyReadonlyArray<unknown>\n    ? Last<Tail>\n    : Head\n  : never;\n\ntype NonEmptyReadonlyArray<T> = [T, ...(readonly T[])];\n\ntype CompoundSelectorsOfComplexSelector<ComplexSelector extends string> =\n  SplitWithDelemiters<\n    ComplexSelector,\n    CombinatorTokens\n  > extends infer IntermediateTokens\n    ? IntermediateTokens extends readonly string[]\n      ? Drop<IntermediateTokens, ''>\n      : never\n    : never;\n\ntype SplitWithDelemiters<\n  Input extends string,\n  Delemiters extends readonly string[],\n> = Delemiters extends [infer FirstDelemiter, ...infer RestDelemiters]\n  ? FirstDelemiter extends string\n    ? RestDelemiters extends readonly string[]\n      ? FlatmapSplitWithDelemiters<Split<Input, FirstDelemiter>, RestDelemiters>\n      : never\n    : never\n  : [Input];\n\ntype BeginSubclassSelectorTokens = ['.', '#', '[', ':'];\n\ntype CombinatorTokens = [' ', '>', '+', '~', '|', '|'];\n\ntype Drop<\n  Arr extends readonly unknown[],\n  Remove,\n  Acc extends unknown[] = [],\n> = Arr extends [infer Head, ...infer Tail]\n  ? Head extends Remove\n    ? Drop<Tail, Remove>\n    : Drop<Tail, Remove, [...Acc, Head]>\n  : Acc;\n\ntype FlatmapSplitWithDelemiters<\n  Inputs extends readonly string[],\n  Delemiters extends readonly string[],\n  Acc extends string[] = [],\n> = Inputs extends [infer FirstInput, ...infer RestInputs]\n  ? FirstInput extends string\n    ? RestInputs extends readonly string[]\n      ? FlatmapSplitWithDelemiters<\n          RestInputs,\n          Delemiters,\n          [...Acc, ...SplitWithDelemiters<FirstInput, Delemiters>]\n        >\n      : Acc\n    : Acc\n  : Acc;\n\ntype Split<\n  Input extends string,\n  Delimiter extends string,\n  Acc extends string[] = [],\n> = Input extends `${infer Prefix}${Delimiter}${infer Suffix}`\n  ? Split<Suffix, Delimiter, [...Acc, Prefix]>\n  : [...Acc, Input];\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @public\n */\nexport interface Viewport {\n  /**\n   * The page width in CSS pixels.\n   *\n   * @remarks\n   * Setting this value to `0` will reset this value to the system default.\n   */\n  width: number;\n  /**\n   * The page height in CSS pixels.\n   *\n   * @remarks\n   * Setting this value to `0` will reset this value to the system default.\n   */\n  height: number;\n  /**\n   * Specify device scale factor.\n   * See {@link https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio | devicePixelRatio} for more info.\n   *\n   * @remarks\n   * Setting this value to `0` will reset this value to the system default.\n   *\n   * @defaultValue `1`\n   */\n  deviceScaleFactor?: number;\n  /**\n   * Whether the `meta viewport` tag is taken into account.\n   * @defaultValue `false`\n   */\n  isMobile?: boolean;\n  /**\n   * Specifies if the viewport is in landscape mode.\n   * @defaultValue `false`\n   */\n  isLandscape?: boolean;\n  /**\n   * Specify if the viewport supports touch events.\n   * @defaultValue `false`\n   */\n  hasTouch?: boolean;\n}\n", "/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @internal\n */\nexport const PUPPETEER_REVISIONS = Object.freeze({\n  chrome: '126.0.6478.182',\n  'chrome-headless-shell': '126.0.6478.182',\n  firefox: 'latest',\n});\n", "/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './assert.js';\nexport * from './Deferred.js';\nexport * from './ErrorLike.js';\nexport * from './AsyncIterableUtil.js';\nexport * from './disposable.js';\n", "export {};\n//# sourceMappingURL=BrowserWorker.js.map", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n"],
  "mappings": "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,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE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GAAE,UAAU,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,MAAK,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,aAAa,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,uBAAuB,GAAE,CAAC,GAAE,QAAQ,GAAE,CAA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AC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,YAAY,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,UAAU,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,SAAS,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,WAAW,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,SAAS,GAAE,CA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,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,IAAG,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,OAAO,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE,CAAC,GAAE,QAAQ,GAAE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",
  "names": ["before", "parse", "CSSStyleDeclaration", "Canvas", "parse", "key", "debug", "self", "require_browser", "NodeWebSocket", "esm_exports", "_a", "CharCodes", "BinTrieFlags", "EntityDecoderState", "DecodingMode", "_a", "CharCodes", "State", "QuoteType", "_a", "ElementType", "Node", "Text", "Comment", "_a", "CDATA", "Element", "isTag", "Element", "Text", "Comment", "CDATA", "previousSibling", "esm_exports", "isTag", "decodeMap", "fromCodePoint", "_a", "replaceCodePoint", "CharCodes", "TO_LOWER_BIT", "BinTrieFlags", "isNumber", "isHexadecimalCharacter", "isAsciiAlphaNumeric", "isEntityInAttributeInvalidEnd", "EntityDecoderState", "DecodingMode", "EntityDecoder", "_a", "replaceCodePoint", "determineBranch", "fromCodePoint", "map", "escape", "EntityLevel", "EncodingMode", "attributes", "_a", "key", "node", "isTag", "_a", "isTag", "isTag", "isTag", "key", "tagName", "DocumentPosition", "href", "_a", "fetch", "tagName", "prop", "handler", "isConnected", "attributes", "key", "Parser", "esm_exports", "append", "self", "attribute", "document", "Parser", "attributes", "create", "append", "name", "last", "scheduled", "attributeChangedCallback", "attributes", "attribute", "attributeChangedCallback", "map", "Node", "self", "node", "escape", "Node", "attributeChangedCallback", "escape", "nextElementSibling", "Node", "nextElementSibling", "Comment", "import_boolbase", "SelectorType", "AttributeAction", "isWhitespace", "subselects", "getName", "ignoreCase", "import_boolbase", "isTraversal", "_a", "adapter", "boolbase", "_a", "parse", "import_boolbase", "boolbase", "parse", "import_boolbase", "adapter", "boolbase", "context", "adapter", "elem", "import_boolbase", "adapter", "boolbase", "context", "compileToken", "isTraversal", "context", "compileToken", "_a", "adapter", "context", "compileToken", "elem", "compile", "context", "adapter", "isTraversal", "_a", "query", "first", "boolbase", "esm_exports", "_a", "context", "compile", "query", "adapter", "boolbase", "is", "isTag", "existsOne", "getChildren", "getAttributeValue", "getName", "getParent", "getSiblings", "getText", "hasAttrib", "removeSubsets", "findAll", "matches", "findOne", "compile", "is", "Text", "previousSibling", "nextSibling", "escape", "Node", "Text", "nextElementSibling", "after", "tagName", "matches", "before", "Node", "document", "esm_default", "esm_default", "self", "attribute", "refs", "key", "handler", "esm_default", "self", "keys", "key", "create", "Element", "nextElementSibling", "Text", "attributes", "attribute", "escape", "parentElement", "matches", "next", "handler", "SVGElement", "Element", "Attr", "CDATASection", "CharacterData", "Comment", "DocumentFragment", "DocumentType", "Element", "Node", "ShadowRoot", "Text", "SVGElement", "HTMLElement", "Element", "key", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLInputElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "Canvas", "tagName", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLSelectElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLTextAreaElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "tagName", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLElement", "HTMLInputElement", "HTMLSelectElement", "HTMLTextAreaElement", "voidElements", "after", "document", "SVGElement", "window", "Document", "globalThis", "textContent", "Comment", "Element", "Text", "customElements", "document", "SVGElement", "HTMLElement", "Document", "nextElementSibling", "textContent", "Document", "Document", "document", "parse", "Document", "document", "document", "selector", "baseUrl", "resolveUrl", "source", "config", "textContent", "config", "document", "resolveUrl", "source", "textContent", "prop", "containerRect", "config", "callClaude", "textContent", "Buffer", "Buffer", "_a", "handler", "timeout", "source", "_a", "process", "source", "source", "isArray", "isArray2", "source", "_a", "handler", "add", "remove", "filter", "source", "source", "source", "source", "filter", "_a", "_a2", "isNode", "isNode", "isNumber", "Buffer", "data", "isNumber", "filter", "handler", "context", "CDPSessionEvent", "TargetType", "timeout", "timeout", "key", "_", "__addDisposableResource", "LocatorEvent", "timeout", "filter", "value", "__addDisposableResource", "filter", "handler", "__addDisposableResource", "NetworkManagerEvent", "__esDecorate", "__runInitializers", "propertyName", "map", "key", "__addDisposableResource", "context", "__addDisposableResource", "stack", "error", "timeout", "__esDecorate", "__runInitializers", "target", "iterator", "__addDisposableResource", "size", "context", "__addDisposableResource", "context", "timeout", "query", "selector", "visible", "map", "attribute", "handler", "from", "before", "after", "QueryHandler", "FrameEvent", "__esDecorate", "__runInitializers", "__addDisposableResource", "document", "QueryHandler", "fs", "type", "content", "source", "filter", "timeout", "ElementHandle", "_a", "__esDecorate", "__setFunctionName", "__runInitializers", "result", "key", "QueryHandler", "__addDisposableResource", "elements", "results", "visibility", "context", "tagName", "source", "values", "box", "offsets", "attribute", "entries", "_a", "__esDecorate", "__runInitializers", "__addDisposableResource", "exceptionDetails", "remoteObject", "rewriteError", "key", "FrameManagerEvent", "createFunction", "context", "timeout", "context", "timeout", "__esDecorate", "__runInitializers", "timeout", "url", "referrerPolicy", "error", "InterceptResolutionAction", "value", "key", "key", "handler", "key", "requestWillBeSentEvent", "request", "source", "identifier", "key", "context", "key", "update", "from", "handler", "__addDisposableResource", "timeout", "source", "urls", "context", "history", "InitializationStatus", "target", "process", "context", "isNode", "DEFAULT_VIEWPORT", "FAKE_HOST", "config", "textContent", "document", "handleError", "response", "dispatch"]
}
